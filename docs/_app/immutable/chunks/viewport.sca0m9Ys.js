import{K as Xn,a9 as Yn,aa as Qn,ab as On,a8 as Zn,a7 as Jn,a as ht,u as Ve,g as fe,f as K,a1 as ut,k as Bt,Y as je,a2 as Zt,p as nt,C as Lt,e as ie,c as se,b as re,ac as dt,ad as Jt,D as Wt,E as Nt,F as Ht,n as ze,a4 as lt,r as Ln,t as Ae,q as Se,d as ke,v as we,l as oe,h as Y,j as Ge,ae as qt,X as gt,a6 as Vt,a5 as Be,y as ae,x as qn,af as $n,m as ei,A as ti}from"./scheduler.C7JCuNNY.js";import{S as pt,i as vt,g as Je,b as ue,e as qe,t as le,f as $t,c as wt,a as Ct,m as bt,d as Pt,h as ln}from"./index.BGNV_pQ3.js";import{d as Ut,w as st,r as ft}from"./index.DYwQb_j9.js";function Ne(p){return(p==null?void 0:p.length)!==void 0?p:Array.from(p)}function en(p,d){const u={},g={},c={$$scope:1};let e=p.length;for(;e--;){const i=p[e],r=d[e];if(r){for(const s in i)s in r||(g[s]=1);for(const s in r)c[s]||(u[s]=r[s],c[s]=1);p[e]=r}else for(const s in i)c[s]=1}for(const i in g)i in u||(u[i]=void 0);return u}function Hs(p){return typeof p=="object"&&p!==null?p:{}}function fn(p,{delay:d=0,duration:u=400,easing:g=Xn}={}){const c=+getComputedStyle(p).opacity;return{delay:d,duration:u,easing:g,css:e=>`opacity: ${e*c}`}}var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wn(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Nn={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(p,d){(function(g,c){p.exports=c()})($e,function(){return function(u){var g={};function c(e){if(g[e])return g[e].exports;var i=g[e]={i:e,l:!1,exports:{}};return u[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}return c.m=u,c.c=g,c.d=function(e,i,r){c.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},c.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,i){if(i&1&&(e=c(e)),i&8||i&4&&typeof e=="object"&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),i&2&&typeof e!="string")for(var s in e)c.d(r,s,(function(l){return e[l]}).bind(null,s));return r},c.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(i,"a",i),i},c.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},c.p="",c(c.s=20)}([function(u,g){var c={};u.exports=c,function(){c._baseDelta=1e3/60,c._nextId=0,c._seed=0,c._nowStartTime=+new Date,c._warnedOnce={},c._decomp=null,c.extend=function(i,r){var s,l;typeof r=="boolean"?(s=2,l=r):(s=1,l=!0);for(var n=s;n<arguments.length;n++){var h=arguments[n];if(h)for(var f in h)l&&h[f]&&h[f].constructor===Object&&(!i[f]||i[f].constructor===Object)?(i[f]=i[f]||{},c.extend(i[f],l,h[f])):i[f]=h[f]}return i},c.clone=function(i,r){return c.extend({},r,i)},c.keys=function(i){if(Object.keys)return Object.keys(i);var r=[];for(var s in i)r.push(s);return r},c.values=function(i){var r=[];if(Object.keys){for(var s=Object.keys(i),l=0;l<s.length;l++)r.push(i[s[l]]);return r}for(var n in i)r.push(i[n]);return r},c.get=function(i,r,s,l){r=r.split(".").slice(s,l);for(var n=0;n<r.length;n+=1)i=i[r[n]];return i},c.set=function(i,r,s,l,n){var h=r.split(".").slice(l,n);return c.get(i,r,0,-1)[h[h.length-1]]=s,s},c.shuffle=function(i){for(var r=i.length-1;r>0;r--){var s=Math.floor(c.random()*(r+1)),l=i[r];i[r]=i[s],i[s]=l}return i},c.choose=function(i){return i[Math.floor(c.random()*i.length)]},c.isElement=function(i){return typeof HTMLElement<"u"?i instanceof HTMLElement:!!(i&&i.nodeType&&i.nodeName)},c.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"},c.isFunction=function(i){return typeof i=="function"},c.isPlainObject=function(i){return typeof i=="object"&&i.constructor===Object},c.isString=function(i){return toString.call(i)==="[object String]"},c.clamp=function(i,r,s){return i<r?r:i>s?s:i},c.sign=function(i){return i<0?-1:1},c.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-c._nowStartTime},c.random=function(i,r){return i=typeof i<"u"?i:0,r=typeof r<"u"?r:1,i+e()*(r-i)};var e=function(){return c._seed=(c._seed*9301+49297)%233280,c._seed/233280};c.colorToNumber=function(i){return i=i.replace("#",""),i.length==3&&(i=i.charAt(0)+i.charAt(0)+i.charAt(1)+i.charAt(1)+i.charAt(2)+i.charAt(2)),parseInt(i,16)},c.logLevel=1,c.log=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.info=function(){console&&c.logLevel>0&&c.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warn=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warnOnce=function(){var i=Array.prototype.slice.call(arguments).join(" ");c._warnedOnce[i]||(c.warn(i),c._warnedOnce[i]=!0)},c.deprecated=function(i,r,s){i[r]=c.chain(function(){c.warnOnce("🔅 deprecated 🔅",s)},i[r])},c.nextId=function(){return c._nextId++},c.indexOf=function(i,r){if(i.indexOf)return i.indexOf(r);for(var s=0;s<i.length;s++)if(i[s]===r)return s;return-1},c.map=function(i,r){if(i.map)return i.map(r);for(var s=[],l=0;l<i.length;l+=1)s.push(r(i[l]));return s},c.topologicalSort=function(i){var r=[],s=[],l=[];for(var n in i)!s[n]&&!l[n]&&c._topologicalSort(n,s,l,i,r);return r},c._topologicalSort=function(i,r,s,l,n){var h=l[i]||[];s[i]=!0;for(var f=0;f<h.length;f+=1){var t=h[f];s[t]||r[t]||c._topologicalSort(t,r,s,l,n)}s[i]=!1,r[i]=!0,n.push(i)},c.chain=function(){for(var i=[],r=0;r<arguments.length;r+=1){var s=arguments[r];s._chained?i.push.apply(i,s._chained):i.push(s)}var l=function(){for(var n,h=new Array(arguments.length),f=0,t=arguments.length;f<t;f++)h[f]=arguments[f];for(f=0;f<i.length;f+=1){var o=i[f].apply(n,h);typeof o<"u"&&(n=o)}return n};return l._chained=i,l},c.chainPathBefore=function(i,r,s){return c.set(i,r,c.chain(s,c.get(i,r)))},c.chainPathAfter=function(i,r,s){return c.set(i,r,c.chain(c.get(i,r),s))},c.setDecomp=function(i){c._decomp=i},c.getDecomp=function(){var i=c._decomp;try{!i&&typeof window<"u"&&(i=window.decomp),!i&&typeof $e<"u"&&(i=$e.decomp)}catch{i=null}return i}}()},function(u,g){var c={};u.exports=c,function(){c.create=function(e){var i={min:{x:0,y:0},max:{x:0,y:0}};return e&&c.update(i,e),i},c.update=function(e,i,r){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var s=0;s<i.length;s++){var l=i[s];l.x>e.max.x&&(e.max.x=l.x),l.x<e.min.x&&(e.min.x=l.x),l.y>e.max.y&&(e.max.y=l.y),l.y<e.min.y&&(e.min.y=l.y)}r&&(r.x>0?e.max.x+=r.x:e.min.x+=r.x,r.y>0?e.max.y+=r.y:e.min.y+=r.y)},c.contains=function(e,i){return i.x>=e.min.x&&i.x<=e.max.x&&i.y>=e.min.y&&i.y<=e.max.y},c.overlaps=function(e,i){return e.min.x<=i.max.x&&e.max.x>=i.min.x&&e.max.y>=i.min.y&&e.min.y<=i.max.y},c.translate=function(e,i){e.min.x+=i.x,e.max.x+=i.x,e.min.y+=i.y,e.max.y+=i.y},c.shift=function(e,i){var r=e.max.x-e.min.x,s=e.max.y-e.min.y;e.min.x=i.x,e.max.x=i.x+r,e.min.y=i.y,e.max.y=i.y+s}}()},function(u,g){var c={};u.exports=c,function(){c.create=function(e,i){return{x:e||0,y:i||0}},c.clone=function(e){return{x:e.x,y:e.y}},c.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},c.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},c.rotate=function(e,i,r){var s=Math.cos(i),l=Math.sin(i);r||(r={});var n=e.x*s-e.y*l;return r.y=e.x*l+e.y*s,r.x=n,r},c.rotateAbout=function(e,i,r,s){var l=Math.cos(i),n=Math.sin(i);s||(s={});var h=r.x+((e.x-r.x)*l-(e.y-r.y)*n);return s.y=r.y+((e.x-r.x)*n+(e.y-r.y)*l),s.x=h,s},c.normalise=function(e){var i=c.magnitude(e);return i===0?{x:0,y:0}:{x:e.x/i,y:e.y/i}},c.dot=function(e,i){return e.x*i.x+e.y*i.y},c.cross=function(e,i){return e.x*i.y-e.y*i.x},c.cross3=function(e,i,r){return(i.x-e.x)*(r.y-e.y)-(i.y-e.y)*(r.x-e.x)},c.add=function(e,i,r){return r||(r={}),r.x=e.x+i.x,r.y=e.y+i.y,r},c.sub=function(e,i,r){return r||(r={}),r.x=e.x-i.x,r.y=e.y-i.y,r},c.mult=function(e,i){return{x:e.x*i,y:e.y*i}},c.div=function(e,i){return{x:e.x/i,y:e.y/i}},c.perp=function(e,i){return i=i===!0?-1:1,{x:i*-e.y,y:i*e.x}},c.neg=function(e){return{x:-e.x,y:-e.y}},c.angle=function(e,i){return Math.atan2(i.y-e.y,i.x-e.x)},c._temp=[c.create(),c.create(),c.create(),c.create(),c.create(),c.create()]}()},function(u,g,c){var e={};u.exports=e;var i=c(2),r=c(0);(function(){e.create=function(s,l){for(var n=[],h=0;h<s.length;h++){var f=s[h],t={x:f.x,y:f.y,index:h,body:l,isInternal:!1};n.push(t)}return n},e.fromPath=function(s,l){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,h=[];return s.replace(n,function(f,t,o){h.push({x:parseFloat(t),y:parseFloat(o)})}),e.create(h,l)},e.centre=function(s){for(var l=e.area(s,!0),n={x:0,y:0},h,f,t,o=0;o<s.length;o++)t=(o+1)%s.length,h=i.cross(s[o],s[t]),f=i.mult(i.add(s[o],s[t]),h),n=i.add(n,f);return i.div(n,6*l)},e.mean=function(s){for(var l={x:0,y:0},n=0;n<s.length;n++)l.x+=s[n].x,l.y+=s[n].y;return i.div(l,s.length)},e.area=function(s,l){for(var n=0,h=s.length-1,f=0;f<s.length;f++)n+=(s[h].x-s[f].x)*(s[h].y+s[f].y),h=f;return l?n/2:Math.abs(n)/2},e.inertia=function(s,l){for(var n=0,h=0,f=s,t,o,a=0;a<f.length;a++)o=(a+1)%f.length,t=Math.abs(i.cross(f[o],f[a])),n+=t*(i.dot(f[o],f[o])+i.dot(f[o],f[a])+i.dot(f[a],f[a])),h+=t;return l/6*(n/h)},e.translate=function(s,l,n){n=typeof n<"u"?n:1;var h=s.length,f=l.x*n,t=l.y*n,o;for(o=0;o<h;o++)s[o].x+=f,s[o].y+=t;return s},e.rotate=function(s,l,n){if(l!==0){var h=Math.cos(l),f=Math.sin(l),t=n.x,o=n.y,a=s.length,v,w,M,E;for(E=0;E<a;E++)v=s[E],w=v.x-t,M=v.y-o,v.x=t+(w*h-M*f),v.y=o+(w*f+M*h);return s}},e.contains=function(s,l){for(var n=l.x,h=l.y,f=s.length,t=s[f-1],o,a=0;a<f;a++){if(o=s[a],(n-t.x)*(o.y-t.y)+(h-t.y)*(t.x-o.x)>0)return!1;t=o}return!0},e.scale=function(s,l,n,h){if(l===1&&n===1)return s;h=h||e.centre(s);for(var f,t,o=0;o<s.length;o++)f=s[o],t=i.sub(f,h),s[o].x=h.x+t.x*l,s[o].y=h.y+t.y*n;return s},e.chamfer=function(s,l,n,h,f){typeof l=="number"?l=[l]:l=l||[8],n=typeof n<"u"?n:-1,h=h||2,f=f||14;for(var t=[],o=0;o<s.length;o++){var a=s[o-1>=0?o-1:s.length-1],v=s[o],w=s[(o+1)%s.length],M=l[o<l.length?o:l.length-1];if(M===0){t.push(v);continue}var E=i.normalise({x:v.y-a.y,y:a.x-v.x}),A=i.normalise({x:w.y-v.y,y:v.x-w.x}),m=Math.sqrt(2*Math.pow(M,2)),S=i.mult(r.clone(E),M),y=i.normalise(i.mult(i.add(E,A),.5)),x=i.sub(v,i.mult(y,m)),b=n;n===-1&&(b=Math.pow(M,.32)*1.75),b=r.clamp(b,h,f),b%2===1&&(b+=1);for(var C=Math.acos(i.dot(E,A)),T=C/b,P=0;P<b;P++)t.push(i.add(i.rotate(S,T*P),x))}return t},e.clockwiseSort=function(s){var l=e.mean(s);return s.sort(function(n,h){return i.angle(l,n)-i.angle(l,h)}),s},e.isConvex=function(s){var l=0,n=s.length,h,f,t,o;if(n<3)return null;for(h=0;h<n;h++)if(f=(h+1)%n,t=(h+2)%n,o=(s[f].x-s[h].x)*(s[t].y-s[f].y),o-=(s[f].y-s[h].y)*(s[t].x-s[f].x),o<0?l|=1:o>0&&(l|=2),l===3)return!1;return l!==0?!0:null},e.hull=function(s){var l=[],n=[],h,f;for(s=s.slice(0),s.sort(function(t,o){var a=t.x-o.x;return a!==0?a:t.y-o.y}),f=0;f<s.length;f+=1){for(h=s[f];n.length>=2&&i.cross3(n[n.length-2],n[n.length-1],h)<=0;)n.pop();n.push(h)}for(f=s.length-1;f>=0;f-=1){for(h=s[f];l.length>=2&&i.cross3(l[l.length-2],l[l.length-1],h)<=0;)l.pop();l.push(h)}return l.pop(),n.pop(),l.concat(n)}})()},function(u,g,c){var e={};u.exports=e;var i=c(3),r=c(2),s=c(7),l=c(0),n=c(1),h=c(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var o={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},a=l.extend(o,t);return f(a,t),a},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var f=function(t,o){o=o||{},e.set(t,{bounds:t.bounds||n.create(t.vertices),positionPrev:t.positionPrev||r.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),i.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),n.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:o.axes||t.axes,area:o.area||t.area,mass:o.mass||t.mass,inertia:o.inertia||t.inertia});var a=t.isStatic?"#14151f":l.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),v=t.isStatic?"#555":"#ccc",w=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||a,t.render.strokeStyle=t.render.strokeStyle||v,t.render.lineWidth=t.render.lineWidth||w,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,o,a){var v;typeof o=="string"&&(v=o,o={},o[v]=a);for(v in o)if(Object.prototype.hasOwnProperty.call(o,v))switch(a=o[v],v){case"isStatic":e.setStatic(t,a);break;case"isSleeping":s.set(t,a);break;case"mass":e.setMass(t,a);break;case"density":e.setDensity(t,a);break;case"inertia":e.setInertia(t,a);break;case"vertices":e.setVertices(t,a);break;case"position":e.setPosition(t,a);break;case"angle":e.setAngle(t,a);break;case"velocity":e.setVelocity(t,a);break;case"angularVelocity":e.setAngularVelocity(t,a);break;case"speed":e.setSpeed(t,a);break;case"angularSpeed":e.setAngularSpeed(t,a);break;case"parts":e.setParts(t,a);break;case"centre":e.setCentre(t,a);break;default:t[v]=a}},e.setStatic=function(t,o){for(var a=0;a<t.parts.length;a++){var v=t.parts[a];o?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=o}},e.setMass=function(t,o){var a=t.inertia/(t.mass/6);t.inertia=a*(o/6),t.inverseInertia=1/t.inertia,t.mass=o,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,o){e.setMass(t,o*t.area),t.density=o},e.setInertia=function(t,o){t.inertia=o,t.inverseInertia=1/t.inertia},e.setVertices=function(t,o){o[0].body===t?t.vertices=o:t.vertices=i.create(o,t),t.axes=h.fromVertices(t.vertices),t.area=i.area(t.vertices),e.setMass(t,t.density*t.area);var a=i.centre(t.vertices);i.translate(t.vertices,a,-1),e.setInertia(t,e._inertiaScale*i.inertia(t.vertices,t.mass)),i.translate(t.vertices,t.position),n.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,o,a){var v;for(o=o.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,v=0;v<o.length;v++){var w=o[v];w!==t&&(w.parent=t,t.parts.push(w))}if(t.parts.length!==1){if(a=typeof a<"u"?a:!0,a){var M=[];for(v=0;v<o.length;v++)M=M.concat(o[v].vertices);i.clockwiseSort(M);var E=i.hull(M),A=i.centre(E);e.setVertices(t,E),i.translate(t.vertices,A)}var m=e._totalProperties(t);t.area=m.area,t.parent=t,t.position.x=m.centre.x,t.position.y=m.centre.y,t.positionPrev.x=m.centre.x,t.positionPrev.y=m.centre.y,e.setMass(t,m.mass),e.setInertia(t,m.inertia),e.setPosition(t,m.centre)}},e.setCentre=function(t,o,a){a?(t.positionPrev.x+=o.x,t.positionPrev.y+=o.y,t.position.x+=o.x,t.position.y+=o.y):(t.positionPrev.x=o.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=o.y-(t.position.y-t.positionPrev.y),t.position.x=o.x,t.position.y=o.y)},e.setPosition=function(t,o,a){var v=r.sub(o,t.position);a?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=v.x,t.velocity.y=v.y,t.speed=r.magnitude(v)):(t.positionPrev.x+=v.x,t.positionPrev.y+=v.y);for(var w=0;w<t.parts.length;w++){var M=t.parts[w];M.position.x+=v.x,M.position.y+=v.y,i.translate(M.vertices,v),n.update(M.bounds,M.vertices,t.velocity)}},e.setAngle=function(t,o,a){var v=o-t.angle;a?(t.anglePrev=t.angle,t.angularVelocity=v,t.angularSpeed=Math.abs(v)):t.anglePrev+=v;for(var w=0;w<t.parts.length;w++){var M=t.parts[w];M.angle+=v,i.rotate(M.vertices,v,t.position),h.rotate(M.axes,v),n.update(M.bounds,M.vertices,t.velocity),w>0&&r.rotateAbout(M.position,v,t.position,M.position)}},e.setVelocity=function(t,o){var a=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-o.x*a,t.positionPrev.y=t.position.y-o.y*a,t.velocity.x=(t.position.x-t.positionPrev.x)/a,t.velocity.y=(t.position.y-t.positionPrev.y)/a,t.speed=r.magnitude(t.velocity)},e.getVelocity=function(t){var o=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*o,y:(t.position.y-t.positionPrev.y)*o}},e.getSpeed=function(t){return r.magnitude(e.getVelocity(t))},e.setSpeed=function(t,o){e.setVelocity(t,r.mult(r.normalise(e.getVelocity(t)),o))},e.setAngularVelocity=function(t,o){var a=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-o*a,t.angularVelocity=(t.angle-t.anglePrev)/a,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,o){e.setAngularVelocity(t,l.sign(e.getAngularVelocity(t))*o)},e.translate=function(t,o,a){e.setPosition(t,r.add(t.position,o),a)},e.rotate=function(t,o,a,v){if(!a)e.setAngle(t,t.angle+o,v);else{var w=Math.cos(o),M=Math.sin(o),E=t.position.x-a.x,A=t.position.y-a.y;e.setPosition(t,{x:a.x+(E*w-A*M),y:a.y+(E*M+A*w)},v),e.setAngle(t,t.angle+o,v)}},e.scale=function(t,o,a,v){var w=0,M=0;v=v||t.position;for(var E=0;E<t.parts.length;E++){var A=t.parts[E];i.scale(A.vertices,o,a,v),A.axes=h.fromVertices(A.vertices),A.area=i.area(A.vertices),e.setMass(A,t.density*A.area),i.translate(A.vertices,{x:-A.position.x,y:-A.position.y}),e.setInertia(A,e._inertiaScale*i.inertia(A.vertices,A.mass)),i.translate(A.vertices,{x:A.position.x,y:A.position.y}),E>0&&(w+=A.area,M+=A.inertia),A.position.x=v.x+(A.position.x-v.x)*o,A.position.y=v.y+(A.position.y-v.y)*a,n.update(A.bounds,A.vertices,t.velocity)}t.parts.length>1&&(t.area=w,t.isStatic||(e.setMass(t,t.density*w),e.setInertia(t,M))),t.circleRadius&&(o===a?t.circleRadius*=o:t.circleRadius=null)},e.update=function(t,o){o=(typeof o<"u"?o:1e3/60)*t.timeScale;var a=o*o,v=e._timeCorrection?o/(t.deltaTime||o):1,w=1-t.frictionAir*(o/l._baseDelta),M=(t.position.x-t.positionPrev.x)*v,E=(t.position.y-t.positionPrev.y)*v;t.velocity.x=M*w+t.force.x/t.mass*a,t.velocity.y=E*w+t.force.y/t.mass*a,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=o,t.angularVelocity=(t.angle-t.anglePrev)*w*v+t.torque/t.inertia*a,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var A=0;A<t.parts.length;A++){var m=t.parts[A];i.translate(m.vertices,t.velocity),A>0&&(m.position.x+=t.velocity.x,m.position.y+=t.velocity.y),t.angularVelocity!==0&&(i.rotate(m.vertices,t.angularVelocity,t.position),h.rotate(m.axes,t.angularVelocity),A>0&&r.rotateAbout(m.position,t.angularVelocity,t.position,m.position)),n.update(m.bounds,m.vertices,t.velocity)}},e.updateVelocities=function(t){var o=e._baseDelta/t.deltaTime,a=t.velocity;a.x=(t.position.x-t.positionPrev.x)*o,a.y=(t.position.y-t.positionPrev.y)*o,t.speed=Math.sqrt(a.x*a.x+a.y*a.y),t.angularVelocity=(t.angle-t.anglePrev)*o,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,o,a){var v={x:o.x-t.position.x,y:o.y-t.position.y};t.force.x+=a.x,t.force.y+=a.y,t.torque+=v.x*a.y-v.y*a.x},e._totalProperties=function(t){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},a=t.parts.length===1?0:1;a<t.parts.length;a++){var v=t.parts[a],w=v.mass!==1/0?v.mass:1;o.mass+=w,o.area+=v.area,o.inertia+=v.inertia,o.centre=r.add(o.centre,r.mult(v.position,w))}return o.centre=r.div(o.centre,o.mass),o}})()},function(u,g,c){var e={};u.exports=e;var i=c(0);(function(){e.on=function(r,s,l){for(var n=s.split(" "),h,f=0;f<n.length;f++)h=n[f],r.events=r.events||{},r.events[h]=r.events[h]||[],r.events[h].push(l);return l},e.off=function(r,s,l){if(!s){r.events={};return}typeof s=="function"&&(l=s,s=i.keys(r.events).join(" "));for(var n=s.split(" "),h=0;h<n.length;h++){var f=r.events[n[h]],t=[];if(l&&f)for(var o=0;o<f.length;o++)f[o]!==l&&t.push(f[o]);r.events[n[h]]=t}},e.trigger=function(r,s,l){var n,h,f,t,o=r.events;if(o&&i.keys(o).length>0){l||(l={}),n=s.split(" ");for(var a=0;a<n.length;a++)if(h=n[a],f=o[h],f){t=i.clone(l,!1),t.name=h,t.source=r;for(var v=0;v<f.length;v++)f[v].apply(r,[t])}}}})()},function(u,g,c){var e={};u.exports=e;var i=c(5),r=c(0),s=c(1),l=c(4);(function(){e.create=function(n){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},e.setModified=function(n,h,f,t){if(n.isModified=h,h&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),f&&n.parent&&e.setModified(n.parent,h,f,t),t)for(var o=0;o<n.composites.length;o++){var a=n.composites[o];e.setModified(a,h,f,t)}},e.add=function(n,h){var f=[].concat(h);i.trigger(n,"beforeAdd",{object:h});for(var t=0;t<f.length;t++){var o=f[t];switch(o.type){case"body":if(o.parent!==o){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,o);break;case"constraint":e.addConstraint(n,o);break;case"composite":e.addComposite(n,o);break;case"mouseConstraint":e.addConstraint(n,o.constraint);break}}return i.trigger(n,"afterAdd",{object:h}),n},e.remove=function(n,h,f){var t=[].concat(h);i.trigger(n,"beforeRemove",{object:h});for(var o=0;o<t.length;o++){var a=t[o];switch(a.type){case"body":e.removeBody(n,a,f);break;case"constraint":e.removeConstraint(n,a,f);break;case"composite":e.removeComposite(n,a,f);break;case"mouseConstraint":e.removeConstraint(n,a.constraint);break}}return i.trigger(n,"afterRemove",{object:h}),n},e.addComposite=function(n,h){return n.composites.push(h),h.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,h,f){var t=r.indexOf(n.composites,h);if(t!==-1){var o=e.allBodies(h);e.removeCompositeAt(n,t);for(var a=0;a<o.length;a++)o[a].sleepCounter=0}if(f)for(var a=0;a<n.composites.length;a++)e.removeComposite(n.composites[a],h,!0);return n},e.removeCompositeAt=function(n,h){return n.composites.splice(h,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,h){return n.bodies.push(h),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,h,f){var t=r.indexOf(n.bodies,h);if(t!==-1&&(e.removeBodyAt(n,t),h.sleepCounter=0),f)for(var o=0;o<n.composites.length;o++)e.removeBody(n.composites[o],h,!0);return n},e.removeBodyAt=function(n,h){return n.bodies.splice(h,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,h){return n.constraints.push(h),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,h,f){var t=r.indexOf(n.constraints,h);if(t!==-1&&e.removeConstraintAt(n,t),f)for(var o=0;o<n.composites.length;o++)e.removeConstraint(n.composites[o],h,!0);return n},e.removeConstraintAt=function(n,h){return n.constraints.splice(h,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,h,f){if(f)for(var t=0;t<n.composites.length;t++)e.clear(n.composites[t],h,!0);return h?n.bodies=n.bodies.filter(function(o){return o.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var h=[].concat(n.bodies),f=0;f<n.composites.length;f++)h=h.concat(e.allBodies(n.composites[f]));return n.cache&&(n.cache.allBodies=h),h},e.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var h=[].concat(n.constraints),f=0;f<n.composites.length;f++)h=h.concat(e.allConstraints(n.composites[f]));return n.cache&&(n.cache.allConstraints=h),h},e.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var h=[].concat(n.composites),f=0;f<n.composites.length;f++)h=h.concat(e.allComposites(n.composites[f]));return n.cache&&(n.cache.allComposites=h),h},e.get=function(n,h,f){var t,o;switch(f){case"body":t=e.allBodies(n);break;case"constraint":t=e.allConstraints(n);break;case"composite":t=e.allComposites(n).concat(n);break}return t?(o=t.filter(function(a){return a.id.toString()===h.toString()}),o.length===0?null:o[0]):null},e.move=function(n,h,f){return e.remove(n,h),e.add(f,h),n},e.rebase=function(n){for(var h=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),f=0;f<h.length;f++)h[f].id=r.nextId();return n},e.translate=function(n,h,f){for(var t=f?e.allBodies(n):n.bodies,o=0;o<t.length;o++)l.translate(t[o],h);return n},e.rotate=function(n,h,f,t){for(var o=Math.cos(h),a=Math.sin(h),v=t?e.allBodies(n):n.bodies,w=0;w<v.length;w++){var M=v[w],E=M.position.x-f.x,A=M.position.y-f.y;l.setPosition(M,{x:f.x+(E*o-A*a),y:f.y+(E*a+A*o)}),l.rotate(M,h)}return n},e.scale=function(n,h,f,t,o){for(var a=o?e.allBodies(n):n.bodies,v=0;v<a.length;v++){var w=a[v],M=w.position.x-t.x,E=w.position.y-t.y;l.setPosition(w,{x:t.x+M*h,y:t.y+E*f}),l.scale(w,h,f)}return n},e.bounds=function(n){for(var h=e.allBodies(n),f=[],t=0;t<h.length;t+=1){var o=h[t];f.push(o.bounds.min,o.bounds.max)}return s.create(f)}})()},function(u,g,c){var e={};u.exports=e;var i=c(4),r=c(5),s=c(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(l,n){for(var h=n/s._baseDelta,f=e._motionSleepThreshold,t=0;t<l.length;t++){var o=l[t],a=i.getSpeed(o),v=i.getAngularSpeed(o),w=a*a+v*v;if(o.force.x!==0||o.force.y!==0){e.set(o,!1);continue}var M=Math.min(o.motion,w),E=Math.max(o.motion,w);o.motion=e._minBias*M+(1-e._minBias)*E,o.sleepThreshold>0&&o.motion<f?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/h&&e.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},e.afterCollisions=function(l){for(var n=e._motionSleepThreshold,h=0;h<l.length;h++){var f=l[h];if(f.isActive){var t=f.collision,o=t.bodyA.parent,a=t.bodyB.parent;if(!(o.isSleeping&&a.isSleeping||o.isStatic||a.isStatic)&&(o.isSleeping||a.isSleeping)){var v=o.isSleeping&&!o.isStatic?o:a,w=v===o?a:o;!v.isStatic&&w.motion>n&&e.set(v,!1)}}}},e.set=function(l,n){var h=l.isSleeping;n?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,h||r.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,h&&r.trigger(l,"sleepEnd"))}})()},function(u,g,c){var e={};u.exports=e;var i=c(3),r=c(9);(function(){var s=[],l={overlap:0,axis:null},n={overlap:0,axis:null};e.create=function(h,f){return{pair:null,collided:!1,bodyA:h,bodyB:f,parentA:h.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(h,f,t){if(e._overlapAxes(l,h.vertices,f.vertices,h.axes),l.overlap<=0||(e._overlapAxes(n,f.vertices,h.vertices,f.axes),n.overlap<=0))return null;var o=t&&t.table[r.id(h,f)],a;o?a=o.collision:(a=e.create(h,f),a.collided=!0,a.bodyA=h.id<f.id?h:f,a.bodyB=h.id<f.id?f:h,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent),h=a.bodyA,f=a.bodyB;var v;l.overlap<n.overlap?v=l:v=n;var w=a.normal,M=a.tangent,E=a.penetration,A=a.supports,m=v.overlap,S=v.axis,y=S.x,x=S.y,b=f.position.x-h.position.x,C=f.position.y-h.position.y;y*b+x*C>=0&&(y=-y,x=-x),w.x=y,w.y=x,M.x=-x,M.y=y,E.x=y*m,E.y=x*m,a.depth=m;var T=e._findSupports(h,f,w,1),P=0;if(i.contains(h.vertices,T[0])&&(A[P++]=T[0]),i.contains(h.vertices,T[1])&&(A[P++]=T[1]),P<2){var k=e._findSupports(f,h,w,-1);i.contains(f.vertices,k[0])&&(A[P++]=k[0]),P<2&&i.contains(f.vertices,k[1])&&(A[P++]=k[1])}return P===0&&(A[P++]=T[0]),a.supportCount=P,a},e._overlapAxes=function(h,f,t,o){var a=f.length,v=t.length,w=f[0].x,M=f[0].y,E=t[0].x,A=t[0].y,m=o.length,S=Number.MAX_VALUE,y=0,x,b,C,T,P,k;for(P=0;P<m;P++){var D=o[P],R=D.x,N=D.y,F=w*R+M*N,U=E*R+A*N,j=F,_=U;for(k=1;k<a;k+=1)T=f[k].x*R+f[k].y*N,T>j?j=T:T<F&&(F=T);for(k=1;k<v;k+=1)T=t[k].x*R+t[k].y*N,T>_?_=T:T<U&&(U=T);if(b=j-U,C=_-F,x=b<C?b:C,x<S&&(S=x,y=P,x<=0))break}h.axis=o[y],h.overlap=S},e._findSupports=function(h,f,t,o){var a=f.vertices,v=a.length,w=h.position.x,M=h.position.y,E=t.x*o,A=t.y*o,m=a[0],S=m,y=E*(w-S.x)+A*(M-S.y),x,b,C;for(C=1;C<v;C+=1)S=a[C],b=E*(w-S.x)+A*(M-S.y),b<y&&(y=b,m=S);return x=a[(v+m.index-1)%v],y=E*(w-x.x)+A*(M-x.y),S=a[(m.index+1)%v],E*(w-S.x)+A*(M-S.y)<y?(s[0]=m,s[1]=S,s):(s[0]=m,s[1]=x,s)}})()},function(u,g,c){var e={};u.exports=e;var i=c(16);(function(){e.create=function(r,s){var l=r.bodyA,n=r.bodyB,h={id:e.id(l,n),bodyA:l,bodyB:n,collision:r,contacts:[i.create(),i.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||n.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(h,r,s),h},e.update=function(r,s,l){var n=s.supports,h=s.supportCount,f=r.contacts,t=s.parentA,o=s.parentB;r.isActive=!0,r.timeUpdated=l,r.collision=s,r.separation=s.depth,r.inverseMass=t.inverseMass+o.inverseMass,r.friction=t.friction<o.friction?t.friction:o.friction,r.frictionStatic=t.frictionStatic>o.frictionStatic?t.frictionStatic:o.frictionStatic,r.restitution=t.restitution>o.restitution?t.restitution:o.restitution,r.slop=t.slop>o.slop?t.slop:o.slop,r.contactCount=h,s.pair=r;var a=n[0],v=f[0],w=n[1],M=f[1];(M.vertex===a||v.vertex===w)&&(f[1]=v,f[0]=v=M,M=f[1]),v.vertex=a,M.vertex=w},e.setActive=function(r,s,l){s?(r.isActive=!0,r.timeUpdated=l):(r.isActive=!1,r.contactCount=0)},e.id=function(r,s){return r.id<s.id?r.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+r.id.toString(36)}})()},function(u,g,c){var e={};u.exports=e;var i=c(3),r=c(2),s=c(7),l=c(1),n=c(11),h=c(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(f){var t=f;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var o=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,a=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,v=r.magnitude(r.sub(o,a));t.length=typeof t.length<"u"?t.length:v,t.id=t.id||h.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var w={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(w.type="pin",w.anchors=!1):t.stiffness<.9&&(w.type="spring"),t.render=h.extend(w,t.render),t},e.preSolveAll=function(f){for(var t=0;t<f.length;t+=1){var o=f[t],a=o.constraintImpulse;o.isStatic||a.x===0&&a.y===0&&a.angle===0||(o.position.x+=a.x,o.position.y+=a.y,o.angle+=a.angle)}},e.solveAll=function(f,t){for(var o=h.clamp(t/h._baseDelta,0,1),a=0;a<f.length;a+=1){var v=f[a],w=!v.bodyA||v.bodyA&&v.bodyA.isStatic,M=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(w||M)&&e.solve(f[a],o)}for(a=0;a<f.length;a+=1)v=f[a],w=!v.bodyA||v.bodyA&&v.bodyA.isStatic,M=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!w&&!M&&e.solve(f[a],o)},e.solve=function(f,t){var o=f.bodyA,a=f.bodyB,v=f.pointA,w=f.pointB;if(!(!o&&!a)){o&&!o.isStatic&&(r.rotate(v,o.angle-f.angleA,v),f.angleA=o.angle),a&&!a.isStatic&&(r.rotate(w,a.angle-f.angleB,w),f.angleB=a.angle);var M=v,E=w;if(o&&(M=r.add(o.position,v)),a&&(E=r.add(a.position,w)),!(!M||!E)){var A=r.sub(M,E),m=r.magnitude(A);m<e._minLength&&(m=e._minLength);var S=(m-f.length)/m,y=f.stiffness>=1||f.length===0,x=y?f.stiffness*t:f.stiffness*t*t,b=f.damping*t,C=r.mult(A,S*x),T=(o?o.inverseMass:0)+(a?a.inverseMass:0),P=(o?o.inverseInertia:0)+(a?a.inverseInertia:0),k=T+P,D,R,N,F,U;if(b>0){var j=r.create();N=r.div(A,m),U=r.sub(a&&r.sub(a.position,a.positionPrev)||j,o&&r.sub(o.position,o.positionPrev)||j),F=r.dot(N,U)}o&&!o.isStatic&&(R=o.inverseMass/T,o.constraintImpulse.x-=C.x*R,o.constraintImpulse.y-=C.y*R,o.position.x-=C.x*R,o.position.y-=C.y*R,b>0&&(o.positionPrev.x-=b*N.x*F*R,o.positionPrev.y-=b*N.y*F*R),D=r.cross(v,C)/k*e._torqueDampen*o.inverseInertia*(1-f.angularStiffness),o.constraintImpulse.angle-=D,o.angle-=D),a&&!a.isStatic&&(R=a.inverseMass/T,a.constraintImpulse.x+=C.x*R,a.constraintImpulse.y+=C.y*R,a.position.x+=C.x*R,a.position.y+=C.y*R,b>0&&(a.positionPrev.x+=b*N.x*F*R,a.positionPrev.y+=b*N.y*F*R),D=r.cross(w,C)/k*e._torqueDampen*a.inverseInertia*(1-f.angularStiffness),a.constraintImpulse.angle+=D,a.angle+=D)}}},e.postSolveAll=function(f){for(var t=0;t<f.length;t++){var o=f[t],a=o.constraintImpulse;if(!(o.isStatic||a.x===0&&a.y===0&&a.angle===0)){s.set(o,!1);for(var v=0;v<o.parts.length;v++){var w=o.parts[v];i.translate(w.vertices,a),v>0&&(w.position.x+=a.x,w.position.y+=a.y),a.angle!==0&&(i.rotate(w.vertices,a.angle,o.position),n.rotate(w.axes,a.angle),v>0&&r.rotateAbout(w.position,a.angle,o.position,w.position)),l.update(w.bounds,w.vertices,o.velocity)}a.angle*=e._warming,a.x*=e._warming,a.y*=e._warming}}},e.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},e.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},e.currentLength=function(f){var t=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),o=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),a=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),v=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),w=t-a,M=o-v;return Math.sqrt(w*w+M*M)}})()},function(u,g,c){var e={};u.exports=e;var i=c(2),r=c(0);(function(){e.fromVertices=function(s){for(var l={},n=0;n<s.length;n++){var h=(n+1)%s.length,f=i.normalise({x:s[h].y-s[n].y,y:s[n].x-s[h].x}),t=f.y===0?1/0:f.x/f.y;t=t.toFixed(3).toString(),l[t]=f}return r.values(l)},e.rotate=function(s,l){if(l!==0)for(var n=Math.cos(l),h=Math.sin(l),f=0;f<s.length;f++){var t=s[f],o;o=t.x*n-t.y*h,t.y=t.x*h+t.y*n,t.x=o}}})()},function(u,g,c){var e={};u.exports=e;var i=c(3),r=c(0),s=c(4),l=c(1),n=c(2);(function(){e.rectangle=function(h,f,t,o,a){a=a||{};var v={label:"Rectangle Body",position:{x:h,y:f},vertices:i.fromPath("L 0 0 L "+t+" 0 L "+t+" "+o+" L 0 "+o)};if(a.chamfer){var w=a.chamfer;v.vertices=i.chamfer(v.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete a.chamfer}return s.create(r.extend({},v,a))},e.trapezoid=function(h,f,t,o,a,v){v=v||{},a>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1."),a*=.5;var w=(1-a*2)*t,M=t*a,E=M+w,A=E+M,m;a<.5?m="L 0 0 L "+M+" "+-o+" L "+E+" "+-o+" L "+A+" 0":m="L 0 0 L "+E+" "+-o+" L "+A+" 0";var S={label:"Trapezoid Body",position:{x:h,y:f},vertices:i.fromPath(m)};if(v.chamfer){var y=v.chamfer;S.vertices=i.chamfer(S.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete v.chamfer}return s.create(r.extend({},S,v))},e.circle=function(h,f,t,o,a){o=o||{};var v={label:"Circle Body",circleRadius:t};a=a||25;var w=Math.ceil(Math.max(10,Math.min(a,t)));return w%2===1&&(w+=1),e.polygon(h,f,w,t,r.extend({},v,o))},e.polygon=function(h,f,t,o,a){if(a=a||{},t<3)return e.circle(h,f,o,a);for(var v=2*Math.PI/t,w="",M=v*.5,E=0;E<t;E+=1){var A=M+E*v,m=Math.cos(A)*o,S=Math.sin(A)*o;w+="L "+m.toFixed(3)+" "+S.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:h,y:f},vertices:i.fromPath(w)};if(a.chamfer){var x=a.chamfer;y.vertices=i.chamfer(y.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete a.chamfer}return s.create(r.extend({},y,a))},e.fromVertices=function(h,f,t,o,a,v,w,M){var E=r.getDecomp(),A,m,S,y,x,b,C,T,P,k,D;for(A=!!(E&&E.quickDecomp),o=o||{},S=[],a=typeof a<"u"?a:!1,v=typeof v<"u"?v:.01,w=typeof w<"u"?w:10,M=typeof M<"u"?M:.01,r.isArray(t[0])||(t=[t]),k=0;k<t.length;k+=1)if(b=t[k],y=i.isConvex(b),x=!y,x&&!A&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),y||!A)y?b=i.clockwiseSort(b):b=i.hull(b),S.push({position:{x:h,y:f},vertices:b});else{var R=b.map(function(I){return[I.x,I.y]});E.makeCCW(R),v!==!1&&E.removeCollinearPoints(R,v),M!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(R,M);var N=E.quickDecomp(R);for(C=0;C<N.length;C++){var F=N[C],U=F.map(function(I){return{x:I[0],y:I[1]}});w>0&&i.area(U)<w||S.push({position:i.centre(U),vertices:U})}}for(C=0;C<S.length;C++)S[C]=s.create(r.extend(S[C],o));if(a){var j=5;for(C=0;C<S.length;C++){var _=S[C];for(T=C+1;T<S.length;T++){var $=S[T];if(l.overlaps(_.bounds,$.bounds)){var Q=_.vertices,ne=$.vertices;for(P=0;P<_.vertices.length;P++)for(D=0;D<$.vertices.length;D++){var de=n.magnitudeSquared(n.sub(Q[(P+1)%Q.length],ne[D])),B=n.magnitudeSquared(n.sub(Q[P],ne[(D+1)%ne.length]));de<j&&B<j&&(Q[P].isInternal=!0,ne[D].isInternal=!0)}}}}}return S.length>1?(m=s.create(r.extend({parts:S.slice(0)},o)),s.setPosition(m,{x:h,y:f}),m):S[0]}})()},function(u,g,c){var e={};u.exports=e;var i=c(0),r=c(8);(function(){e.create=function(s){var l={bodies:[],collisions:[],pairs:null};return i.extend(l,s)},e.setBodies=function(s,l){s.bodies=l.slice(0)},e.clear=function(s){s.bodies=[],s.collisions=[]},e.collisions=function(s){var l=s.pairs,n=s.bodies,h=n.length,f=e.canCollide,t=r.collides,o=s.collisions,a=0,v,w;for(n.sort(e._compareBoundsX),v=0;v<h;v++){var M=n[v],E=M.bounds,A=M.bounds.max.x,m=M.bounds.max.y,S=M.bounds.min.y,y=M.isStatic||M.isSleeping,x=M.parts.length,b=x===1;for(w=v+1;w<h;w++){var C=n[w],T=C.bounds;if(T.min.x>A)break;if(!(m<T.min.y||S>T.max.y)&&!(y&&(C.isStatic||C.isSleeping))&&f(M.collisionFilter,C.collisionFilter)){var P=C.parts.length;if(b&&P===1){var k=t(M,C,l);k&&(o[a++]=k)}else for(var D=x>1?1:0,R=P>1?1:0,N=D;N<x;N++)for(var F=M.parts[N],E=F.bounds,U=R;U<P;U++){var j=C.parts[U],T=j.bounds;if(!(E.min.x>T.max.x||E.max.x<T.min.x||E.max.y<T.min.y||E.min.y>T.max.y)){var k=t(F,j,l);k&&(o[a++]=k)}}}}}return o.length!==a&&(o.length=a),o},e.canCollide=function(s,l){return s.group===l.group&&s.group!==0?s.group>0:(s.mask&l.category)!==0&&(l.mask&s.category)!==0},e._compareBoundsX=function(s,l){return s.bounds.min.x-l.bounds.min.x}})()},function(u,g,c){var e={};u.exports=e;var i=c(0);(function(){e.create=function(r){var s={};return r||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),s.element=r||document.body,s.absolute={x:0,y:0},s.position={x:0,y:0},s.mousedownPosition={x:0,y:0},s.mouseupPosition={x:0,y:0},s.offset={x:0,y:0},s.scale={x:1,y:1},s.wheelDelta=0,s.button=-1,s.pixelRatio=parseInt(s.element.getAttribute("data-pixel-ratio"),10)||1,s.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},s.mousemove=function(l){var n=e._getRelativeMousePosition(l,s.element,s.pixelRatio),h=l.changedTouches;h&&(s.button=0,l.preventDefault()),s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.sourceEvents.mousemove=l},s.mousedown=function(l){var n=e._getRelativeMousePosition(l,s.element,s.pixelRatio),h=l.changedTouches;h?(s.button=0,l.preventDefault()):s.button=l.button,s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mousedownPosition.x=s.position.x,s.mousedownPosition.y=s.position.y,s.sourceEvents.mousedown=l},s.mouseup=function(l){var n=e._getRelativeMousePosition(l,s.element,s.pixelRatio),h=l.changedTouches;h&&l.preventDefault(),s.button=-1,s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mouseupPosition.x=s.position.x,s.mouseupPosition.y=s.position.y,s.sourceEvents.mouseup=l},s.mousewheel=function(l){s.wheelDelta=Math.max(-1,Math.min(1,l.wheelDelta||-l.detail)),l.preventDefault(),s.sourceEvents.mousewheel=l},e.setElement(s,s.element),s},e.setElement=function(r,s){r.element=s,s.addEventListener("mousemove",r.mousemove,{passive:!0}),s.addEventListener("mousedown",r.mousedown,{passive:!0}),s.addEventListener("mouseup",r.mouseup,{passive:!0}),s.addEventListener("wheel",r.mousewheel,{passive:!1}),s.addEventListener("touchmove",r.mousemove,{passive:!1}),s.addEventListener("touchstart",r.mousedown,{passive:!1}),s.addEventListener("touchend",r.mouseup,{passive:!1})},e.clearSourceEvents=function(r){r.sourceEvents.mousemove=null,r.sourceEvents.mousedown=null,r.sourceEvents.mouseup=null,r.sourceEvents.mousewheel=null,r.wheelDelta=0},e.setOffset=function(r,s){r.offset.x=s.x,r.offset.y=s.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e.setScale=function(r,s){r.scale.x=s.x,r.scale.y=s.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e._getRelativeMousePosition=function(r,s,l){var n=s.getBoundingClientRect(),h=document.documentElement||document.body.parentNode||document.body,f=window.pageXOffset!==void 0?window.pageXOffset:h.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:h.scrollTop,o=r.changedTouches,a,v;return o?(a=o[0].pageX-n.left-f,v=o[0].pageY-n.top-t):(a=r.pageX-n.left-f,v=r.pageY-n.top-t),{x:a/(s.clientWidth/(s.width||s.clientWidth)*l),y:v/(s.clientHeight/(s.height||s.clientHeight)*l)}}})()},function(u,g,c){var e={};u.exports=e;var i=c(0);(function(){e._registry={},e.register=function(r){if(e.isPlugin(r)||i.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var s=e._registry[r.name],l=e.versionParse(r.version).number,n=e.versionParse(s.version).number;l>n?(i.warn("Plugin.register:",e.toString(s),"was upgraded to",e.toString(r)),e._registry[r.name]=r):l<n?i.warn("Plugin.register:",e.toString(s),"can not be downgraded to",e.toString(r)):r!==s&&i.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(r){return e._registry[e.dependencyParse(r).name]},e.toString=function(r){return typeof r=="string"?r:(r.name||"anonymous")+"@"+(r.version||r.range||"0.0.0")},e.isPlugin=function(r){return r&&r.name&&r.version&&r.install},e.isUsed=function(r,s){return r.used.indexOf(s)>-1},e.isFor=function(r,s){var l=r.for&&e.dependencyParse(r.for);return!r.for||s.name===l.name&&e.versionSatisfies(s.version,l.range)},e.use=function(r,s){if(r.uses=(r.uses||[]).concat(s||[]),r.uses.length===0){i.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.");return}for(var l=e.dependencies(r),n=i.topologicalSort(l),h=[],f=0;f<n.length;f+=1)if(n[f]!==r.name){var t=e.resolve(n[f]);if(!t){h.push("❌ "+n[f]);continue}e.isUsed(r,t.name)||(e.isFor(t,r)||(i.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(r)+"."),t._warned=!0),t.install?t.install(r):(i.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(h.push("🔶 "+e.toString(t)),delete t._warned):h.push("✅ "+e.toString(t)),r.used.push(t.name))}h.length>0&&i.info(h.join("  "))},e.dependencies=function(r,s){var l=e.dependencyParse(r),n=l.name;if(s=s||{},!(n in s)){r=e.resolve(r)||r,s[n]=i.map(r.uses||[],function(f){e.isPlugin(f)&&e.register(f);var t=e.dependencyParse(f),o=e.resolve(f);return o&&!e.versionSatisfies(o.version,t.range)?(i.warn("Plugin.dependencies:",e.toString(o),"does not satisfy",e.toString(t),"used by",e.toString(l)+"."),o._warned=!0,r._warned=!0):o||(i.warn("Plugin.dependencies:",e.toString(f),"used by",e.toString(l),"could not be resolved."),r._warned=!0),t.name});for(var h=0;h<s[n].length;h+=1)e.dependencies(s[n][h],s);return s}},e.dependencyParse=function(r){if(i.isString(r)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(r)||i.warn("Plugin.dependencyParse:",r,"is not a valid dependency string."),{name:r.split("@")[0],range:r.split("@")[1]||"*"}}return{name:r.name,range:r.range||r.version}},e.versionParse=function(r){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(r)||i.warn("Plugin.versionParse:",r,"is not a valid version or range.");var l=s.exec(r),n=Number(l[4]),h=Number(l[5]),f=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:r,operator:l[1]||l[2]||"",major:n,minor:h,patch:f,parts:[n,h,f],prerelease:l[7],number:n*1e8+h*1e4+f}},e.versionSatisfies=function(r,s){s=s||"*";var l=e.versionParse(s),n=e.versionParse(r);if(l.isRange){if(l.operator==="*"||r==="*")return!0;if(l.operator===">")return n.number>l.number;if(l.operator===">=")return n.number>=l.number;if(l.operator==="~")return n.major===l.major&&n.minor===l.minor&&n.patch>=l.patch;if(l.operator==="^")return l.major>0?n.major===l.major&&n.number>=l.number:l.minor>0?n.minor===l.minor&&n.patch>=l.patch:n.patch===l.patch}return r===s||r==="*"}})()},function(u,g){var c={};u.exports=c,function(){c.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(u,g,c){var e={};u.exports=e;var i=c(7),r=c(18),s=c(13),l=c(19),n=c(5),h=c(6),f=c(10),t=c(0),o=c(4);(function(){e._deltaMax=1e3/60,e.create=function(a){a=a||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},w=t.extend(v,a);return w.world=a.world||h.create({label:"World"}),w.pairs=a.pairs||l.create(),w.detector=a.detector||s.create(),w.detector.pairs=w.pairs,w.grid={buckets:[]},w.world.gravity=w.gravity,w.broadphase=w.grid,w.metrics={},w},e.update=function(a,v){var w=t.now(),M=a.world,E=a.detector,A=a.pairs,m=a.timing,S=m.timestamp,y;v>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),v=typeof v<"u"?v:t._baseDelta,v*=m.timeScale,m.timestamp+=v,m.lastDelta=v;var x={timestamp:m.timestamp,delta:v};n.trigger(a,"beforeUpdate",x);var b=h.allBodies(M),C=h.allConstraints(M);for(M.isModified&&(s.setBodies(E,b),h.setModified(M,!1,!1,!0)),a.enableSleeping&&i.update(b,v),e._bodiesApplyGravity(b,a.gravity),v>0&&e._bodiesUpdate(b,v),n.trigger(a,"beforeSolve",x),f.preSolveAll(b),y=0;y<a.constraintIterations;y++)f.solveAll(C,v);f.postSolveAll(b);var T=s.collisions(E);l.update(A,T,S),a.enableSleeping&&i.afterCollisions(A.list),A.collisionStart.length>0&&n.trigger(a,"collisionStart",{pairs:A.collisionStart,timestamp:m.timestamp,delta:v});var P=t.clamp(20/a.positionIterations,0,1);for(r.preSolvePosition(A.list),y=0;y<a.positionIterations;y++)r.solvePosition(A.list,v,P);for(r.postSolvePosition(b),f.preSolveAll(b),y=0;y<a.constraintIterations;y++)f.solveAll(C,v);for(f.postSolveAll(b),r.preSolveVelocity(A.list),y=0;y<a.velocityIterations;y++)r.solveVelocity(A.list,v);return e._bodiesUpdateVelocities(b),A.collisionActive.length>0&&n.trigger(a,"collisionActive",{pairs:A.collisionActive,timestamp:m.timestamp,delta:v}),A.collisionEnd.length>0&&n.trigger(a,"collisionEnd",{pairs:A.collisionEnd,timestamp:m.timestamp,delta:v}),e._bodiesClearForces(b),n.trigger(a,"afterUpdate",x),a.timing.lastElapsed=t.now()-w,a},e.merge=function(a,v){if(t.extend(a,v),v.world){a.world=v.world,e.clear(a);for(var w=h.allBodies(a.world),M=0;M<w.length;M++){var E=w[M];i.set(E,!1),E.id=t.nextId()}}},e.clear=function(a){l.clear(a.pairs),s.clear(a.detector)},e._bodiesClearForces=function(a){for(var v=a.length,w=0;w<v;w++){var M=a[w];M.force.x=0,M.force.y=0,M.torque=0}},e._bodiesApplyGravity=function(a,v){var w=typeof v.scale<"u"?v.scale:.001,M=a.length;if(!(v.x===0&&v.y===0||w===0))for(var E=0;E<M;E++){var A=a[E];A.isStatic||A.isSleeping||(A.force.y+=A.mass*v.y*w,A.force.x+=A.mass*v.x*w)}},e._bodiesUpdate=function(a,v){for(var w=a.length,M=0;M<w;M++){var E=a[M];E.isStatic||E.isSleeping||o.update(E,v)}},e._bodiesUpdateVelocities=function(a){for(var v=a.length,w=0;w<v;w++)o.updateVelocities(a[w])}})()},function(u,g,c){var e={};u.exports=e;var i=c(3),r=c(0),s=c(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(l){var n,h,f,t=l.length;for(n=0;n<t;n++)h=l[n],h.isActive&&(f=h.contactCount,h.collision.parentA.totalContacts+=f,h.collision.parentB.totalContacts+=f)},e.solvePosition=function(l,n,h){var f,t,o,a,v,w,M,E,A=e._positionDampen*(h||1),m=r.clamp(n/r._baseDelta,0,1),S=l.length;for(f=0;f<S;f++)t=l[f],!(!t.isActive||t.isSensor)&&(o=t.collision,a=o.parentA,v=o.parentB,w=o.normal,t.separation=o.depth+w.x*(v.positionImpulse.x-a.positionImpulse.x)+w.y*(v.positionImpulse.y-a.positionImpulse.y));for(f=0;f<S;f++)t=l[f],!(!t.isActive||t.isSensor)&&(o=t.collision,a=o.parentA,v=o.parentB,w=o.normal,E=t.separation-t.slop*m,(a.isStatic||v.isStatic)&&(E*=2),a.isStatic||a.isSleeping||(M=A/a.totalContacts,a.positionImpulse.x+=w.x*E*M,a.positionImpulse.y+=w.y*E*M),v.isStatic||v.isSleeping||(M=A/v.totalContacts,v.positionImpulse.x-=w.x*E*M,v.positionImpulse.y-=w.y*E*M))},e.postSolvePosition=function(l){for(var n=e._positionWarming,h=l.length,f=i.translate,t=s.update,o=0;o<h;o++){var a=l[o],v=a.positionImpulse,w=v.x,M=v.y,E=a.velocity;if(a.totalContacts=0,w!==0||M!==0){for(var A=0;A<a.parts.length;A++){var m=a.parts[A];f(m.vertices,v),t(m.bounds,m.vertices,E),m.position.x+=w,m.position.y+=M}a.positionPrev.x+=w,a.positionPrev.y+=M,w*E.x+M*E.y<0?(v.x=0,v.y=0):(v.x*=n,v.y*=n)}}},e.preSolveVelocity=function(l){var n=l.length,h,f;for(h=0;h<n;h++){var t=l[h];if(!(!t.isActive||t.isSensor)){var o=t.contacts,a=t.contactCount,v=t.collision,w=v.parentA,M=v.parentB,E=v.normal,A=v.tangent;for(f=0;f<a;f++){var m=o[f],S=m.vertex,y=m.normalImpulse,x=m.tangentImpulse;if(y!==0||x!==0){var b=E.x*y+A.x*x,C=E.y*y+A.y*x;w.isStatic||w.isSleeping||(w.positionPrev.x+=b*w.inverseMass,w.positionPrev.y+=C*w.inverseMass,w.anglePrev+=w.inverseInertia*((S.x-w.position.x)*C-(S.y-w.position.y)*b)),M.isStatic||M.isSleeping||(M.positionPrev.x-=b*M.inverseMass,M.positionPrev.y-=C*M.inverseMass,M.anglePrev-=M.inverseInertia*((S.x-M.position.x)*C-(S.y-M.position.y)*b))}}}}},e.solveVelocity=function(l,n){var h=n/r._baseDelta,f=h*h,t=f*h,o=-e._restingThresh*h,a=e._restingThreshTangent,v=e._frictionNormalMultiplier*h,w=e._frictionMaxStatic,M=l.length,E,A,m,S;for(m=0;m<M;m++){var y=l[m];if(!(!y.isActive||y.isSensor)){var x=y.collision,b=x.parentA,C=x.parentB,T=x.normal.x,P=x.normal.y,k=x.tangent.x,D=x.tangent.y,R=y.inverseMass,N=y.friction*y.frictionStatic*v,F=y.contacts,U=y.contactCount,j=1/U,_=b.position.x-b.positionPrev.x,$=b.position.y-b.positionPrev.y,Q=b.angle-b.anglePrev,ne=C.position.x-C.positionPrev.x,de=C.position.y-C.positionPrev.y,B=C.angle-C.anglePrev;for(S=0;S<U;S++){var I=F[S],V=I.vertex,O=V.x-b.position.x,G=V.y-b.position.y,W=V.x-C.position.x,z=V.y-C.position.y,Z=_-G*Q,X=$+O*Q,J=ne-z*B,te=de+W*B,Pe=Z-J,Fe=X-te,ve=T*Pe+P*Fe,he=k*Pe+D*Fe,Ce=y.separation+ve,ce=Math.min(Ce,1);ce=Ce<0?0:ce;var We=ce*N;he<-We||he>We?(A=he>0?he:-he,E=y.friction*(he>0?1:-1)*t,E<-A?E=-A:E>A&&(E=A)):(E=he,A=w);var Ue=O*P-G*T,_e=W*P-z*T,me=j/(R+b.inverseInertia*Ue*Ue+C.inverseInertia*_e*_e),Oe=(1+y.restitution)*ve*me;if(E*=me,ve<o)I.normalImpulse=0;else{var be=I.normalImpulse;I.normalImpulse+=Oe,I.normalImpulse>0&&(I.normalImpulse=0),Oe=I.normalImpulse-be}if(he<-a||he>a)I.tangentImpulse=0;else{var Xe=I.tangentImpulse;I.tangentImpulse+=E,I.tangentImpulse<-A&&(I.tangentImpulse=-A),I.tangentImpulse>A&&(I.tangentImpulse=A),E=I.tangentImpulse-Xe}var pe=T*Oe+k*E,Le=P*Oe+D*E;b.isStatic||b.isSleeping||(b.positionPrev.x+=pe*b.inverseMass,b.positionPrev.y+=Le*b.inverseMass,b.anglePrev+=(O*Le-G*pe)*b.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=pe*C.inverseMass,C.positionPrev.y-=Le*C.inverseMass,C.anglePrev-=(W*Le-z*pe)*C.inverseInertia)}}}}})()},function(u,g,c){var e={};u.exports=e;var i=c(9),r=c(0);(function(){e.create=function(s){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},e.update=function(s,l,n){var h=i.update,f=i.create,t=i.setActive,o=s.table,a=s.list,v=a.length,w=v,M=s.collisionStart,E=s.collisionEnd,A=s.collisionActive,m=l.length,S=0,y=0,x=0,b,C,T;for(T=0;T<m;T++)b=l[T],C=b.pair,C?(C.isActive&&(A[x++]=C),h(C,b,n)):(C=f(b,n),o[C.id]=C,M[S++]=C,a[w++]=C);for(w=0,v=a.length,T=0;T<v;T++)C=a[T],C.timeUpdated>=n?a[w++]=C:(t(C,!1,n),C.collision.bodyA.sleepCounter>0&&C.collision.bodyB.sleepCounter>0?a[w++]=C:(E[y++]=C,delete o[C.id]));a.length!==w&&(a.length=w),M.length!==S&&(M.length=S),E.length!==y&&(E.length=y),A.length!==x&&(A.length=x)},e.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},function(u,g,c){var e=u.exports=c(21);e.Axes=c(11),e.Bodies=c(12),e.Body=c(4),e.Bounds=c(1),e.Collision=c(8),e.Common=c(0),e.Composite=c(6),e.Composites=c(22),e.Constraint=c(10),e.Contact=c(16),e.Detector=c(13),e.Engine=c(17),e.Events=c(5),e.Grid=c(23),e.Mouse=c(14),e.MouseConstraint=c(24),e.Pair=c(9),e.Pairs=c(19),e.Plugin=c(15),e.Query=c(25),e.Render=c(26),e.Resolver=c(18),e.Runner=c(27),e.SAT=c(28),e.Sleeping=c(7),e.Svg=c(29),e.Vector=c(2),e.Vertices=c(3),e.World=c(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(u,g,c){var e={};u.exports=e;var i=c(15),r=c(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){i.use(e,Array.prototype.slice.call(arguments))},e.before=function(s,l){return s=s.replace(/^Matter./,""),r.chainPathBefore(e,s,l)},e.after=function(s,l){return s=s.replace(/^Matter./,""),r.chainPathAfter(e,s,l)}})()},function(u,g,c){var e={};u.exports=e;var i=c(6),r=c(10),s=c(0),l=c(4),n=c(12),h=s.deprecated;(function(){e.stack=function(f,t,o,a,v,w,M){for(var E=i.create({label:"Stack"}),A=f,m=t,S,y=0,x=0;x<a;x++){for(var b=0,C=0;C<o;C++){var T=M(A,m,C,x,S,y);if(T){var P=T.bounds.max.y-T.bounds.min.y,k=T.bounds.max.x-T.bounds.min.x;P>b&&(b=P),l.translate(T,{x:k*.5,y:P*.5}),A=T.bounds.max.x+v,i.addBody(E,T),S=T,y+=1}else A+=v}m+=b+w,A=f}return E},e.chain=function(f,t,o,a,v,w){for(var M=f.bodies,E=1;E<M.length;E++){var A=M[E-1],m=M[E],S=A.bounds.max.y-A.bounds.min.y,y=A.bounds.max.x-A.bounds.min.x,x=m.bounds.max.y-m.bounds.min.y,b=m.bounds.max.x-m.bounds.min.x,C={bodyA:A,pointA:{x:y*t,y:S*o},bodyB:m,pointB:{x:b*a,y:x*v}},T=s.extend(C,w);i.addConstraint(f,r.create(T))}return f.label+=" Chain",f},e.mesh=function(f,t,o,a,v){var w=f.bodies,M,E,A,m,S;for(M=0;M<o;M++){for(E=1;E<t;E++)A=w[E-1+M*t],m=w[E+M*t],i.addConstraint(f,r.create(s.extend({bodyA:A,bodyB:m},v)));if(M>0)for(E=0;E<t;E++)A=w[E+(M-1)*t],m=w[E+M*t],i.addConstraint(f,r.create(s.extend({bodyA:A,bodyB:m},v))),a&&E>0&&(S=w[E-1+(M-1)*t],i.addConstraint(f,r.create(s.extend({bodyA:S,bodyB:m},v)))),a&&E<t-1&&(S=w[E+1+(M-1)*t],i.addConstraint(f,r.create(s.extend({bodyA:S,bodyB:m},v))))}return f.label+=" Mesh",f},e.pyramid=function(f,t,o,a,v,w,M){return e.stack(f,t,o,a,v,w,function(E,A,m,S,y,x){var b=Math.min(a,Math.ceil(o/2)),C=y?y.bounds.max.x-y.bounds.min.x:0;if(!(S>b)){S=b-S;var T=S,P=o-1-S;if(!(m<T||m>P)){x===1&&l.translate(y,{x:(m+(o%2===1?1:-1))*C,y:0});var k=y?m*C:0;return M(f+k+m*v,A,m,S,y,x)}}})},e.newtonsCradle=function(f,t,o,a,v){for(var w=i.create({label:"Newtons Cradle"}),M=0;M<o;M++){var E=1.9,A=n.circle(f+M*(a*E),t+v,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=r.create({pointA:{x:f+M*(a*E),y:t},bodyB:A});i.addBody(w,A),i.addConstraint(w,m)}return w},h(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(f,t,o,a,v){var w=l.nextGroup(!0),M=20,E=-o*.5+M,A=o*.5-M,m=0,S=i.create({label:"Car"}),y=n.rectangle(f,t,o,a,{collisionFilter:{group:w},chamfer:{radius:a*.5},density:2e-4}),x=n.circle(f+E,t+m,v,{collisionFilter:{group:w},friction:.8}),b=n.circle(f+A,t+m,v,{collisionFilter:{group:w},friction:.8}),C=r.create({bodyB:y,pointB:{x:E,y:m},bodyA:x,stiffness:1,length:0}),T=r.create({bodyB:y,pointB:{x:A,y:m},bodyA:b,stiffness:1,length:0});return i.addBody(S,y),i.addBody(S,x),i.addBody(S,b),i.addConstraint(S,C),i.addConstraint(S,T),S},h(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(f,t,o,a,v,w,M,E,A,m){A=s.extend({inertia:1/0},A),m=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var S=e.stack(f,t,o,a,v,w,function(y,x){return n.circle(y,x,E,A)});return e.mesh(S,o,a,M,m),S.label="Soft Body",S},h(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(u,g,c){var e={};u.exports=e;var i=c(9),r=c(0),s=r.deprecated;(function(){e.create=function(l){var n={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(n,l)},e.update=function(l,n,h,f){var t,o,a,v=h.world,w=l.buckets,M,E,A=!1;for(t=0;t<n.length;t++){var m=n[t];if(!(m.isSleeping&&!f)&&!(v.bounds&&(m.bounds.max.x<v.bounds.min.x||m.bounds.min.x>v.bounds.max.x||m.bounds.max.y<v.bounds.min.y||m.bounds.min.y>v.bounds.max.y))){var S=e._getRegion(l,m);if(!m.region||S.id!==m.region.id||f){(!m.region||f)&&(m.region=S);var y=e._regionUnion(S,m.region);for(o=y.startCol;o<=y.endCol;o++)for(a=y.startRow;a<=y.endRow;a++){E=e._getBucketId(o,a),M=w[E];var x=o>=S.startCol&&o<=S.endCol&&a>=S.startRow&&a<=S.endRow,b=o>=m.region.startCol&&o<=m.region.endCol&&a>=m.region.startRow&&a<=m.region.endRow;!x&&b&&b&&M&&e._bucketRemoveBody(l,M,m),(m.region===S||x&&!b||f)&&(M||(M=e._createBucket(w,E)),e._bucketAddBody(l,M,m))}m.region=S,A=!0}}}A&&(l.pairsList=e._createActivePairsList(l))},s(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(l){l.buckets={},l.pairs={},l.pairsList=[]},s(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(l,n){var h=Math.min(l.startCol,n.startCol),f=Math.max(l.endCol,n.endCol),t=Math.min(l.startRow,n.startRow),o=Math.max(l.endRow,n.endRow);return e._createRegion(h,f,t,o)},e._getRegion=function(l,n){var h=n.bounds,f=Math.floor(h.min.x/l.bucketWidth),t=Math.floor(h.max.x/l.bucketWidth),o=Math.floor(h.min.y/l.bucketHeight),a=Math.floor(h.max.y/l.bucketHeight);return e._createRegion(f,t,o,a)},e._createRegion=function(l,n,h,f){return{id:l+","+n+","+h+","+f,startCol:l,endCol:n,startRow:h,endRow:f}},e._getBucketId=function(l,n){return"C"+l+"R"+n},e._createBucket=function(l,n){var h=l[n]=[];return h},e._bucketAddBody=function(l,n,h){var f=l.pairs,t=i.id,o=n.length,a;for(a=0;a<o;a++){var v=n[a];if(!(h.id===v.id||h.isStatic&&v.isStatic)){var w=t(h,v),M=f[w];M?M[2]+=1:f[w]=[h,v,1]}}n.push(h)},e._bucketRemoveBody=function(l,n,h){var f=l.pairs,t=i.id,o;n.splice(r.indexOf(n,h),1);var a=n.length;for(o=0;o<a;o++){var v=f[t(h,n[o])];v&&(v[2]-=1)}},e._createActivePairsList=function(l){var n,h=l.pairs,f=r.keys(h),t=f.length,o=[],a;for(a=0;a<t;a++)n=h[f[a]],n[2]>0?o.push(n):delete h[f[a]];return o}})()},function(u,g,c){var e={};u.exports=e;var i=c(3),r=c(7),s=c(14),l=c(5),n=c(13),h=c(10),f=c(6),t=c(0),o=c(1);(function(){e.create=function(a,v){var w=(a?a.mouse:null)||(v?v.mouse:null);w||(a&&a.render&&a.render.canvas?w=s.create(a.render.canvas):v&&v.element?w=s.create(v.element):(w=s.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var M=h.create({label:"Mouse Constraint",pointA:w.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),E={type:"mouseConstraint",mouse:w,element:null,body:null,constraint:M,collisionFilter:{category:1,mask:4294967295,group:0}},A=t.extend(E,v);return l.on(a,"beforeUpdate",function(){var m=f.allBodies(a.world);e.update(A,m),e._triggerEvents(A)}),A},e.update=function(a,v){var w=a.mouse,M=a.constraint,E=a.body;if(w.button===0){if(M.bodyB)r.set(M.bodyB,!1),M.pointA=w.position;else for(var A=0;A<v.length;A++)if(E=v[A],o.contains(E.bounds,w.position)&&n.canCollide(E.collisionFilter,a.collisionFilter))for(var m=E.parts.length>1?1:0;m<E.parts.length;m++){var S=E.parts[m];if(i.contains(S.vertices,w.position)){M.pointA=w.position,M.bodyB=a.body=E,M.pointB={x:w.position.x-E.position.x,y:w.position.y-E.position.y},M.angleB=E.angle,r.set(E,!1),l.trigger(a,"startdrag",{mouse:w,body:E});break}}}else M.bodyB=a.body=null,M.pointB=null,E&&l.trigger(a,"enddrag",{mouse:w,body:E})},e._triggerEvents=function(a){var v=a.mouse,w=v.sourceEvents;w.mousemove&&l.trigger(a,"mousemove",{mouse:v}),w.mousedown&&l.trigger(a,"mousedown",{mouse:v}),w.mouseup&&l.trigger(a,"mouseup",{mouse:v}),s.clearSourceEvents(v)}})()},function(u,g,c){var e={};u.exports=e;var i=c(2),r=c(8),s=c(1),l=c(12),n=c(3);(function(){e.collides=function(h,f){for(var t=[],o=f.length,a=h.bounds,v=r.collides,w=s.overlaps,M=0;M<o;M++){var E=f[M],A=E.parts.length,m=A===1?0:1;if(w(E.bounds,a))for(var S=m;S<A;S++){var y=E.parts[S];if(w(y.bounds,a)){var x=v(y,h);if(x){t.push(x);break}}}}return t},e.ray=function(h,f,t,o){o=o||1e-100;for(var a=i.angle(f,t),v=i.magnitude(i.sub(f,t)),w=(t.x+f.x)*.5,M=(t.y+f.y)*.5,E=l.rectangle(w,M,v,o,{angle:a}),A=e.collides(E,h),m=0;m<A.length;m+=1){var S=A[m];S.body=S.bodyB=S.bodyA}return A},e.region=function(h,f,t){for(var o=[],a=0;a<h.length;a++){var v=h[a],w=s.overlaps(v.bounds,f);(w&&!t||!w&&t)&&o.push(v)}return o},e.point=function(h,f){for(var t=[],o=0;o<h.length;o++){var a=h[o];if(s.contains(a.bounds,f))for(var v=a.parts.length===1?0:1;v<a.parts.length;v++){var w=a.parts[v];if(s.contains(w.bounds,f)&&n.contains(w.vertices,f)){t.push(a);break}}}return t}})()},function(u,g,c){var e={};u.exports=e;var i=c(4),r=c(0),s=c(6),l=c(1),n=c(5),h=c(2),f=c(14);(function(){var t,o;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(m){window.setTimeout(function(){m(r.now())},1e3/60)},o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(m){var S={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!m.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},y=r.extend(S,m);return y.canvas&&(y.canvas.width=y.options.width||y.canvas.width,y.canvas.height=y.options.height||y.canvas.height),y.mouse=m.mouse,y.engine=m.engine,y.canvas=y.canvas||w(y.options.width,y.options.height),y.context=y.canvas.getContext("2d"),y.textures={},y.bounds=y.bounds||{min:{x:0,y:0},max:{x:y.canvas.width,y:y.canvas.height}},y.controller=e,y.options.showBroadphase=!1,y.options.pixelRatio!==1&&e.setPixelRatio(y,y.options.pixelRatio),r.isElement(y.element)&&y.element.appendChild(y.canvas),y},e.run=function(m){(function S(y){m.frameRequestId=t(S),a(m,y),e.world(m,y),m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0),(m.options.showStats||m.options.showDebug)&&e.stats(m,m.context,y),(m.options.showPerformance||m.options.showDebug)&&e.performance(m,m.context,y),m.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(m){o(m.frameRequestId)},e.setPixelRatio=function(m,S){var y=m.options,x=m.canvas;S==="auto"&&(S=M(x)),y.pixelRatio=S,x.setAttribute("data-pixel-ratio",S),x.width=y.width*S,x.height=y.height*S,x.style.width=y.width+"px",x.style.height=y.height+"px"},e.setSize=function(m,S,y){m.options.width=S,m.options.height=y,m.bounds.max.x=m.bounds.min.x+S,m.bounds.max.y=m.bounds.min.y+y,m.options.pixelRatio!==1?e.setPixelRatio(m,m.options.pixelRatio):(m.canvas.width=S,m.canvas.height=y)},e.lookAt=function(m,S,y,x){x=typeof x<"u"?x:!0,S=r.isArray(S)?S:[S],y=y||{x:0,y:0};for(var b={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},C=0;C<S.length;C+=1){var T=S[C],P=T.bounds?T.bounds.min:T.min||T.position||T,k=T.bounds?T.bounds.max:T.max||T.position||T;P&&k&&(P.x<b.min.x&&(b.min.x=P.x),k.x>b.max.x&&(b.max.x=k.x),P.y<b.min.y&&(b.min.y=P.y),k.y>b.max.y&&(b.max.y=k.y))}var D=b.max.x-b.min.x+2*y.x,R=b.max.y-b.min.y+2*y.y,N=m.canvas.height,F=m.canvas.width,U=F/N,j=D/R,_=1,$=1;j>U?$=j/U:_=U/j,m.options.hasBounds=!0,m.bounds.min.x=b.min.x,m.bounds.max.x=b.min.x+D*_,m.bounds.min.y=b.min.y,m.bounds.max.y=b.min.y+R*$,x&&(m.bounds.min.x+=D*.5-D*_*.5,m.bounds.max.x+=D*.5-D*_*.5,m.bounds.min.y+=R*.5-R*$*.5,m.bounds.max.y+=R*.5-R*$*.5),m.bounds.min.x-=y.x,m.bounds.max.x-=y.x,m.bounds.min.y-=y.y,m.bounds.max.y-=y.y,m.mouse&&(f.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.canvas.width,y:(m.bounds.max.y-m.bounds.min.y)/m.canvas.height}),f.setOffset(m.mouse,m.bounds.min))},e.startViewTransform=function(m){var S=m.bounds.max.x-m.bounds.min.x,y=m.bounds.max.y-m.bounds.min.y,x=S/m.options.width,b=y/m.options.height;m.context.setTransform(m.options.pixelRatio/x,0,0,m.options.pixelRatio/b,0,0),m.context.translate(-m.bounds.min.x,-m.bounds.min.y)},e.endViewTransform=function(m){m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0)},e.world=function(m,S){var y=r.now(),x=m.engine,b=x.world,C=m.canvas,T=m.context,P=m.options,k=m.timing,D=s.allBodies(b),R=s.allConstraints(b),N=P.wireframes?P.wireframeBackground:P.background,F=[],U=[],j,_={timestamp:x.timing.timestamp};if(n.trigger(m,"beforeRender",_),m.currentBackground!==N&&A(m,N),T.globalCompositeOperation="source-in",T.fillStyle="transparent",T.fillRect(0,0,C.width,C.height),T.globalCompositeOperation="source-over",P.hasBounds){for(j=0;j<D.length;j++){var $=D[j];l.overlaps($.bounds,m.bounds)&&F.push($)}for(j=0;j<R.length;j++){var Q=R[j],ne=Q.bodyA,de=Q.bodyB,B=Q.pointA,I=Q.pointB;ne&&(B=h.add(ne.position,Q.pointA)),de&&(I=h.add(de.position,Q.pointB)),!(!B||!I)&&(l.contains(m.bounds,B)||l.contains(m.bounds,I))&&U.push(Q)}e.startViewTransform(m),m.mouse&&(f.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.options.width,y:(m.bounds.max.y-m.bounds.min.y)/m.options.height}),f.setOffset(m.mouse,m.bounds.min))}else U=R,F=D,m.options.pixelRatio!==1&&m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0);!P.wireframes||x.enableSleeping&&P.showSleeping?e.bodies(m,F,T):(P.showConvexHulls&&e.bodyConvexHulls(m,F,T),e.bodyWireframes(m,F,T)),P.showBounds&&e.bodyBounds(m,F,T),(P.showAxes||P.showAngleIndicator)&&e.bodyAxes(m,F,T),P.showPositions&&e.bodyPositions(m,F,T),P.showVelocity&&e.bodyVelocity(m,F,T),P.showIds&&e.bodyIds(m,F,T),P.showSeparations&&e.separations(m,x.pairs.list,T),P.showCollisions&&e.collisions(m,x.pairs.list,T),P.showVertexNumbers&&e.vertexNumbers(m,F,T),P.showMousePosition&&e.mousePosition(m,m.mouse,T),e.constraints(U,T),P.hasBounds&&e.endViewTransform(m),n.trigger(m,"afterRender",_),k.lastElapsed=r.now()-y},e.stats=function(m,S,y){for(var x=m.engine,b=x.world,C=s.allBodies(b),T=0,P=55,k=44,D=0,R=0,N=0;N<C.length;N+=1)T+=C[N].parts.length;var F={Part:T,Body:C.length,Cons:s.allConstraints(b).length,Comp:s.allComposites(b).length,Pair:x.pairs.list.length};S.fillStyle="#0e0f19",S.fillRect(D,R,P*5.5,k),S.font="12px Arial",S.textBaseline="top",S.textAlign="right";for(var U in F){var j=F[U];S.fillStyle="#aaa",S.fillText(U,D+P,R+8),S.fillStyle="#eee",S.fillText(j,D+P,R+26),D+=P}},e.performance=function(m,S){var y=m.engine,x=m.timing,b=x.deltaHistory,C=x.elapsedHistory,T=x.timestampElapsedHistory,P=x.engineDeltaHistory,k=x.engineUpdatesHistory,D=x.engineElapsedHistory,R=y.timing.lastUpdatesPerFrame,N=y.timing.lastDelta,F=v(b),U=v(C),j=v(P),_=v(k),$=v(D),Q=v(T),ne=Q/F||0,de=Math.round(F/N),B=1e3/F||0,I=4,V=12,O=60,G=34,W=10,z=69;S.fillStyle="#0e0f19",S.fillRect(0,50,V*5+O*6+22,G),e.status(S,W,z,O,I,b.length,Math.round(B)+" fps",B/e._goodFps,function(Z){return b[Z]/F-1}),e.status(S,W+V+O,z,O,I,P.length,N.toFixed(2)+" dt",e._goodDelta/N,function(Z){return P[Z]/j-1}),e.status(S,W+(V+O)*2,z,O,I,k.length,R+" upf",Math.pow(r.clamp(_/de||1,0,1),4),function(Z){return k[Z]/_-1}),e.status(S,W+(V+O)*3,z,O,I,D.length,$.toFixed(2)+" ut",1-R*$/e._goodFps,function(Z){return D[Z]/$-1}),e.status(S,W+(V+O)*4,z,O,I,C.length,U.toFixed(2)+" rt",1-U/e._goodFps,function(Z){return C[Z]/U-1}),e.status(S,W+(V+O)*5,z,O,I,T.length,ne.toFixed(2)+" x",ne*ne*ne,function(Z){return(T[Z]/b[Z]/ne||0)-1})},e.status=function(m,S,y,x,b,C,T,P,k){m.strokeStyle="#888",m.fillStyle="#444",m.lineWidth=1,m.fillRect(S,y+7,x,1),m.beginPath(),m.moveTo(S,y+7-b*r.clamp(.4*k(0),-2,2));for(var D=0;D<x;D+=1)m.lineTo(S+D,y+7-(D<C?b*r.clamp(.4*k(D),-2,2):0));m.stroke(),m.fillStyle="hsl("+r.clamp(25+95*P,0,120)+",100%,60%)",m.fillRect(S,y-7,4,4),m.font="12px Arial",m.textBaseline="middle",m.textAlign="right",m.fillStyle="#eee",m.fillText(T,S+x,y-5)},e.constraints=function(m,S){for(var y=S,x=0;x<m.length;x++){var b=m[x];if(!(!b.render.visible||!b.pointA||!b.pointB)){var C=b.bodyA,T=b.bodyB,P,k;if(C?P=h.add(C.position,b.pointA):P=b.pointA,b.render.type==="pin")y.beginPath(),y.arc(P.x,P.y,3,0,2*Math.PI),y.closePath();else{if(T?k=h.add(T.position,b.pointB):k=b.pointB,y.beginPath(),y.moveTo(P.x,P.y),b.render.type==="spring")for(var D=h.sub(k,P),R=h.perp(h.normalise(D)),N=Math.ceil(r.clamp(b.length/5,12,20)),F,U=1;U<N;U+=1)F=U%2===0?1:-1,y.lineTo(P.x+D.x*(U/N)+R.x*F*4,P.y+D.y*(U/N)+R.y*F*4);y.lineTo(k.x,k.y)}b.render.lineWidth&&(y.lineWidth=b.render.lineWidth,y.strokeStyle=b.render.strokeStyle,y.stroke()),b.render.anchors&&(y.fillStyle=b.render.strokeStyle,y.beginPath(),y.arc(P.x,P.y,3,0,2*Math.PI),y.arc(k.x,k.y,3,0,2*Math.PI),y.closePath(),y.fill())}}},e.bodies=function(m,S,y){var x=y;m.engine;var b=m.options,C=b.showInternalEdges||!b.wireframes,T,P,k,D;for(k=0;k<S.length;k++)if(T=S[k],!!T.render.visible){for(D=T.parts.length>1?1:0;D<T.parts.length;D++)if(P=T.parts[D],!!P.render.visible){if(b.showSleeping&&T.isSleeping?x.globalAlpha=.5*P.render.opacity:P.render.opacity!==1&&(x.globalAlpha=P.render.opacity),P.render.sprite&&P.render.sprite.texture&&!b.wireframes){var R=P.render.sprite,N=E(m,R.texture);x.translate(P.position.x,P.position.y),x.rotate(P.angle),x.drawImage(N,N.width*-R.xOffset*R.xScale,N.height*-R.yOffset*R.yScale,N.width*R.xScale,N.height*R.yScale),x.rotate(-P.angle),x.translate(-P.position.x,-P.position.y)}else{if(P.circleRadius)x.beginPath(),x.arc(P.position.x,P.position.y,P.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(P.vertices[0].x,P.vertices[0].y);for(var F=1;F<P.vertices.length;F++)!P.vertices[F-1].isInternal||C?x.lineTo(P.vertices[F].x,P.vertices[F].y):x.moveTo(P.vertices[F].x,P.vertices[F].y),P.vertices[F].isInternal&&!C&&x.moveTo(P.vertices[(F+1)%P.vertices.length].x,P.vertices[(F+1)%P.vertices.length].y);x.lineTo(P.vertices[0].x,P.vertices[0].y),x.closePath()}b.wireframes?(x.lineWidth=1,x.strokeStyle=m.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=P.render.fillStyle,P.render.lineWidth&&(x.lineWidth=P.render.lineWidth,x.strokeStyle=P.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(m,S,y){var x=y,b=m.options.showInternalEdges,C,T,P,k,D;for(x.beginPath(),P=0;P<S.length;P++)if(C=S[P],!!C.render.visible)for(D=C.parts.length>1?1:0;D<C.parts.length;D++){for(T=C.parts[D],x.moveTo(T.vertices[0].x,T.vertices[0].y),k=1;k<T.vertices.length;k++)!T.vertices[k-1].isInternal||b?x.lineTo(T.vertices[k].x,T.vertices[k].y):x.moveTo(T.vertices[k].x,T.vertices[k].y),T.vertices[k].isInternal&&!b&&x.moveTo(T.vertices[(k+1)%T.vertices.length].x,T.vertices[(k+1)%T.vertices.length].y);x.lineTo(T.vertices[0].x,T.vertices[0].y)}x.lineWidth=1,x.strokeStyle=m.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(m,S,y){var x=y,b,C,T;for(x.beginPath(),C=0;C<S.length;C++)if(b=S[C],!(!b.render.visible||b.parts.length===1)){for(x.moveTo(b.vertices[0].x,b.vertices[0].y),T=1;T<b.vertices.length;T++)x.lineTo(b.vertices[T].x,b.vertices[T].y);x.lineTo(b.vertices[0].x,b.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(m,S,y){var x=y,b,C,T;for(b=0;b<S.length;b++){var P=S[b].parts;for(T=P.length>1?1:0;T<P.length;T++){var k=P[T];for(C=0;C<k.vertices.length;C++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(b+"_"+C,k.position.x+(k.vertices[C].x-k.position.x)*.8,k.position.y+(k.vertices[C].y-k.position.y)*.8)}}},e.mousePosition=function(m,S,y){var x=y;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(S.position.x+"  "+S.position.y,S.position.x+5,S.position.y-5)},e.bodyBounds=function(m,S,y){var x=y;m.engine;var b=m.options;x.beginPath();for(var C=0;C<S.length;C++){var T=S[C];if(T.render.visible)for(var P=S[C].parts,k=P.length>1?1:0;k<P.length;k++){var D=P[k];x.rect(D.bounds.min.x,D.bounds.min.y,D.bounds.max.x-D.bounds.min.x,D.bounds.max.y-D.bounds.min.y)}}b.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(m,S,y){var x=y;m.engine;var b=m.options,C,T,P,k;for(x.beginPath(),T=0;T<S.length;T++){var D=S[T],R=D.parts;if(D.render.visible)if(b.showAxes)for(P=R.length>1?1:0;P<R.length;P++)for(C=R[P],k=0;k<C.axes.length;k++){var N=C.axes[k];x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+N.x*20,C.position.y+N.y*20)}else for(P=R.length>1?1:0;P<R.length;P++)for(C=R[P],k=0;k<C.axes.length;k++)x.moveTo(C.position.x,C.position.y),x.lineTo((C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}b.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(m,S,y){var x=y;m.engine;var b=m.options,C,T,P,k;for(x.beginPath(),P=0;P<S.length;P++)if(C=S[P],!!C.render.visible)for(k=0;k<C.parts.length;k++)T=C.parts[k],x.arc(T.position.x,T.position.y,3,0,2*Math.PI,!1),x.closePath();for(b.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),P=0;P<S.length;P++)C=S[P],C.render.visible&&(x.arc(C.positionPrev.x,C.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(m,S,y){var x=y;x.beginPath();for(var b=0;b<S.length;b++){var C=S[b];if(C.render.visible){var T=i.getVelocity(C);x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+T.x,C.position.y+T.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(m,S,y){var x=y,b,C;for(b=0;b<S.length;b++)if(S[b].render.visible){var T=S[b].parts;for(C=T.length>1?1:0;C<T.length;C++){var P=T[C];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(P.id,P.position.x+10,P.position.y-10)}}},e.collisions=function(m,S,y){var x=y,b=m.options,C,T,P,k;for(x.beginPath(),P=0;P<S.length;P++)if(C=S[P],!!C.isActive)for(T=C.collision,k=0;k<C.contactCount;k++){var D=C.contacts[k],R=D.vertex;x.rect(R.x-1.5,R.y-1.5,3.5,3.5)}for(b.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),P=0;P<S.length;P++)if(C=S[P],!!C.isActive&&(T=C.collision,C.contactCount>0)){var N=C.contacts[0].vertex.x,F=C.contacts[0].vertex.y;C.contactCount===2&&(N=(C.contacts[0].vertex.x+C.contacts[1].vertex.x)/2,F=(C.contacts[0].vertex.y+C.contacts[1].vertex.y)/2),T.bodyB===T.supports[0].body||T.bodyA.isStatic===!0?x.moveTo(N-T.normal.x*8,F-T.normal.y*8):x.moveTo(N+T.normal.x*8,F+T.normal.y*8),x.lineTo(N,F)}b.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(m,S,y){var x=y,b=m.options,C,T,P,k,D;for(x.beginPath(),D=0;D<S.length;D++)if(C=S[D],!!C.isActive){T=C.collision,P=T.bodyA,k=T.bodyB;var R=1;!k.isStatic&&!P.isStatic&&(R=.5),k.isStatic&&(R=0),x.moveTo(k.position.x,k.position.y),x.lineTo(k.position.x-T.penetration.x*R,k.position.y-T.penetration.y*R),R=1,!k.isStatic&&!P.isStatic&&(R=.5),P.isStatic&&(R=0),x.moveTo(P.position.x,P.position.y),x.lineTo(P.position.x+T.penetration.x*R,P.position.y+T.penetration.y*R)}b.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(m,S){m.engine;var y=m.selected,x=m.render,b=x.options,C;if(b.hasBounds){var T=x.bounds.max.x-x.bounds.min.x,P=x.bounds.max.y-x.bounds.min.y,k=T/x.options.width,D=P/x.options.height;S.scale(1/k,1/D),S.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var R=0;R<y.length;R++){var N=y[R].data;switch(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.9)",S.setLineDash([1,2]),N.type){case"body":C=N.bounds,S.beginPath(),S.rect(Math.floor(C.min.x-3),Math.floor(C.min.y-3),Math.floor(C.max.x-C.min.x+6),Math.floor(C.max.y-C.min.y+6)),S.closePath(),S.stroke();break;case"constraint":var F=N.pointA;N.bodyA&&(F=N.pointB),S.beginPath(),S.arc(F.x,F.y,10,0,2*Math.PI),S.closePath(),S.stroke();break}S.setLineDash([]),S.translate(-.5,-.5)}m.selectStart!==null&&(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.6)",S.fillStyle="rgba(255,165,0,0.1)",C=m.selectBounds,S.beginPath(),S.rect(Math.floor(C.min.x),Math.floor(C.min.y),Math.floor(C.max.x-C.min.x),Math.floor(C.max.y-C.min.y)),S.closePath(),S.stroke(),S.fill(),S.translate(-.5,-.5)),b.hasBounds&&S.setTransform(1,0,0,1,0,0)};var a=function(m,S){var y=m.engine,x=m.timing,b=x.historySize,C=y.timing.timestamp;x.delta=S-x.lastTime||e._goodDelta,x.lastTime=S,x.timestampElapsed=C-x.lastTimestamp||0,x.lastTimestamp=C,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,b),x.engineDeltaHistory.unshift(y.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,b),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,b),x.engineUpdatesHistory.unshift(y.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,b),x.engineElapsedHistory.unshift(y.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,b),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,b)},v=function(m){for(var S=0,y=0;y<m.length;y+=1)S+=m[y];return S/m.length||0},w=function(m,S){var y=document.createElement("canvas");return y.width=m,y.height=S,y.oncontextmenu=function(){return!1},y.onselectstart=function(){return!1},y},M=function(m){var S=m.getContext("2d"),y=window.devicePixelRatio||1,x=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return y/x},E=function(m,S){var y=m.textures[S];return y||(y=m.textures[S]=new Image,y.src=S,y)},A=function(m,S){var y=S;/(jpg|gif|png)$/.test(S)&&(y="url("+S+")"),m.canvas.style.background=y,m.canvas.style.backgroundSize="contain",m.currentBackground=S}})()},function(u,g,c){var e={};u.exports=e;var i=c(5),r=c(17),s=c(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(n){var h={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},f=s.extend(h,n);return f.fps=0,f},e.run=function(n,h){return n.timeBuffer=e._frameDeltaFallback,function f(t){n.frameRequestId=e._onNextFrame(n,f),t&&n.enabled&&e.tick(n,h,t)}(),n},e.tick=function(n,h,f){var t=s.now(),o=n.delta,a=0,v=f-n.timeLastTick;if((!v||!n.timeLastTick||v>Math.max(e._maxFrameDelta,n.maxFrameTime))&&(v=n.frameDelta||e._frameDeltaFallback),n.frameDeltaSmoothing){n.frameDeltaHistory.push(v),n.frameDeltaHistory=n.frameDeltaHistory.slice(-n.frameDeltaHistorySize);var w=n.frameDeltaHistory.slice(0).sort(),M=n.frameDeltaHistory.slice(w.length*e._smoothingLowerBound,w.length*e._smoothingUpperBound),E=l(M);v=E||v}n.frameDeltaSnapping&&(v=1e3/Math.round(1e3/v)),n.frameDelta=v,n.timeLastTick=f,n.timeBuffer+=n.frameDelta,n.timeBuffer=s.clamp(n.timeBuffer,0,n.frameDelta+o*e._timeBufferMargin),n.lastUpdatesDeferred=0;var A=n.maxUpdates||Math.ceil(n.maxFrameTime/o),m={timestamp:h.timing.timestamp};i.trigger(n,"beforeTick",m),i.trigger(n,"tick",m);for(var S=s.now();o>0&&n.timeBuffer>=o*e._timeBufferMargin;){i.trigger(n,"beforeUpdate",m),r.update(h,o),i.trigger(n,"afterUpdate",m),n.timeBuffer-=o,a+=1;var y=s.now()-t,x=s.now()-S,b=y+e._elapsedNextEstimate*x/a;if(a>=A||b>n.maxFrameTime){n.lastUpdatesDeferred=Math.round(Math.max(0,n.timeBuffer/o-e._timeBufferMargin));break}}h.timing.lastUpdatesPerFrame=a,i.trigger(n,"afterTick",m),n.frameDeltaHistory.length>=100&&(n.lastUpdatesDeferred&&Math.round(n.frameDelta/o)>A?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):n.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof n.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(n.deltaMin||n.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),n.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(n){e._cancelNextFrame(n)},e._onNextFrame=function(n,h){if(typeof window<"u"&&window.requestAnimationFrame)n.frameRequestId=window.requestAnimationFrame(h);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return n.frameRequestId},e._cancelNextFrame=function(n){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(n.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(n){for(var h=0,f=n.length,t=0;t<f;t+=1)h+=n[t];return h/f||0}})()},function(u,g,c){var e={};u.exports=e;var i=c(8),r=c(0),s=r.deprecated;(function(){e.collides=function(l,n){return i.collides(l,n)},s(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(u,g,c){var e={};u.exports=e,c(1);var i=c(0);(function(){e.pathToVertices=function(r,s){typeof window<"u"&&!("SVGPathSeg"in window)&&i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,n,h,f,t,o,a,v,w,M,E=[],A,m,S=0,y=0,x=0;s=s||15;var b=function(T,P,k){var D=k%2===1&&k>1;if(!w||T!=w.x||P!=w.y){w&&D?(A=w.x,m=w.y):(A=0,m=0);var R={x:A+T,y:m+P};(D||!w)&&(w=R),E.push(R),y=A+T,x=m+P}},C=function(T){var P=T.pathSegTypeAsLetter.toUpperCase();if(P!=="Z"){switch(P){case"M":case"L":case"T":case"C":case"S":case"Q":y=T.x,x=T.y;break;case"H":y=T.x;break;case"V":x=T.y;break}b(y,x,T.pathSegType)}};for(e._svgPathToAbsolute(r),h=r.getTotalLength(),o=[],l=0;l<r.pathSegList.numberOfItems;l+=1)o.push(r.pathSegList.getItem(l));for(a=o.concat();S<h;){if(M=r.getPathSegAtLength(S),t=o[M],t!=v){for(;a.length&&a[0]!=t;)C(a.shift());v=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=r.getPointAtLength(S),b(f.x,f.y,0);break}S+=s}for(l=0,n=a.length;l<n;++l)C(a[l]);return E},e._svgPathToAbsolute=function(r){for(var s,l,n,h,f,t,o=r.pathSegList,a=0,v=0,w=o.numberOfItems,M=0;M<w;++M){var E=o.getItem(M),A=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(A))"x"in E&&(a=E.x),"y"in E&&(v=E.y);else switch("x1"in E&&(n=a+E.x1),"x2"in E&&(f=a+E.x2),"y1"in E&&(h=v+E.y1),"y2"in E&&(t=v+E.y2),"x"in E&&(a+=E.x),"y"in E&&(v+=E.y),A){case"m":o.replaceItem(r.createSVGPathSegMovetoAbs(a,v),M);break;case"l":o.replaceItem(r.createSVGPathSegLinetoAbs(a,v),M);break;case"h":o.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(a),M);break;case"v":o.replaceItem(r.createSVGPathSegLinetoVerticalAbs(v),M);break;case"c":o.replaceItem(r.createSVGPathSegCurvetoCubicAbs(a,v,n,h,f,t),M);break;case"s":o.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(a,v,f,t),M);break;case"q":o.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(a,v,n,h),M);break;case"t":o.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(a,v),M);break;case"a":o.replaceItem(r.createSVGPathSegArcAbs(a,v,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),M);break;case"z":case"Z":a=s,v=l;break}(A=="M"||A=="m")&&(s=a,l=v)}}})()},function(u,g,c){var e={};u.exports=e;var i=c(6);c(0),function(){e.create=i.create,e.add=i.add,e.remove=i.remove,e.clear=i.clear,e.addComposite=i.addComposite,e.addBody=i.addBody,e.addConstraint=i.addConstraint}()}])})})(Nn);var ni=Nn.exports;const ee=Wn(ni),Hn=8,Ke=381+Hn,Xt=Hn/Ke,St=330/Ke,Un=51/Ke,Ot=St+Un,rt=4.7625/Ke,ct=17.5/Ke,et=102/Ke,at=203/Ke,tt=305/Ke,_n=15/Ke,He=Object.freeze(Object.defineProperty({__proto__:null,base:Ot,disc:_n,ditchWidth:Un,fifteen:et,five:tt,peg:rt,rimWidth:Xt,surface:St,ten:at,twenty:ct},Symbol.toStringTag,{value:"Module"})),ii={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},si={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)","pink-aa":"#FF24FF","pink-aaa":"#D100D1","teal-aa":"#00A3A3","teal-aaa":"#008080","red-aa":"#FE5F55","red-aaa":"#E91101","purple-aaa":"#564592"},kt={category:ii,color:si,"":{"11px":"0.7rem","12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}},Ye=1,It=2,cn=4,Dt=8,un=16,ri=.9,ai=.05,oi=.05,li=1,_t={player1:kt.color["pink-aa"],player2:kt.color["teal-aa"],active:kt.color.black,vector:kt.color.black};class fi{constructor(){this.events={}}on(d,u){this.events[d]||(this.events[d]=[]),this.events[d].push(u)}emit(d,u){this.events[d]&&this.events[d].forEach(g=>g(u))}}function ci(){const p=new fi;let d,u,g,c,e,i,r,s,l,n,h,f=[],t,o;function a(){const B=ee.Bodies.circle(e,e,e*ct,{isStatic:!0,isSensor:!0,render:{visible:!1},label:"20"},64);ee.World.add(u,[B])}function v(){const I=Math.max(2,e*.05),V=ct*e+I/2-1,O=[];for(let G=0;G<16;G++){const W=G/16*2*Math.PI,z=e+Math.cos(W)*V,Z=e+Math.sin(W)*V,X=2*Math.PI*V/16,J=ee.Bodies.rectangle(z,Z,I,X,{isStatic:!0,isSensor:!1,angle:W,render:{visible:!1},label:"trap 20",collisionFilter:{category:cn,mask:Ye}});O.push(J)}ee.World.add(u,O)}function w(){const I=Math.max(8,e*.2),V=Ot*e+I/2-1,O=[];for(let G=0;G<32;G++){const W=G/32*2*Math.PI,z=e+Math.cos(W)*V,Z=e+Math.sin(W)*V,X=2*Math.PI*V/32,J=ee.Bodies.rectangle(z,Z,I,X,{isStatic:!0,isSensor:!1,angle:W,render:{visible:!1},label:"trap rim",collisionFilter:{category:Dt,mask:Ye}});O.push(J)}ee.World.add(u,O)}function M(){const I=Math.max(8,e*.1),V=St*e-I/2+1,O=[];for(let G=0;G<32;G++){const W=G/32*2*Math.PI,z=e+Math.cos(W)*V,Z=e+Math.sin(W)*V,X=2*Math.PI*V/32,J=ee.Bodies.rectangle(z,Z,I,X,{isStatic:!0,isSensor:!1,angle:W,render:{visible:!1},label:"trap surface",collisionFilter:{category:un,mask:Ye}});O.push(J)}ee.World.add(u,O)}function E(){const B=[],I=rt*e;for(let V=0;V<8;V++){const O=.375+V/8*Math.PI*2,G=e+Math.cos(O)*e*et,W=e+Math.sin(O)*e*et,z=ee.Bodies.circle(G,W,I,{isStatic:!0,restitution:li,render:{visible:!1},collisionFilter:{category:It,mask:Ye}});B.push(z)}ee.World.add(u,B)}function A(B,I,V,O,G,W){const z=Math.atan2(G-V,O-I),Z=O-W*Math.cos(z-Math.PI/4),X=G-W*Math.sin(z-Math.PI/4),J=O-W*Math.cos(z+Math.PI/4),te=G-W*Math.sin(z+Math.PI/4);B.moveTo(O,G),B.lineTo(Z,X),B.moveTo(O,G),B.lineTo(J,te)}function m(B){if(!o)return;const I=o.circleRadius,V=o.position;if(l&&n){const O=ee.Vector.normalise(l),G=V.x+O.x*I*1.25,W=V.y+O.y*I*1.25,z=V.x+O.x*I*1.5+l.x,Z=V.y+O.y*I*1.5+l.y;B.beginPath(),B.strokeStyle=_t.vector,B.lineWidth=2,B.moveTo(G,W),B.lineTo(z,Z),B.stroke();const X=e*.03,J=Math.PI/4,te=Math.atan2(l.y,l.x);B.beginPath(),B.moveTo(z,Z),B.lineTo(z-X*Math.cos(te-J),Z-X*Math.sin(te-J)),B.moveTo(z,Z),B.lineTo(z-X*Math.cos(te+J),Z-X*Math.sin(te+J)),B.stroke(),B.closePath()}t==="position"&&(B.beginPath(),B.strokeStyle=_t.vector,B.lineWidth=2,B.moveTo(V.x-I*2.5,V.y),B.lineTo(V.x-I*1.25,V.y),B.moveTo(V.x+I*2.5,V.y),B.lineTo(V.x+I*1.25,V.y),B.stroke(),B.closePath(),B.lineDashOffset=0,B.beginPath(),A(B,V.x-I*1.25,V.y,V.x-I*2.5,V.y,I*.75),A(B,V.x+I*1.25,V.y,V.x+I*2.5,V.y,I*.75),B.stroke(),B.closePath())}function S(){const B=c.context;m(B)}function y(B){B.pairs.forEach(({bodyA:I,bodyB:V})=>{const O=I.label==="disc"?I:V.label==="disc"?V:null,G=I.label==="20"?I:V.label==="20"?V:null;if(O&&G&&!O.in20){const W=ee.Vector.magnitude(ee.Vector.sub(O.position,G.position)),Z=O.circleRadius*.75,X=10,J=W<Z,te=O.speed<X;J&&te&&(O.in20=!0,O.collisionFilter.mask=Ye|It|Dt|cn,O.restitution=.4)}})}function x(B){B.pairs.forEach(({bodyA:I,bodyB:V})=>{const O=I.label==="disc"?I:V.label==="disc"?V:null,G=I.label==="disc"&&I.id!==O.id?I:V.label==="disc"&&V.id!==O.id?V:null,W=I.label==="trap rim"?I:V.label==="trap rim"?V:null;if(O&&W)O.frictionAir=.3,O.collisionFilter.mask=Ye|It|Dt|un;else if(O&&G){O.collided=!0,G.collided=!0;const z=O.player!==G.player;O.collidedOpp=z,G.collidedOpp=z}})}function b({target:B,speed:I}){if(!o)return;const V={x:B.x-o.position.x,y:B.y-o.position.y},O=ee.Vector.normalise(V);if(I){const G=I*i;s=ee.Vector.mult(O,G)}else{const G=ee.Vector.magnitude(V),W=Math.min(G,r),z=W/r*i;s=ee.Vector.mult(O,z),l=ee.Vector.mult(O,W)}}function C(B){const I={x:e,y:e},V=B.circleRadius,O=B.position,G=Math.sqrt(Math.pow(O.x-I.x,2)+Math.pow(O.y-I.y,2)),z=[{r:e*ct,score:20},{r:e*et,score:15},{r:e*at,score:10},{r:e*tt,score:5}].find(Z=>G+V<Z.r);return(z==null?void 0:z.score)||0}function T(B){const I={x:e,y:e},V=B.circleRadius,O=B.position,G=Math.sqrt(Math.pow(O.x-I.x,2)+Math.pow(O.y-I.y,2)),W=e*et;if(G-V<W)return!0}function P(){if(f.every(I=>I.isSleeping)){f.forEach(W=>{W.score=C(W),W.intersect15=T(W)});const I=f.some(W=>W.player!==o.player),V=f.some(W=>W.collidedOpp),O=f.filter(W=>W.player===o.player).some(W=>W.intersect15);f.forEach(W=>{I?W.player===o.player?W.id===o.id?W.valid=V:W.valid=W.collided?V:!0:W.valid=!0:W.id===o.id?W.valid=W.collided?O:W.intersect15:W.valid=W.collided?O:!0,(!W.valid||!W.score)&&ee.World.remove(u,W)});const G=f.find(W=>W.id===o.id).valid;if(f=f.filter(W=>W.score>0&&W.valid),h)p.emit("shotCompleteManual",{discs:f,valid:G});else{const W=f.map(z=>({id:z.id,player:z.player,score:z.score}));f.forEach(z=>{z.score===20&&ee.World.remove(u,z)}),f=f.filter(z=>z.score!==20),p.emit("shotComplete",{discs:W,valid:G}),f.forEach(z=>{z.valid=void 0,z.collided=void 0,z.collidedOpp=void 0,z.intersect15=void 0,z.in20=void 0})}o=null,Q("idle")}}function k(){ee.Composite.clear(u,!1),ee.Events.off(d),ee.Render.stop(c),c.canvas.remove(),c.context=null,c.textures={},ee.Runner.stop(g)}function D(B){f.forEach(I=>{const V=e/B,O=I.position.x*V,G=I.position.y*V;ee.Body.setPosition(I,{x:O,y:G}),ee.Body.scale(I,V,V),ee.World.add(u,I)})}function R(){f.forEach(B=>{ee.World.remove(u,B)}),f=[],o=null,n=!1,l=void 0,s=void 0}function N(B={}){const I=B.player||"player1",V=B.state||"position",O=B.x?B.x*e*2:e,G=B.y?B.y*e*2:I==="player1"?e+e*tt:e-e*tt,W=e*_n,z=ai,Z=ri,X=oi,J=ee.Bodies.circle(O,G,W,{density:z,restitution:Z,frictionAir:X,render:{fillStyle:_t[I],strokeStyle:"#fff",lineWidth:1},label:"disc",collisionFilter:{category:Ye,mask:Ye|It|Dt},sleepThreshold:60,isSleeping:!0},64);J.player=I,f.push(J),o=J,ee.Events.on(J,"sleepStart",P),ee.World.add(u,J),i=o.mass*e*7e-4,Q(V)}function F(B){if(!o||t!=="position")return;const I=2,V=[45-I,135+I],O=e*tt;let G=B-e;G=Math.max(-O,Math.min(O,G));const W=o.player==="player1",z=W?-1:1,Z=V[W?0:1]*z*-1,X=V[W?1:0]*z*-1,J=e-Math.sqrt(Math.max(0,Math.pow(O,2)-Math.pow(G,2)))*z,te={x:e+G,y:J},Pe={x:e,y:e},ve=ee.Vector.angle(Pe,te)*180/Math.PI;if(ve>Z&&ve<X)ee.Body.setPosition(o,te);else if(ve<=Z){const he=Z*Math.PI/180,Ce=Math.cos(he)*O,ce=Math.sin(he)*O,We=e+Ce,Ue=e+ce;ee.Body.setPosition(o,{x:We,y:Ue})}else if(ve>=X){const he=X*Math.PI/180,Ce=Math.cos(he)*O,ce=Math.sin(he)*O,We=e+Ce,Ue=e+ce;ee.Body.setPosition(o,{x:We,y:Ue})}}function U({degrees:B,speed:I}){const V=(B-90)*Math.PI/180,O=o.position.x+Math.cos(V),G=o.position.y+Math.sin(V);return{x:o.position.x+(O-o.position.x)*I,y:o.position.y+(G-o.position.y)*I}}function j({degrees:B,power:I,visible:V}){if(!o||t!=="shoot")return;ne(V===void 0?!0:V);const G=Math.max(.01,I)*r,W=U({degrees:B,speed:G});b({target:W})}function _(){!o||t!=="shoot"||(Q("play"),ne(!1),ee.Body.applyForce(o,o.position,s))}function $(){!o||t!=="shoot"||_()}function Q(B){t=B}function ne(B){n=B}function de({element:B,width:I,tutorial:V}){h=!!V;let O;d?(k(),O=e):Q("idle");const G=I;e=I/2,r=e*.2,d=ee.Engine.create({enableSleeping:!0}),u=d.world,d.gravity.y=0,g=ee.Runner.create(),c=ee.Render.create({element:B,engine:d,options:{width:I,height:G,wireframes:!1,pixelRatio:"auto",background:"transparent",hasBounds:!0,showSleeping:!1}}),D(O),a(),E(),v(),w(),M(),ee.Events.on(c,"afterRender",S),ee.Runner.run(g,d),ee.Render.run(c),ee.Events.on(d,"collisionActive",y),ee.Events.on(d,"collisionStart",x),f.length||p.emit("ready")}return{removeDiscs:R,addDisc:N,positionDisc:F,aimDisc:j,release:$,flickDisc:_,setState:Q,setIndicatorVisible:ne,init:de,on:(B,I)=>p.on(B,I)}}function Ft(p){return Object.keys(p).reduce((d,u)=>p[u]===void 0?d:d+`${u}:${p[u]};`,"")}function Gt(p){return p?!0:void 0}Ft({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function dn(p){function d(u){return u(p),()=>{}}return{subscribe:d}}function zt(p){if(!Gn)return null;const d=document.querySelector(`[data-melt-id="${p}"]`);return yt(d)?d:null}const xt=p=>new Proxy(p,{get(d,u,g){return Reflect.get(d,u,g)},ownKeys(d){return Reflect.ownKeys(d).filter(u=>u!=="action")}}),hn=p=>typeof p=="function";Yt("empty");function Yt(p,d){const{stores:u,action:g,returned:c}=d??{},e=(()=>{if(u&&c)return Ut(u,r=>{const s=c(r);if(hn(s)){const l=(...n)=>xt({...s(...n),[`data-melt-${p}`]:"",action:g??Qe});return l.action=g??Qe,l}return xt({...s,[`data-melt-${p}`]:"",action:g??Qe})});{const r=c,s=r==null?void 0:r();if(hn(s)){const l=(...n)=>xt({...s(...n),[`data-melt-${p}`]:"",action:g??Qe});return l.action=g??Qe,dn(l)}return dn(xt({...s,[`data-melt-${p}`]:"",action:g??Qe}))}})(),i=g??(()=>{});return i.subscribe=e.subscribe,i}function pn(p,d){const{stores:u,returned:g,action:c}=d,{subscribe:e}=Ut(u,r=>g(r).map(s=>xt({...s,[`data-melt-${p}`]:"",action:c??Qe}))),i=c??(()=>{});return i.subscribe=e,i}function ui(p){const d=e=>e?`${p}-${e}`:p,u=e=>`data-melt-${p}${e?`-${e}`:""}`,g=e=>`[data-melt-${p}${e?`-${e}`:""}]`;return{name:d,attribute:u,selector:g,getEl:e=>document.querySelector(g(e))}}const Gn=typeof document<"u";function yt(p){return p instanceof HTMLElement}function di(...p){return(...d)=>{for(const u of p)typeof u=="function"&&u(...d)}}function Qe(){}function ot(p,d,u,g){const c=Array.isArray(d)?d:[d];return c.forEach(e=>p.addEventListener(e,u,g)),()=>{c.forEach(e=>p.removeEventListener(e,u,g))}}function hi(p,d,u,g){const c=Array.isArray(d)?d:[d];if(typeof u=="function"){const e=vi(i=>u(i));return c.forEach(i=>p.addEventListener(i,e,g)),()=>{c.forEach(i=>p.removeEventListener(i,e,g))}}return()=>void 0}function pi(p){const d=p.currentTarget;if(!yt(d))return null;const u=new CustomEvent(`m-${p.type}`,{detail:{originalEvent:p},cancelable:!0});return d.dispatchEvent(u),u}function vi(p){return d=>{const u=pi(d);if(!(u!=null&&u.defaultPrevented))return p(d)}}const mi=p=>{try{Yn(p)}catch{return p}};function zn(p,...d){const u={};for(const g of Object.keys(p))d.includes(g)||(u[g]=p[g]);return u}function Ze(p){return{...p,get:()=>Qn(p)}}Ze.writable=function(p){const d=st(p);let u=p;return{subscribe:d.subscribe,set(g){d.set(g),u=g},update(g){const c=g(u);d.set(c),u=c},get(){return u}}};Ze.derived=function(p,d){const u=new Map,g=()=>{const e=Array.isArray(p)?p.map(i=>i.get()):p.get();return d(e)};return{get:g,subscribe:e=>{const i=[];return(Array.isArray(p)?p:[p]).forEach(s=>{i.push(s.subscribe(()=>{e(g())}))}),e(g()),u.set(e,i),()=>{const s=u.get(e);if(s)for(const l of s)l();u.delete(e)}}}};const gi=(p,d)=>{const u=Ze(p),g=(e,i)=>{u.update(r=>{const s=e(r);let l=s;return d&&(l=d({curr:r,next:s})),i==null||i(l),l})};return{...u,update:g,set:e=>{g(()=>e)}}};let xi="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",yi=(p=21)=>{let d="",u=p;for(;u--;)d+=xi[Math.random()*64|0];return d};function Si(){return yi(10)}function wi(p){return p.reduce((d,u)=>(d[u]=Si(),d),{})}const Re={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"};function vn(p,d){let u;const g=Ut(p,e=>{u==null||u(),u=d(e)}).subscribe(Qe),c=()=>{g(),u==null||u()};return mi(c),c}function Ci(p){const d={};return Object.keys(p).forEach(u=>{const g=u,c=p[g];d[g]=Ze(st(c))}),d}function jt(p,d,u,g){const c=(p-(isNaN(d)?0:d))%g;let e=Math.abs(c)*2>=g?p+Math.sign(c)*(g-Math.abs(c)):p-c;isNaN(d)?!isNaN(u)&&e>u&&(e=Math.floor(u/g)*g):e<d?e=d:!isNaN(u)&&e>u&&(e=d+Math.floor((u-d)/g)*g);const i=g.toString(),r=i.indexOf("."),s=r>=0?i.length-r:0;if(s>0){const l=Math.pow(10,s);e=Math.round(e*l)/l}return e}ft(void 0,p=>{function d(g){p(g),p(void 0)}return ot(document,"pointerup",d,{passive:!1,capture:!0})});ft(void 0,p=>{function d(g){g&&g.key===Re.ESCAPE&&p(g),p(void 0)}return ot(document,"keydown",d,{passive:!1})});ft(!1),ft(!1),ft(void 0);const bi={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...zn(bi,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});const Pi={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Rt}=ui("slider"),Mi=p=>{const d={...Pi,...p},u=Ci(zn(d,"value","onValueChange","defaultValue")),{min:g,max:c,step:e,orientation:i,dir:r,disabled:s}=u,l=d.value??st(d.defaultValue),n=gi(l,d==null?void 0:d.onValueChange),h=Ze(st(!1)),f=Ze(st(0)),t=Ze(st(null)),o=wi(["root"]),a=(y,x)=>{n.update(b=>{if(!b)return[y];if(b[x]===y)return b;const C=[...b],T=C[x]>y?-1:1;function P(){C[x]=C[x+T],C[x+T]=y;const N=v();N&&(N[x+T].focus(),t.set({thumb:N[x+T],index:x+T}))}if(T===-1&&y<C[x-1])return P(),C;if(T===1&&y>C[x+1])return P(),C;const k=g.get(),D=c.get(),R=e.get();return C[x]=jt(y,k,D,R),C})},v=()=>{const y=zt(o.root);return y?Array.from(y.querySelectorAll('[data-melt-part="thumb"]')).filter(x=>yt(x)):null},w=Ut([g,c],([y,x])=>b=>(b-y)/(x-y)*100),M=Ze.derived([i,r],([y,x])=>y==="horizontal"?x==="rtl"?"rl":"lr":x==="rtl"?"tb":"bt"),E=Yt(Rt(),{stores:[s,i,r],returned:([y,x,b])=>({dir:b,disabled:Gt(y),"data-disabled":Gt(y),"data-orientation":x,style:y?void 0:`touch-action: ${x==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":o.root})}),A=Yt(Rt("range"),{stores:[n,M,w],returned:([y,x,b])=>{const C=y.length>1?b(Math.min(...y)??0):0,T=100-b(Math.max(...y)??0),P={position:"absolute"};switch(x){case"lr":{P.left=`${C}%`,P.right=`${T}%`;break}case"rl":{P.right=`${C}%`,P.left=`${T}%`;break}case"bt":{P.bottom=`${C}%`,P.top=`${T}%`;break}case"tb":{P.top=`${C}%`,P.bottom=`${T}%`;break}}return{style:Ft(P)}}}),m=pn(Rt("thumb"),{stores:[n,w,g,c,s,i,M],returned:([y,x,b,C,T,P,k])=>Array.from({length:y.length||1},(R,N)=>{f.get()<y.length&&f.update($=>$+1);const U=y[N],j=`${x(U)}%`,_={position:"absolute"};switch(k){case"lr":{_.left=j,_.translate="-50% 0";break}case"rl":{_.right=j,_.translate="50% 0";break}case"bt":{_.bottom=j,_.translate="0 50%";break}case"tb":{_.top=j,_.translate="0 -50%";break}}return{role:"slider","aria-valuemin":b,"aria-valuemax":C,"aria-valuenow":U,"aria-disabled":Gt(T),"aria-orientation":P,"data-melt-part":"thumb","data-value":U,style:Ft(_),tabindex:T?-1:0}}),action:y=>({destroy:hi(y,"keydown",b=>{if(s.get())return;const C=b.currentTarget;if(!yt(C))return;const T=v();if(!(T!=null&&T.length))return;const P=T.indexOf(C);if(f.set(P),![Re.ARROW_LEFT,Re.ARROW_RIGHT,Re.ARROW_UP,Re.ARROW_DOWN,Re.HOME,Re.END].includes(b.key))return;b.preventDefault();const k=g.get(),D=c.get(),R=e.get(),N=n.get(),F=i.get(),U=M.get(),j=N[P];switch(b.key){case Re.HOME:{a(k,P);break}case Re.END:{a(D,P);break}case Re.ARROW_LEFT:{if(F!=="horizontal")break;b.metaKey?a(U==="rl"?D:k,P):U==="rl"&&j<D?a(j+R,P):U==="lr"&&j>k&&a(j-R,P);break}case Re.ARROW_RIGHT:{if(F!=="horizontal")break;b.metaKey?a(U==="rl"?k:D,P):U==="rl"&&j>k?a(j-R,P):U==="lr"&&j<D&&a(j+R,P);break}case Re.ARROW_UP:{b.metaKey?a(U==="tb"?k:D,P):U==="tb"&&j>k?a(j-R,P):U!=="tb"&&j<D&&a(j+R,P);break}case Re.ARROW_DOWN:{b.metaKey?a(U==="tb"?D:k,P):U==="tb"&&j<D?a(j+R,P):U!=="tb"&&j>k&&a(j-R,P);break}}})})}),S=pn(Rt("tick"),{stores:[n,g,c,e,M],returned:([y,x,b,C,T])=>{const P=b-x;let k=Math.ceil(P/C);return P%C==0&&k++,Array.from({length:k},(D,R)=>{const N=`${R*(C/(b-x))*100}%`,F=R===0,U=R===k-1,j=F?0:U?-100:-50,_={position:"absolute"};switch(T){case"lr":{_.left=N,_.translate=`${j}% 0`;break}case"rl":{_.right=N,_.translate=`${-j}% 0`;break}case"bt":{_.bottom=N,_.translate=`0 ${-j}%`;break}case"tb":{_.top=N,_.translate=`0 ${j}%`;break}}const $=x+R*C;return{"data-bounded":(y.length===1?$<=y[0]:y[0]<=$&&$<=y[y.length-1])?!0:void 0,"data-value":$,style:Ft(_)}})}});return vn([E,g,c,s,i,M,e],([y,x,b,C,T,P,k])=>{if(!Gn||C)return;const D=(_,$,Q,ne)=>{const B=(_-Q)/(ne-Q)*(b-x)+x;if(B<x)a(x,$);else if(B>b)a(b,$);else{const I=k,V=x,O=Math.floor((B-V)/I),G=V+O*I+I/2,W=V+(O+1)*I+I/2,z=B>=G&&B<W?(O+1)*I+V:O*I+V;z<=b&&a(z,$)}},R=_=>{const $=v();if(!$)return;$.forEach(B=>B.blur());const Q=$.map(B=>{if(T==="horizontal"){const{left:I,right:V}=B.getBoundingClientRect();return Math.abs(_.clientX-(I+V)/2)}else{const{top:I,bottom:V}=B.getBoundingClientRect();return Math.abs(_.clientY-(I+V)/2)}}),ne=$[Q.indexOf(Math.min(...Q))],de=$.indexOf(ne);return{thumb:ne,index:de}},N=_=>{if(!h.get())return;_.preventDefault(),_.stopPropagation();const $=zt(y["data-melt-id"]),Q=t.get();if(!$||!Q)return;Q.thumb.focus();const{left:ne,right:de,top:B,bottom:I}=$.getBoundingClientRect();switch(P){case"lr":{D(_.clientX,Q.index,ne,de);break}case"rl":{D(_.clientX,Q.index,de,ne);break}case"bt":{D(_.clientY,Q.index,I,B);break}case"tb":{D(_.clientY,Q.index,B,I);break}}},F=_=>{if(_.button!==0)return;const $=zt(y["data-melt-id"]),Q=R(_);if(!Q||!$)return;const ne=_.target;!yt(ne)||!$.contains(ne)||(_.preventDefault(),t.set(Q),Q.thumb.focus(),h.set(!0),N(_))},U=()=>{h.set(!1)},j=di(ot(document,"pointerdown",F),ot(document,"pointerup",U),ot(document,"pointerleave",U),ot(document,"pointermove",N));return()=>{j()}}),vn([e,g,c,n],function([x,b,C,T]){const P=D=>jt(D,b,C,x)===D,k=D=>jt(D,b,C,x);T.some(D=>!P(D))&&n.update(D=>D.map(k))}),{elements:{root:E,thumbs:m,range:A,ticks:S},states:{value:n},options:u}};function Ti(p,d){const u={};return d.forEach(g=>{u[g]={[`data-${p}-${g}`]:""}}),g=>u[g]}function Ei(){const p=On();return d=>{const{originalEvent:u}=d.detail,{cancelable:g}=d,c=u.type;p(c,{originalEvent:u,currentTarget:u.currentTarget},{cancelable:g})||d.preventDefault()}}function Ai(p){const d={};for(const u in p){const g=p[u];g!==void 0&&(d[u]=g)}return d}function ki(p){return function(d,u){if(u===void 0)return;const g=p[d];g&&g.set(u)}}function jn(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Ii(p){const{NAME:d,PARTS:u}=jn(),g=Ti(d,u),c={...Mi(Ai(p)),getAttrs:g};return Zn(d,c),{...c,updateOption:ki(c.options)}}function Kn(){const{NAME:p}=jn();return Jn(p)}const Di=p=>({builder:p&4,ticks:p&8,thumbs:p&16}),mn=p=>({builder:p[2],ticks:p[3],thumbs:p[4]}),Ri=p=>({builder:p&4,ticks:p&8,thumbs:p&16}),gn=p=>({builder:p[2],ticks:p[3],thumbs:p[4]});function Bi(p){let d,u,g,c;const e=p[19].default,i=Lt(e,p,p[18],mn);let r=[p[2],p[8]],s={};for(let l=0;l<r.length;l+=1)s=je(s,r[l]);return{c(){d=ie("span"),i&&i.c(),this.h()},l(l){d=se(l,"SPAN",{});var n=re(d);i&&i.l(n),n.forEach(K),this.h()},h(){dt(d,s)},m(l,n){fe(l,d,n),i&&i.m(d,null),p[20](d),u=!0,g||(c=Jt(p[2].action(d)),g=!0)},p(l,n){i&&i.p&&(!u||n&262172)&&Wt(i,e,l,l[18],u?Ht(e,l[18],n,Di):Nt(l[18]),mn),dt(d,s=en(r,[n&4&&l[2],n&256&&l[8]]))},i(l){u||(le(i,l),u=!0)},o(l){ue(i,l),u=!1},d(l){l&&K(d),i&&i.d(l),p[20](null),g=!1,c()}}}function Vi(p){let d;const u=p[19].default,g=Lt(u,p,p[18],gn);return{c(){g&&g.c()},l(c){g&&g.l(c)},m(c,e){g&&g.m(c,e),d=!0},p(c,e){g&&g.p&&(!d||e&262172)&&Wt(g,u,c,c[18],d?Ht(u,c[18],e,Ri):Nt(c[18]),gn)},i(c){d||(le(g,c),d=!0)},o(c){ue(g,c),d=!1},d(c){g&&g.d(c)}}}function Fi(p){let d,u,g,c;const e=[Vi,Bi],i=[];function r(s,l){return s[1]?0:1}return d=r(p),u=i[d]=e[d](p),{c(){u.c(),g=Ve()},l(s){u.l(s),g=Ve()},m(s,l){i[d].m(s,l),fe(s,g,l),c=!0},p(s,[l]){let n=d;d=r(s),d===n?i[d].p(s,l):(Je(),ue(i[n],1,1,()=>{i[n]=null}),qe(),u=i[d],u?u.p(s,l):(u=i[d]=e[d](s),u.c()),le(u,1),u.m(g.parentNode,g))},i(s){c||(le(u),c=!0)},o(s){ue(u),c=!1},d(s){s&&K(g),i[d].d(s)}}}function Oi(p,d,u){let g;const c=["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"];let e=ut(d,c),i,r,s,{$$slots:l={},$$scope:n}=d,{disabled:h=void 0}=d,{min:f=void 0}=d,{max:t=void 0}=d,{step:o=void 0}=d,{orientation:a=void 0}=d,{dir:v=void 0}=d,{value:w=void 0}=d,{onValueChange:M=void 0}=d,{asChild:E=!1}=d,{el:A=void 0}=d;const{elements:{root:m,ticks:S,thumbs:y},states:{value:x},updateOption:b,getAttrs:C}=Ii({disabled:h,dir:v,min:f,max:t,step:o,orientation:a,defaultValue:w,onValueChange:({next:k})=>(w!==k&&(M==null||M(k),u(9,w=k)),k)});Bt(p,m,k=>u(17,i=k)),Bt(p,S,k=>u(3,r=k)),Bt(p,y,k=>u(4,s=k));const T=C("root");function P(k){nt[k?"unshift":"push"](()=>{A=k,u(0,A)})}return p.$$set=k=>{d=je(je({},d),Zt(k)),u(8,e=ut(d,c)),"disabled"in k&&u(10,h=k.disabled),"min"in k&&u(11,f=k.min),"max"in k&&u(12,t=k.max),"step"in k&&u(13,o=k.step),"orientation"in k&&u(14,a=k.orientation),"dir"in k&&u(15,v=k.dir),"value"in k&&u(9,w=k.value),"onValueChange"in k&&u(16,M=k.onValueChange),"asChild"in k&&u(1,E=k.asChild),"el"in k&&u(0,A=k.el),"$$scope"in k&&u(18,n=k.$$scope)},p.$$.update=()=>{p.$$.dirty&512&&w!==void 0&&x.set(w),p.$$.dirty&1024&&b("disabled",h),p.$$.dirty&2048&&b("min",f),p.$$.dirty&4096&&b("max",t),p.$$.dirty&8192&&b("step",o),p.$$.dirty&16384&&b("orientation",a),p.$$.dirty&32768&&b("dir",v),p.$$.dirty&131072&&u(2,g=i),p.$$.dirty&4&&Object.assign(g,T)},[A,E,g,r,s,m,S,y,e,w,h,f,t,o,a,v,M,i,n,l,P]}class Li extends pt{constructor(d){super(),vt(this,d,Oi,Fi,ht,{disabled:10,min:11,max:12,step:13,orientation:14,dir:15,value:9,onValueChange:16,asChild:1,el:0})}}const Wi=p=>({builder:p&4}),xn=p=>({builder:p[2]});function Ni(p){let d,u,g,c=[p[2],p[4]],e={};for(let i=0;i<c.length;i+=1)e=je(e,c[i]);return{c(){d=ie("span"),this.h()},l(i){d=se(i,"SPAN",{}),re(d).forEach(K),this.h()},h(){dt(d,e)},m(i,r){fe(i,d,r),p[8](d),u||(g=Jt(p[2].action(d)),u=!0)},p(i,r){dt(d,e=en(c,[r&4&&i[2],r&16&&i[4]]))},i:ze,o:ze,d(i){i&&K(d),p[8](null),u=!1,g()}}}function Hi(p){let d;const u=p[7].default,g=Lt(u,p,p[6],xn);return{c(){g&&g.c()},l(c){g&&g.l(c)},m(c,e){g&&g.m(c,e),d=!0},p(c,e){g&&g.p&&(!d||e&68)&&Wt(g,u,c,c[6],d?Ht(u,c[6],e,Wi):Nt(c[6]),xn)},i(c){d||(le(g,c),d=!0)},o(c){ue(g,c),d=!1},d(c){g&&g.d(c)}}}function Ui(p){let d,u,g,c;const e=[Hi,Ni],i=[];function r(s,l){return s[1]?0:1}return d=r(p),u=i[d]=e[d](p),{c(){u.c(),g=Ve()},l(s){u.l(s),g=Ve()},m(s,l){i[d].m(s,l),fe(s,g,l),c=!0},p(s,[l]){let n=d;d=r(s),d===n?i[d].p(s,l):(Je(),ue(i[n],1,1,()=>{i[n]=null}),qe(),u=i[d],u?u.p(s,l):(u=i[d]=e[d](s),u.c()),le(u,1),u.m(g.parentNode,g))},i(s){c||(le(u),c=!0)},o(s){ue(u),c=!1},d(s){s&&K(g),i[d].d(s)}}}function _i(p,d,u){let g;const c=["asChild","el"];let e=ut(d,c),i,{$$slots:r={},$$scope:s}=d,{asChild:l=!1}=d,{el:n=void 0}=d;const{elements:{range:h},getAttrs:f}=Kn();Bt(p,h,a=>u(5,i=a));const t=f("range");function o(a){nt[a?"unshift":"push"](()=>{n=a,u(0,n)})}return p.$$set=a=>{d=je(je({},d),Zt(a)),u(4,e=ut(d,c)),"asChild"in a&&u(1,l=a.asChild),"el"in a&&u(0,n=a.el),"$$scope"in a&&u(6,s=a.$$scope)},p.$$.update=()=>{p.$$.dirty&32&&u(2,g=i),p.$$.dirty&4&&Object.assign(g,t)},[n,l,g,h,e,i,s,r,o]}class Gi extends pt{constructor(d){super(),vt(this,d,_i,Ui,ht,{asChild:1,el:0})}}const zi=p=>({builder:p&4}),yn=p=>({builder:p[2]});function ji(p){let d,u,g,c=[p[2],p[4]],e={};for(let i=0;i<c.length;i+=1)e=je(e,c[i]);return{c(){d=ie("span"),this.h()},l(i){d=se(i,"SPAN",{}),re(d).forEach(K),this.h()},h(){dt(d,e)},m(i,r){fe(i,d,r),p[8](d),u||(g=[Jt(p[2].action(d)),lt(d,"m-keydown",p[3])],u=!0)},p(i,r){dt(d,e=en(c,[r&4&&i[2],r&16&&i[4]]))},i:ze,o:ze,d(i){i&&K(d),p[8](null),u=!1,Ln(g)}}}function Ki(p){let d;const u=p[7].default,g=Lt(u,p,p[6],yn);return{c(){g&&g.c()},l(c){g&&g.l(c)},m(c,e){g&&g.m(c,e),d=!0},p(c,e){g&&g.p&&(!d||e&68)&&Wt(g,u,c,c[6],d?Ht(u,c[6],e,zi):Nt(c[6]),yn)},i(c){d||(le(g,c),d=!0)},o(c){ue(g,c),d=!1},d(c){g&&g.d(c)}}}function Xi(p){let d,u,g,c;const e=[Ki,ji],i=[];function r(s,l){return s[1]?0:1}return d=r(p),u=i[d]=e[d](p),{c(){u.c(),g=Ve()},l(s){u.l(s),g=Ve()},m(s,l){i[d].m(s,l),fe(s,g,l),c=!0},p(s,[l]){let n=d;d=r(s),d===n?i[d].p(s,l):(Je(),ue(i[n],1,1,()=>{i[n]=null}),qe(),u=i[d],u?u.p(s,l):(u=i[d]=e[d](s),u.c()),le(u,1),u.m(g.parentNode,g))},i(s){c||(le(u),c=!0)},o(s){ue(u),c=!1},d(s){s&&K(g),i[d].d(s)}}}function Yi(p,d,u){let g;const c=["asChild","el","thumb"];let e=ut(d,c),{$$slots:i={},$$scope:r}=d,{asChild:s=!1}=d,{el:l=void 0}=d,{thumb:n}=d;const{getAttrs:h}=Kn(),f=Ei(),t=h("thumb");function o(a){nt[a?"unshift":"push"](()=>{l=a,u(0,l)})}return p.$$set=a=>{d=je(je({},d),Zt(a)),u(4,e=ut(d,c)),"asChild"in a&&u(1,s=a.asChild),"el"in a&&u(0,l=a.el),"thumb"in a&&u(5,n=a.thumb),"$$scope"in a&&u(6,r=a.$$scope)},p.$$.update=()=>{p.$$.dirty&32&&u(2,g=n),p.$$.dirty&4&&Object.assign(g,t)},[l,s,g,f,e,n,r,i,o]}class Qi extends pt{constructor(d){super(),vt(this,d,Yi,Xi,ht,{asChild:1,el:0,thumb:5})}}function Sn(p,d,u){const g=p.slice();return g[10]=d[u],g}function wn(p){let d,u;return d=new Qi({props:{thumb:p[10],class:p[6]}}),{c(){wt(d.$$.fragment)},l(g){Ct(d.$$.fragment,g)},m(g,c){bt(d,g,c),u=!0},p(g,c){const e={};c&512&&(e.thumb=g[10]),c&64&&(e.class=g[6]),d.$set(e)},i(g){u||(le(d.$$.fragment,g),u=!0)},o(g){ue(d.$$.fragment,g),u=!1},d(g){Pt(d,g)}}}function Zi(p){let d,u,g,c,e;u=new Gi({});let i=Ne(p[9]),r=[];for(let l=0;l<i.length;l+=1)r[l]=wn(Sn(p,i,l));const s=l=>ue(r[l],1,1,()=>{r[l]=null});return{c(){d=ie("span"),wt(u.$$.fragment),g=Se();for(let l=0;l<r.length;l+=1)r[l].c();c=Ve(),this.h()},l(l){d=se(l,"SPAN",{class:!0});var n=re(d);Ct(u.$$.fragment,n),n.forEach(K),g=we(l);for(let h=0;h<r.length;h+=1)r[h].l(l);c=Ve(),this.h()},h(){oe(d,"class","bg svelte-6mr5k")},m(l,n){fe(l,d,n),bt(u,d,null),fe(l,g,n);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(l,n);fe(l,c,n),e=!0},p(l,n){if(n&576){i=Ne(l[9]);let h;for(h=0;h<i.length;h+=1){const f=Sn(l,i,h);r[h]?(r[h].p(f,n),le(r[h],1)):(r[h]=wn(f),r[h].c(),le(r[h],1),r[h].m(c.parentNode,c))}for(Je(),h=i.length;h<r.length;h+=1)s(h);qe()}},i(l){if(!e){le(u.$$.fragment,l);for(let n=0;n<i.length;n+=1)le(r[n]);e=!0}},o(l){ue(u.$$.fragment,l),r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)ue(r[n]);e=!1},d(l){l&&(K(d),K(g),K(c)),Pt(u),gt(r,l)}}}function Ji(p){let d,u,g,c,e,i,r;function s(n){p[8](n)}let l={min:p[2],max:p[3],step:p[5],disabled:p[4],$$slots:{default:[Zi,({thumbs:n})=>({9:n}),({thumbs:n})=>n?512:0]},$$scope:{ctx:p}};return p[0]!==void 0&&(l.value=p[0]),e=new Li({props:l}),nt.push(()=>$t(e,"value",s)),{c(){d=ie("div"),u=ie("p"),g=Ae(p[1]),c=Se(),wt(e.$$.fragment),this.h()},l(n){d=se(n,"DIV",{class:!0});var h=re(d);u=se(h,"P",{class:!0});var f=re(u);g=ke(f,p[1]),f.forEach(K),c=we(h),Ct(e.$$.fragment,h),h.forEach(K),this.h()},h(){oe(u,"class","label svelte-6mr5k"),oe(d,"class","c svelte-6mr5k")},m(n,h){fe(n,d,h),Y(d,u),Y(u,g),Y(d,c),bt(e,d,null),r=!0},p(n,[h]){(!r||h&2)&&Ge(g,n[1]);const f={};h&4&&(f.min=n[2]),h&8&&(f.max=n[3]),h&32&&(f.step=n[5]),h&16&&(f.disabled=n[4]),h&8768&&(f.$$scope={dirty:h,ctx:n}),!i&&h&1&&(i=!0,f.value=n[0],qt(()=>i=!1)),e.$set(f)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){ue(e.$$.fragment,n),r=!1},d(n){n&&K(d),Pt(e)}}}function qi(p,d,u){let g,{label:c}=d,{value:e}=d,{min:i}=d,{max:r}=d,{disabled:s}=d,{step:l}=d,{animate:n}=d;function h(f){e=f,u(0,e)}return p.$$set=f=>{"label"in f&&u(1,c=f.label),"value"in f&&u(0,e=f.value),"min"in f&&u(2,i=f.min),"max"in f&&u(3,r=f.max),"disabled"in f&&u(4,s=f.disabled),"step"in f&&u(5,l=f.step),"animate"in f&&u(7,n=f.animate)},p.$$.update=()=>{p.$$.dirty&128&&u(6,g=n?"animate":"")},[e,c,i,r,s,l,g,n,h]}class $i extends pt{constructor(d){super(),vt(this,d,qi,Ji,ht,{label:1,value:0,min:2,max:3,disabled:4,step:5,animate:7})}}function es(p){let d,u,g,c;return{c(){d=ie("button"),u=Ae("Shoot"),this.h()},l(e){d=se(e,"BUTTON",{});var i=re(d);u=ke(i,"Shoot"),i.forEach(K),this.h()},h(){d.disabled=p[0]},m(e,i){fe(e,d,i),Y(d,u),g||(c=[lt(d,"pointerdown",p[1]),lt(d,"pointerup",p[2]),lt(d,"pointerleave",p[2])],g=!0)},p(e,[i]){i&1&&(d.disabled=e[0])},i:ze,o:ze,d(e){e&&K(d),g=!1,Ln(c)}}}function ts(p,d,u){let{value:g}=d,{disabled:c}=d;const e=On();let i,r;function s(){let n=-1;r=!0,i=setInterval(()=>{g>=1?n=-1:g<=0&&(n=1),u(3,g+=.01*n),u(3,g=+g.toFixed(2))},17)}function l(){r&&(clearInterval(i),e("release",g),u(3,g=0),r=!1)}return p.$$set=n=>{"value"in n&&u(3,g=n.value),"disabled"in n&&u(0,c=n.disabled)},[c,s,l,g]}class ns extends pt{constructor(d){super(),vt(this,d,ts,es,ht,{value:3,disabled:0})}}const is=[{state:"shoot",player:"player1",random:!0,power:.235,degrees:0}],ss=[{x:.3,y:.6,player:"player1"},{state:"position",player:"player1"}],rs=[{state:"shoot",player:"player2",power:.17,degrees:177}],as=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{x:.43462246777163904,y:.8876611418047882,state:"shoot",player:"player1",power:.35,degrees:15}],os=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"position",player:"player1"}],ls=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"shoot",player:"player1",power:.15,degrees:-3}],fs=[{x:.45,y:.44,player:"player1",score:15,valid:!0},{x:.7,y:.4,player:"player1",score:10,valid:!0},{x:.8,y:.4,player:"player2",score:5,valid:!0},{x:.2,y:.4,player:"player2",score:5,valid:!0},{x:.3,y:.6,player:"player2",score:10,valid:!0,state:"idle"}],cs=[{x:.50347,y:.28819,player:"player2"},{x:.54513,y:.19965,player:"player2"},{x:.6163,y:.324,player:"player2"},{player:"player1",state:"position"}],us={open:is,opentry:ss,fifteen:rs,opponent:as,opponenttry:os,invalid:ls,score:fs,tripletry:cs};function Cn(p,d,u){const g=p.slice();return g[48]=d[u],g}function bn(p,d,u){const g=p.slice();return g[51]=d[u],g}function Pn(p,d,u){const g=p.slice();g[54]=d[u];const c=g[23][g[54]];return g[55]=c,g}function Mn(p,d,u){const g=p.slice();return g[54]=d[u],g[59]=u,g}function Tn(p){let d;return{c(){d=ie("div"),this.h()},l(u){d=se(u,"DIV",{class:!0,style:!0}),re(d).forEach(K),this.h()},h(){oe(d,"class",$n(p[54])+" svelte-1ebjqcn"),ae(d,"--w",Math.floor(He[p[54]]*p[0])+"px"),ae(d,"--b",(He[p[54]]-He[p[22][p[59]+1]])/2*p[0]+"px")},m(u,g){fe(u,d,g)},p(u,g){g[0]&1&&ae(d,"--w",Math.floor(He[u[54]]*u[0])+"px"),g[0]&1&&ae(d,"--b",(He[u[54]]-He[u[22][u[59]+1]])/2*u[0]+"px")},d(u){u&&K(d)}}}function En(p){let d,u=p[55]+"",g;return{c(){d=ie("span"),g=Ae(u),this.h()},l(c){d=se(c,"SPAN",{class:!0,style:!0});var e=re(d);g=ke(e,u),e.forEach(K),this.h()},h(){oe(d,"class","text text-"+p[54]+" svelte-1ebjqcn"),ae(d,"--w",Math.floor(p[0]/2-He[p[54]]*p[0]/2)+"px"),ae(d,"--d",He[p[54]]*p[0]+"px")},m(c,e){fe(c,d,e),Y(d,g)},p(c,e){e[0]&1&&ae(d,"--w",Math.floor(c[0]/2-He[c[54]]*c[0]/2)+"px"),e[0]&1&&ae(d,"--d",He[c[54]]*c[0]+"px")},d(c){c&&K(d)}}}function An(p){let d;return{c(){d=ie("div"),this.h()},l(u){d=se(u,"DIV",{class:!0,style:!0}),re(d).forEach(K),this.h()},h(){oe(d,"class","quadrant-line svelte-1ebjqcn"),ae(d,"--w",(tt-at)*p[0]/2+"px"),ae(d,"--x",at*p[0]/2+"px"),ae(d,"--angle",p[51]+"deg")},m(u,g){fe(u,d,g)},p(u,g){g[0]&1&&ae(d,"--w",(tt-at)*u[0]/2+"px"),g[0]&1&&ae(d,"--x",at*u[0]/2+"px")},d(u){u&&K(d)}}}function kn(p){let d;return{c(){d=ie("div"),this.h()},l(u){d=se(u,"DIV",{class:!0,style:!0}),re(d).forEach(K),this.h()},h(){oe(d,"class","peg svelte-1ebjqcn"),ae(d,"--w",rt*p[0]+"px"),ae(d,"--x",((et-rt)*p[0]+1)/2+"px"),ae(d,"--angle",p[48]+"deg")},m(u,g){fe(u,d,g)},p(u,g){g[0]&1&&ae(d,"--w",rt*u[0]+"px"),g[0]&1&&ae(d,"--x",((et-rt)*u[0]+1)/2+"px")},d(u){u&&K(d)}}}function In(p){let d,u,g,c,e;return{c(){d=ie("p"),u=ie("strong"),g=Ae(p[18]),this.h()},l(i){d=se(i,"P",{class:!0});var r=re(d);u=se(r,"STRONG",{});var s=re(u);g=ke(s,p[18]),s.forEach(K),r.forEach(K),this.h()},h(){oe(d,"class","text-outline svelte-1ebjqcn")},m(i,r){fe(i,d,r),Y(d,u),Y(u,g),e=!0},p(i,r){(!e||r[0]&262144)&&Ge(g,i[18])},i(i){e||(i&&ei(()=>{e&&(c||(c=ln(d,fn,{},!0)),c.run(1))}),e=!0)},o(i){i&&(c||(c=ln(d,fn,{},!1)),c.run(0)),e=!1},d(i){i&&K(d),i&&c&&c.end()}}}function Dn(p){let d,u,g,c;const e=[hs,ds],i=[];function r(s,l){return s[11]==="shoot"?0:1}return d=r(p),u=i[d]=e[d](p),{c(){u.c(),g=Ve()},l(s){u.l(s),g=Ve()},m(s,l){i[d].m(s,l),fe(s,g,l),c=!0},p(s,l){let n=d;d=r(s),d===n?i[d].p(s,l):(Je(),ue(i[n],1,1,()=>{i[n]=null}),qe(),u=i[d],u?u.p(s,l):(u=i[d]=e[d](s),u.c()),le(u,1),u.m(g.parentNode,g))},i(s){c||(le(u),c=!0)},o(s){ue(u),c=!1},d(s){s&&K(g),i[d].d(s)}}}function ds(p){let d,u="Place Disc",g,c;return{c(){d=ie("button"),d.textContent=u},l(e){d=se(e,"BUTTON",{"data-svelte-h":!0}),Vt(d)!=="svelte-18imge0"&&(d.textContent=u)},m(e,i){fe(e,d,i),g||(c=lt(d,"click",p[27]),g=!0)},p:ze,i:ze,o:ze,d(e){e&&K(d),g=!1,c()}}}function hs(p){let d,u,g;function c(i){p[29](i)}let e={disabled:p[12]};return p[5]!==void 0&&(e.value=p[5]),d=new ns({props:e}),nt.push(()=>$t(d,"value",c)),d.$on("release",p[26]),{c(){wt(d.$$.fragment)},l(i){Ct(d.$$.fragment,i)},m(i,r){bt(d,i,r),g=!0},p(i,r){const s={};r[0]&4096&&(s.disabled=i[12]),!u&&r[0]&32&&(u=!0,s.value=i[5],qt(()=>u=!1)),d.$set(s)},i(i){g||(le(d.$$.fragment,i),g=!0)},o(i){ue(d.$$.fragment,i),g=!1},d(i){Pt(d,i)}}}function Rn(p){var i,r,s;let d,u,g;function c(l){p[30](l)}let e={label:p[11]==="shoot"?"aim":p[11],min:(i=p[24][p[11]])==null?void 0:i.min,max:(r=p[24][p[11]])==null?void 0:r.max,step:(s=p[24][p[11]])==null?void 0:s.step,animate:p[17],disabled:p[12]};return p[4]!==void 0&&(e.value=p[4]),d=new $i({props:e}),nt.push(()=>$t(d,"value",c)),{c(){wt(d.$$.fragment)},l(l){Ct(d.$$.fragment,l)},m(l,n){bt(d,l,n),g=!0},p(l,n){var f,t,o;const h={};n[0]&2048&&(h.label=l[11]==="shoot"?"aim":l[11]),n[0]&2048&&(h.min=(f=l[24][l[11]])==null?void 0:f.min),n[0]&2048&&(h.max=(t=l[24][l[11]])==null?void 0:t.max),n[0]&2048&&(h.step=(o=l[24][l[11]])==null?void 0:o.step),n[0]&131072&&(h.animate=l[17]),n[0]&4096&&(h.disabled=l[12]),!u&&n[0]&16&&(u=!0,h.value=l[4],qt(()=>u=!1)),d.$set(h)},i(l){g||(le(d.$$.fragment,l),g=!0)},o(l){ue(d.$$.fragment,l),g=!1},d(l){Pt(d,l)}}}function Bn(p){let d,u,g=p[4][0]+"",c,e,i,r,s,l,n;return{c(){d=ie("p"),u=Ae("slider: "),c=Ae(g),e=Se(),i=ie("p"),r=Ae("x: "),s=Ae(p[9]),l=Ae(", y: "),n=Ae(p[10]),this.h()},l(h){d=se(h,"P",{class:!0});var f=re(d);u=ke(f,"slider: "),c=ke(f,g),f.forEach(K),e=we(h),i=se(h,"P",{class:!0});var t=re(i);r=ke(t,"x: "),s=ke(t,p[9]),l=ke(t,", y: "),n=ke(t,p[10]),t.forEach(K),this.h()},h(){oe(d,"class","svelte-1ebjqcn"),oe(i,"class","svelte-1ebjqcn")},m(h,f){fe(h,d,f),Y(d,u),Y(d,c),fe(h,e,f),fe(h,i,f),Y(i,r),Y(i,s),Y(i,l),Y(i,n)},p(h,f){f[0]&16&&g!==(g=h[4][0]+"")&&Ge(c,g),f[0]&512&&Ge(s,h[9]),f[0]&1024&&Ge(n,h[10])},d(h){h&&(K(d),K(e),K(i))}}}function ps(p){let d,u,g,c="20s",e,i,r=p[6].player1+"",s,l,n,h,f="POINTS",t,o,a,v=p[7].player1+"",w,M,E,A=p[7].player2+"",m,S,y,x,b="20s",C,T,P=p[6].player2+"",k,D=`${p[0]}px`,R,N,F,U,j,_,$,Q,ne,de,B,I,V=`${p[0]}px`,O=`${p[0]}px`,G,W,z,Z,X,J,te,Pe,Fe,ve,he,Ce,ce,We,Ue,_e=Ne(p[22].slice(0,3)),me=[];for(let L=0;L<_e.length;L+=1)me[L]=Tn(Mn(p,_e,L));let Oe=Ne(p[22]),be=[];for(let L=0;L<Oe.length;L+=1)be[L]=En(Pn(p,Oe,L));let Xe=Ne(p[20]),pe=[];for(let L=0;L<Xe.length;L+=1)pe[L]=An(bn(p,Xe,L));let Le=Ne(p[21]),Me=[];for(let L=0;L<Le.length;L+=1)Me[L]=kn(Cn(p,Le,L));let ge=p[18]&&In(p),xe=!p[13]&&Dn(p),ye=!p[13]&&Rn(p),Te=p[1]&&Bn(p);return{c(){d=ie("div"),u=ie("p"),g=ie("span"),g.textContent=c,e=Se(),i=ie("strong"),s=Ae(r),l=Se(),n=ie("p"),h=ie("span"),h.textContent=f,t=Se(),o=ie("strong"),a=ie("span"),w=Ae(v),M=Ae(` -
			`),E=ie("span"),m=Ae(A),S=Se(),y=ie("p"),x=ie("span"),x.textContent=b,C=Se(),T=ie("strong"),k=Ae(P),R=Se(),N=ie("div"),F=ie("div"),U=ie("div"),j=Se(),_=ie("div"),$=Se();for(let L=0;L<me.length;L+=1)me[L].c();Q=Se(),ne=ie("div"),de=Se();for(let L=0;L<be.length;L+=1)be[L].c();B=Se();for(let L=0;L<pe.length;L+=1)pe[L].c();I=Se();for(let L=0;L<Me.length;L+=1)Me[L].c();G=Se(),W=ie("div"),z=Se(),Z=ie("div"),ge&&ge.c(),J=Se(),te=ie("div"),Pe=ie("div"),xe&&xe.c(),Fe=Se(),ve=ie("div"),ye&&ye.c(),he=Se(),Te&&Te.c(),Ce=Ve(),this.h()},l(L){d=se(L,"DIV",{class:!0});var q=re(d);u=se(q,"P",{class:!0});var H=re(u);g=se(H,"SPAN",{class:!0,"data-svelte-h":!0}),Vt(g)!=="svelte-26pqx6"&&(g.textContent=c),e=we(H),i=se(H,"STRONG",{});var Ie=re(i);s=ke(Ie,r),Ie.forEach(K),H.forEach(K),l=we(q),n=se(q,"P",{class:!0});var Mt=re(n);h=se(Mt,"SPAN",{class:!0,"data-svelte-h":!0}),Vt(h)!=="svelte-8p7j2g"&&(h.textContent=f),t=we(Mt),o=se(Mt,"STRONG",{});var Tt=re(o);a=se(Tt,"SPAN",{class:!0});var tn=re(a);w=ke(tn,v),tn.forEach(K),M=ke(Tt,` -
			`),E=se(Tt,"SPAN",{class:!0});var nn=re(E);m=ke(nn,A),nn.forEach(K),Tt.forEach(K),Mt.forEach(K),S=we(q),y=se(q,"P",{class:!0});var Et=re(y);x=se(Et,"SPAN",{class:!0,"data-svelte-h":!0}),Vt(x)!=="svelte-26pqx6"&&(x.textContent=b),C=we(Et),T=se(Et,"STRONG",{});var sn=re(T);k=ke(sn,P),sn.forEach(K),Et.forEach(K),q.forEach(K),R=we(L),N=se(L,"DIV",{class:!0});var it=re(N);F=se(it,"DIV",{class:!0});var De=re(F);U=se(De,"DIV",{class:!0,style:!0}),re(U).forEach(K),j=we(De),_=se(De,"DIV",{class:!0,style:!0}),re(_).forEach(K),$=we(De);for(let Ee=0;Ee<me.length;Ee+=1)me[Ee].l(De);Q=we(De),ne=se(De,"DIV",{class:!0,style:!0}),re(ne).forEach(K),de=we(De);for(let Ee=0;Ee<be.length;Ee+=1)be[Ee].l(De);B=we(De);for(let Ee=0;Ee<pe.length;Ee+=1)pe[Ee].l(De);I=we(De);for(let Ee=0;Ee<Me.length;Ee+=1)Me[Ee].l(De);De.forEach(K),G=we(it),W=se(it,"DIV",{class:!0}),re(W).forEach(K),z=we(it),Z=se(it,"DIV",{class:!0});var rn=re(Z);ge&&ge.l(rn),rn.forEach(K),it.forEach(K),J=we(L),te=se(L,"DIV",{class:!0});var At=re(te);Pe=se(At,"DIV",{class:!0});var an=re(Pe);xe&&xe.l(an),an.forEach(K),Fe=we(At),ve=se(At,"DIV",{class:!0});var on=re(ve);ye&&ye.l(on),on.forEach(K),At.forEach(K),he=we(L),Te&&Te.l(L),Ce=Ve(),this.h()},h(){oe(g,"class","label svelte-1ebjqcn"),oe(u,"class","holder you svelte-1ebjqcn"),Be(u,"animate",p[8].player1),Be(u,"visible",p[16]),oe(h,"class","label svelte-1ebjqcn"),oe(a,"class","you"),oe(E,"class","opp"),oe(n,"class","points svelte-1ebjqcn"),Be(n,"visible",p[15]),oe(x,"class","label svelte-1ebjqcn"),oe(y,"class","holder opp svelte-1ebjqcn"),Be(y,"animate",p[8].player2),Be(y,"visible",p[16]),oe(d,"class","score svelte-1ebjqcn"),ae(d,"width",D),oe(U,"class","base svelte-1ebjqcn"),ae(U,"--w",Ot*p[0]+"px"),ae(U,"--b",Xt/2*p[0]+"px"),oe(_,"class","surface svelte-1ebjqcn"),ae(_,"--w",St*p[0]+"px"),oe(ne,"class","twenty svelte-1ebjqcn"),ae(ne,"--w",Math.floor(ct*p[0])+"px"),oe(F,"class","bg svelte-1ebjqcn"),ae(F,"width",V),ae(F,"height",O),oe(W,"class","fg svelte-1ebjqcn"),oe(Z,"class","message svelte-1ebjqcn"),oe(N,"class",X="c "+p[19]+" svelte-1ebjqcn"),oe(Pe,"class","top svelte-1ebjqcn"),oe(ve,"class","bottom svelte-1ebjqcn"),oe(te,"class","ui svelte-1ebjqcn"),Be(te,"visible",p[14]||!p[2])},m(L,q){fe(L,d,q),Y(d,u),Y(u,g),Y(u,e),Y(u,i),Y(i,s),Y(d,l),Y(d,n),Y(n,h),Y(n,t),Y(n,o),Y(o,a),Y(a,w),Y(o,M),Y(o,E),Y(E,m),Y(d,S),Y(d,y),Y(y,x),Y(y,C),Y(y,T),Y(T,k),fe(L,R,q),fe(L,N,q),Y(N,F),Y(F,U),Y(F,j),Y(F,_),Y(F,$);for(let H=0;H<me.length;H+=1)me[H]&&me[H].m(F,null);Y(F,Q),Y(F,ne),Y(F,de);for(let H=0;H<be.length;H+=1)be[H]&&be[H].m(F,null);Y(F,B);for(let H=0;H<pe.length;H+=1)pe[H]&&pe[H].m(F,null);Y(F,I);for(let H=0;H<Me.length;H+=1)Me[H]&&Me[H].m(F,null);Y(N,G),Y(N,W),p[28](W),Y(N,z),Y(N,Z),ge&&ge.m(Z,null),fe(L,J,q),fe(L,te,q),Y(te,Pe),xe&&xe.m(Pe,null),Y(te,Fe),Y(te,ve),ye&&ye.m(ve,null),fe(L,he,q),Te&&Te.m(L,q),fe(L,Ce,q),ce=!0,We||(Ue=lt(W,"click",p[25]),We=!0)},p(L,q){if((!ce||q[0]&64)&&r!==(r=L[6].player1+"")&&Ge(s,r),(!ce||q[0]&256)&&Be(u,"animate",L[8].player1),(!ce||q[0]&65536)&&Be(u,"visible",L[16]),(!ce||q[0]&128)&&v!==(v=L[7].player1+"")&&Ge(w,v),(!ce||q[0]&128)&&A!==(A=L[7].player2+"")&&Ge(m,A),(!ce||q[0]&32768)&&Be(n,"visible",L[15]),(!ce||q[0]&64)&&P!==(P=L[6].player2+"")&&Ge(k,P),(!ce||q[0]&256)&&Be(y,"animate",L[8].player2),(!ce||q[0]&65536)&&Be(y,"visible",L[16]),q[0]&1&&D!==(D=`${L[0]}px`)&&ae(d,"width",D),(!ce||q[0]&1)&&ae(U,"--w",Ot*L[0]+"px"),(!ce||q[0]&1)&&ae(U,"--b",Xt/2*L[0]+"px"),(!ce||q[0]&1)&&ae(_,"--w",St*L[0]+"px"),q[0]&4194305){_e=Ne(L[22].slice(0,3));let H;for(H=0;H<_e.length;H+=1){const Ie=Mn(L,_e,H);me[H]?me[H].p(Ie,q):(me[H]=Tn(Ie),me[H].c(),me[H].m(F,Q))}for(;H<me.length;H+=1)me[H].d(1);me.length=_e.length}if((!ce||q[0]&1)&&ae(ne,"--w",Math.floor(ct*L[0])+"px"),q[0]&12582913){Oe=Ne(L[22]);let H;for(H=0;H<Oe.length;H+=1){const Ie=Pn(L,Oe,H);be[H]?be[H].p(Ie,q):(be[H]=En(Ie),be[H].c(),be[H].m(F,B))}for(;H<be.length;H+=1)be[H].d(1);be.length=Oe.length}if(q[0]&1048577){Xe=Ne(L[20]);let H;for(H=0;H<Xe.length;H+=1){const Ie=bn(L,Xe,H);pe[H]?pe[H].p(Ie,q):(pe[H]=An(Ie),pe[H].c(),pe[H].m(F,I))}for(;H<pe.length;H+=1)pe[H].d(1);pe.length=Xe.length}if(q[0]&2097153){Le=Ne(L[21]);let H;for(H=0;H<Le.length;H+=1){const Ie=Cn(L,Le,H);Me[H]?Me[H].p(Ie,q):(Me[H]=kn(Ie),Me[H].c(),Me[H].m(F,null))}for(;H<Me.length;H+=1)Me[H].d(1);Me.length=Le.length}q[0]&1&&V!==(V=`${L[0]}px`)&&ae(F,"width",V),q[0]&1&&O!==(O=`${L[0]}px`)&&ae(F,"height",O),L[18]?ge?(ge.p(L,q),q[0]&262144&&le(ge,1)):(ge=In(L),ge.c(),le(ge,1),ge.m(Z,null)):ge&&(Je(),ue(ge,1,1,()=>{ge=null}),qe()),(!ce||q[0]&524288&&X!==(X="c "+L[19]+" svelte-1ebjqcn"))&&oe(N,"class",X),L[13]?xe&&(Je(),ue(xe,1,1,()=>{xe=null}),qe()):xe?(xe.p(L,q),q[0]&8192&&le(xe,1)):(xe=Dn(L),xe.c(),le(xe,1),xe.m(Pe,null)),L[13]?ye&&(Je(),ue(ye,1,1,()=>{ye=null}),qe()):ye?(ye.p(L,q),q[0]&8192&&le(ye,1)):(ye=Rn(L),ye.c(),le(ye,1),ye.m(ve,null)),(!ce||q[0]&16388)&&Be(te,"visible",L[14]||!L[2]),L[1]?Te?Te.p(L,q):(Te=Bn(L),Te.c(),Te.m(Ce.parentNode,Ce)):Te&&(Te.d(1),Te=null)},i(L){ce||(le(ge),le(xe),le(ye),ce=!0)},o(L){ue(ge),ue(xe),ue(ye),ce=!1},d(L){L&&(K(d),K(R),K(N),K(J),K(te),K(he),K(Ce)),gt(me,L),gt(be,L),gt(pe,L),gt(Me,L),p[28](null),ge&&ge.d(),xe&&xe.d(),ye&&ye.d(),Te&&Te.d(L),We=!1,Ue()}}}const mt=0;function vs(p,d,u){let g,{width:c}=d,{dev:e}=d,{tutorial:i}=d;const r=ci(),s=[45,135,225,315],l=[15,60,105,150,195,240,285,330],n=["five","ten","fifteen","twenty"],h={five:"5",ten:"10",fifteen:"15",twenty:"20"},f={position:{value:[.5],min:.22,max:.78,step:.01},shoot:{value:[0],min:-90,max:90,step:1}},t={player1:0,player2:0},o={player1:0,player2:0,leader:""},a={player1:!1,player2:!1};let v,w=0,M=0,E=f.position.value,A=mt,m="position",S,y,x,b,C,T,P,k=!0,D=!0,R,N,F;function U(X){e&&(u(9,w=X.offsetX/c),u(10,M=X.offsetY/c))}function j({discs:X,valid:J}){u(5,A=mt)}function _({discs:X,valid:J}){if(J){const te=X.some(Ce=>Ce.score===20),Pe=X.filter(Ce=>Ce.player==="player2").every(Ce=>Ce.score===0),Fe=i.includes("open"),ve=i.includes("triple");u(18,F=`Valid shot. ${Fe?te?"Nice 20!":"But not a 20 :(":ve?Pe?"Triple takeout!":"But not a triple takeout :(":"Well done!"}`)}else u(18,F="Invalid shot. Try again.");P=setTimeout(()=>{u(18,F=null),G()},3e3)}function $(){u(11,m="end"),u(18,F=`${o.player1>o.player2?"You":"Opp."} win the round`)}function Q({discs:X,valid:J}){X.forEach(te=>{te.valid&&te.score&&u(7,o[te.player]+=te.score,o),te.valid&&te.score===20&&(u(8,a[te.player]=!0,a),u(6,t[te.player]++,t))})}function ne({discs:X,valid:J}){Q({discs:X,valid:J}),u(5,A=mt),i.includes("try")?_({discs:X,valid:J}):i&&(T=setTimeout(G,2e3))}function de(){u(8,a.player1=!1,a),u(8,a.player2=!1,a),r.flickDisc(),u(12,y=!0)}function B(){if(N||(N=E[0]!==f.position.value[0],u(17,R=!N)),m==="position")r.positionDisc(E[0]*c);else if(m==="shoot"){const X=i?i.includes("try"):!0;S=Math.round(E[0]),r.aimDisc({degrees:S,power:.25,visible:X})}}function I(){const X=i?i.includes("try"):!0;r.aimDisc({degrees:S,power:A,visible:X})}function V(){m==="position"&&(u(11,m="shoot"),u(4,E=f.shoot.value),u(5,A=mt),r.setState("shoot"))}function O(){u(6,t.player1=0,t),u(6,t.player2=0,t),u(7,o.player1=0,o),u(7,o.player2=0,o)}async function G(){u(12,y=!1),O(),clearTimeout(C),clearTimeout(T),clearTimeout(P),u(18,F=null),u(13,x=!i.includes("try")),u(14,b=!["regions","score"].includes(i));const X=i==="score";u(15,k=!["regions","tripletry"].includes(i)),u(16,D=k),u(17,R=i==="opponenttry"&&!N),u(5,A=mt);const J=us[i];if(r.removeDiscs(),J&&J.forEach(r.addDisc),(x||X)&&J){const te=J[J.length-1],Pe=te.random?Math.random()*3-1.5:0,Fe=te.degrees+Pe,ve=te.random?Math.random()*.07-.035:0,he=te.power+ve;X&&(u(15,k=!0),Q({discs:J,valid:!0})),C=setTimeout(()=>{X?$():(u(11,m=J[J.length-1].state),r.aimDisc({degrees:Fe,power:he}),de())},2e3)}else C=null,r.removeDiscs(),J&&(J.forEach(r.addDisc),u(11,m=J[J.length-1].state)),m==="shoot"&&r.setIndicatorVisible(!0);await ti(),u(4,E=f[m].value)}qn(()=>{r.on("shotComplete",j),r.on("shotCompleteManual",ne)});function W(X){nt[X?"unshift":"push"](()=>{v=X,u(3,v)})}function z(X){A=X,u(5,A)}function Z(X){E=X,u(4,E)}return p.$$set=X=>{"width"in X&&u(0,c=X.width),"dev"in X&&u(1,e=X.dev),"tutorial"in X&&u(2,i=X.tutorial)},p.$$.update=()=>{p.$$.dirty[0]&1&&u(9,w=0),p.$$.dirty[0]&1&&u(10,M=0),p.$$.dirty[0]&13&&c&&r.init({element:v,width:c,tutorial:i}),p.$$.dirty[0]&17&&c&&B(),p.$$.dirty[0]&33&&c&&I(),p.$$.dirty[0]&5&&c&&i&&G(),p.$$.dirty[0]&4&&u(19,g=i?`tutorial tutorial-${i}`:"")},[c,e,i,v,E,A,t,o,a,w,M,m,y,x,b,k,D,R,F,g,s,l,n,h,f,U,de,V,W,z,Z]}class Us extends pt{constructor(d){super(),vt(this,d,vs,ps,ht,{width:0,dev:1,tutorial:2},null,[-1,-1])}}var ms="Expected a function",Vn=NaN,gs="[object Symbol]",xs=/^\s+|\s+$/g,ys=/^[-+]0x[0-9a-f]+$/i,Ss=/^0b[01]+$/i,ws=/^0o[0-7]+$/i,Cs=parseInt,bs=typeof $e=="object"&&$e&&$e.Object===Object&&$e,Ps=typeof self=="object"&&self&&self.Object===Object&&self,Ms=bs||Ps||Function("return this")(),Ts=Object.prototype,Es=Ts.toString,As=Math.max,ks=Math.min,Kt=function(){return Ms.Date.now()};function Is(p,d,u){var g,c,e,i,r,s,l=0,n=!1,h=!1,f=!0;if(typeof p!="function")throw new TypeError(ms);d=Fn(d)||0,Qt(u)&&(n=!!u.leading,h="maxWait"in u,e=h?As(Fn(u.maxWait)||0,d):e,f="trailing"in u?!!u.trailing:f);function t(S){var y=g,x=c;return g=c=void 0,l=S,i=p.apply(x,y),i}function o(S){return l=S,r=setTimeout(w,d),n?t(S):i}function a(S){var y=S-s,x=S-l,b=d-y;return h?ks(b,e-x):b}function v(S){var y=S-s,x=S-l;return s===void 0||y>=d||y<0||h&&x>=e}function w(){var S=Kt();if(v(S))return M(S);r=setTimeout(w,a(S))}function M(S){return r=void 0,f&&g?t(S):(g=c=void 0,i)}function E(){r!==void 0&&clearTimeout(r),l=0,g=s=c=r=void 0}function A(){return r===void 0?i:M(Kt())}function m(){var S=Kt(),y=v(S);if(g=arguments,c=this,s=S,y){if(r===void 0)return o(s);if(h)return r=setTimeout(w,d),t(s)}return r===void 0&&(r=setTimeout(w,d)),i}return m.cancel=E,m.flush=A,m}function Qt(p){var d=typeof p;return!!p&&(d=="object"||d=="function")}function Ds(p){return!!p&&typeof p=="object"}function Rs(p){return typeof p=="symbol"||Ds(p)&&Es.call(p)==gs}function Fn(p){if(typeof p=="number")return p;if(Rs(p))return Vn;if(Qt(p)){var d=typeof p.valueOf=="function"?p.valueOf():p;p=Qt(d)?d+"":d}if(typeof p!="string")return p===0?p:+p;p=p.replace(xs,"");var u=Ss.test(p);return u||ws.test(p)?Cs(p.slice(2),u?2:8):ys.test(p)?Vn:+p}var Bs=Is;const Vs=Wn(Bs),Fs=()=>{var p;return((p=window==null?void 0:window.visualViewport)==null?void 0:p.width)||document.documentElement.clientWidth},Os=()=>{var p;return((p=window==null?void 0:window.visualViewport)==null?void 0:p.height)||document.documentElement.clientHeight},_s=ft({width:0,height:0},p=>{const d=()=>p({width:Fs(),height:Os()});return d(),window.addEventListener("resize",Vs(d,250)),()=>{window.removeEventListener("resize",d)}});export{Us as C,Hs as a,Ne as e,en as g,_s as v};
