import{K as Kn,a9 as Xn,aa as Yn,ab as Fn,a8 as Qn,a7 as Zn,a as ct,u as Ve,g as fe,f as X,a1 as lt,k as Dt,Y as Ue,a2 as Qt,p as et,C as Vt,e as ee,c as te,b as ne,ac as ft,ad as Zt,D as Ot,E as Lt,F as Wt,n as He,a4 as mt,r as Vn,t as Ae,q as we,d as Te,v as Ce,l as ae,h as Y,j as Xe,ae as Jt,X as vt,a6 as Rt,a5 as Fe,y as ie,x as Jn,af as jn,m as qn,A as $n}from"./scheduler.C7JCuNNY.js";import{S as ut,i as dt,g as Qe,b as de,e as Ze,t as oe,f as jt,c as yt,a as St,m as wt,d as Ct,h as an}from"./index.BGNV_pQ3.js";import{d as Nt,w as nt,r as at}from"./index.DYwQb_j9.js";function Le(v){return(v==null?void 0:v.length)!==void 0?v:Array.from(v)}function qt(v,d){const u={},g={},f={$$scope:1};let e=v.length;for(;e--;){const i=v[e],r=d[e];if(r){for(const s in i)s in r||(g[s]=1);for(const s in r)f[s]||(u[s]=r[s],f[s]=1);v[e]=r}else for(const s in i)f[s]=1}for(const i in g)i in u||(u[i]=void 0);return u}function Os(v){return typeof v=="object"&&v!==null?v:{}}function on(v,{delay:d=0,duration:u=400,easing:g=Kn}={}){const f=+getComputedStyle(v).opacity;return{delay:d,duration:u,easing:g,css:e=>`opacity: ${e*f}`}}var je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}var Ln={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(v,d){(function(g,f){v.exports=f()})(je,function(){return function(u){var g={};function f(e){if(g[e])return g[e].exports;var i=g[e]={i:e,l:!1,exports:{}};return u[e].call(i.exports,i,i.exports,f),i.l=!0,i.exports}return f.m=u,f.c=g,f.d=function(e,i,r){f.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},f.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(e,i){if(i&1&&(e=f(e)),i&8||i&4&&typeof e=="object"&&e&&e.__esModule)return e;var r=Object.create(null);if(f.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),i&2&&typeof e!="string")for(var s in e)f.d(r,s,(function(l){return e[l]}).bind(null,s));return r},f.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(i,"a",i),i},f.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},f.p="",f(f.s=20)}([function(u,g){var f={};u.exports=f,function(){f._baseDelta=1e3/60,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(i,r){var s,l;typeof r=="boolean"?(s=2,l=r):(s=1,l=!0);for(var n=s;n<arguments.length;n++){var h=arguments[n];if(h)for(var c in h)l&&h[c]&&h[c].constructor===Object&&(!i[c]||i[c].constructor===Object)?(i[c]=i[c]||{},f.extend(i[c],l,h[c])):i[c]=h[c]}return i},f.clone=function(i,r){return f.extend({},r,i)},f.keys=function(i){if(Object.keys)return Object.keys(i);var r=[];for(var s in i)r.push(s);return r},f.values=function(i){var r=[];if(Object.keys){for(var s=Object.keys(i),l=0;l<s.length;l++)r.push(i[s[l]]);return r}for(var n in i)r.push(i[n]);return r},f.get=function(i,r,s,l){r=r.split(".").slice(s,l);for(var n=0;n<r.length;n+=1)i=i[r[n]];return i},f.set=function(i,r,s,l,n){var h=r.split(".").slice(l,n);return f.get(i,r,0,-1)[h[h.length-1]]=s,s},f.shuffle=function(i){for(var r=i.length-1;r>0;r--){var s=Math.floor(f.random()*(r+1)),l=i[r];i[r]=i[s],i[s]=l}return i},f.choose=function(i){return i[Math.floor(f.random()*i.length)]},f.isElement=function(i){return typeof HTMLElement<"u"?i instanceof HTMLElement:!!(i&&i.nodeType&&i.nodeName)},f.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"},f.isFunction=function(i){return typeof i=="function"},f.isPlainObject=function(i){return typeof i=="object"&&i.constructor===Object},f.isString=function(i){return toString.call(i)==="[object String]"},f.clamp=function(i,r,s){return i<r?r:i>s?s:i},f.sign=function(i){return i<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(i,r){return i=typeof i<"u"?i:0,r=typeof r<"u"?r:1,i+e()*(r-i)};var e=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(i){return i=i.replace("#",""),i.length==3&&(i=i.charAt(0)+i.charAt(0)+i.charAt(1)+i.charAt(1)+i.charAt(2)+i.charAt(2)),parseInt(i,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var i=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[i]||(f.warn(i),f._warnedOnce[i]=!0)},f.deprecated=function(i,r,s){i[r]=f.chain(function(){f.warnOnce("🔅 deprecated 🔅",s)},i[r])},f.nextId=function(){return f._nextId++},f.indexOf=function(i,r){if(i.indexOf)return i.indexOf(r);for(var s=0;s<i.length;s++)if(i[s]===r)return s;return-1},f.map=function(i,r){if(i.map)return i.map(r);for(var s=[],l=0;l<i.length;l+=1)s.push(r(i[l]));return s},f.topologicalSort=function(i){var r=[],s=[],l=[];for(var n in i)!s[n]&&!l[n]&&f._topologicalSort(n,s,l,i,r);return r},f._topologicalSort=function(i,r,s,l,n){var h=l[i]||[];s[i]=!0;for(var c=0;c<h.length;c+=1){var t=h[c];s[t]||r[t]||f._topologicalSort(t,r,s,l,n)}s[i]=!1,r[i]=!0,n.push(i)},f.chain=function(){for(var i=[],r=0;r<arguments.length;r+=1){var s=arguments[r];s._chained?i.push.apply(i,s._chained):i.push(s)}var l=function(){for(var n,h=new Array(arguments.length),c=0,t=arguments.length;c<t;c++)h[c]=arguments[c];for(c=0;c<i.length;c+=1){var o=i[c].apply(n,h);typeof o<"u"&&(n=o)}return n};return l._chained=i,l},f.chainPathBefore=function(i,r,s){return f.set(i,r,f.chain(s,f.get(i,r)))},f.chainPathAfter=function(i,r,s){return f.set(i,r,f.chain(f.get(i,r),s))},f.setDecomp=function(i){f._decomp=i},f.getDecomp=function(){var i=f._decomp;try{!i&&typeof window<"u"&&(i=window.decomp),!i&&typeof je<"u"&&(i=je.decomp)}catch{i=null}return i}}()},function(u,g){var f={};u.exports=f,function(){f.create=function(e){var i={min:{x:0,y:0},max:{x:0,y:0}};return e&&f.update(i,e),i},f.update=function(e,i,r){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var s=0;s<i.length;s++){var l=i[s];l.x>e.max.x&&(e.max.x=l.x),l.x<e.min.x&&(e.min.x=l.x),l.y>e.max.y&&(e.max.y=l.y),l.y<e.min.y&&(e.min.y=l.y)}r&&(r.x>0?e.max.x+=r.x:e.min.x+=r.x,r.y>0?e.max.y+=r.y:e.min.y+=r.y)},f.contains=function(e,i){return i.x>=e.min.x&&i.x<=e.max.x&&i.y>=e.min.y&&i.y<=e.max.y},f.overlaps=function(e,i){return e.min.x<=i.max.x&&e.max.x>=i.min.x&&e.max.y>=i.min.y&&e.min.y<=i.max.y},f.translate=function(e,i){e.min.x+=i.x,e.max.x+=i.x,e.min.y+=i.y,e.max.y+=i.y},f.shift=function(e,i){var r=e.max.x-e.min.x,s=e.max.y-e.min.y;e.min.x=i.x,e.max.x=i.x+r,e.min.y=i.y,e.max.y=i.y+s}}()},function(u,g){var f={};u.exports=f,function(){f.create=function(e,i){return{x:e||0,y:i||0}},f.clone=function(e){return{x:e.x,y:e.y}},f.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},f.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},f.rotate=function(e,i,r){var s=Math.cos(i),l=Math.sin(i);r||(r={});var n=e.x*s-e.y*l;return r.y=e.x*l+e.y*s,r.x=n,r},f.rotateAbout=function(e,i,r,s){var l=Math.cos(i),n=Math.sin(i);s||(s={});var h=r.x+((e.x-r.x)*l-(e.y-r.y)*n);return s.y=r.y+((e.x-r.x)*n+(e.y-r.y)*l),s.x=h,s},f.normalise=function(e){var i=f.magnitude(e);return i===0?{x:0,y:0}:{x:e.x/i,y:e.y/i}},f.dot=function(e,i){return e.x*i.x+e.y*i.y},f.cross=function(e,i){return e.x*i.y-e.y*i.x},f.cross3=function(e,i,r){return(i.x-e.x)*(r.y-e.y)-(i.y-e.y)*(r.x-e.x)},f.add=function(e,i,r){return r||(r={}),r.x=e.x+i.x,r.y=e.y+i.y,r},f.sub=function(e,i,r){return r||(r={}),r.x=e.x-i.x,r.y=e.y-i.y,r},f.mult=function(e,i){return{x:e.x*i,y:e.y*i}},f.div=function(e,i){return{x:e.x/i,y:e.y/i}},f.perp=function(e,i){return i=i===!0?-1:1,{x:i*-e.y,y:i*e.x}},f.neg=function(e){return{x:-e.x,y:-e.y}},f.angle=function(e,i){return Math.atan2(i.y-e.y,i.x-e.x)},f._temp=[f.create(),f.create(),f.create(),f.create(),f.create(),f.create()]}()},function(u,g,f){var e={};u.exports=e;var i=f(2),r=f(0);(function(){e.create=function(s,l){for(var n=[],h=0;h<s.length;h++){var c=s[h],t={x:c.x,y:c.y,index:h,body:l,isInternal:!1};n.push(t)}return n},e.fromPath=function(s,l){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,h=[];return s.replace(n,function(c,t,o){h.push({x:parseFloat(t),y:parseFloat(o)})}),e.create(h,l)},e.centre=function(s){for(var l=e.area(s,!0),n={x:0,y:0},h,c,t,o=0;o<s.length;o++)t=(o+1)%s.length,h=i.cross(s[o],s[t]),c=i.mult(i.add(s[o],s[t]),h),n=i.add(n,c);return i.div(n,6*l)},e.mean=function(s){for(var l={x:0,y:0},n=0;n<s.length;n++)l.x+=s[n].x,l.y+=s[n].y;return i.div(l,s.length)},e.area=function(s,l){for(var n=0,h=s.length-1,c=0;c<s.length;c++)n+=(s[h].x-s[c].x)*(s[h].y+s[c].y),h=c;return l?n/2:Math.abs(n)/2},e.inertia=function(s,l){for(var n=0,h=0,c=s,t,o,a=0;a<c.length;a++)o=(a+1)%c.length,t=Math.abs(i.cross(c[o],c[a])),n+=t*(i.dot(c[o],c[o])+i.dot(c[o],c[a])+i.dot(c[a],c[a])),h+=t;return l/6*(n/h)},e.translate=function(s,l,n){n=typeof n<"u"?n:1;var h=s.length,c=l.x*n,t=l.y*n,o;for(o=0;o<h;o++)s[o].x+=c,s[o].y+=t;return s},e.rotate=function(s,l,n){if(l!==0){var h=Math.cos(l),c=Math.sin(l),t=n.x,o=n.y,a=s.length,p,w,b,E;for(E=0;E<a;E++)p=s[E],w=p.x-t,b=p.y-o,p.x=t+(w*h-b*c),p.y=o+(w*c+b*h);return s}},e.contains=function(s,l){for(var n=l.x,h=l.y,c=s.length,t=s[c-1],o,a=0;a<c;a++){if(o=s[a],(n-t.x)*(o.y-t.y)+(h-t.y)*(t.x-o.x)>0)return!1;t=o}return!0},e.scale=function(s,l,n,h){if(l===1&&n===1)return s;h=h||e.centre(s);for(var c,t,o=0;o<s.length;o++)c=s[o],t=i.sub(c,h),s[o].x=h.x+t.x*l,s[o].y=h.y+t.y*n;return s},e.chamfer=function(s,l,n,h,c){typeof l=="number"?l=[l]:l=l||[8],n=typeof n<"u"?n:-1,h=h||2,c=c||14;for(var t=[],o=0;o<s.length;o++){var a=s[o-1>=0?o-1:s.length-1],p=s[o],w=s[(o+1)%s.length],b=l[o<l.length?o:l.length-1];if(b===0){t.push(p);continue}var E=i.normalise({x:p.y-a.y,y:a.x-p.x}),A=i.normalise({x:w.y-p.y,y:p.x-w.x}),m=Math.sqrt(2*Math.pow(b,2)),S=i.mult(r.clone(E),b),y=i.normalise(i.mult(i.add(E,A),.5)),x=i.sub(p,i.mult(y,m)),P=n;n===-1&&(P=Math.pow(b,.32)*1.75),P=r.clamp(P,h,c),P%2===1&&(P+=1);for(var C=Math.acos(i.dot(E,A)),k=C/P,M=0;M<P;M++)t.push(i.add(i.rotate(S,k*M),x))}return t},e.clockwiseSort=function(s){var l=e.mean(s);return s.sort(function(n,h){return i.angle(l,n)-i.angle(l,h)}),s},e.isConvex=function(s){var l=0,n=s.length,h,c,t,o;if(n<3)return null;for(h=0;h<n;h++)if(c=(h+1)%n,t=(h+2)%n,o=(s[c].x-s[h].x)*(s[t].y-s[c].y),o-=(s[c].y-s[h].y)*(s[t].x-s[c].x),o<0?l|=1:o>0&&(l|=2),l===3)return!1;return l!==0?!0:null},e.hull=function(s){var l=[],n=[],h,c;for(s=s.slice(0),s.sort(function(t,o){var a=t.x-o.x;return a!==0?a:t.y-o.y}),c=0;c<s.length;c+=1){for(h=s[c];n.length>=2&&i.cross3(n[n.length-2],n[n.length-1],h)<=0;)n.pop();n.push(h)}for(c=s.length-1;c>=0;c-=1){for(h=s[c];l.length>=2&&i.cross3(l[l.length-2],l[l.length-1],h)<=0;)l.pop();l.push(h)}return l.pop(),n.pop(),l.concat(n)}})()},function(u,g,f){var e={};u.exports=e;var i=f(3),r=f(2),s=f(7),l=f(0),n=f(1),h=f(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var o={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},a=l.extend(o,t);return c(a,t),a},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var c=function(t,o){o=o||{},e.set(t,{bounds:t.bounds||n.create(t.vertices),positionPrev:t.positionPrev||r.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),i.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),n.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:o.axes||t.axes,area:o.area||t.area,mass:o.mass||t.mass,inertia:o.inertia||t.inertia});var a=t.isStatic?"#14151f":l.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),p=t.isStatic?"#555":"#ccc",w=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||a,t.render.strokeStyle=t.render.strokeStyle||p,t.render.lineWidth=t.render.lineWidth||w,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,o,a){var p;typeof o=="string"&&(p=o,o={},o[p]=a);for(p in o)if(Object.prototype.hasOwnProperty.call(o,p))switch(a=o[p],p){case"isStatic":e.setStatic(t,a);break;case"isSleeping":s.set(t,a);break;case"mass":e.setMass(t,a);break;case"density":e.setDensity(t,a);break;case"inertia":e.setInertia(t,a);break;case"vertices":e.setVertices(t,a);break;case"position":e.setPosition(t,a);break;case"angle":e.setAngle(t,a);break;case"velocity":e.setVelocity(t,a);break;case"angularVelocity":e.setAngularVelocity(t,a);break;case"speed":e.setSpeed(t,a);break;case"angularSpeed":e.setAngularSpeed(t,a);break;case"parts":e.setParts(t,a);break;case"centre":e.setCentre(t,a);break;default:t[p]=a}},e.setStatic=function(t,o){for(var a=0;a<t.parts.length;a++){var p=t.parts[a];o?(p.isStatic||(p._original={restitution:p.restitution,friction:p.friction,mass:p.mass,inertia:p.inertia,density:p.density,inverseMass:p.inverseMass,inverseInertia:p.inverseInertia}),p.restitution=0,p.friction=1,p.mass=p.inertia=p.density=1/0,p.inverseMass=p.inverseInertia=0,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.anglePrev=p.angle,p.angularVelocity=0,p.speed=0,p.angularSpeed=0,p.motion=0):p._original&&(p.restitution=p._original.restitution,p.friction=p._original.friction,p.mass=p._original.mass,p.inertia=p._original.inertia,p.density=p._original.density,p.inverseMass=p._original.inverseMass,p.inverseInertia=p._original.inverseInertia,p._original=null),p.isStatic=o}},e.setMass=function(t,o){var a=t.inertia/(t.mass/6);t.inertia=a*(o/6),t.inverseInertia=1/t.inertia,t.mass=o,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,o){e.setMass(t,o*t.area),t.density=o},e.setInertia=function(t,o){t.inertia=o,t.inverseInertia=1/t.inertia},e.setVertices=function(t,o){o[0].body===t?t.vertices=o:t.vertices=i.create(o,t),t.axes=h.fromVertices(t.vertices),t.area=i.area(t.vertices),e.setMass(t,t.density*t.area);var a=i.centre(t.vertices);i.translate(t.vertices,a,-1),e.setInertia(t,e._inertiaScale*i.inertia(t.vertices,t.mass)),i.translate(t.vertices,t.position),n.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,o,a){var p;for(o=o.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,p=0;p<o.length;p++){var w=o[p];w!==t&&(w.parent=t,t.parts.push(w))}if(t.parts.length!==1){if(a=typeof a<"u"?a:!0,a){var b=[];for(p=0;p<o.length;p++)b=b.concat(o[p].vertices);i.clockwiseSort(b);var E=i.hull(b),A=i.centre(E);e.setVertices(t,E),i.translate(t.vertices,A)}var m=e._totalProperties(t);t.area=m.area,t.parent=t,t.position.x=m.centre.x,t.position.y=m.centre.y,t.positionPrev.x=m.centre.x,t.positionPrev.y=m.centre.y,e.setMass(t,m.mass),e.setInertia(t,m.inertia),e.setPosition(t,m.centre)}},e.setCentre=function(t,o,a){a?(t.positionPrev.x+=o.x,t.positionPrev.y+=o.y,t.position.x+=o.x,t.position.y+=o.y):(t.positionPrev.x=o.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=o.y-(t.position.y-t.positionPrev.y),t.position.x=o.x,t.position.y=o.y)},e.setPosition=function(t,o,a){var p=r.sub(o,t.position);a?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=p.x,t.velocity.y=p.y,t.speed=r.magnitude(p)):(t.positionPrev.x+=p.x,t.positionPrev.y+=p.y);for(var w=0;w<t.parts.length;w++){var b=t.parts[w];b.position.x+=p.x,b.position.y+=p.y,i.translate(b.vertices,p),n.update(b.bounds,b.vertices,t.velocity)}},e.setAngle=function(t,o,a){var p=o-t.angle;a?(t.anglePrev=t.angle,t.angularVelocity=p,t.angularSpeed=Math.abs(p)):t.anglePrev+=p;for(var w=0;w<t.parts.length;w++){var b=t.parts[w];b.angle+=p,i.rotate(b.vertices,p,t.position),h.rotate(b.axes,p),n.update(b.bounds,b.vertices,t.velocity),w>0&&r.rotateAbout(b.position,p,t.position,b.position)}},e.setVelocity=function(t,o){var a=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-o.x*a,t.positionPrev.y=t.position.y-o.y*a,t.velocity.x=(t.position.x-t.positionPrev.x)/a,t.velocity.y=(t.position.y-t.positionPrev.y)/a,t.speed=r.magnitude(t.velocity)},e.getVelocity=function(t){var o=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*o,y:(t.position.y-t.positionPrev.y)*o}},e.getSpeed=function(t){return r.magnitude(e.getVelocity(t))},e.setSpeed=function(t,o){e.setVelocity(t,r.mult(r.normalise(e.getVelocity(t)),o))},e.setAngularVelocity=function(t,o){var a=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-o*a,t.angularVelocity=(t.angle-t.anglePrev)/a,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,o){e.setAngularVelocity(t,l.sign(e.getAngularVelocity(t))*o)},e.translate=function(t,o,a){e.setPosition(t,r.add(t.position,o),a)},e.rotate=function(t,o,a,p){if(!a)e.setAngle(t,t.angle+o,p);else{var w=Math.cos(o),b=Math.sin(o),E=t.position.x-a.x,A=t.position.y-a.y;e.setPosition(t,{x:a.x+(E*w-A*b),y:a.y+(E*b+A*w)},p),e.setAngle(t,t.angle+o,p)}},e.scale=function(t,o,a,p){var w=0,b=0;p=p||t.position;for(var E=0;E<t.parts.length;E++){var A=t.parts[E];i.scale(A.vertices,o,a,p),A.axes=h.fromVertices(A.vertices),A.area=i.area(A.vertices),e.setMass(A,t.density*A.area),i.translate(A.vertices,{x:-A.position.x,y:-A.position.y}),e.setInertia(A,e._inertiaScale*i.inertia(A.vertices,A.mass)),i.translate(A.vertices,{x:A.position.x,y:A.position.y}),E>0&&(w+=A.area,b+=A.inertia),A.position.x=p.x+(A.position.x-p.x)*o,A.position.y=p.y+(A.position.y-p.y)*a,n.update(A.bounds,A.vertices,t.velocity)}t.parts.length>1&&(t.area=w,t.isStatic||(e.setMass(t,t.density*w),e.setInertia(t,b))),t.circleRadius&&(o===a?t.circleRadius*=o:t.circleRadius=null)},e.update=function(t,o){o=(typeof o<"u"?o:1e3/60)*t.timeScale;var a=o*o,p=e._timeCorrection?o/(t.deltaTime||o):1,w=1-t.frictionAir*(o/l._baseDelta),b=(t.position.x-t.positionPrev.x)*p,E=(t.position.y-t.positionPrev.y)*p;t.velocity.x=b*w+t.force.x/t.mass*a,t.velocity.y=E*w+t.force.y/t.mass*a,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=o,t.angularVelocity=(t.angle-t.anglePrev)*w*p+t.torque/t.inertia*a,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var A=0;A<t.parts.length;A++){var m=t.parts[A];i.translate(m.vertices,t.velocity),A>0&&(m.position.x+=t.velocity.x,m.position.y+=t.velocity.y),t.angularVelocity!==0&&(i.rotate(m.vertices,t.angularVelocity,t.position),h.rotate(m.axes,t.angularVelocity),A>0&&r.rotateAbout(m.position,t.angularVelocity,t.position,m.position)),n.update(m.bounds,m.vertices,t.velocity)}},e.updateVelocities=function(t){var o=e._baseDelta/t.deltaTime,a=t.velocity;a.x=(t.position.x-t.positionPrev.x)*o,a.y=(t.position.y-t.positionPrev.y)*o,t.speed=Math.sqrt(a.x*a.x+a.y*a.y),t.angularVelocity=(t.angle-t.anglePrev)*o,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,o,a){var p={x:o.x-t.position.x,y:o.y-t.position.y};t.force.x+=a.x,t.force.y+=a.y,t.torque+=p.x*a.y-p.y*a.x},e._totalProperties=function(t){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},a=t.parts.length===1?0:1;a<t.parts.length;a++){var p=t.parts[a],w=p.mass!==1/0?p.mass:1;o.mass+=w,o.area+=p.area,o.inertia+=p.inertia,o.centre=r.add(o.centre,r.mult(p.position,w))}return o.centre=r.div(o.centre,o.mass),o}})()},function(u,g,f){var e={};u.exports=e;var i=f(0);(function(){e.on=function(r,s,l){for(var n=s.split(" "),h,c=0;c<n.length;c++)h=n[c],r.events=r.events||{},r.events[h]=r.events[h]||[],r.events[h].push(l);return l},e.off=function(r,s,l){if(!s){r.events={};return}typeof s=="function"&&(l=s,s=i.keys(r.events).join(" "));for(var n=s.split(" "),h=0;h<n.length;h++){var c=r.events[n[h]],t=[];if(l&&c)for(var o=0;o<c.length;o++)c[o]!==l&&t.push(c[o]);r.events[n[h]]=t}},e.trigger=function(r,s,l){var n,h,c,t,o=r.events;if(o&&i.keys(o).length>0){l||(l={}),n=s.split(" ");for(var a=0;a<n.length;a++)if(h=n[a],c=o[h],c){t=i.clone(l,!1),t.name=h,t.source=r;for(var p=0;p<c.length;p++)c[p].apply(r,[t])}}}})()},function(u,g,f){var e={};u.exports=e;var i=f(5),r=f(0),s=f(1),l=f(4);(function(){e.create=function(n){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},e.setModified=function(n,h,c,t){if(n.isModified=h,h&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),c&&n.parent&&e.setModified(n.parent,h,c,t),t)for(var o=0;o<n.composites.length;o++){var a=n.composites[o];e.setModified(a,h,c,t)}},e.add=function(n,h){var c=[].concat(h);i.trigger(n,"beforeAdd",{object:h});for(var t=0;t<c.length;t++){var o=c[t];switch(o.type){case"body":if(o.parent!==o){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,o);break;case"constraint":e.addConstraint(n,o);break;case"composite":e.addComposite(n,o);break;case"mouseConstraint":e.addConstraint(n,o.constraint);break}}return i.trigger(n,"afterAdd",{object:h}),n},e.remove=function(n,h,c){var t=[].concat(h);i.trigger(n,"beforeRemove",{object:h});for(var o=0;o<t.length;o++){var a=t[o];switch(a.type){case"body":e.removeBody(n,a,c);break;case"constraint":e.removeConstraint(n,a,c);break;case"composite":e.removeComposite(n,a,c);break;case"mouseConstraint":e.removeConstraint(n,a.constraint);break}}return i.trigger(n,"afterRemove",{object:h}),n},e.addComposite=function(n,h){return n.composites.push(h),h.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,h,c){var t=r.indexOf(n.composites,h);if(t!==-1){var o=e.allBodies(h);e.removeCompositeAt(n,t);for(var a=0;a<o.length;a++)o[a].sleepCounter=0}if(c)for(var a=0;a<n.composites.length;a++)e.removeComposite(n.composites[a],h,!0);return n},e.removeCompositeAt=function(n,h){return n.composites.splice(h,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,h){return n.bodies.push(h),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,h,c){var t=r.indexOf(n.bodies,h);if(t!==-1&&(e.removeBodyAt(n,t),h.sleepCounter=0),c)for(var o=0;o<n.composites.length;o++)e.removeBody(n.composites[o],h,!0);return n},e.removeBodyAt=function(n,h){return n.bodies.splice(h,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,h){return n.constraints.push(h),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,h,c){var t=r.indexOf(n.constraints,h);if(t!==-1&&e.removeConstraintAt(n,t),c)for(var o=0;o<n.composites.length;o++)e.removeConstraint(n.composites[o],h,!0);return n},e.removeConstraintAt=function(n,h){return n.constraints.splice(h,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,h,c){if(c)for(var t=0;t<n.composites.length;t++)e.clear(n.composites[t],h,!0);return h?n.bodies=n.bodies.filter(function(o){return o.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var h=[].concat(n.bodies),c=0;c<n.composites.length;c++)h=h.concat(e.allBodies(n.composites[c]));return n.cache&&(n.cache.allBodies=h),h},e.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var h=[].concat(n.constraints),c=0;c<n.composites.length;c++)h=h.concat(e.allConstraints(n.composites[c]));return n.cache&&(n.cache.allConstraints=h),h},e.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var h=[].concat(n.composites),c=0;c<n.composites.length;c++)h=h.concat(e.allComposites(n.composites[c]));return n.cache&&(n.cache.allComposites=h),h},e.get=function(n,h,c){var t,o;switch(c){case"body":t=e.allBodies(n);break;case"constraint":t=e.allConstraints(n);break;case"composite":t=e.allComposites(n).concat(n);break}return t?(o=t.filter(function(a){return a.id.toString()===h.toString()}),o.length===0?null:o[0]):null},e.move=function(n,h,c){return e.remove(n,h),e.add(c,h),n},e.rebase=function(n){for(var h=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),c=0;c<h.length;c++)h[c].id=r.nextId();return n},e.translate=function(n,h,c){for(var t=c?e.allBodies(n):n.bodies,o=0;o<t.length;o++)l.translate(t[o],h);return n},e.rotate=function(n,h,c,t){for(var o=Math.cos(h),a=Math.sin(h),p=t?e.allBodies(n):n.bodies,w=0;w<p.length;w++){var b=p[w],E=b.position.x-c.x,A=b.position.y-c.y;l.setPosition(b,{x:c.x+(E*o-A*a),y:c.y+(E*a+A*o)}),l.rotate(b,h)}return n},e.scale=function(n,h,c,t,o){for(var a=o?e.allBodies(n):n.bodies,p=0;p<a.length;p++){var w=a[p],b=w.position.x-t.x,E=w.position.y-t.y;l.setPosition(w,{x:t.x+b*h,y:t.y+E*c}),l.scale(w,h,c)}return n},e.bounds=function(n){for(var h=e.allBodies(n),c=[],t=0;t<h.length;t+=1){var o=h[t];c.push(o.bounds.min,o.bounds.max)}return s.create(c)}})()},function(u,g,f){var e={};u.exports=e;var i=f(4),r=f(5),s=f(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(l,n){for(var h=n/s._baseDelta,c=e._motionSleepThreshold,t=0;t<l.length;t++){var o=l[t],a=i.getSpeed(o),p=i.getAngularSpeed(o),w=a*a+p*p;if(o.force.x!==0||o.force.y!==0){e.set(o,!1);continue}var b=Math.min(o.motion,w),E=Math.max(o.motion,w);o.motion=e._minBias*b+(1-e._minBias)*E,o.sleepThreshold>0&&o.motion<c?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/h&&e.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},e.afterCollisions=function(l){for(var n=e._motionSleepThreshold,h=0;h<l.length;h++){var c=l[h];if(c.isActive){var t=c.collision,o=t.bodyA.parent,a=t.bodyB.parent;if(!(o.isSleeping&&a.isSleeping||o.isStatic||a.isStatic)&&(o.isSleeping||a.isSleeping)){var p=o.isSleeping&&!o.isStatic?o:a,w=p===o?a:o;!p.isStatic&&w.motion>n&&e.set(p,!1)}}}},e.set=function(l,n){var h=l.isSleeping;n?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,h||r.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,h&&r.trigger(l,"sleepEnd"))}})()},function(u,g,f){var e={};u.exports=e;var i=f(3),r=f(9);(function(){var s=[],l={overlap:0,axis:null},n={overlap:0,axis:null};e.create=function(h,c){return{pair:null,collided:!1,bodyA:h,bodyB:c,parentA:h.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(h,c,t){if(e._overlapAxes(l,h.vertices,c.vertices,h.axes),l.overlap<=0||(e._overlapAxes(n,c.vertices,h.vertices,c.axes),n.overlap<=0))return null;var o=t&&t.table[r.id(h,c)],a;o?a=o.collision:(a=e.create(h,c),a.collided=!0,a.bodyA=h.id<c.id?h:c,a.bodyB=h.id<c.id?c:h,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent),h=a.bodyA,c=a.bodyB;var p;l.overlap<n.overlap?p=l:p=n;var w=a.normal,b=a.tangent,E=a.penetration,A=a.supports,m=p.overlap,S=p.axis,y=S.x,x=S.y,P=c.position.x-h.position.x,C=c.position.y-h.position.y;y*P+x*C>=0&&(y=-y,x=-x),w.x=y,w.y=x,b.x=-x,b.y=y,E.x=y*m,E.y=x*m,a.depth=m;var k=e._findSupports(h,c,w,1),M=0;if(i.contains(h.vertices,k[0])&&(A[M++]=k[0]),i.contains(h.vertices,k[1])&&(A[M++]=k[1]),M<2){var T=e._findSupports(c,h,w,-1);i.contains(c.vertices,T[0])&&(A[M++]=T[0]),M<2&&i.contains(c.vertices,T[1])&&(A[M++]=T[1])}return M===0&&(A[M++]=k[0]),a.supportCount=M,a},e._overlapAxes=function(h,c,t,o){var a=c.length,p=t.length,w=c[0].x,b=c[0].y,E=t[0].x,A=t[0].y,m=o.length,S=Number.MAX_VALUE,y=0,x,P,C,k,M,T;for(M=0;M<m;M++){var R=o[M],F=R.x,N=R.y,L=w*F+b*N,_=E*F+A*N,K=L,G=_;for(T=1;T<a;T+=1)k=c[T].x*F+c[T].y*N,k>K?K=k:k<L&&(L=k);for(T=1;T<p;T+=1)k=t[T].x*F+t[T].y*N,k>G?G=k:k<_&&(_=k);if(P=K-_,C=G-L,x=P<C?P:C,x<S&&(S=x,y=M,x<=0))break}h.axis=o[y],h.overlap=S},e._findSupports=function(h,c,t,o){var a=c.vertices,p=a.length,w=h.position.x,b=h.position.y,E=t.x*o,A=t.y*o,m=a[0],S=m,y=E*(w-S.x)+A*(b-S.y),x,P,C;for(C=1;C<p;C+=1)S=a[C],P=E*(w-S.x)+A*(b-S.y),P<y&&(y=P,m=S);return x=a[(p+m.index-1)%p],y=E*(w-x.x)+A*(b-x.y),S=a[(m.index+1)%p],E*(w-S.x)+A*(b-S.y)<y?(s[0]=m,s[1]=S,s):(s[0]=m,s[1]=x,s)}})()},function(u,g,f){var e={};u.exports=e;var i=f(16);(function(){e.create=function(r,s){var l=r.bodyA,n=r.bodyB,h={id:e.id(l,n),bodyA:l,bodyB:n,collision:r,contacts:[i.create(),i.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||n.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(h,r,s),h},e.update=function(r,s,l){var n=s.supports,h=s.supportCount,c=r.contacts,t=s.parentA,o=s.parentB;r.isActive=!0,r.timeUpdated=l,r.collision=s,r.separation=s.depth,r.inverseMass=t.inverseMass+o.inverseMass,r.friction=t.friction<o.friction?t.friction:o.friction,r.frictionStatic=t.frictionStatic>o.frictionStatic?t.frictionStatic:o.frictionStatic,r.restitution=t.restitution>o.restitution?t.restitution:o.restitution,r.slop=t.slop>o.slop?t.slop:o.slop,r.contactCount=h,s.pair=r;var a=n[0],p=c[0],w=n[1],b=c[1];(b.vertex===a||p.vertex===w)&&(c[1]=p,c[0]=p=b,b=c[1]),p.vertex=a,b.vertex=w},e.setActive=function(r,s,l){s?(r.isActive=!0,r.timeUpdated=l):(r.isActive=!1,r.contactCount=0)},e.id=function(r,s){return r.id<s.id?r.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+r.id.toString(36)}})()},function(u,g,f){var e={};u.exports=e;var i=f(3),r=f(2),s=f(7),l=f(1),n=f(11),h=f(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(c){var t=c;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var o=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,a=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,p=r.magnitude(r.sub(o,a));t.length=typeof t.length<"u"?t.length:p,t.id=t.id||h.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var w={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(w.type="pin",w.anchors=!1):t.stiffness<.9&&(w.type="spring"),t.render=h.extend(w,t.render),t},e.preSolveAll=function(c){for(var t=0;t<c.length;t+=1){var o=c[t],a=o.constraintImpulse;o.isStatic||a.x===0&&a.y===0&&a.angle===0||(o.position.x+=a.x,o.position.y+=a.y,o.angle+=a.angle)}},e.solveAll=function(c,t){for(var o=h.clamp(t/h._baseDelta,0,1),a=0;a<c.length;a+=1){var p=c[a],w=!p.bodyA||p.bodyA&&p.bodyA.isStatic,b=!p.bodyB||p.bodyB&&p.bodyB.isStatic;(w||b)&&e.solve(c[a],o)}for(a=0;a<c.length;a+=1)p=c[a],w=!p.bodyA||p.bodyA&&p.bodyA.isStatic,b=!p.bodyB||p.bodyB&&p.bodyB.isStatic,!w&&!b&&e.solve(c[a],o)},e.solve=function(c,t){var o=c.bodyA,a=c.bodyB,p=c.pointA,w=c.pointB;if(!(!o&&!a)){o&&!o.isStatic&&(r.rotate(p,o.angle-c.angleA,p),c.angleA=o.angle),a&&!a.isStatic&&(r.rotate(w,a.angle-c.angleB,w),c.angleB=a.angle);var b=p,E=w;if(o&&(b=r.add(o.position,p)),a&&(E=r.add(a.position,w)),!(!b||!E)){var A=r.sub(b,E),m=r.magnitude(A);m<e._minLength&&(m=e._minLength);var S=(m-c.length)/m,y=c.stiffness>=1||c.length===0,x=y?c.stiffness*t:c.stiffness*t*t,P=c.damping*t,C=r.mult(A,S*x),k=(o?o.inverseMass:0)+(a?a.inverseMass:0),M=(o?o.inverseInertia:0)+(a?a.inverseInertia:0),T=k+M,R,F,N,L,_;if(P>0){var K=r.create();N=r.div(A,m),_=r.sub(a&&r.sub(a.position,a.positionPrev)||K,o&&r.sub(o.position,o.positionPrev)||K),L=r.dot(N,_)}o&&!o.isStatic&&(F=o.inverseMass/k,o.constraintImpulse.x-=C.x*F,o.constraintImpulse.y-=C.y*F,o.position.x-=C.x*F,o.position.y-=C.y*F,P>0&&(o.positionPrev.x-=P*N.x*L*F,o.positionPrev.y-=P*N.y*L*F),R=r.cross(p,C)/T*e._torqueDampen*o.inverseInertia*(1-c.angularStiffness),o.constraintImpulse.angle-=R,o.angle-=R),a&&!a.isStatic&&(F=a.inverseMass/k,a.constraintImpulse.x+=C.x*F,a.constraintImpulse.y+=C.y*F,a.position.x+=C.x*F,a.position.y+=C.y*F,P>0&&(a.positionPrev.x+=P*N.x*L*F,a.positionPrev.y+=P*N.y*L*F),R=r.cross(w,C)/T*e._torqueDampen*a.inverseInertia*(1-c.angularStiffness),a.constraintImpulse.angle+=R,a.angle+=R)}}},e.postSolveAll=function(c){for(var t=0;t<c.length;t++){var o=c[t],a=o.constraintImpulse;if(!(o.isStatic||a.x===0&&a.y===0&&a.angle===0)){s.set(o,!1);for(var p=0;p<o.parts.length;p++){var w=o.parts[p];i.translate(w.vertices,a),p>0&&(w.position.x+=a.x,w.position.y+=a.y),a.angle!==0&&(i.rotate(w.vertices,a.angle,o.position),n.rotate(w.axes,a.angle),p>0&&r.rotateAbout(w.position,a.angle,o.position,w.position)),l.update(w.bounds,w.vertices,o.velocity)}a.angle*=e._warming,a.x*=e._warming,a.y*=e._warming}}},e.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},e.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},e.currentLength=function(c){var t=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),o=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),a=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),p=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),w=t-a,b=o-p;return Math.sqrt(w*w+b*b)}})()},function(u,g,f){var e={};u.exports=e;var i=f(2),r=f(0);(function(){e.fromVertices=function(s){for(var l={},n=0;n<s.length;n++){var h=(n+1)%s.length,c=i.normalise({x:s[h].y-s[n].y,y:s[n].x-s[h].x}),t=c.y===0?1/0:c.x/c.y;t=t.toFixed(3).toString(),l[t]=c}return r.values(l)},e.rotate=function(s,l){if(l!==0)for(var n=Math.cos(l),h=Math.sin(l),c=0;c<s.length;c++){var t=s[c],o;o=t.x*n-t.y*h,t.y=t.x*h+t.y*n,t.x=o}}})()},function(u,g,f){var e={};u.exports=e;var i=f(3),r=f(0),s=f(4),l=f(1),n=f(2);(function(){e.rectangle=function(h,c,t,o,a){a=a||{};var p={label:"Rectangle Body",position:{x:h,y:c},vertices:i.fromPath("L 0 0 L "+t+" 0 L "+t+" "+o+" L 0 "+o)};if(a.chamfer){var w=a.chamfer;p.vertices=i.chamfer(p.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete a.chamfer}return s.create(r.extend({},p,a))},e.trapezoid=function(h,c,t,o,a,p){p=p||{},a>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1."),a*=.5;var w=(1-a*2)*t,b=t*a,E=b+w,A=E+b,m;a<.5?m="L 0 0 L "+b+" "+-o+" L "+E+" "+-o+" L "+A+" 0":m="L 0 0 L "+E+" "+-o+" L "+A+" 0";var S={label:"Trapezoid Body",position:{x:h,y:c},vertices:i.fromPath(m)};if(p.chamfer){var y=p.chamfer;S.vertices=i.chamfer(S.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete p.chamfer}return s.create(r.extend({},S,p))},e.circle=function(h,c,t,o,a){o=o||{};var p={label:"Circle Body",circleRadius:t};a=a||25;var w=Math.ceil(Math.max(10,Math.min(a,t)));return w%2===1&&(w+=1),e.polygon(h,c,w,t,r.extend({},p,o))},e.polygon=function(h,c,t,o,a){if(a=a||{},t<3)return e.circle(h,c,o,a);for(var p=2*Math.PI/t,w="",b=p*.5,E=0;E<t;E+=1){var A=b+E*p,m=Math.cos(A)*o,S=Math.sin(A)*o;w+="L "+m.toFixed(3)+" "+S.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:h,y:c},vertices:i.fromPath(w)};if(a.chamfer){var x=a.chamfer;y.vertices=i.chamfer(y.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete a.chamfer}return s.create(r.extend({},y,a))},e.fromVertices=function(h,c,t,o,a,p,w,b){var E=r.getDecomp(),A,m,S,y,x,P,C,k,M,T,R;for(A=!!(E&&E.quickDecomp),o=o||{},S=[],a=typeof a<"u"?a:!1,p=typeof p<"u"?p:.01,w=typeof w<"u"?w:10,b=typeof b<"u"?b:.01,r.isArray(t[0])||(t=[t]),T=0;T<t.length;T+=1)if(P=t[T],y=i.isConvex(P),x=!y,x&&!A&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),y||!A)y?P=i.clockwiseSort(P):P=i.hull(P),S.push({position:{x:h,y:c},vertices:P});else{var F=P.map(function(I){return[I.x,I.y]});E.makeCCW(F),p!==!1&&E.removeCollinearPoints(F,p),b!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(F,b);var N=E.quickDecomp(F);for(C=0;C<N.length;C++){var L=N[C],_=L.map(function(I){return{x:I[0],y:I[1]}});w>0&&i.area(_)<w||S.push({position:i.centre(_),vertices:_})}}for(C=0;C<S.length;C++)S[C]=s.create(r.extend(S[C],o));if(a){var K=5;for(C=0;C<S.length;C++){var G=S[C];for(k=C+1;k<S.length;k++){var J=S[k];if(l.overlaps(G.bounds,J.bounds)){var j=G.vertices,$=J.vertices;for(M=0;M<G.vertices.length;M++)for(R=0;R<J.vertices.length;R++){var ve=n.magnitudeSquared(n.sub(j[(M+1)%j.length],$[R])),B=n.magnitudeSquared(n.sub(j[M],$[(R+1)%$.length]));ve<K&&B<K&&(j[M].isInternal=!0,$[R].isInternal=!0)}}}}}return S.length>1?(m=s.create(r.extend({parts:S.slice(0)},o)),s.setPosition(m,{x:h,y:c}),m):S[0]}})()},function(u,g,f){var e={};u.exports=e;var i=f(0),r=f(8);(function(){e.create=function(s){var l={bodies:[],collisions:[],pairs:null};return i.extend(l,s)},e.setBodies=function(s,l){s.bodies=l.slice(0)},e.clear=function(s){s.bodies=[],s.collisions=[]},e.collisions=function(s){var l=s.pairs,n=s.bodies,h=n.length,c=e.canCollide,t=r.collides,o=s.collisions,a=0,p,w;for(n.sort(e._compareBoundsX),p=0;p<h;p++){var b=n[p],E=b.bounds,A=b.bounds.max.x,m=b.bounds.max.y,S=b.bounds.min.y,y=b.isStatic||b.isSleeping,x=b.parts.length,P=x===1;for(w=p+1;w<h;w++){var C=n[w],k=C.bounds;if(k.min.x>A)break;if(!(m<k.min.y||S>k.max.y)&&!(y&&(C.isStatic||C.isSleeping))&&c(b.collisionFilter,C.collisionFilter)){var M=C.parts.length;if(P&&M===1){var T=t(b,C,l);T&&(o[a++]=T)}else for(var R=x>1?1:0,F=M>1?1:0,N=R;N<x;N++)for(var L=b.parts[N],E=L.bounds,_=F;_<M;_++){var K=C.parts[_],k=K.bounds;if(!(E.min.x>k.max.x||E.max.x<k.min.x||E.max.y<k.min.y||E.min.y>k.max.y)){var T=t(L,K,l);T&&(o[a++]=T)}}}}}return o.length!==a&&(o.length=a),o},e.canCollide=function(s,l){return s.group===l.group&&s.group!==0?s.group>0:(s.mask&l.category)!==0&&(l.mask&s.category)!==0},e._compareBoundsX=function(s,l){return s.bounds.min.x-l.bounds.min.x}})()},function(u,g,f){var e={};u.exports=e;var i=f(0);(function(){e.create=function(r){var s={};return r||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),s.element=r||document.body,s.absolute={x:0,y:0},s.position={x:0,y:0},s.mousedownPosition={x:0,y:0},s.mouseupPosition={x:0,y:0},s.offset={x:0,y:0},s.scale={x:1,y:1},s.wheelDelta=0,s.button=-1,s.pixelRatio=parseInt(s.element.getAttribute("data-pixel-ratio"),10)||1,s.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},s.mousemove=function(l){var n=e._getRelativeMousePosition(l,s.element,s.pixelRatio),h=l.changedTouches;h&&(s.button=0,l.preventDefault()),s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.sourceEvents.mousemove=l},s.mousedown=function(l){var n=e._getRelativeMousePosition(l,s.element,s.pixelRatio),h=l.changedTouches;h?(s.button=0,l.preventDefault()):s.button=l.button,s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mousedownPosition.x=s.position.x,s.mousedownPosition.y=s.position.y,s.sourceEvents.mousedown=l},s.mouseup=function(l){var n=e._getRelativeMousePosition(l,s.element,s.pixelRatio),h=l.changedTouches;h&&l.preventDefault(),s.button=-1,s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mouseupPosition.x=s.position.x,s.mouseupPosition.y=s.position.y,s.sourceEvents.mouseup=l},s.mousewheel=function(l){s.wheelDelta=Math.max(-1,Math.min(1,l.wheelDelta||-l.detail)),l.preventDefault(),s.sourceEvents.mousewheel=l},e.setElement(s,s.element),s},e.setElement=function(r,s){r.element=s,s.addEventListener("mousemove",r.mousemove,{passive:!0}),s.addEventListener("mousedown",r.mousedown,{passive:!0}),s.addEventListener("mouseup",r.mouseup,{passive:!0}),s.addEventListener("wheel",r.mousewheel,{passive:!1}),s.addEventListener("touchmove",r.mousemove,{passive:!1}),s.addEventListener("touchstart",r.mousedown,{passive:!1}),s.addEventListener("touchend",r.mouseup,{passive:!1})},e.clearSourceEvents=function(r){r.sourceEvents.mousemove=null,r.sourceEvents.mousedown=null,r.sourceEvents.mouseup=null,r.sourceEvents.mousewheel=null,r.wheelDelta=0},e.setOffset=function(r,s){r.offset.x=s.x,r.offset.y=s.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e.setScale=function(r,s){r.scale.x=s.x,r.scale.y=s.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e._getRelativeMousePosition=function(r,s,l){var n=s.getBoundingClientRect(),h=document.documentElement||document.body.parentNode||document.body,c=window.pageXOffset!==void 0?window.pageXOffset:h.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:h.scrollTop,o=r.changedTouches,a,p;return o?(a=o[0].pageX-n.left-c,p=o[0].pageY-n.top-t):(a=r.pageX-n.left-c,p=r.pageY-n.top-t),{x:a/(s.clientWidth/(s.width||s.clientWidth)*l),y:p/(s.clientHeight/(s.height||s.clientHeight)*l)}}})()},function(u,g,f){var e={};u.exports=e;var i=f(0);(function(){e._registry={},e.register=function(r){if(e.isPlugin(r)||i.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var s=e._registry[r.name],l=e.versionParse(r.version).number,n=e.versionParse(s.version).number;l>n?(i.warn("Plugin.register:",e.toString(s),"was upgraded to",e.toString(r)),e._registry[r.name]=r):l<n?i.warn("Plugin.register:",e.toString(s),"can not be downgraded to",e.toString(r)):r!==s&&i.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(r){return e._registry[e.dependencyParse(r).name]},e.toString=function(r){return typeof r=="string"?r:(r.name||"anonymous")+"@"+(r.version||r.range||"0.0.0")},e.isPlugin=function(r){return r&&r.name&&r.version&&r.install},e.isUsed=function(r,s){return r.used.indexOf(s)>-1},e.isFor=function(r,s){var l=r.for&&e.dependencyParse(r.for);return!r.for||s.name===l.name&&e.versionSatisfies(s.version,l.range)},e.use=function(r,s){if(r.uses=(r.uses||[]).concat(s||[]),r.uses.length===0){i.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.");return}for(var l=e.dependencies(r),n=i.topologicalSort(l),h=[],c=0;c<n.length;c+=1)if(n[c]!==r.name){var t=e.resolve(n[c]);if(!t){h.push("❌ "+n[c]);continue}e.isUsed(r,t.name)||(e.isFor(t,r)||(i.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(r)+"."),t._warned=!0),t.install?t.install(r):(i.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(h.push("🔶 "+e.toString(t)),delete t._warned):h.push("✅ "+e.toString(t)),r.used.push(t.name))}h.length>0&&i.info(h.join("  "))},e.dependencies=function(r,s){var l=e.dependencyParse(r),n=l.name;if(s=s||{},!(n in s)){r=e.resolve(r)||r,s[n]=i.map(r.uses||[],function(c){e.isPlugin(c)&&e.register(c);var t=e.dependencyParse(c),o=e.resolve(c);return o&&!e.versionSatisfies(o.version,t.range)?(i.warn("Plugin.dependencies:",e.toString(o),"does not satisfy",e.toString(t),"used by",e.toString(l)+"."),o._warned=!0,r._warned=!0):o||(i.warn("Plugin.dependencies:",e.toString(c),"used by",e.toString(l),"could not be resolved."),r._warned=!0),t.name});for(var h=0;h<s[n].length;h+=1)e.dependencies(s[n][h],s);return s}},e.dependencyParse=function(r){if(i.isString(r)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(r)||i.warn("Plugin.dependencyParse:",r,"is not a valid dependency string."),{name:r.split("@")[0],range:r.split("@")[1]||"*"}}return{name:r.name,range:r.range||r.version}},e.versionParse=function(r){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(r)||i.warn("Plugin.versionParse:",r,"is not a valid version or range.");var l=s.exec(r),n=Number(l[4]),h=Number(l[5]),c=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:r,operator:l[1]||l[2]||"",major:n,minor:h,patch:c,parts:[n,h,c],prerelease:l[7],number:n*1e8+h*1e4+c}},e.versionSatisfies=function(r,s){s=s||"*";var l=e.versionParse(s),n=e.versionParse(r);if(l.isRange){if(l.operator==="*"||r==="*")return!0;if(l.operator===">")return n.number>l.number;if(l.operator===">=")return n.number>=l.number;if(l.operator==="~")return n.major===l.major&&n.minor===l.minor&&n.patch>=l.patch;if(l.operator==="^")return l.major>0?n.major===l.major&&n.number>=l.number:l.minor>0?n.minor===l.minor&&n.patch>=l.patch:n.patch===l.patch}return r===s||r==="*"}})()},function(u,g){var f={};u.exports=f,function(){f.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(u,g,f){var e={};u.exports=e;var i=f(7),r=f(18),s=f(13),l=f(19),n=f(5),h=f(6),c=f(10),t=f(0),o=f(4);(function(){e._deltaMax=1e3/60,e.create=function(a){a=a||{};var p={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},w=t.extend(p,a);return w.world=a.world||h.create({label:"World"}),w.pairs=a.pairs||l.create(),w.detector=a.detector||s.create(),w.detector.pairs=w.pairs,w.grid={buckets:[]},w.world.gravity=w.gravity,w.broadphase=w.grid,w.metrics={},w},e.update=function(a,p){var w=t.now(),b=a.world,E=a.detector,A=a.pairs,m=a.timing,S=m.timestamp,y;p>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),p=typeof p<"u"?p:t._baseDelta,p*=m.timeScale,m.timestamp+=p,m.lastDelta=p;var x={timestamp:m.timestamp,delta:p};n.trigger(a,"beforeUpdate",x);var P=h.allBodies(b),C=h.allConstraints(b);for(b.isModified&&(s.setBodies(E,P),h.setModified(b,!1,!1,!0)),a.enableSleeping&&i.update(P,p),e._bodiesApplyGravity(P,a.gravity),p>0&&e._bodiesUpdate(P,p),n.trigger(a,"beforeSolve",x),c.preSolveAll(P),y=0;y<a.constraintIterations;y++)c.solveAll(C,p);c.postSolveAll(P);var k=s.collisions(E);l.update(A,k,S),a.enableSleeping&&i.afterCollisions(A.list),A.collisionStart.length>0&&n.trigger(a,"collisionStart",{pairs:A.collisionStart,timestamp:m.timestamp,delta:p});var M=t.clamp(20/a.positionIterations,0,1);for(r.preSolvePosition(A.list),y=0;y<a.positionIterations;y++)r.solvePosition(A.list,p,M);for(r.postSolvePosition(P),c.preSolveAll(P),y=0;y<a.constraintIterations;y++)c.solveAll(C,p);for(c.postSolveAll(P),r.preSolveVelocity(A.list),y=0;y<a.velocityIterations;y++)r.solveVelocity(A.list,p);return e._bodiesUpdateVelocities(P),A.collisionActive.length>0&&n.trigger(a,"collisionActive",{pairs:A.collisionActive,timestamp:m.timestamp,delta:p}),A.collisionEnd.length>0&&n.trigger(a,"collisionEnd",{pairs:A.collisionEnd,timestamp:m.timestamp,delta:p}),e._bodiesClearForces(P),n.trigger(a,"afterUpdate",x),a.timing.lastElapsed=t.now()-w,a},e.merge=function(a,p){if(t.extend(a,p),p.world){a.world=p.world,e.clear(a);for(var w=h.allBodies(a.world),b=0;b<w.length;b++){var E=w[b];i.set(E,!1),E.id=t.nextId()}}},e.clear=function(a){l.clear(a.pairs),s.clear(a.detector)},e._bodiesClearForces=function(a){for(var p=a.length,w=0;w<p;w++){var b=a[w];b.force.x=0,b.force.y=0,b.torque=0}},e._bodiesApplyGravity=function(a,p){var w=typeof p.scale<"u"?p.scale:.001,b=a.length;if(!(p.x===0&&p.y===0||w===0))for(var E=0;E<b;E++){var A=a[E];A.isStatic||A.isSleeping||(A.force.y+=A.mass*p.y*w,A.force.x+=A.mass*p.x*w)}},e._bodiesUpdate=function(a,p){for(var w=a.length,b=0;b<w;b++){var E=a[b];E.isStatic||E.isSleeping||o.update(E,p)}},e._bodiesUpdateVelocities=function(a){for(var p=a.length,w=0;w<p;w++)o.updateVelocities(a[w])}})()},function(u,g,f){var e={};u.exports=e;var i=f(3),r=f(0),s=f(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(l){var n,h,c,t=l.length;for(n=0;n<t;n++)h=l[n],h.isActive&&(c=h.contactCount,h.collision.parentA.totalContacts+=c,h.collision.parentB.totalContacts+=c)},e.solvePosition=function(l,n,h){var c,t,o,a,p,w,b,E,A=e._positionDampen*(h||1),m=r.clamp(n/r._baseDelta,0,1),S=l.length;for(c=0;c<S;c++)t=l[c],!(!t.isActive||t.isSensor)&&(o=t.collision,a=o.parentA,p=o.parentB,w=o.normal,t.separation=o.depth+w.x*(p.positionImpulse.x-a.positionImpulse.x)+w.y*(p.positionImpulse.y-a.positionImpulse.y));for(c=0;c<S;c++)t=l[c],!(!t.isActive||t.isSensor)&&(o=t.collision,a=o.parentA,p=o.parentB,w=o.normal,E=t.separation-t.slop*m,(a.isStatic||p.isStatic)&&(E*=2),a.isStatic||a.isSleeping||(b=A/a.totalContacts,a.positionImpulse.x+=w.x*E*b,a.positionImpulse.y+=w.y*E*b),p.isStatic||p.isSleeping||(b=A/p.totalContacts,p.positionImpulse.x-=w.x*E*b,p.positionImpulse.y-=w.y*E*b))},e.postSolvePosition=function(l){for(var n=e._positionWarming,h=l.length,c=i.translate,t=s.update,o=0;o<h;o++){var a=l[o],p=a.positionImpulse,w=p.x,b=p.y,E=a.velocity;if(a.totalContacts=0,w!==0||b!==0){for(var A=0;A<a.parts.length;A++){var m=a.parts[A];c(m.vertices,p),t(m.bounds,m.vertices,E),m.position.x+=w,m.position.y+=b}a.positionPrev.x+=w,a.positionPrev.y+=b,w*E.x+b*E.y<0?(p.x=0,p.y=0):(p.x*=n,p.y*=n)}}},e.preSolveVelocity=function(l){var n=l.length,h,c;for(h=0;h<n;h++){var t=l[h];if(!(!t.isActive||t.isSensor)){var o=t.contacts,a=t.contactCount,p=t.collision,w=p.parentA,b=p.parentB,E=p.normal,A=p.tangent;for(c=0;c<a;c++){var m=o[c],S=m.vertex,y=m.normalImpulse,x=m.tangentImpulse;if(y!==0||x!==0){var P=E.x*y+A.x*x,C=E.y*y+A.y*x;w.isStatic||w.isSleeping||(w.positionPrev.x+=P*w.inverseMass,w.positionPrev.y+=C*w.inverseMass,w.anglePrev+=w.inverseInertia*((S.x-w.position.x)*C-(S.y-w.position.y)*P)),b.isStatic||b.isSleeping||(b.positionPrev.x-=P*b.inverseMass,b.positionPrev.y-=C*b.inverseMass,b.anglePrev-=b.inverseInertia*((S.x-b.position.x)*C-(S.y-b.position.y)*P))}}}}},e.solveVelocity=function(l,n){var h=n/r._baseDelta,c=h*h,t=c*h,o=-e._restingThresh*h,a=e._restingThreshTangent,p=e._frictionNormalMultiplier*h,w=e._frictionMaxStatic,b=l.length,E,A,m,S;for(m=0;m<b;m++){var y=l[m];if(!(!y.isActive||y.isSensor)){var x=y.collision,P=x.parentA,C=x.parentB,k=x.normal.x,M=x.normal.y,T=x.tangent.x,R=x.tangent.y,F=y.inverseMass,N=y.friction*y.frictionStatic*p,L=y.contacts,_=y.contactCount,K=1/_,G=P.position.x-P.positionPrev.x,J=P.position.y-P.positionPrev.y,j=P.angle-P.anglePrev,$=C.position.x-C.positionPrev.x,ve=C.position.y-C.positionPrev.y,B=C.angle-C.anglePrev;for(S=0;S<_;S++){var I=L[S],O=I.vertex,D=O.x-P.position.x,H=O.y-P.position.y,V=O.x-C.position.x,z=O.y-C.position.y,Q=G-H*j,re=J+D*j,se=$-z*B,ce=ve+V*B,Ie=Q-se,Je=re-ce,Pe=k*Ie+M*Je,me=T*Ie+R*Je,De=y.separation+Pe,le=Math.min(De,1);le=De<0?0:le;var Re=le*N;me<-Re||me>Re?(A=me>0?me:-me,E=y.friction*(me>0?1:-1)*t,E<-A?E=-A:E>A&&(E=A)):(E=me,A=w);var he=D*M-H*k,Ne=V*M-z*k,ge=K/(F+P.inverseInertia*he*he+C.inverseInertia*Ne*Ne),Oe=(1+y.restitution)*Pe*ge;if(E*=ge,Pe<o)I.normalImpulse=0;else{var Se=I.normalImpulse;I.normalImpulse+=Oe,I.normalImpulse>0&&(I.normalImpulse=0),Oe=I.normalImpulse-Se}if(me<-a||me>a)I.tangentImpulse=0;else{var Ge=I.tangentImpulse;I.tangentImpulse+=E,I.tangentImpulse<-A&&(I.tangentImpulse=-A),I.tangentImpulse>A&&(I.tangentImpulse=A),E=I.tangentImpulse-Ge}var pe=k*Oe+T*E,ue=M*Oe+R*E;P.isStatic||P.isSleeping||(P.positionPrev.x+=pe*P.inverseMass,P.positionPrev.y+=ue*P.inverseMass,P.anglePrev+=(D*ue-H*pe)*P.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=pe*C.inverseMass,C.positionPrev.y-=ue*C.inverseMass,C.anglePrev-=(V*ue-z*pe)*C.inverseInertia)}}}}})()},function(u,g,f){var e={};u.exports=e;var i=f(9),r=f(0);(function(){e.create=function(s){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},e.update=function(s,l,n){var h=i.update,c=i.create,t=i.setActive,o=s.table,a=s.list,p=a.length,w=p,b=s.collisionStart,E=s.collisionEnd,A=s.collisionActive,m=l.length,S=0,y=0,x=0,P,C,k;for(k=0;k<m;k++)P=l[k],C=P.pair,C?(C.isActive&&(A[x++]=C),h(C,P,n)):(C=c(P,n),o[C.id]=C,b[S++]=C,a[w++]=C);for(w=0,p=a.length,k=0;k<p;k++)C=a[k],C.timeUpdated>=n?a[w++]=C:(t(C,!1,n),C.collision.bodyA.sleepCounter>0&&C.collision.bodyB.sleepCounter>0?a[w++]=C:(E[y++]=C,delete o[C.id]));a.length!==w&&(a.length=w),b.length!==S&&(b.length=S),E.length!==y&&(E.length=y),A.length!==x&&(A.length=x)},e.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},function(u,g,f){var e=u.exports=f(21);e.Axes=f(11),e.Bodies=f(12),e.Body=f(4),e.Bounds=f(1),e.Collision=f(8),e.Common=f(0),e.Composite=f(6),e.Composites=f(22),e.Constraint=f(10),e.Contact=f(16),e.Detector=f(13),e.Engine=f(17),e.Events=f(5),e.Grid=f(23),e.Mouse=f(14),e.MouseConstraint=f(24),e.Pair=f(9),e.Pairs=f(19),e.Plugin=f(15),e.Query=f(25),e.Render=f(26),e.Resolver=f(18),e.Runner=f(27),e.SAT=f(28),e.Sleeping=f(7),e.Svg=f(29),e.Vector=f(2),e.Vertices=f(3),e.World=f(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(u,g,f){var e={};u.exports=e;var i=f(15),r=f(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){i.use(e,Array.prototype.slice.call(arguments))},e.before=function(s,l){return s=s.replace(/^Matter./,""),r.chainPathBefore(e,s,l)},e.after=function(s,l){return s=s.replace(/^Matter./,""),r.chainPathAfter(e,s,l)}})()},function(u,g,f){var e={};u.exports=e;var i=f(6),r=f(10),s=f(0),l=f(4),n=f(12),h=s.deprecated;(function(){e.stack=function(c,t,o,a,p,w,b){for(var E=i.create({label:"Stack"}),A=c,m=t,S,y=0,x=0;x<a;x++){for(var P=0,C=0;C<o;C++){var k=b(A,m,C,x,S,y);if(k){var M=k.bounds.max.y-k.bounds.min.y,T=k.bounds.max.x-k.bounds.min.x;M>P&&(P=M),l.translate(k,{x:T*.5,y:M*.5}),A=k.bounds.max.x+p,i.addBody(E,k),S=k,y+=1}else A+=p}m+=P+w,A=c}return E},e.chain=function(c,t,o,a,p,w){for(var b=c.bodies,E=1;E<b.length;E++){var A=b[E-1],m=b[E],S=A.bounds.max.y-A.bounds.min.y,y=A.bounds.max.x-A.bounds.min.x,x=m.bounds.max.y-m.bounds.min.y,P=m.bounds.max.x-m.bounds.min.x,C={bodyA:A,pointA:{x:y*t,y:S*o},bodyB:m,pointB:{x:P*a,y:x*p}},k=s.extend(C,w);i.addConstraint(c,r.create(k))}return c.label+=" Chain",c},e.mesh=function(c,t,o,a,p){var w=c.bodies,b,E,A,m,S;for(b=0;b<o;b++){for(E=1;E<t;E++)A=w[E-1+b*t],m=w[E+b*t],i.addConstraint(c,r.create(s.extend({bodyA:A,bodyB:m},p)));if(b>0)for(E=0;E<t;E++)A=w[E+(b-1)*t],m=w[E+b*t],i.addConstraint(c,r.create(s.extend({bodyA:A,bodyB:m},p))),a&&E>0&&(S=w[E-1+(b-1)*t],i.addConstraint(c,r.create(s.extend({bodyA:S,bodyB:m},p)))),a&&E<t-1&&(S=w[E+1+(b-1)*t],i.addConstraint(c,r.create(s.extend({bodyA:S,bodyB:m},p))))}return c.label+=" Mesh",c},e.pyramid=function(c,t,o,a,p,w,b){return e.stack(c,t,o,a,p,w,function(E,A,m,S,y,x){var P=Math.min(a,Math.ceil(o/2)),C=y?y.bounds.max.x-y.bounds.min.x:0;if(!(S>P)){S=P-S;var k=S,M=o-1-S;if(!(m<k||m>M)){x===1&&l.translate(y,{x:(m+(o%2===1?1:-1))*C,y:0});var T=y?m*C:0;return b(c+T+m*p,A,m,S,y,x)}}})},e.newtonsCradle=function(c,t,o,a,p){for(var w=i.create({label:"Newtons Cradle"}),b=0;b<o;b++){var E=1.9,A=n.circle(c+b*(a*E),t+p,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=r.create({pointA:{x:c+b*(a*E),y:t},bodyB:A});i.addBody(w,A),i.addConstraint(w,m)}return w},h(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(c,t,o,a,p){var w=l.nextGroup(!0),b=20,E=-o*.5+b,A=o*.5-b,m=0,S=i.create({label:"Car"}),y=n.rectangle(c,t,o,a,{collisionFilter:{group:w},chamfer:{radius:a*.5},density:2e-4}),x=n.circle(c+E,t+m,p,{collisionFilter:{group:w},friction:.8}),P=n.circle(c+A,t+m,p,{collisionFilter:{group:w},friction:.8}),C=r.create({bodyB:y,pointB:{x:E,y:m},bodyA:x,stiffness:1,length:0}),k=r.create({bodyB:y,pointB:{x:A,y:m},bodyA:P,stiffness:1,length:0});return i.addBody(S,y),i.addBody(S,x),i.addBody(S,P),i.addConstraint(S,C),i.addConstraint(S,k),S},h(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(c,t,o,a,p,w,b,E,A,m){A=s.extend({inertia:1/0},A),m=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var S=e.stack(c,t,o,a,p,w,function(y,x){return n.circle(y,x,E,A)});return e.mesh(S,o,a,b,m),S.label="Soft Body",S},h(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(u,g,f){var e={};u.exports=e;var i=f(9),r=f(0),s=r.deprecated;(function(){e.create=function(l){var n={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(n,l)},e.update=function(l,n,h,c){var t,o,a,p=h.world,w=l.buckets,b,E,A=!1;for(t=0;t<n.length;t++){var m=n[t];if(!(m.isSleeping&&!c)&&!(p.bounds&&(m.bounds.max.x<p.bounds.min.x||m.bounds.min.x>p.bounds.max.x||m.bounds.max.y<p.bounds.min.y||m.bounds.min.y>p.bounds.max.y))){var S=e._getRegion(l,m);if(!m.region||S.id!==m.region.id||c){(!m.region||c)&&(m.region=S);var y=e._regionUnion(S,m.region);for(o=y.startCol;o<=y.endCol;o++)for(a=y.startRow;a<=y.endRow;a++){E=e._getBucketId(o,a),b=w[E];var x=o>=S.startCol&&o<=S.endCol&&a>=S.startRow&&a<=S.endRow,P=o>=m.region.startCol&&o<=m.region.endCol&&a>=m.region.startRow&&a<=m.region.endRow;!x&&P&&P&&b&&e._bucketRemoveBody(l,b,m),(m.region===S||x&&!P||c)&&(b||(b=e._createBucket(w,E)),e._bucketAddBody(l,b,m))}m.region=S,A=!0}}}A&&(l.pairsList=e._createActivePairsList(l))},s(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(l){l.buckets={},l.pairs={},l.pairsList=[]},s(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(l,n){var h=Math.min(l.startCol,n.startCol),c=Math.max(l.endCol,n.endCol),t=Math.min(l.startRow,n.startRow),o=Math.max(l.endRow,n.endRow);return e._createRegion(h,c,t,o)},e._getRegion=function(l,n){var h=n.bounds,c=Math.floor(h.min.x/l.bucketWidth),t=Math.floor(h.max.x/l.bucketWidth),o=Math.floor(h.min.y/l.bucketHeight),a=Math.floor(h.max.y/l.bucketHeight);return e._createRegion(c,t,o,a)},e._createRegion=function(l,n,h,c){return{id:l+","+n+","+h+","+c,startCol:l,endCol:n,startRow:h,endRow:c}},e._getBucketId=function(l,n){return"C"+l+"R"+n},e._createBucket=function(l,n){var h=l[n]=[];return h},e._bucketAddBody=function(l,n,h){var c=l.pairs,t=i.id,o=n.length,a;for(a=0;a<o;a++){var p=n[a];if(!(h.id===p.id||h.isStatic&&p.isStatic)){var w=t(h,p),b=c[w];b?b[2]+=1:c[w]=[h,p,1]}}n.push(h)},e._bucketRemoveBody=function(l,n,h){var c=l.pairs,t=i.id,o;n.splice(r.indexOf(n,h),1);var a=n.length;for(o=0;o<a;o++){var p=c[t(h,n[o])];p&&(p[2]-=1)}},e._createActivePairsList=function(l){var n,h=l.pairs,c=r.keys(h),t=c.length,o=[],a;for(a=0;a<t;a++)n=h[c[a]],n[2]>0?o.push(n):delete h[c[a]];return o}})()},function(u,g,f){var e={};u.exports=e;var i=f(3),r=f(7),s=f(14),l=f(5),n=f(13),h=f(10),c=f(6),t=f(0),o=f(1);(function(){e.create=function(a,p){var w=(a?a.mouse:null)||(p?p.mouse:null);w||(a&&a.render&&a.render.canvas?w=s.create(a.render.canvas):p&&p.element?w=s.create(p.element):(w=s.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var b=h.create({label:"Mouse Constraint",pointA:w.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),E={type:"mouseConstraint",mouse:w,element:null,body:null,constraint:b,collisionFilter:{category:1,mask:4294967295,group:0}},A=t.extend(E,p);return l.on(a,"beforeUpdate",function(){var m=c.allBodies(a.world);e.update(A,m),e._triggerEvents(A)}),A},e.update=function(a,p){var w=a.mouse,b=a.constraint,E=a.body;if(w.button===0){if(b.bodyB)r.set(b.bodyB,!1),b.pointA=w.position;else for(var A=0;A<p.length;A++)if(E=p[A],o.contains(E.bounds,w.position)&&n.canCollide(E.collisionFilter,a.collisionFilter))for(var m=E.parts.length>1?1:0;m<E.parts.length;m++){var S=E.parts[m];if(i.contains(S.vertices,w.position)){b.pointA=w.position,b.bodyB=a.body=E,b.pointB={x:w.position.x-E.position.x,y:w.position.y-E.position.y},b.angleB=E.angle,r.set(E,!1),l.trigger(a,"startdrag",{mouse:w,body:E});break}}}else b.bodyB=a.body=null,b.pointB=null,E&&l.trigger(a,"enddrag",{mouse:w,body:E})},e._triggerEvents=function(a){var p=a.mouse,w=p.sourceEvents;w.mousemove&&l.trigger(a,"mousemove",{mouse:p}),w.mousedown&&l.trigger(a,"mousedown",{mouse:p}),w.mouseup&&l.trigger(a,"mouseup",{mouse:p}),s.clearSourceEvents(p)}})()},function(u,g,f){var e={};u.exports=e;var i=f(2),r=f(8),s=f(1),l=f(12),n=f(3);(function(){e.collides=function(h,c){for(var t=[],o=c.length,a=h.bounds,p=r.collides,w=s.overlaps,b=0;b<o;b++){var E=c[b],A=E.parts.length,m=A===1?0:1;if(w(E.bounds,a))for(var S=m;S<A;S++){var y=E.parts[S];if(w(y.bounds,a)){var x=p(y,h);if(x){t.push(x);break}}}}return t},e.ray=function(h,c,t,o){o=o||1e-100;for(var a=i.angle(c,t),p=i.magnitude(i.sub(c,t)),w=(t.x+c.x)*.5,b=(t.y+c.y)*.5,E=l.rectangle(w,b,p,o,{angle:a}),A=e.collides(E,h),m=0;m<A.length;m+=1){var S=A[m];S.body=S.bodyB=S.bodyA}return A},e.region=function(h,c,t){for(var o=[],a=0;a<h.length;a++){var p=h[a],w=s.overlaps(p.bounds,c);(w&&!t||!w&&t)&&o.push(p)}return o},e.point=function(h,c){for(var t=[],o=0;o<h.length;o++){var a=h[o];if(s.contains(a.bounds,c))for(var p=a.parts.length===1?0:1;p<a.parts.length;p++){var w=a.parts[p];if(s.contains(w.bounds,c)&&n.contains(w.vertices,c)){t.push(a);break}}}return t}})()},function(u,g,f){var e={};u.exports=e;var i=f(4),r=f(0),s=f(6),l=f(1),n=f(5),h=f(2),c=f(14);(function(){var t,o;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(m){window.setTimeout(function(){m(r.now())},1e3/60)},o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(m){var S={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!m.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},y=r.extend(S,m);return y.canvas&&(y.canvas.width=y.options.width||y.canvas.width,y.canvas.height=y.options.height||y.canvas.height),y.mouse=m.mouse,y.engine=m.engine,y.canvas=y.canvas||w(y.options.width,y.options.height),y.context=y.canvas.getContext("2d"),y.textures={},y.bounds=y.bounds||{min:{x:0,y:0},max:{x:y.canvas.width,y:y.canvas.height}},y.controller=e,y.options.showBroadphase=!1,y.options.pixelRatio!==1&&e.setPixelRatio(y,y.options.pixelRatio),r.isElement(y.element)&&y.element.appendChild(y.canvas),y},e.run=function(m){(function S(y){m.frameRequestId=t(S),a(m,y),e.world(m,y),m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0),(m.options.showStats||m.options.showDebug)&&e.stats(m,m.context,y),(m.options.showPerformance||m.options.showDebug)&&e.performance(m,m.context,y),m.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(m){o(m.frameRequestId)},e.setPixelRatio=function(m,S){var y=m.options,x=m.canvas;S==="auto"&&(S=b(x)),y.pixelRatio=S,x.setAttribute("data-pixel-ratio",S),x.width=y.width*S,x.height=y.height*S,x.style.width=y.width+"px",x.style.height=y.height+"px"},e.setSize=function(m,S,y){m.options.width=S,m.options.height=y,m.bounds.max.x=m.bounds.min.x+S,m.bounds.max.y=m.bounds.min.y+y,m.options.pixelRatio!==1?e.setPixelRatio(m,m.options.pixelRatio):(m.canvas.width=S,m.canvas.height=y)},e.lookAt=function(m,S,y,x){x=typeof x<"u"?x:!0,S=r.isArray(S)?S:[S],y=y||{x:0,y:0};for(var P={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},C=0;C<S.length;C+=1){var k=S[C],M=k.bounds?k.bounds.min:k.min||k.position||k,T=k.bounds?k.bounds.max:k.max||k.position||k;M&&T&&(M.x<P.min.x&&(P.min.x=M.x),T.x>P.max.x&&(P.max.x=T.x),M.y<P.min.y&&(P.min.y=M.y),T.y>P.max.y&&(P.max.y=T.y))}var R=P.max.x-P.min.x+2*y.x,F=P.max.y-P.min.y+2*y.y,N=m.canvas.height,L=m.canvas.width,_=L/N,K=R/F,G=1,J=1;K>_?J=K/_:G=_/K,m.options.hasBounds=!0,m.bounds.min.x=P.min.x,m.bounds.max.x=P.min.x+R*G,m.bounds.min.y=P.min.y,m.bounds.max.y=P.min.y+F*J,x&&(m.bounds.min.x+=R*.5-R*G*.5,m.bounds.max.x+=R*.5-R*G*.5,m.bounds.min.y+=F*.5-F*J*.5,m.bounds.max.y+=F*.5-F*J*.5),m.bounds.min.x-=y.x,m.bounds.max.x-=y.x,m.bounds.min.y-=y.y,m.bounds.max.y-=y.y,m.mouse&&(c.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.canvas.width,y:(m.bounds.max.y-m.bounds.min.y)/m.canvas.height}),c.setOffset(m.mouse,m.bounds.min))},e.startViewTransform=function(m){var S=m.bounds.max.x-m.bounds.min.x,y=m.bounds.max.y-m.bounds.min.y,x=S/m.options.width,P=y/m.options.height;m.context.setTransform(m.options.pixelRatio/x,0,0,m.options.pixelRatio/P,0,0),m.context.translate(-m.bounds.min.x,-m.bounds.min.y)},e.endViewTransform=function(m){m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0)},e.world=function(m,S){var y=r.now(),x=m.engine,P=x.world,C=m.canvas,k=m.context,M=m.options,T=m.timing,R=s.allBodies(P),F=s.allConstraints(P),N=M.wireframes?M.wireframeBackground:M.background,L=[],_=[],K,G={timestamp:x.timing.timestamp};if(n.trigger(m,"beforeRender",G),m.currentBackground!==N&&A(m,N),k.globalCompositeOperation="source-in",k.fillStyle="transparent",k.fillRect(0,0,C.width,C.height),k.globalCompositeOperation="source-over",M.hasBounds){for(K=0;K<R.length;K++){var J=R[K];l.overlaps(J.bounds,m.bounds)&&L.push(J)}for(K=0;K<F.length;K++){var j=F[K],$=j.bodyA,ve=j.bodyB,B=j.pointA,I=j.pointB;$&&(B=h.add($.position,j.pointA)),ve&&(I=h.add(ve.position,j.pointB)),!(!B||!I)&&(l.contains(m.bounds,B)||l.contains(m.bounds,I))&&_.push(j)}e.startViewTransform(m),m.mouse&&(c.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.options.width,y:(m.bounds.max.y-m.bounds.min.y)/m.options.height}),c.setOffset(m.mouse,m.bounds.min))}else _=F,L=R,m.options.pixelRatio!==1&&m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0);!M.wireframes||x.enableSleeping&&M.showSleeping?e.bodies(m,L,k):(M.showConvexHulls&&e.bodyConvexHulls(m,L,k),e.bodyWireframes(m,L,k)),M.showBounds&&e.bodyBounds(m,L,k),(M.showAxes||M.showAngleIndicator)&&e.bodyAxes(m,L,k),M.showPositions&&e.bodyPositions(m,L,k),M.showVelocity&&e.bodyVelocity(m,L,k),M.showIds&&e.bodyIds(m,L,k),M.showSeparations&&e.separations(m,x.pairs.list,k),M.showCollisions&&e.collisions(m,x.pairs.list,k),M.showVertexNumbers&&e.vertexNumbers(m,L,k),M.showMousePosition&&e.mousePosition(m,m.mouse,k),e.constraints(_,k),M.hasBounds&&e.endViewTransform(m),n.trigger(m,"afterRender",G),T.lastElapsed=r.now()-y},e.stats=function(m,S,y){for(var x=m.engine,P=x.world,C=s.allBodies(P),k=0,M=55,T=44,R=0,F=0,N=0;N<C.length;N+=1)k+=C[N].parts.length;var L={Part:k,Body:C.length,Cons:s.allConstraints(P).length,Comp:s.allComposites(P).length,Pair:x.pairs.list.length};S.fillStyle="#0e0f19",S.fillRect(R,F,M*5.5,T),S.font="12px Arial",S.textBaseline="top",S.textAlign="right";for(var _ in L){var K=L[_];S.fillStyle="#aaa",S.fillText(_,R+M,F+8),S.fillStyle="#eee",S.fillText(K,R+M,F+26),R+=M}},e.performance=function(m,S){var y=m.engine,x=m.timing,P=x.deltaHistory,C=x.elapsedHistory,k=x.timestampElapsedHistory,M=x.engineDeltaHistory,T=x.engineUpdatesHistory,R=x.engineElapsedHistory,F=y.timing.lastUpdatesPerFrame,N=y.timing.lastDelta,L=p(P),_=p(C),K=p(M),G=p(T),J=p(R),j=p(k),$=j/L||0,ve=Math.round(L/N),B=1e3/L||0,I=4,O=12,D=60,H=34,V=10,z=69;S.fillStyle="#0e0f19",S.fillRect(0,50,O*5+D*6+22,H),e.status(S,V,z,D,I,P.length,Math.round(B)+" fps",B/e._goodFps,function(Q){return P[Q]/L-1}),e.status(S,V+O+D,z,D,I,M.length,N.toFixed(2)+" dt",e._goodDelta/N,function(Q){return M[Q]/K-1}),e.status(S,V+(O+D)*2,z,D,I,T.length,F+" upf",Math.pow(r.clamp(G/ve||1,0,1),4),function(Q){return T[Q]/G-1}),e.status(S,V+(O+D)*3,z,D,I,R.length,J.toFixed(2)+" ut",1-F*J/e._goodFps,function(Q){return R[Q]/J-1}),e.status(S,V+(O+D)*4,z,D,I,C.length,_.toFixed(2)+" rt",1-_/e._goodFps,function(Q){return C[Q]/_-1}),e.status(S,V+(O+D)*5,z,D,I,k.length,$.toFixed(2)+" x",$*$*$,function(Q){return(k[Q]/P[Q]/$||0)-1})},e.status=function(m,S,y,x,P,C,k,M,T){m.strokeStyle="#888",m.fillStyle="#444",m.lineWidth=1,m.fillRect(S,y+7,x,1),m.beginPath(),m.moveTo(S,y+7-P*r.clamp(.4*T(0),-2,2));for(var R=0;R<x;R+=1)m.lineTo(S+R,y+7-(R<C?P*r.clamp(.4*T(R),-2,2):0));m.stroke(),m.fillStyle="hsl("+r.clamp(25+95*M,0,120)+",100%,60%)",m.fillRect(S,y-7,4,4),m.font="12px Arial",m.textBaseline="middle",m.textAlign="right",m.fillStyle="#eee",m.fillText(k,S+x,y-5)},e.constraints=function(m,S){for(var y=S,x=0;x<m.length;x++){var P=m[x];if(!(!P.render.visible||!P.pointA||!P.pointB)){var C=P.bodyA,k=P.bodyB,M,T;if(C?M=h.add(C.position,P.pointA):M=P.pointA,P.render.type==="pin")y.beginPath(),y.arc(M.x,M.y,3,0,2*Math.PI),y.closePath();else{if(k?T=h.add(k.position,P.pointB):T=P.pointB,y.beginPath(),y.moveTo(M.x,M.y),P.render.type==="spring")for(var R=h.sub(T,M),F=h.perp(h.normalise(R)),N=Math.ceil(r.clamp(P.length/5,12,20)),L,_=1;_<N;_+=1)L=_%2===0?1:-1,y.lineTo(M.x+R.x*(_/N)+F.x*L*4,M.y+R.y*(_/N)+F.y*L*4);y.lineTo(T.x,T.y)}P.render.lineWidth&&(y.lineWidth=P.render.lineWidth,y.strokeStyle=P.render.strokeStyle,y.stroke()),P.render.anchors&&(y.fillStyle=P.render.strokeStyle,y.beginPath(),y.arc(M.x,M.y,3,0,2*Math.PI),y.arc(T.x,T.y,3,0,2*Math.PI),y.closePath(),y.fill())}}},e.bodies=function(m,S,y){var x=y;m.engine;var P=m.options,C=P.showInternalEdges||!P.wireframes,k,M,T,R;for(T=0;T<S.length;T++)if(k=S[T],!!k.render.visible){for(R=k.parts.length>1?1:0;R<k.parts.length;R++)if(M=k.parts[R],!!M.render.visible){if(P.showSleeping&&k.isSleeping?x.globalAlpha=.5*M.render.opacity:M.render.opacity!==1&&(x.globalAlpha=M.render.opacity),M.render.sprite&&M.render.sprite.texture&&!P.wireframes){var F=M.render.sprite,N=E(m,F.texture);x.translate(M.position.x,M.position.y),x.rotate(M.angle),x.drawImage(N,N.width*-F.xOffset*F.xScale,N.height*-F.yOffset*F.yScale,N.width*F.xScale,N.height*F.yScale),x.rotate(-M.angle),x.translate(-M.position.x,-M.position.y)}else{if(M.circleRadius)x.beginPath(),x.arc(M.position.x,M.position.y,M.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(M.vertices[0].x,M.vertices[0].y);for(var L=1;L<M.vertices.length;L++)!M.vertices[L-1].isInternal||C?x.lineTo(M.vertices[L].x,M.vertices[L].y):x.moveTo(M.vertices[L].x,M.vertices[L].y),M.vertices[L].isInternal&&!C&&x.moveTo(M.vertices[(L+1)%M.vertices.length].x,M.vertices[(L+1)%M.vertices.length].y);x.lineTo(M.vertices[0].x,M.vertices[0].y),x.closePath()}P.wireframes?(x.lineWidth=1,x.strokeStyle=m.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=M.render.fillStyle,M.render.lineWidth&&(x.lineWidth=M.render.lineWidth,x.strokeStyle=M.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(m,S,y){var x=y,P=m.options.showInternalEdges,C,k,M,T,R;for(x.beginPath(),M=0;M<S.length;M++)if(C=S[M],!!C.render.visible)for(R=C.parts.length>1?1:0;R<C.parts.length;R++){for(k=C.parts[R],x.moveTo(k.vertices[0].x,k.vertices[0].y),T=1;T<k.vertices.length;T++)!k.vertices[T-1].isInternal||P?x.lineTo(k.vertices[T].x,k.vertices[T].y):x.moveTo(k.vertices[T].x,k.vertices[T].y),k.vertices[T].isInternal&&!P&&x.moveTo(k.vertices[(T+1)%k.vertices.length].x,k.vertices[(T+1)%k.vertices.length].y);x.lineTo(k.vertices[0].x,k.vertices[0].y)}x.lineWidth=1,x.strokeStyle=m.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(m,S,y){var x=y,P,C,k;for(x.beginPath(),C=0;C<S.length;C++)if(P=S[C],!(!P.render.visible||P.parts.length===1)){for(x.moveTo(P.vertices[0].x,P.vertices[0].y),k=1;k<P.vertices.length;k++)x.lineTo(P.vertices[k].x,P.vertices[k].y);x.lineTo(P.vertices[0].x,P.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(m,S,y){var x=y,P,C,k;for(P=0;P<S.length;P++){var M=S[P].parts;for(k=M.length>1?1:0;k<M.length;k++){var T=M[k];for(C=0;C<T.vertices.length;C++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(P+"_"+C,T.position.x+(T.vertices[C].x-T.position.x)*.8,T.position.y+(T.vertices[C].y-T.position.y)*.8)}}},e.mousePosition=function(m,S,y){var x=y;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(S.position.x+"  "+S.position.y,S.position.x+5,S.position.y-5)},e.bodyBounds=function(m,S,y){var x=y;m.engine;var P=m.options;x.beginPath();for(var C=0;C<S.length;C++){var k=S[C];if(k.render.visible)for(var M=S[C].parts,T=M.length>1?1:0;T<M.length;T++){var R=M[T];x.rect(R.bounds.min.x,R.bounds.min.y,R.bounds.max.x-R.bounds.min.x,R.bounds.max.y-R.bounds.min.y)}}P.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(m,S,y){var x=y;m.engine;var P=m.options,C,k,M,T;for(x.beginPath(),k=0;k<S.length;k++){var R=S[k],F=R.parts;if(R.render.visible)if(P.showAxes)for(M=F.length>1?1:0;M<F.length;M++)for(C=F[M],T=0;T<C.axes.length;T++){var N=C.axes[T];x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+N.x*20,C.position.y+N.y*20)}else for(M=F.length>1?1:0;M<F.length;M++)for(C=F[M],T=0;T<C.axes.length;T++)x.moveTo(C.position.x,C.position.y),x.lineTo((C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}P.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(m,S,y){var x=y;m.engine;var P=m.options,C,k,M,T;for(x.beginPath(),M=0;M<S.length;M++)if(C=S[M],!!C.render.visible)for(T=0;T<C.parts.length;T++)k=C.parts[T],x.arc(k.position.x,k.position.y,3,0,2*Math.PI,!1),x.closePath();for(P.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),M=0;M<S.length;M++)C=S[M],C.render.visible&&(x.arc(C.positionPrev.x,C.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(m,S,y){var x=y;x.beginPath();for(var P=0;P<S.length;P++){var C=S[P];if(C.render.visible){var k=i.getVelocity(C);x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+k.x,C.position.y+k.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(m,S,y){var x=y,P,C;for(P=0;P<S.length;P++)if(S[P].render.visible){var k=S[P].parts;for(C=k.length>1?1:0;C<k.length;C++){var M=k[C];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(M.id,M.position.x+10,M.position.y-10)}}},e.collisions=function(m,S,y){var x=y,P=m.options,C,k,M,T;for(x.beginPath(),M=0;M<S.length;M++)if(C=S[M],!!C.isActive)for(k=C.collision,T=0;T<C.contactCount;T++){var R=C.contacts[T],F=R.vertex;x.rect(F.x-1.5,F.y-1.5,3.5,3.5)}for(P.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),M=0;M<S.length;M++)if(C=S[M],!!C.isActive&&(k=C.collision,C.contactCount>0)){var N=C.contacts[0].vertex.x,L=C.contacts[0].vertex.y;C.contactCount===2&&(N=(C.contacts[0].vertex.x+C.contacts[1].vertex.x)/2,L=(C.contacts[0].vertex.y+C.contacts[1].vertex.y)/2),k.bodyB===k.supports[0].body||k.bodyA.isStatic===!0?x.moveTo(N-k.normal.x*8,L-k.normal.y*8):x.moveTo(N+k.normal.x*8,L+k.normal.y*8),x.lineTo(N,L)}P.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(m,S,y){var x=y,P=m.options,C,k,M,T,R;for(x.beginPath(),R=0;R<S.length;R++)if(C=S[R],!!C.isActive){k=C.collision,M=k.bodyA,T=k.bodyB;var F=1;!T.isStatic&&!M.isStatic&&(F=.5),T.isStatic&&(F=0),x.moveTo(T.position.x,T.position.y),x.lineTo(T.position.x-k.penetration.x*F,T.position.y-k.penetration.y*F),F=1,!T.isStatic&&!M.isStatic&&(F=.5),M.isStatic&&(F=0),x.moveTo(M.position.x,M.position.y),x.lineTo(M.position.x+k.penetration.x*F,M.position.y+k.penetration.y*F)}P.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(m,S){m.engine;var y=m.selected,x=m.render,P=x.options,C;if(P.hasBounds){var k=x.bounds.max.x-x.bounds.min.x,M=x.bounds.max.y-x.bounds.min.y,T=k/x.options.width,R=M/x.options.height;S.scale(1/T,1/R),S.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var F=0;F<y.length;F++){var N=y[F].data;switch(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.9)",S.setLineDash([1,2]),N.type){case"body":C=N.bounds,S.beginPath(),S.rect(Math.floor(C.min.x-3),Math.floor(C.min.y-3),Math.floor(C.max.x-C.min.x+6),Math.floor(C.max.y-C.min.y+6)),S.closePath(),S.stroke();break;case"constraint":var L=N.pointA;N.bodyA&&(L=N.pointB),S.beginPath(),S.arc(L.x,L.y,10,0,2*Math.PI),S.closePath(),S.stroke();break}S.setLineDash([]),S.translate(-.5,-.5)}m.selectStart!==null&&(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.6)",S.fillStyle="rgba(255,165,0,0.1)",C=m.selectBounds,S.beginPath(),S.rect(Math.floor(C.min.x),Math.floor(C.min.y),Math.floor(C.max.x-C.min.x),Math.floor(C.max.y-C.min.y)),S.closePath(),S.stroke(),S.fill(),S.translate(-.5,-.5)),P.hasBounds&&S.setTransform(1,0,0,1,0,0)};var a=function(m,S){var y=m.engine,x=m.timing,P=x.historySize,C=y.timing.timestamp;x.delta=S-x.lastTime||e._goodDelta,x.lastTime=S,x.timestampElapsed=C-x.lastTimestamp||0,x.lastTimestamp=C,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,P),x.engineDeltaHistory.unshift(y.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,P),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,P),x.engineUpdatesHistory.unshift(y.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,P),x.engineElapsedHistory.unshift(y.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,P),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,P)},p=function(m){for(var S=0,y=0;y<m.length;y+=1)S+=m[y];return S/m.length||0},w=function(m,S){var y=document.createElement("canvas");return y.width=m,y.height=S,y.oncontextmenu=function(){return!1},y.onselectstart=function(){return!1},y},b=function(m){var S=m.getContext("2d"),y=window.devicePixelRatio||1,x=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return y/x},E=function(m,S){var y=m.textures[S];return y||(y=m.textures[S]=new Image,y.src=S,y)},A=function(m,S){var y=S;/(jpg|gif|png)$/.test(S)&&(y="url("+S+")"),m.canvas.style.background=y,m.canvas.style.backgroundSize="contain",m.currentBackground=S}})()},function(u,g,f){var e={};u.exports=e;var i=f(5),r=f(17),s=f(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(n){var h={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=s.extend(h,n);return c.fps=0,c},e.run=function(n,h){return n.timeBuffer=e._frameDeltaFallback,function c(t){n.frameRequestId=e._onNextFrame(n,c),t&&n.enabled&&e.tick(n,h,t)}(),n},e.tick=function(n,h,c){var t=s.now(),o=n.delta,a=0,p=c-n.timeLastTick;if((!p||!n.timeLastTick||p>Math.max(e._maxFrameDelta,n.maxFrameTime))&&(p=n.frameDelta||e._frameDeltaFallback),n.frameDeltaSmoothing){n.frameDeltaHistory.push(p),n.frameDeltaHistory=n.frameDeltaHistory.slice(-n.frameDeltaHistorySize);var w=n.frameDeltaHistory.slice(0).sort(),b=n.frameDeltaHistory.slice(w.length*e._smoothingLowerBound,w.length*e._smoothingUpperBound),E=l(b);p=E||p}n.frameDeltaSnapping&&(p=1e3/Math.round(1e3/p)),n.frameDelta=p,n.timeLastTick=c,n.timeBuffer+=n.frameDelta,n.timeBuffer=s.clamp(n.timeBuffer,0,n.frameDelta+o*e._timeBufferMargin),n.lastUpdatesDeferred=0;var A=n.maxUpdates||Math.ceil(n.maxFrameTime/o),m={timestamp:h.timing.timestamp};i.trigger(n,"beforeTick",m),i.trigger(n,"tick",m);for(var S=s.now();o>0&&n.timeBuffer>=o*e._timeBufferMargin;){i.trigger(n,"beforeUpdate",m),r.update(h,o),i.trigger(n,"afterUpdate",m),n.timeBuffer-=o,a+=1;var y=s.now()-t,x=s.now()-S,P=y+e._elapsedNextEstimate*x/a;if(a>=A||P>n.maxFrameTime){n.lastUpdatesDeferred=Math.round(Math.max(0,n.timeBuffer/o-e._timeBufferMargin));break}}h.timing.lastUpdatesPerFrame=a,i.trigger(n,"afterTick",m),n.frameDeltaHistory.length>=100&&(n.lastUpdatesDeferred&&Math.round(n.frameDelta/o)>A?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):n.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof n.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(n.deltaMin||n.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),n.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(n){e._cancelNextFrame(n)},e._onNextFrame=function(n,h){if(typeof window<"u"&&window.requestAnimationFrame)n.frameRequestId=window.requestAnimationFrame(h);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return n.frameRequestId},e._cancelNextFrame=function(n){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(n.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(n){for(var h=0,c=n.length,t=0;t<c;t+=1)h+=n[t];return h/c||0}})()},function(u,g,f){var e={};u.exports=e;var i=f(8),r=f(0),s=r.deprecated;(function(){e.collides=function(l,n){return i.collides(l,n)},s(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(u,g,f){var e={};u.exports=e,f(1);var i=f(0);(function(){e.pathToVertices=function(r,s){typeof window<"u"&&!("SVGPathSeg"in window)&&i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,n,h,c,t,o,a,p,w,b,E=[],A,m,S=0,y=0,x=0;s=s||15;var P=function(k,M,T){var R=T%2===1&&T>1;if(!w||k!=w.x||M!=w.y){w&&R?(A=w.x,m=w.y):(A=0,m=0);var F={x:A+k,y:m+M};(R||!w)&&(w=F),E.push(F),y=A+k,x=m+M}},C=function(k){var M=k.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":y=k.x,x=k.y;break;case"H":y=k.x;break;case"V":x=k.y;break}P(y,x,k.pathSegType)}};for(e._svgPathToAbsolute(r),h=r.getTotalLength(),o=[],l=0;l<r.pathSegList.numberOfItems;l+=1)o.push(r.pathSegList.getItem(l));for(a=o.concat();S<h;){if(b=r.getPathSegAtLength(S),t=o[b],t!=p){for(;a.length&&a[0]!=t;)C(a.shift());p=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=r.getPointAtLength(S),P(c.x,c.y,0);break}S+=s}for(l=0,n=a.length;l<n;++l)C(a[l]);return E},e._svgPathToAbsolute=function(r){for(var s,l,n,h,c,t,o=r.pathSegList,a=0,p=0,w=o.numberOfItems,b=0;b<w;++b){var E=o.getItem(b),A=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(A))"x"in E&&(a=E.x),"y"in E&&(p=E.y);else switch("x1"in E&&(n=a+E.x1),"x2"in E&&(c=a+E.x2),"y1"in E&&(h=p+E.y1),"y2"in E&&(t=p+E.y2),"x"in E&&(a+=E.x),"y"in E&&(p+=E.y),A){case"m":o.replaceItem(r.createSVGPathSegMovetoAbs(a,p),b);break;case"l":o.replaceItem(r.createSVGPathSegLinetoAbs(a,p),b);break;case"h":o.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(a),b);break;case"v":o.replaceItem(r.createSVGPathSegLinetoVerticalAbs(p),b);break;case"c":o.replaceItem(r.createSVGPathSegCurvetoCubicAbs(a,p,n,h,c,t),b);break;case"s":o.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(a,p,c,t),b);break;case"q":o.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(a,p,n,h),b);break;case"t":o.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(a,p),b);break;case"a":o.replaceItem(r.createSVGPathSegArcAbs(a,p,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),b);break;case"z":case"Z":a=s,p=l;break}(A=="M"||A=="m")&&(s=a,l=p)}}})()},function(u,g,f){var e={};u.exports=e;var i=f(6);f(0),function(){e.create=i.create,e.add=i.add,e.remove=i.remove,e.clear=i.clear,e.addComposite=i.addComposite,e.addBody=i.addBody,e.addConstraint=i.addConstraint}()}])})})(Ln);var ei=Ln.exports;const q=On(ei),Wn=8,_e=381+Wn,Kt=Wn/_e,xt=330/_e,Nn=51/_e,Ft=xt+Nn,it=4.7625/_e,ot=17.5/_e,qe=102/_e,st=203/_e,$e=305/_e,Hn=15/_e,We=Object.freeze(Object.defineProperty({__proto__:null,base:Ft,disc:Hn,ditchWidth:Nn,fifteen:qe,five:$e,peg:it,rimWidth:Kt,surface:xt,ten:st,twenty:ot},Symbol.toStringTag,{value:"Module"})),ti={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},ni={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)","pink-aa":"#FF24FF","pink-aaa":"#D100D1","teal-aa":"#00A3A3","teal-aaa":"#008080","red-aa":"#FE5F55","red-aaa":"#E91101","purple-aaa":"#564592"},Et={category:ti,color:ni,"":{"11px":"0.7rem","12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}},ze=1,At=2,ln=4,Tt=8,fn=16,ii=.9,si=.05,ri=.05,Ht={player1:Et.color["pink-aa"],player2:Et.color["teal-aa"],active:Et.color.black,vector:Et.color.black};class ai{constructor(){this.events={}}on(d,u){this.events[d]||(this.events[d]=[]),this.events[d].push(u)}emit(d,u){this.events[d]&&this.events[d].forEach(g=>g(u))}}function oi(){const v=new ai;let d,u,g,f,e,i,r,s,l,n,h,c=[],t,o;function a(){const B=q.Bodies.circle(e,e,e*ot,{isStatic:!0,isSensor:!0,render:{visible:!1},label:"20"},64);q.World.add(u,[B])}function p(){const I=Math.max(2,e*.05),O=ot*e+I/2-1,D=[];for(let H=0;H<16;H++){const V=H/16*2*Math.PI,z=e+Math.cos(V)*O,Q=e+Math.sin(V)*O,re=2*Math.PI*O/16,se=q.Bodies.rectangle(z,Q,I,re,{isStatic:!0,isSensor:!1,angle:V,render:{visible:!1},label:"trap 20",collisionFilter:{category:ln,mask:ze}});D.push(se)}q.World.add(u,D)}function w(){const I=Math.max(8,e*.2),O=Ft*e+I/2-1,D=[];for(let H=0;H<32;H++){const V=H/32*2*Math.PI,z=e+Math.cos(V)*O,Q=e+Math.sin(V)*O,re=2*Math.PI*O/32,se=q.Bodies.rectangle(z,Q,I,re,{isStatic:!0,isSensor:!1,angle:V,render:{visible:!1},label:"trap rim",collisionFilter:{category:Tt,mask:ze}});D.push(se)}q.World.add(u,D)}function b(){const I=Math.max(8,e*.1),O=xt*e-I/2+1,D=[];for(let H=0;H<32;H++){const V=H/32*2*Math.PI,z=e+Math.cos(V)*O,Q=e+Math.sin(V)*O,re=2*Math.PI*O/32,se=q.Bodies.rectangle(z,Q,I,re,{isStatic:!0,isSensor:!1,angle:V,render:{visible:!1},label:"trap surface",collisionFilter:{category:fn,mask:ze}});D.push(se)}q.World.add(u,D)}function E(){const B=[],I=it*e;for(let O=0;O<8;O++){const D=.375+O/8*Math.PI*2,H=e+Math.cos(D)*e*qe,V=e+Math.sin(D)*e*qe,z=q.Bodies.circle(H,V,I,{isStatic:!0,restitution:.9,render:{visible:!1},collisionFilter:{category:At,mask:ze}});B.push(z)}q.World.add(u,B)}function A(B,I,O,D,H,V){const z=Math.atan2(H-O,D-I),Q=D-V*Math.cos(z-Math.PI/4),re=H-V*Math.sin(z-Math.PI/4),se=D-V*Math.cos(z+Math.PI/4),ce=H-V*Math.sin(z+Math.PI/4);B.moveTo(D,H),B.lineTo(Q,re),B.moveTo(D,H),B.lineTo(se,ce)}function m(B){if(!o)return;const I=o.circleRadius,O=o.position;if(l&&n){const D=q.Vector.normalise(l),H=O.x+D.x*I*1.25,V=O.y+D.y*I*1.25,z=O.x+D.x*I*1.5+l.x,Q=O.y+D.y*I*1.5+l.y;B.beginPath(),B.strokeStyle=Ht.vector,B.lineWidth=2,B.moveTo(H,V),B.lineTo(z,Q),B.stroke();const re=e*.03,se=Math.PI/4,ce=Math.atan2(l.y,l.x);B.beginPath(),B.moveTo(z,Q),B.lineTo(z-re*Math.cos(ce-se),Q-re*Math.sin(ce-se)),B.moveTo(z,Q),B.lineTo(z-re*Math.cos(ce+se),Q-re*Math.sin(ce+se)),B.stroke(),B.closePath()}t==="position"&&(B.beginPath(),B.strokeStyle=Ht.vector,B.lineWidth=2,B.moveTo(O.x-I*2.5,O.y),B.lineTo(O.x-I*1.25,O.y),B.moveTo(O.x+I*2.5,O.y),B.lineTo(O.x+I*1.25,O.y),B.stroke(),B.closePath(),B.lineDashOffset=0,B.beginPath(),A(B,O.x-I*1.25,O.y,O.x-I*2.5,O.y,I*.75),A(B,O.x+I*1.25,O.y,O.x+I*2.5,O.y,I*.75),B.stroke(),B.closePath())}function S(){const B=f.context;m(B)}function y(B){B.pairs.forEach(({bodyA:I,bodyB:O})=>{const D=I.label==="disc"?I:O.label==="disc"?O:null,H=I.label==="20"?I:O.label==="20"?O:null;if(D&&H&&!D.in20){const V=q.Vector.magnitude(q.Vector.sub(D.position,H.position)),Q=D.circleRadius*.75,re=10,se=V<Q,ce=D.speed<re;se&&ce&&(D.in20=!0,D.collisionFilter.mask=ze|At|Tt|ln,D.restitution=.4)}})}function x(B){B.pairs.forEach(({bodyA:I,bodyB:O})=>{const D=I.label==="disc"?I:O.label==="disc"?O:null,H=I.label==="disc"&&I.id!==D.id?I:O.label==="disc"&&O.id!==D.id?O:null,V=I.label==="trap rim"?I:O.label==="trap rim"?O:null;if(D&&V)D.frictionAir=.3,D.collisionFilter.mask=ze|At|Tt|fn;else if(D&&H){D.collided=!0,H.collided=!0;const z=D.player!==H.player;D.collidedOpp=z,H.collidedOpp=z}})}function P({target:B,speed:I}){if(!o)return;const O={x:B.x-o.position.x,y:B.y-o.position.y},D=q.Vector.normalise(O);if(I){const H=I*i;s=q.Vector.mult(D,H)}else{const H=q.Vector.magnitude(O),V=Math.min(H,r),z=V/r*i;s=q.Vector.mult(D,z),l=q.Vector.mult(D,V)}}function C(B){const I={x:e,y:e},O=B.circleRadius,D=B.position,H=Math.sqrt(Math.pow(D.x-I.x,2)+Math.pow(D.y-I.y,2)),z=[{r:e*ot,score:20},{r:e*qe,score:15},{r:e*st,score:10},{r:e*$e,score:5}].find(Q=>H+O<Q.r);return(z==null?void 0:z.score)||0}function k(B){const I={x:e,y:e},O=B.circleRadius,D=B.position,H=Math.sqrt(Math.pow(D.x-I.x,2)+Math.pow(D.y-I.y,2)),V=e*qe;if(H-O<V)return!0}function M(){if(c.every(I=>I.isSleeping)){c.forEach(V=>{V.score=C(V),V.intersect15=k(V)});const I=c.some(V=>V.player!==o.player),O=c.some(V=>V.collidedOpp),D=c.filter(V=>V.player===o.player).some(V=>V.intersect15);c.forEach(V=>{I?V.player===o.player?V.id===o.id?V.valid=O:V.valid=V.collided?O:!0:V.valid=!0:V.id===o.id?V.valid=V.collided?D:V.intersect15:V.valid=V.collided?D:!0,(!V.valid||!V.score)&&q.World.remove(u,V)});const H=c.find(V=>V.id===o.id).valid;if(c=c.filter(V=>V.score>0&&V.valid),h)v.emit("shotCompleteManual",{discs:c,valid:H});else{const V=c.map(z=>({id:z.id,player:z.player,score:z.score}));c.forEach(z=>{z.score===20&&q.World.remove(u,z)}),c=c.filter(z=>z.score!==20),v.emit("shotComplete",{discs:V,valid:H}),c.forEach(z=>{z.valid=void 0,z.collided=void 0,z.collidedOpp=void 0,z.intersect15=void 0,z.in20=void 0})}o=null,j("idle")}}function T(){q.Composite.clear(u,!1),q.Events.off(d),q.Render.stop(f),f.canvas.remove(),f.context=null,f.textures={},q.Runner.stop(g)}function R(B){c.forEach(I=>{const O=e/B,D=I.position.x*O,H=I.position.y*O;q.Body.setPosition(I,{x:D,y:H}),q.Body.scale(I,O,O),q.World.add(u,I)})}function F(){c.forEach(B=>{q.World.remove(u,B)}),c=[],o=null,n=!1,l=void 0,s=void 0}function N(B={}){const I=B.player||"player1",O=B.state||"position",D=B.x?B.x*e*2:e,H=B.y?B.y*e*2:I==="player1"?e+e*$e:e-e*$e,V=e*Hn,z=si,Q=ii,re=ri,se=q.Bodies.circle(D,H,V,{density:z,restitution:Q,frictionAir:re,render:{fillStyle:Ht[I],strokeStyle:"#fff",lineWidth:1},label:"disc",collisionFilter:{category:ze,mask:ze|At|Tt},sleepThreshold:60,isSleeping:!0},64);se.player=I,c.push(se),o=se,q.Events.on(se,"sleepStart",M),q.World.add(u,se),i=o.mass*e*7e-4,j(O)}function L(B){if(!o||t!=="position")return;const I=2,O=[45-I,135+I],D=e*$e;let H=B-e;H=Math.max(-D,Math.min(D,H));const V=o.player==="player1",z=V?-1:1,Q=O[V?0:1]*z*-1,re=O[V?1:0]*z*-1,se=e-Math.sqrt(Math.max(0,Math.pow(D,2)-Math.pow(H,2)))*z,ce={x:e+H,y:se},Ie={x:e,y:e},Pe=q.Vector.angle(Ie,ce)*180/Math.PI;if(Pe>Q&&Pe<re)q.Body.setPosition(o,ce);else if(Pe<=Q){const me=Q*Math.PI/180,De=Math.cos(me)*D,le=Math.sin(me)*D,Re=e+De,he=e+le;q.Body.setPosition(o,{x:Re,y:he})}else if(Pe>=re){const me=re*Math.PI/180,De=Math.cos(me)*D,le=Math.sin(me)*D,Re=e+De,he=e+le;q.Body.setPosition(o,{x:Re,y:he})}}function _({degrees:B,speed:I}){const O=(B-90)*Math.PI/180,D=o.position.x+Math.cos(O),H=o.position.y+Math.sin(O);return{x:o.position.x+(D-o.position.x)*I,y:o.position.y+(H-o.position.y)*I}}function K({degrees:B,power:I,visible:O}){if(!o||t!=="shoot")return;$(O===void 0?!0:O);const H=Math.max(.01,I)*r,V=_({degrees:B,speed:H});P({target:V})}function G(){!o||t!=="shoot"||(j("play"),$(!1),q.Body.applyForce(o,o.position,s))}function J(){!o||t!=="shoot"||G()}function j(B){t=B}function $(B){n=B}function ve({element:B,width:I,tutorial:O}){h=!!O;let D;d?(T(),D=e):j("idle");const H=I;e=I/2,r=e*.2,d=q.Engine.create({enableSleeping:!0}),u=d.world,d.gravity.y=0,g=q.Runner.create(),f=q.Render.create({element:B,engine:d,options:{width:I,height:H,wireframes:!1,pixelRatio:"auto",background:"transparent",hasBounds:!0,showSleeping:!1}}),R(D),a(),E(),p(),w(),b(),q.Events.on(f,"afterRender",S),q.Runner.run(g,d),q.Render.run(f),q.Events.on(d,"collisionActive",y),q.Events.on(d,"collisionStart",x),c.length||v.emit("ready")}return{removeDiscs:F,addDisc:N,positionDisc:L,aimDisc:K,release:J,flickDisc:G,setState:j,setIndicatorVisible:$,init:ve,on:(B,I)=>v.on(B,I)}}function Bt(v){return Object.keys(v).reduce((d,u)=>v[u]===void 0?d:d+`${u}:${v[u]};`,"")}function Ut(v){return v?!0:void 0}Bt({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function cn(v){function d(u){return u(v),()=>{}}return{subscribe:d}}function _t(v){if(!Un)return null;const d=document.querySelector(`[data-melt-id="${v}"]`);return gt(d)?d:null}const pt=v=>new Proxy(v,{get(d,u,g){return Reflect.get(d,u,g)},ownKeys(d){return Reflect.ownKeys(d).filter(u=>u!=="action")}}),un=v=>typeof v=="function";Xt("empty");function Xt(v,d){const{stores:u,action:g,returned:f}=d??{},e=(()=>{if(u&&f)return Nt(u,r=>{const s=f(r);if(un(s)){const l=(...n)=>pt({...s(...n),[`data-melt-${v}`]:"",action:g??Ke});return l.action=g??Ke,l}return pt({...s,[`data-melt-${v}`]:"",action:g??Ke})});{const r=f,s=r==null?void 0:r();if(un(s)){const l=(...n)=>pt({...s(...n),[`data-melt-${v}`]:"",action:g??Ke});return l.action=g??Ke,cn(l)}return cn(pt({...s,[`data-melt-${v}`]:"",action:g??Ke}))}})(),i=g??(()=>{});return i.subscribe=e.subscribe,i}function dn(v,d){const{stores:u,returned:g,action:f}=d,{subscribe:e}=Nt(u,r=>g(r).map(s=>pt({...s,[`data-melt-${v}`]:"",action:f??Ke}))),i=f??(()=>{});return i.subscribe=e,i}function li(v){const d=e=>e?`${v}-${e}`:v,u=e=>`data-melt-${v}${e?`-${e}`:""}`,g=e=>`[data-melt-${v}${e?`-${e}`:""}]`;return{name:d,attribute:u,selector:g,getEl:e=>document.querySelector(g(e))}}const Un=typeof document<"u";function gt(v){return v instanceof HTMLElement}function fi(...v){return(...d)=>{for(const u of v)typeof u=="function"&&u(...d)}}function Ke(){}function rt(v,d,u,g){const f=Array.isArray(d)?d:[d];return f.forEach(e=>v.addEventListener(e,u,g)),()=>{f.forEach(e=>v.removeEventListener(e,u,g))}}function ci(v,d,u,g){const f=Array.isArray(d)?d:[d];if(typeof u=="function"){const e=di(i=>u(i));return f.forEach(i=>v.addEventListener(i,e,g)),()=>{f.forEach(i=>v.removeEventListener(i,e,g))}}return()=>void 0}function ui(v){const d=v.currentTarget;if(!gt(d))return null;const u=new CustomEvent(`m-${v.type}`,{detail:{originalEvent:v},cancelable:!0});return d.dispatchEvent(u),u}function di(v){return d=>{const u=ui(d);if(!(u!=null&&u.defaultPrevented))return v(d)}}const hi=v=>{try{Xn(v)}catch{return v}};function _n(v,...d){const u={};for(const g of Object.keys(v))d.includes(g)||(u[g]=v[g]);return u}function Ye(v){return{...v,get:()=>Yn(v)}}Ye.writable=function(v){const d=nt(v);let u=v;return{subscribe:d.subscribe,set(g){d.set(g),u=g},update(g){const f=g(u);d.set(f),u=f},get(){return u}}};Ye.derived=function(v,d){const u=new Map,g=()=>{const e=Array.isArray(v)?v.map(i=>i.get()):v.get();return d(e)};return{get:g,subscribe:e=>{const i=[];return(Array.isArray(v)?v:[v]).forEach(s=>{i.push(s.subscribe(()=>{e(g())}))}),e(g()),u.set(e,i),()=>{const s=u.get(e);if(s)for(const l of s)l();u.delete(e)}}}};const vi=(v,d)=>{const u=Ye(v),g=(e,i)=>{u.update(r=>{const s=e(r);let l=s;return d&&(l=d({curr:r,next:s})),i==null||i(l),l})};return{...u,update:g,set:e=>{g(()=>e)}}};let pi="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",mi=(v=21)=>{let d="",u=v;for(;u--;)d+=pi[Math.random()*64|0];return d};function gi(){return mi(10)}function xi(v){return v.reduce((d,u)=>(d[u]=gi(),d),{})}const Be={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"};function hn(v,d){let u;const g=Nt(v,e=>{u==null||u(),u=d(e)}).subscribe(Ke),f=()=>{g(),u==null||u()};return hi(f),f}function yi(v){const d={};return Object.keys(v).forEach(u=>{const g=u,f=v[g];d[g]=Ye(nt(f))}),d}function Gt(v,d,u,g){const f=(v-(isNaN(d)?0:d))%g;let e=Math.abs(f)*2>=g?v+Math.sign(f)*(g-Math.abs(f)):v-f;isNaN(d)?!isNaN(u)&&e>u&&(e=Math.floor(u/g)*g):e<d?e=d:!isNaN(u)&&e>u&&(e=d+Math.floor((u-d)/g)*g);const i=g.toString(),r=i.indexOf("."),s=r>=0?i.length-r:0;if(s>0){const l=Math.pow(10,s);e=Math.round(e*l)/l}return e}at(void 0,v=>{function d(g){v(g),v(void 0)}return rt(document,"pointerup",d,{passive:!1,capture:!0})});at(void 0,v=>{function d(g){g&&g.key===Be.ESCAPE&&v(g),v(void 0)}return rt(document,"keydown",d,{passive:!1})});at(!1),at(!1),at(void 0);const Si={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({..._n(Si,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});const wi={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:It}=li("slider"),Ci=v=>{const d={...wi,...v},u=yi(_n(d,"value","onValueChange","defaultValue")),{min:g,max:f,step:e,orientation:i,dir:r,disabled:s}=u,l=d.value??nt(d.defaultValue),n=vi(l,d==null?void 0:d.onValueChange),h=Ye(nt(!1)),c=Ye(nt(0)),t=Ye(nt(null)),o=xi(["root"]),a=(y,x)=>{n.update(P=>{if(!P)return[y];if(P[x]===y)return P;const C=[...P],k=C[x]>y?-1:1;function M(){C[x]=C[x+k],C[x+k]=y;const N=p();N&&(N[x+k].focus(),t.set({thumb:N[x+k],index:x+k}))}if(k===-1&&y<C[x-1])return M(),C;if(k===1&&y>C[x+1])return M(),C;const T=g.get(),R=f.get(),F=e.get();return C[x]=Gt(y,T,R,F),C})},p=()=>{const y=_t(o.root);return y?Array.from(y.querySelectorAll('[data-melt-part="thumb"]')).filter(x=>gt(x)):null},w=Nt([g,f],([y,x])=>P=>(P-y)/(x-y)*100),b=Ye.derived([i,r],([y,x])=>y==="horizontal"?x==="rtl"?"rl":"lr":x==="rtl"?"tb":"bt"),E=Xt(It(),{stores:[s,i,r],returned:([y,x,P])=>({dir:P,disabled:Ut(y),"data-disabled":Ut(y),"data-orientation":x,style:y?void 0:`touch-action: ${x==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":o.root})}),A=Xt(It("range"),{stores:[n,b,w],returned:([y,x,P])=>{const C=y.length>1?P(Math.min(...y)??0):0,k=100-P(Math.max(...y)??0),M={position:"absolute"};switch(x){case"lr":{M.left=`${C}%`,M.right=`${k}%`;break}case"rl":{M.right=`${C}%`,M.left=`${k}%`;break}case"bt":{M.bottom=`${C}%`,M.top=`${k}%`;break}case"tb":{M.top=`${C}%`,M.bottom=`${k}%`;break}}return{style:Bt(M)}}}),m=dn(It("thumb"),{stores:[n,w,g,f,s,i,b],returned:([y,x,P,C,k,M,T])=>Array.from({length:y.length||1},(F,N)=>{c.get()<y.length&&c.update(J=>J+1);const _=y[N],K=`${x(_)}%`,G={position:"absolute"};switch(T){case"lr":{G.left=K,G.translate="-50% 0";break}case"rl":{G.right=K,G.translate="50% 0";break}case"bt":{G.bottom=K,G.translate="0 50%";break}case"tb":{G.top=K,G.translate="0 -50%";break}}return{role:"slider","aria-valuemin":P,"aria-valuemax":C,"aria-valuenow":_,"aria-disabled":Ut(k),"aria-orientation":M,"data-melt-part":"thumb","data-value":_,style:Bt(G),tabindex:k?-1:0}}),action:y=>({destroy:ci(y,"keydown",P=>{if(s.get())return;const C=P.currentTarget;if(!gt(C))return;const k=p();if(!(k!=null&&k.length))return;const M=k.indexOf(C);if(c.set(M),![Be.ARROW_LEFT,Be.ARROW_RIGHT,Be.ARROW_UP,Be.ARROW_DOWN,Be.HOME,Be.END].includes(P.key))return;P.preventDefault();const T=g.get(),R=f.get(),F=e.get(),N=n.get(),L=i.get(),_=b.get(),K=N[M];switch(P.key){case Be.HOME:{a(T,M);break}case Be.END:{a(R,M);break}case Be.ARROW_LEFT:{if(L!=="horizontal")break;P.metaKey?a(_==="rl"?R:T,M):_==="rl"&&K<R?a(K+F,M):_==="lr"&&K>T&&a(K-F,M);break}case Be.ARROW_RIGHT:{if(L!=="horizontal")break;P.metaKey?a(_==="rl"?T:R,M):_==="rl"&&K>T?a(K-F,M):_==="lr"&&K<R&&a(K+F,M);break}case Be.ARROW_UP:{P.metaKey?a(_==="tb"?T:R,M):_==="tb"&&K>T?a(K-F,M):_!=="tb"&&K<R&&a(K+F,M);break}case Be.ARROW_DOWN:{P.metaKey?a(_==="tb"?R:T,M):_==="tb"&&K<R?a(K+F,M):_!=="tb"&&K>T&&a(K-F,M);break}}})})}),S=dn(It("tick"),{stores:[n,g,f,e,b],returned:([y,x,P,C,k])=>{const M=P-x;let T=Math.ceil(M/C);return M%C==0&&T++,Array.from({length:T},(R,F)=>{const N=`${F*(C/(P-x))*100}%`,L=F===0,_=F===T-1,K=L?0:_?-100:-50,G={position:"absolute"};switch(k){case"lr":{G.left=N,G.translate=`${K}% 0`;break}case"rl":{G.right=N,G.translate=`${-K}% 0`;break}case"bt":{G.bottom=N,G.translate=`0 ${-K}%`;break}case"tb":{G.top=N,G.translate=`0 ${K}%`;break}}const J=x+F*C;return{"data-bounded":(y.length===1?J<=y[0]:y[0]<=J&&J<=y[y.length-1])?!0:void 0,"data-value":J,style:Bt(G)}})}});return hn([E,g,f,s,i,b,e],([y,x,P,C,k,M,T])=>{if(!Un||C)return;const R=(G,J,j,$)=>{const B=(G-j)/($-j)*(P-x)+x;if(B<x)a(x,J);else if(B>P)a(P,J);else{const I=T,O=x,D=Math.floor((B-O)/I),H=O+D*I+I/2,V=O+(D+1)*I+I/2,z=B>=H&&B<V?(D+1)*I+O:D*I+O;z<=P&&a(z,J)}},F=G=>{const J=p();if(!J)return;J.forEach(B=>B.blur());const j=J.map(B=>{if(k==="horizontal"){const{left:I,right:O}=B.getBoundingClientRect();return Math.abs(G.clientX-(I+O)/2)}else{const{top:I,bottom:O}=B.getBoundingClientRect();return Math.abs(G.clientY-(I+O)/2)}}),$=J[j.indexOf(Math.min(...j))],ve=J.indexOf($);return{thumb:$,index:ve}},N=G=>{if(!h.get())return;G.preventDefault(),G.stopPropagation();const J=_t(y["data-melt-id"]),j=t.get();if(!J||!j)return;j.thumb.focus();const{left:$,right:ve,top:B,bottom:I}=J.getBoundingClientRect();switch(M){case"lr":{R(G.clientX,j.index,$,ve);break}case"rl":{R(G.clientX,j.index,ve,$);break}case"bt":{R(G.clientY,j.index,I,B);break}case"tb":{R(G.clientY,j.index,B,I);break}}},L=G=>{if(G.button!==0)return;const J=_t(y["data-melt-id"]),j=F(G);if(!j||!J)return;const $=G.target;!gt($)||!J.contains($)||(G.preventDefault(),t.set(j),j.thumb.focus(),h.set(!0),N(G))},_=()=>{h.set(!1)},K=fi(rt(document,"pointerdown",L),rt(document,"pointerup",_),rt(document,"pointerleave",_),rt(document,"pointermove",N));return()=>{K()}}),hn([e,g,f,n],function([x,P,C,k]){const M=R=>Gt(R,P,C,x)===R,T=R=>Gt(R,P,C,x);k.some(R=>!M(R))&&n.update(R=>R.map(T))}),{elements:{root:E,thumbs:m,range:A,ticks:S},states:{value:n},options:u}};function Pi(v,d){const u={};return d.forEach(g=>{u[g]={[`data-${v}-${g}`]:""}}),g=>u[g]}function Mi(){const v=Fn();return d=>{const{originalEvent:u}=d.detail,{cancelable:g}=d,f=u.type;v(f,{originalEvent:u,currentTarget:u.currentTarget},{cancelable:g})||d.preventDefault()}}function bi(v){const d={};for(const u in v){const g=v[u];g!==void 0&&(d[u]=g)}return d}function ki(v){return function(d,u){if(u===void 0)return;const g=v[d];g&&g.set(u)}}function Gn(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Ei(v){const{NAME:d,PARTS:u}=Gn(),g=Pi(d,u),f={...Ci(bi(v)),getAttrs:g};return Qn(d,f),{...f,updateOption:ki(f.options)}}function zn(){const{NAME:v}=Gn();return Zn(v)}const Ai=v=>({builder:v&4,ticks:v&8,thumbs:v&16}),vn=v=>({builder:v[2],ticks:v[3],thumbs:v[4]}),Ti=v=>({builder:v&4,ticks:v&8,thumbs:v&16}),pn=v=>({builder:v[2],ticks:v[3],thumbs:v[4]});function Ii(v){let d,u,g,f;const e=v[19].default,i=Vt(e,v,v[18],vn);let r=[v[2],v[8]],s={};for(let l=0;l<r.length;l+=1)s=Ue(s,r[l]);return{c(){d=ee("span"),i&&i.c(),this.h()},l(l){d=te(l,"SPAN",{});var n=ne(d);i&&i.l(n),n.forEach(X),this.h()},h(){ft(d,s)},m(l,n){fe(l,d,n),i&&i.m(d,null),v[20](d),u=!0,g||(f=Zt(v[2].action(d)),g=!0)},p(l,n){i&&i.p&&(!u||n&262172)&&Ot(i,e,l,l[18],u?Wt(e,l[18],n,Ai):Lt(l[18]),vn),ft(d,s=qt(r,[n&4&&l[2],n&256&&l[8]]))},i(l){u||(oe(i,l),u=!0)},o(l){de(i,l),u=!1},d(l){l&&X(d),i&&i.d(l),v[20](null),g=!1,f()}}}function Di(v){let d;const u=v[19].default,g=Vt(u,v,v[18],pn);return{c(){g&&g.c()},l(f){g&&g.l(f)},m(f,e){g&&g.m(f,e),d=!0},p(f,e){g&&g.p&&(!d||e&262172)&&Ot(g,u,f,f[18],d?Wt(u,f[18],e,Ti):Lt(f[18]),pn)},i(f){d||(oe(g,f),d=!0)},o(f){de(g,f),d=!1},d(f){g&&g.d(f)}}}function Ri(v){let d,u,g,f;const e=[Di,Ii],i=[];function r(s,l){return s[1]?0:1}return d=r(v),u=i[d]=e[d](v),{c(){u.c(),g=Ve()},l(s){u.l(s),g=Ve()},m(s,l){i[d].m(s,l),fe(s,g,l),f=!0},p(s,[l]){let n=d;d=r(s),d===n?i[d].p(s,l):(Qe(),de(i[n],1,1,()=>{i[n]=null}),Ze(),u=i[d],u?u.p(s,l):(u=i[d]=e[d](s),u.c()),oe(u,1),u.m(g.parentNode,g))},i(s){f||(oe(u),f=!0)},o(s){de(u),f=!1},d(s){s&&X(g),i[d].d(s)}}}function Bi(v,d,u){let g;const f=["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"];let e=lt(d,f),i,r,s,{$$slots:l={},$$scope:n}=d,{disabled:h=void 0}=d,{min:c=void 0}=d,{max:t=void 0}=d,{step:o=void 0}=d,{orientation:a=void 0}=d,{dir:p=void 0}=d,{value:w=void 0}=d,{onValueChange:b=void 0}=d,{asChild:E=!1}=d,{el:A=void 0}=d;const{elements:{root:m,ticks:S,thumbs:y},states:{value:x},updateOption:P,getAttrs:C}=Ei({disabled:h,dir:p,min:c,max:t,step:o,orientation:a,defaultValue:w,onValueChange:({next:T})=>(w!==T&&(b==null||b(T),u(9,w=T)),T)});Dt(v,m,T=>u(17,i=T)),Dt(v,S,T=>u(3,r=T)),Dt(v,y,T=>u(4,s=T));const k=C("root");function M(T){et[T?"unshift":"push"](()=>{A=T,u(0,A)})}return v.$$set=T=>{d=Ue(Ue({},d),Qt(T)),u(8,e=lt(d,f)),"disabled"in T&&u(10,h=T.disabled),"min"in T&&u(11,c=T.min),"max"in T&&u(12,t=T.max),"step"in T&&u(13,o=T.step),"orientation"in T&&u(14,a=T.orientation),"dir"in T&&u(15,p=T.dir),"value"in T&&u(9,w=T.value),"onValueChange"in T&&u(16,b=T.onValueChange),"asChild"in T&&u(1,E=T.asChild),"el"in T&&u(0,A=T.el),"$$scope"in T&&u(18,n=T.$$scope)},v.$$.update=()=>{v.$$.dirty&512&&w!==void 0&&x.set(w),v.$$.dirty&1024&&P("disabled",h),v.$$.dirty&2048&&P("min",c),v.$$.dirty&4096&&P("max",t),v.$$.dirty&8192&&P("step",o),v.$$.dirty&16384&&P("orientation",a),v.$$.dirty&32768&&P("dir",p),v.$$.dirty&131072&&u(2,g=i),v.$$.dirty&4&&Object.assign(g,k)},[A,E,g,r,s,m,S,y,e,w,h,c,t,o,a,p,b,i,n,l,M]}class Fi extends ut{constructor(d){super(),dt(this,d,Bi,Ri,ct,{disabled:10,min:11,max:12,step:13,orientation:14,dir:15,value:9,onValueChange:16,asChild:1,el:0})}}const Vi=v=>({builder:v&4}),mn=v=>({builder:v[2]});function Oi(v){let d,u,g,f=[v[2],v[4]],e={};for(let i=0;i<f.length;i+=1)e=Ue(e,f[i]);return{c(){d=ee("span"),this.h()},l(i){d=te(i,"SPAN",{}),ne(d).forEach(X),this.h()},h(){ft(d,e)},m(i,r){fe(i,d,r),v[8](d),u||(g=Zt(v[2].action(d)),u=!0)},p(i,r){ft(d,e=qt(f,[r&4&&i[2],r&16&&i[4]]))},i:He,o:He,d(i){i&&X(d),v[8](null),u=!1,g()}}}function Li(v){let d;const u=v[7].default,g=Vt(u,v,v[6],mn);return{c(){g&&g.c()},l(f){g&&g.l(f)},m(f,e){g&&g.m(f,e),d=!0},p(f,e){g&&g.p&&(!d||e&68)&&Ot(g,u,f,f[6],d?Wt(u,f[6],e,Vi):Lt(f[6]),mn)},i(f){d||(oe(g,f),d=!0)},o(f){de(g,f),d=!1},d(f){g&&g.d(f)}}}function Wi(v){let d,u,g,f;const e=[Li,Oi],i=[];function r(s,l){return s[1]?0:1}return d=r(v),u=i[d]=e[d](v),{c(){u.c(),g=Ve()},l(s){u.l(s),g=Ve()},m(s,l){i[d].m(s,l),fe(s,g,l),f=!0},p(s,[l]){let n=d;d=r(s),d===n?i[d].p(s,l):(Qe(),de(i[n],1,1,()=>{i[n]=null}),Ze(),u=i[d],u?u.p(s,l):(u=i[d]=e[d](s),u.c()),oe(u,1),u.m(g.parentNode,g))},i(s){f||(oe(u),f=!0)},o(s){de(u),f=!1},d(s){s&&X(g),i[d].d(s)}}}function Ni(v,d,u){let g;const f=["asChild","el"];let e=lt(d,f),i,{$$slots:r={},$$scope:s}=d,{asChild:l=!1}=d,{el:n=void 0}=d;const{elements:{range:h},getAttrs:c}=zn();Dt(v,h,a=>u(5,i=a));const t=c("range");function o(a){et[a?"unshift":"push"](()=>{n=a,u(0,n)})}return v.$$set=a=>{d=Ue(Ue({},d),Qt(a)),u(4,e=lt(d,f)),"asChild"in a&&u(1,l=a.asChild),"el"in a&&u(0,n=a.el),"$$scope"in a&&u(6,s=a.$$scope)},v.$$.update=()=>{v.$$.dirty&32&&u(2,g=i),v.$$.dirty&4&&Object.assign(g,t)},[n,l,g,h,e,i,s,r,o]}class Hi extends ut{constructor(d){super(),dt(this,d,Ni,Wi,ct,{asChild:1,el:0})}}const Ui=v=>({builder:v&4}),gn=v=>({builder:v[2]});function _i(v){let d,u,g,f=[v[2],v[4]],e={};for(let i=0;i<f.length;i+=1)e=Ue(e,f[i]);return{c(){d=ee("span"),this.h()},l(i){d=te(i,"SPAN",{}),ne(d).forEach(X),this.h()},h(){ft(d,e)},m(i,r){fe(i,d,r),v[8](d),u||(g=[Zt(v[2].action(d)),mt(d,"m-keydown",v[3])],u=!0)},p(i,r){ft(d,e=qt(f,[r&4&&i[2],r&16&&i[4]]))},i:He,o:He,d(i){i&&X(d),v[8](null),u=!1,Vn(g)}}}function Gi(v){let d;const u=v[7].default,g=Vt(u,v,v[6],gn);return{c(){g&&g.c()},l(f){g&&g.l(f)},m(f,e){g&&g.m(f,e),d=!0},p(f,e){g&&g.p&&(!d||e&68)&&Ot(g,u,f,f[6],d?Wt(u,f[6],e,Ui):Lt(f[6]),gn)},i(f){d||(oe(g,f),d=!0)},o(f){de(g,f),d=!1},d(f){g&&g.d(f)}}}function zi(v){let d,u,g,f;const e=[Gi,_i],i=[];function r(s,l){return s[1]?0:1}return d=r(v),u=i[d]=e[d](v),{c(){u.c(),g=Ve()},l(s){u.l(s),g=Ve()},m(s,l){i[d].m(s,l),fe(s,g,l),f=!0},p(s,[l]){let n=d;d=r(s),d===n?i[d].p(s,l):(Qe(),de(i[n],1,1,()=>{i[n]=null}),Ze(),u=i[d],u?u.p(s,l):(u=i[d]=e[d](s),u.c()),oe(u,1),u.m(g.parentNode,g))},i(s){f||(oe(u),f=!0)},o(s){de(u),f=!1},d(s){s&&X(g),i[d].d(s)}}}function Ki(v,d,u){let g;const f=["asChild","el","thumb"];let e=lt(d,f),{$$slots:i={},$$scope:r}=d,{asChild:s=!1}=d,{el:l=void 0}=d,{thumb:n}=d;const{getAttrs:h}=zn(),c=Mi(),t=h("thumb");function o(a){et[a?"unshift":"push"](()=>{l=a,u(0,l)})}return v.$$set=a=>{d=Ue(Ue({},d),Qt(a)),u(4,e=lt(d,f)),"asChild"in a&&u(1,s=a.asChild),"el"in a&&u(0,l=a.el),"thumb"in a&&u(5,n=a.thumb),"$$scope"in a&&u(6,r=a.$$scope)},v.$$.update=()=>{v.$$.dirty&32&&u(2,g=n),v.$$.dirty&4&&Object.assign(g,t)},[l,s,g,c,e,n,r,i,o]}class Xi extends ut{constructor(d){super(),dt(this,d,Ki,zi,ct,{asChild:1,el:0,thumb:5})}}function xn(v,d,u){const g=v.slice();return g[7]=d[u],g}function yn(v){let d,u;return d=new Xi({props:{thumb:v[7]}}),{c(){yt(d.$$.fragment)},l(g){St(d.$$.fragment,g)},m(g,f){wt(d,g,f),u=!0},p(g,f){const e={};f&64&&(e.thumb=g[7]),d.$set(e)},i(g){u||(oe(d.$$.fragment,g),u=!0)},o(g){de(d.$$.fragment,g),u=!1},d(g){Ct(d,g)}}}function Yi(v){let d,u,g,f,e;u=new Hi({});let i=Le(v[6]),r=[];for(let l=0;l<i.length;l+=1)r[l]=yn(xn(v,i,l));const s=l=>de(r[l],1,1,()=>{r[l]=null});return{c(){d=ee("span"),yt(u.$$.fragment),g=we();for(let l=0;l<r.length;l+=1)r[l].c();f=Ve(),this.h()},l(l){d=te(l,"SPAN",{class:!0});var n=ne(d);St(u.$$.fragment,n),n.forEach(X),g=Ce(l);for(let h=0;h<r.length;h+=1)r[h].l(l);f=Ve(),this.h()},h(){ae(d,"class","bg svelte-7s8b7u")},m(l,n){fe(l,d,n),wt(u,d,null),fe(l,g,n);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(l,n);fe(l,f,n),e=!0},p(l,n){if(n&64){i=Le(l[6]);let h;for(h=0;h<i.length;h+=1){const c=xn(l,i,h);r[h]?(r[h].p(c,n),oe(r[h],1)):(r[h]=yn(c),r[h].c(),oe(r[h],1),r[h].m(f.parentNode,f))}for(Qe(),h=i.length;h<r.length;h+=1)s(h);Ze()}},i(l){if(!e){oe(u.$$.fragment,l);for(let n=0;n<i.length;n+=1)oe(r[n]);e=!0}},o(l){de(u.$$.fragment,l),r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)de(r[n]);e=!1},d(l){l&&(X(d),X(g),X(f)),Ct(u),vt(r,l)}}}function Qi(v){let d,u,g,f,e,i,r;function s(n){v[5](n)}let l={min:v[2],max:v[3],step:v[4],$$slots:{default:[Yi,({thumbs:n})=>({6:n}),({thumbs:n})=>n?64:0]},$$scope:{ctx:v}};return v[0]!==void 0&&(l.value=v[0]),e=new Fi({props:l}),et.push(()=>jt(e,"value",s)),{c(){d=ee("div"),u=ee("p"),g=Ae(v[1]),f=we(),yt(e.$$.fragment),this.h()},l(n){d=te(n,"DIV",{class:!0});var h=ne(d);u=te(h,"P",{class:!0});var c=ne(u);g=Te(c,v[1]),c.forEach(X),f=Ce(h),St(e.$$.fragment,h),h.forEach(X),this.h()},h(){ae(u,"class","label svelte-7s8b7u"),ae(d,"class","c svelte-7s8b7u")},m(n,h){fe(n,d,h),Y(d,u),Y(u,g),Y(d,f),wt(e,d,null),r=!0},p(n,[h]){(!r||h&2)&&Xe(g,n[1]);const c={};h&4&&(c.min=n[2]),h&8&&(c.max=n[3]),h&16&&(c.step=n[4]),h&1088&&(c.$$scope={dirty:h,ctx:n}),!i&&h&1&&(i=!0,c.value=n[0],Jt(()=>i=!1)),e.$set(c)},i(n){r||(oe(e.$$.fragment,n),r=!0)},o(n){de(e.$$.fragment,n),r=!1},d(n){n&&X(d),Ct(e)}}}function Zi(v,d,u){let{label:g}=d,{value:f}=d,{min:e}=d,{max:i}=d,{step:r}=d;function s(l){f=l,u(0,f)}return v.$$set=l=>{"label"in l&&u(1,g=l.label),"value"in l&&u(0,f=l.value),"min"in l&&u(2,e=l.min),"max"in l&&u(3,i=l.max),"step"in l&&u(4,r=l.step)},[f,g,e,i,r,s]}class Ji extends ut{constructor(d){super(),dt(this,d,Zi,Qi,ct,{label:1,value:0,min:2,max:3,step:4})}}function ji(v){let d,u,g,f;return{c(){d=ee("button"),u=Ae("Shoot"),this.h()},l(e){d=te(e,"BUTTON",{});var i=ne(d);u=Te(i,"Shoot"),i.forEach(X),this.h()},h(){d.disabled=v[0]},m(e,i){fe(e,d,i),Y(d,u),g||(f=[mt(d,"pointerdown",v[1]),mt(d,"pointerup",v[2]),mt(d,"pointerleave",v[2])],g=!0)},p(e,[i]){i&1&&(d.disabled=e[0])},i:He,o:He,d(e){e&&X(d),g=!1,Vn(f)}}}function qi(v,d,u){let{value:g}=d,{disabled:f}=d;const e=Fn();let i,r;function s(){let n=-1;r=!0,i=setInterval(()=>{g>=1?n=-1:g<=0&&(n=1),u(3,g+=.01*n),u(3,g=+g.toFixed(2))},17)}function l(){r&&(clearInterval(i),e("release",g),u(3,g=0),r=!1)}return v.$$set=n=>{"value"in n&&u(3,g=n.value),"disabled"in n&&u(0,f=n.disabled)},[f,s,l,g]}class $i extends ut{constructor(d){super(),dt(this,d,qi,ji,ct,{value:3,disabled:0})}}const es=[{state:"shoot",player:"player1",random:!0,power:.235,degrees:0}],ts=[{x:.3,y:.6,player:"player1"},{state:"position",player:"player1"}],ns=[{state:"shoot",player:"player2",power:.3,degrees:184}],is=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{x:.43462246777163904,y:.8876611418047882,state:"shoot",player:"player1",power:.35,degrees:15}],ss=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"position",player:"player1"}],rs=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"shoot",player:"player1",power:.15,degrees:-3}],as=[{x:.45,y:.44,player:"player1",score:15,valid:!0},{x:.7,y:.4,player:"player1",score:10,valid:!0},{x:.8,y:.4,player:"player2",score:5,valid:!0},{x:.2,y:.4,player:"player2",score:5,valid:!0},{x:.3,y:.6,player:"player2",score:10,valid:!0,state:"idle"}],os={open:es,opentry:ts,fifteen:ns,opponent:is,opponenttry:ss,invalid:rs,score:as};function Sn(v,d,u){const g=v.slice();return g[44]=d[u],g}function wn(v,d,u){const g=v.slice();return g[47]=d[u],g}function Cn(v,d,u){const g=v.slice();g[50]=d[u];const f=g[22][g[50]];return g[51]=f,g}function Pn(v,d,u){const g=v.slice();return g[50]=d[u],g[55]=u,g}function Mn(v){let d;return{c(){d=ee("div"),this.h()},l(u){d=te(u,"DIV",{class:!0,style:!0}),ne(d).forEach(X),this.h()},h(){ae(d,"class",jn(v[50])+" svelte-i86k1l"),ie(d,"--w",Math.floor(We[v[50]]*v[0])+"px"),ie(d,"--b",(We[v[50]]-We[v[21][v[55]+1]])/2*v[0]+"px")},m(u,g){fe(u,d,g)},p(u,g){g[0]&1&&ie(d,"--w",Math.floor(We[u[50]]*u[0])+"px"),g[0]&1&&ie(d,"--b",(We[u[50]]-We[u[21][u[55]+1]])/2*u[0]+"px")},d(u){u&&X(d)}}}function bn(v){let d,u=v[51]+"",g;return{c(){d=ee("span"),g=Ae(u),this.h()},l(f){d=te(f,"SPAN",{class:!0,style:!0});var e=ne(d);g=Te(e,u),e.forEach(X),this.h()},h(){ae(d,"class","text text-"+v[50]+" svelte-i86k1l"),ie(d,"--w",Math.floor(v[0]/2-We[v[50]]*v[0]/2)+"px"),ie(d,"--d",We[v[50]]*v[0]+"px")},m(f,e){fe(f,d,e),Y(d,g)},p(f,e){e[0]&1&&ie(d,"--w",Math.floor(f[0]/2-We[f[50]]*f[0]/2)+"px"),e[0]&1&&ie(d,"--d",We[f[50]]*f[0]+"px")},d(f){f&&X(d)}}}function kn(v){let d;return{c(){d=ee("div"),this.h()},l(u){d=te(u,"DIV",{class:!0,style:!0}),ne(d).forEach(X),this.h()},h(){ae(d,"class","quadrant-line svelte-i86k1l"),ie(d,"--w",($e-st)*v[0]/2+"px"),ie(d,"--x",st*v[0]/2+"px"),ie(d,"--angle",v[47]+"deg")},m(u,g){fe(u,d,g)},p(u,g){g[0]&1&&ie(d,"--w",($e-st)*u[0]/2+"px"),g[0]&1&&ie(d,"--x",st*u[0]/2+"px")},d(u){u&&X(d)}}}function En(v){let d;return{c(){d=ee("div"),this.h()},l(u){d=te(u,"DIV",{class:!0,style:!0}),ne(d).forEach(X),this.h()},h(){ae(d,"class","peg svelte-i86k1l"),ie(d,"--w",it*v[0]+"px"),ie(d,"--x",((qe-it)*v[0]+1)/2+"px"),ie(d,"--angle",v[44]+"deg")},m(u,g){fe(u,d,g)},p(u,g){g[0]&1&&ie(d,"--w",it*u[0]+"px"),g[0]&1&&ie(d,"--x",((qe-it)*u[0]+1)/2+"px")},d(u){u&&X(d)}}}function An(v){let d,u,g,f,e,i;return{c(){d=ee("p"),u=ee("strong"),g=Ae(v[17]),f=Ae(" won the round"),this.h()},l(r){d=te(r,"P",{class:!0});var s=ne(d);u=te(s,"STRONG",{});var l=ne(u);g=Te(l,v[17]),f=Te(l," won the round"),l.forEach(X),s.forEach(X),this.h()},h(){ae(d,"class","text-outline svelte-i86k1l")},m(r,s){fe(r,d,s),Y(d,u),Y(u,g),Y(u,f),i=!0},p(r,s){(!i||s[0]&131072)&&Xe(g,r[17])},i(r){i||(r&&qn(()=>{i&&(e||(e=an(d,on,{},!0)),e.run(1))}),i=!0)},o(r){r&&(e||(e=an(d,on,{},!1)),e.run(0)),i=!1},d(r){r&&X(d),r&&e&&e.end()}}}function Tn(v){let d,u,g,f;const e=[fs,ls],i=[];function r(s,l){return s[11]==="shoot"?0:1}return d=r(v),u=i[d]=e[d](v),{c(){u.c(),g=Ve()},l(s){u.l(s),g=Ve()},m(s,l){i[d].m(s,l),fe(s,g,l),f=!0},p(s,l){let n=d;d=r(s),d===n?i[d].p(s,l):(Qe(),de(i[n],1,1,()=>{i[n]=null}),Ze(),u=i[d],u?u.p(s,l):(u=i[d]=e[d](s),u.c()),oe(u,1),u.m(g.parentNode,g))},i(s){f||(oe(u),f=!0)},o(s){de(u),f=!1},d(s){s&&X(g),i[d].d(s)}}}function ls(v){let d,u="Place Disc",g,f;return{c(){d=ee("button"),d.textContent=u},l(e){d=te(e,"BUTTON",{"data-svelte-h":!0}),Rt(d)!=="svelte-18imge0"&&(d.textContent=u)},m(e,i){fe(e,d,i),g||(f=mt(d,"click",v[25]),g=!0)},p:He,i:He,o:He,d(e){e&&X(d),g=!1,f()}}}function fs(v){let d,u,g;function f(i){v[27](i)}let e={disabled:v[12]};return v[5]!==void 0&&(e.value=v[5]),d=new $i({props:e}),et.push(()=>jt(d,"value",f)),d.$on("release",v[24]),{c(){yt(d.$$.fragment)},l(i){St(d.$$.fragment,i)},m(i,r){wt(d,i,r),g=!0},p(i,r){const s={};r[0]&4096&&(s.disabled=i[12]),!u&&r[0]&32&&(u=!0,s.value=i[5],Jt(()=>u=!1)),d.$set(s)},i(i){g||(oe(d.$$.fragment,i),g=!0)},o(i){de(d.$$.fragment,i),g=!1},d(i){Ct(d,i)}}}function In(v){var i,r,s;let d,u,g;function f(l){v[28](l)}let e={label:v[11]==="shoot"?"aim":v[11],min:(i=v[23][v[11]])==null?void 0:i.min,max:(r=v[23][v[11]])==null?void 0:r.max,step:(s=v[23][v[11]])==null?void 0:s.step};return v[4]!==void 0&&(e.value=v[4]),d=new Ji({props:e}),et.push(()=>jt(d,"value",f)),{c(){yt(d.$$.fragment)},l(l){St(d.$$.fragment,l)},m(l,n){wt(d,l,n),g=!0},p(l,n){var c,t,o;const h={};n[0]&2048&&(h.label=l[11]==="shoot"?"aim":l[11]),n[0]&2048&&(h.min=(c=l[23][l[11]])==null?void 0:c.min),n[0]&2048&&(h.max=(t=l[23][l[11]])==null?void 0:t.max),n[0]&2048&&(h.step=(o=l[23][l[11]])==null?void 0:o.step),!u&&n[0]&16&&(u=!0,h.value=l[4],Jt(()=>u=!1)),d.$set(h)},i(l){g||(oe(d.$$.fragment,l),g=!0)},o(l){de(d.$$.fragment,l),g=!1},d(l){Ct(d,l)}}}function Dn(v){let d,u,g,f,e;return{c(){d=ee("p"),u=Ae("x: "),g=Ae(v[9]),f=Ae(", y: "),e=Ae(v[10]),this.h()},l(i){d=te(i,"P",{class:!0});var r=ne(d);u=Te(r,"x: "),g=Te(r,v[9]),f=Te(r,", y: "),e=Te(r,v[10]),r.forEach(X),this.h()},h(){ae(d,"class","svelte-i86k1l")},m(i,r){fe(i,d,r),Y(d,u),Y(d,g),Y(d,f),Y(d,e)},p(i,r){r[0]&512&&Xe(g,i[9]),r[0]&1024&&Xe(e,i[10])},d(i){i&&X(d)}}}function cs(v){let d,u,g,f="20s",e,i,r=v[6].player1+"",s,l,n,h,c="POINTS",t,o,a,p=v[7].player1+"",w,b,E,A=v[7].player2+"",m,S,y,x,P="20s",C,k,M=v[6].player2+"",T,R=`${v[0]}px`,F,N,L,_,K,G,J,j,$,ve,B,I,O=`${v[0]}px`,D=`${v[0]}px`,H,V,z,Q,re,se,ce,Ie,Je,Pe,me,De,le,Re=Le(v[21].slice(0,3)),he=[];for(let W=0;W<Re.length;W+=1)he[W]=Mn(Pn(v,Re,W));let Ne=Le(v[21]),ge=[];for(let W=0;W<Ne.length;W+=1)ge[W]=bn(Cn(v,Ne,W));let Oe=Le(v[19]),Se=[];for(let W=0;W<Oe.length;W+=1)Se[W]=kn(wn(v,Oe,W));let Ge=Le(v[20]),pe=[];for(let W=0;W<Ge.length;W+=1)pe[W]=En(Sn(v,Ge,W));let ue=v[11]==="end"&&An(v),xe=!v[13]&&Tn(v),ye=!v[13]&&In(v),Me=v[1]&&Dn(v);return{c(){d=ee("div"),u=ee("p"),g=ee("span"),g.textContent=f,e=we(),i=ee("strong"),s=Ae(r),l=we(),n=ee("p"),h=ee("span"),h.textContent=c,t=we(),o=ee("strong"),a=ee("span"),w=Ae(p),b=Ae(` -
			`),E=ee("span"),m=Ae(A),S=we(),y=ee("p"),x=ee("span"),x.textContent=P,C=we(),k=ee("strong"),T=Ae(M),F=we(),N=ee("div"),L=ee("div"),_=ee("div"),K=we(),G=ee("div"),J=we();for(let W=0;W<he.length;W+=1)he[W].c();j=we(),$=ee("div"),ve=we();for(let W=0;W<ge.length;W+=1)ge[W].c();B=we();for(let W=0;W<Se.length;W+=1)Se[W].c();I=we();for(let W=0;W<pe.length;W+=1)pe[W].c();H=we(),V=ee("div"),z=we(),Q=ee("div"),ue&&ue.c(),se=we(),ce=ee("div"),Ie=ee("div"),xe&&xe.c(),Je=we(),Pe=ee("div"),ye&&ye.c(),me=we(),Me&&Me.c(),De=Ve(),this.h()},l(W){d=te(W,"DIV",{class:!0});var Z=ne(d);u=te(Z,"P",{class:!0});var U=ne(u);g=te(U,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-26pqx6"&&(g.textContent=f),e=Ce(U),i=te(U,"STRONG",{});var ke=ne(i);s=Te(ke,r),ke.forEach(X),U.forEach(X),l=Ce(Z),n=te(Z,"P",{class:!0});var Pt=ne(n);h=te(Pt,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(h)!=="svelte-8p7j2g"&&(h.textContent=c),t=Ce(Pt),o=te(Pt,"STRONG",{});var Mt=ne(o);a=te(Mt,"SPAN",{class:!0});var $t=ne(a);w=Te($t,p),$t.forEach(X),b=Te(Mt,` -
			`),E=te(Mt,"SPAN",{class:!0});var en=ne(E);m=Te(en,A),en.forEach(X),Mt.forEach(X),Pt.forEach(X),S=Ce(Z),y=te(Z,"P",{class:!0});var bt=ne(y);x=te(bt,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(x)!=="svelte-26pqx6"&&(x.textContent=P),C=Ce(bt),k=te(bt,"STRONG",{});var tn=ne(k);T=Te(tn,M),tn.forEach(X),bt.forEach(X),Z.forEach(X),F=Ce(W),N=te(W,"DIV",{class:!0});var tt=ne(N);L=te(tt,"DIV",{class:!0});var Ee=ne(L);_=te(Ee,"DIV",{class:!0,style:!0}),ne(_).forEach(X),K=Ce(Ee),G=te(Ee,"DIV",{class:!0,style:!0}),ne(G).forEach(X),J=Ce(Ee);for(let be=0;be<he.length;be+=1)he[be].l(Ee);j=Ce(Ee),$=te(Ee,"DIV",{class:!0,style:!0}),ne($).forEach(X),ve=Ce(Ee);for(let be=0;be<ge.length;be+=1)ge[be].l(Ee);B=Ce(Ee);for(let be=0;be<Se.length;be+=1)Se[be].l(Ee);I=Ce(Ee);for(let be=0;be<pe.length;be+=1)pe[be].l(Ee);Ee.forEach(X),H=Ce(tt),V=te(tt,"DIV",{class:!0}),ne(V).forEach(X),z=Ce(tt),Q=te(tt,"DIV",{class:!0});var nn=ne(Q);ue&&ue.l(nn),nn.forEach(X),tt.forEach(X),se=Ce(W),ce=te(W,"DIV",{class:!0});var kt=ne(ce);Ie=te(kt,"DIV",{class:!0});var sn=ne(Ie);xe&&xe.l(sn),sn.forEach(X),Je=Ce(kt),Pe=te(kt,"DIV",{class:!0});var rn=ne(Pe);ye&&ye.l(rn),rn.forEach(X),kt.forEach(X),me=Ce(W),Me&&Me.l(W),De=Ve(),this.h()},h(){ae(g,"class","label svelte-i86k1l"),ae(u,"class","holder you svelte-i86k1l"),Fe(u,"animate",v[8].player1),Fe(u,"visible",v[16]),ae(h,"class","label svelte-i86k1l"),ae(a,"class","you"),ae(E,"class","opp"),ae(n,"class","points svelte-i86k1l"),Fe(n,"visible",v[15]),ae(x,"class","label svelte-i86k1l"),ae(y,"class","holder opp svelte-i86k1l"),Fe(y,"animate",v[8].player2),Fe(y,"visible",v[16]),ae(d,"class","score svelte-i86k1l"),ie(d,"width",R),ae(_,"class","base svelte-i86k1l"),ie(_,"--w",Ft*v[0]+"px"),ie(_,"--b",Kt/2*v[0]+"px"),ae(G,"class","surface svelte-i86k1l"),ie(G,"--w",xt*v[0]+"px"),ae($,"class","twenty svelte-i86k1l"),ie($,"--w",Math.floor(ot*v[0])+"px"),ae(L,"class","bg svelte-i86k1l"),ie(L,"width",O),ie(L,"height",D),ae(V,"class","fg svelte-i86k1l"),ae(Q,"class","end svelte-i86k1l"),ae(N,"class",re="c "+v[18]+" svelte-i86k1l"),ae(Ie,"class","top svelte-i86k1l"),ae(Pe,"class","bottom svelte-i86k1l"),ae(ce,"class","ui svelte-i86k1l"),Fe(ce,"visible",v[14]||!v[2])},m(W,Z){fe(W,d,Z),Y(d,u),Y(u,g),Y(u,e),Y(u,i),Y(i,s),Y(d,l),Y(d,n),Y(n,h),Y(n,t),Y(n,o),Y(o,a),Y(a,w),Y(o,b),Y(o,E),Y(E,m),Y(d,S),Y(d,y),Y(y,x),Y(y,C),Y(y,k),Y(k,T),fe(W,F,Z),fe(W,N,Z),Y(N,L),Y(L,_),Y(L,K),Y(L,G),Y(L,J);for(let U=0;U<he.length;U+=1)he[U]&&he[U].m(L,null);Y(L,j),Y(L,$),Y(L,ve);for(let U=0;U<ge.length;U+=1)ge[U]&&ge[U].m(L,null);Y(L,B);for(let U=0;U<Se.length;U+=1)Se[U]&&Se[U].m(L,null);Y(L,I);for(let U=0;U<pe.length;U+=1)pe[U]&&pe[U].m(L,null);Y(N,H),Y(N,V),v[26](V),Y(N,z),Y(N,Q),ue&&ue.m(Q,null),fe(W,se,Z),fe(W,ce,Z),Y(ce,Ie),xe&&xe.m(Ie,null),Y(ce,Je),Y(ce,Pe),ye&&ye.m(Pe,null),fe(W,me,Z),Me&&Me.m(W,Z),fe(W,De,Z),le=!0},p(W,Z){if((!le||Z[0]&64)&&r!==(r=W[6].player1+"")&&Xe(s,r),(!le||Z[0]&256)&&Fe(u,"animate",W[8].player1),(!le||Z[0]&65536)&&Fe(u,"visible",W[16]),(!le||Z[0]&128)&&p!==(p=W[7].player1+"")&&Xe(w,p),(!le||Z[0]&128)&&A!==(A=W[7].player2+"")&&Xe(m,A),(!le||Z[0]&32768)&&Fe(n,"visible",W[15]),(!le||Z[0]&64)&&M!==(M=W[6].player2+"")&&Xe(T,M),(!le||Z[0]&256)&&Fe(y,"animate",W[8].player2),(!le||Z[0]&65536)&&Fe(y,"visible",W[16]),Z[0]&1&&R!==(R=`${W[0]}px`)&&ie(d,"width",R),(!le||Z[0]&1)&&ie(_,"--w",Ft*W[0]+"px"),(!le||Z[0]&1)&&ie(_,"--b",Kt/2*W[0]+"px"),(!le||Z[0]&1)&&ie(G,"--w",xt*W[0]+"px"),Z[0]&2097153){Re=Le(W[21].slice(0,3));let U;for(U=0;U<Re.length;U+=1){const ke=Pn(W,Re,U);he[U]?he[U].p(ke,Z):(he[U]=Mn(ke),he[U].c(),he[U].m(L,j))}for(;U<he.length;U+=1)he[U].d(1);he.length=Re.length}if((!le||Z[0]&1)&&ie($,"--w",Math.floor(ot*W[0])+"px"),Z[0]&6291457){Ne=Le(W[21]);let U;for(U=0;U<Ne.length;U+=1){const ke=Cn(W,Ne,U);ge[U]?ge[U].p(ke,Z):(ge[U]=bn(ke),ge[U].c(),ge[U].m(L,B))}for(;U<ge.length;U+=1)ge[U].d(1);ge.length=Ne.length}if(Z[0]&524289){Oe=Le(W[19]);let U;for(U=0;U<Oe.length;U+=1){const ke=wn(W,Oe,U);Se[U]?Se[U].p(ke,Z):(Se[U]=kn(ke),Se[U].c(),Se[U].m(L,I))}for(;U<Se.length;U+=1)Se[U].d(1);Se.length=Oe.length}if(Z[0]&1048577){Ge=Le(W[20]);let U;for(U=0;U<Ge.length;U+=1){const ke=Sn(W,Ge,U);pe[U]?pe[U].p(ke,Z):(pe[U]=En(ke),pe[U].c(),pe[U].m(L,null))}for(;U<pe.length;U+=1)pe[U].d(1);pe.length=Ge.length}Z[0]&1&&O!==(O=`${W[0]}px`)&&ie(L,"width",O),Z[0]&1&&D!==(D=`${W[0]}px`)&&ie(L,"height",D),W[11]==="end"?ue?(ue.p(W,Z),Z[0]&2048&&oe(ue,1)):(ue=An(W),ue.c(),oe(ue,1),ue.m(Q,null)):ue&&(Qe(),de(ue,1,1,()=>{ue=null}),Ze()),(!le||Z[0]&262144&&re!==(re="c "+W[18]+" svelte-i86k1l"))&&ae(N,"class",re),W[13]?xe&&(Qe(),de(xe,1,1,()=>{xe=null}),Ze()):xe?(xe.p(W,Z),Z[0]&8192&&oe(xe,1)):(xe=Tn(W),xe.c(),oe(xe,1),xe.m(Ie,null)),W[13]?ye&&(Qe(),de(ye,1,1,()=>{ye=null}),Ze()):ye?(ye.p(W,Z),Z[0]&8192&&oe(ye,1)):(ye=In(W),ye.c(),oe(ye,1),ye.m(Pe,null)),(!le||Z[0]&16388)&&Fe(ce,"visible",W[14]||!W[2]),W[1]?Me?Me.p(W,Z):(Me=Dn(W),Me.c(),Me.m(De.parentNode,De)):Me&&(Me.d(1),Me=null)},i(W){le||(oe(ue),oe(xe),oe(ye),le=!0)},o(W){de(ue),de(xe),de(ye),le=!1},d(W){W&&(X(d),X(F),X(N),X(se),X(ce),X(me),X(De)),vt(he,W),vt(ge,W),vt(Se,W),vt(pe,W),v[26](null),ue&&ue.d(),xe&&xe.d(),ye&&ye.d(),Me&&Me.d(W)}}}const ht=0;function us(v,d,u){let g,{width:f}=d,{dev:e}=d,{tutorial:i}=d;const r=oi(),s=[45,135,225,315],l=[15,60,105,150,195,240,285,330],n=["five","ten","fifteen","twenty"],h={five:"5",ten:"10",fifteen:"15",twenty:"20"},c={position:{value:[.5],min:.22,max:.78,step:.01},shoot:{value:[0],min:-90,max:90,step:1}},t={player1:0,player2:0},o={player1:0,player2:0,leader:""},a={player1:!1,player2:!1};let p,w=0,b=0,E=c.position.value,A=ht,m="position",S,y,x,P,C,k,M=!0,T=!0,R;function F({discs:D,valid:H}){u(5,A=ht)}function N(){u(11,m="end"),u(17,R=o.player1>o.player2?"You":"Opp."),setTimeout(()=>{u(11,m="idle")},3e3)}function L({discs:D,valid:H}){D.forEach(V=>{V.valid&&V.score&&u(7,o[V.player]+=V.score,o),V.valid&&V.score===20&&(V.player,u(8,a[V.player]=!0,a),u(6,t[V.player]++,t))})}function _({discs:D,valid:H}){L({discs:D,valid:H}),u(5,A=ht),i&&(k=setTimeout(ve,1e3))}function K(){u(8,a.player1=!1,a),u(8,a.player2=!1,a),r.flickDisc(),u(12,y=!0)}function G(){m==="position"?r.positionDisc(E[0]*f):m==="shoot"&&(S=Math.round(E[0]),r.aimDisc({degrees:S,power:.25,visible:i.includes("try")}))}function J(){r.aimDisc({degrees:S,power:A,visible:i.includes("try")})}function j(){m==="position"&&(u(11,m="shoot"),u(4,E=c.shoot.value),u(5,A=ht),r.setState("shoot"))}function $(){u(6,t.player1=0,t),u(6,t.player2=0,t),u(7,o.player1=0,o),u(7,o.player2=0,o)}async function ve(){u(12,y=!1),$(),clearTimeout(C),clearTimeout(k),u(13,x=!i.includes("try")),u(14,P=!["regions","score"].includes(i));const D=i==="score";u(15,M=i!=="regions"),u(16,T=i!=="regions"),u(5,A=ht);const H=os[i];if(r.removeDiscs(),H&&H.forEach(r.addDisc),(x||D)&&H){const V=H[H.length-1],z=V.random?Math.random()*3-1.5:0,Q=V.degrees+z,re=V.random?Math.random()*.07-.035:0,se=V.power+re;D&&(u(15,M=!0),L({discs:H,valid:!0})),C=setTimeout(()=>{D?N():(u(11,m=H[H.length-1].state),r.aimDisc({degrees:Q,power:se}),K())},2e3)}else C=null,r.removeDiscs(),H&&(H.forEach(r.addDisc),u(11,m=H[H.length-1].state)),m==="shoot"&&r.setIndicatorVisible(!0);await $n(),u(4,E=c[m].value)}Jn(()=>{r.on("shotComplete",F),r.on("shotCompleteManual",_)});function B(D){et[D?"unshift":"push"](()=>{p=D,u(3,p)})}function I(D){A=D,u(5,A)}function O(D){E=D,u(4,E)}return v.$$set=D=>{"width"in D&&u(0,f=D.width),"dev"in D&&u(1,e=D.dev),"tutorial"in D&&u(2,i=D.tutorial)},v.$$.update=()=>{v.$$.dirty[0]&1&&u(9,w=0),v.$$.dirty[0]&1&&u(10,b=0),v.$$.dirty[0]&13&&f&&r.init({element:p,width:f,tutorial:i}),v.$$.dirty[0]&17&&f&&G(),v.$$.dirty[0]&33&&f&&J(),v.$$.dirty[0]&5&&f&&ve(),v.$$.dirty[0]&4&&u(18,g=i?`tutorial tutorial-${i}`:"")},[f,e,i,p,E,A,t,o,a,w,b,m,y,x,P,M,T,R,g,s,l,n,h,c,K,j,B,I,O]}class Ls extends ut{constructor(d){super(),dt(this,d,us,cs,ct,{width:0,dev:1,tutorial:2},null,[-1,-1])}}var ds="Expected a function",Rn=NaN,hs="[object Symbol]",vs=/^\s+|\s+$/g,ps=/^[-+]0x[0-9a-f]+$/i,ms=/^0b[01]+$/i,gs=/^0o[0-7]+$/i,xs=parseInt,ys=typeof je=="object"&&je&&je.Object===Object&&je,Ss=typeof self=="object"&&self&&self.Object===Object&&self,ws=ys||Ss||Function("return this")(),Cs=Object.prototype,Ps=Cs.toString,Ms=Math.max,bs=Math.min,zt=function(){return ws.Date.now()};function ks(v,d,u){var g,f,e,i,r,s,l=0,n=!1,h=!1,c=!0;if(typeof v!="function")throw new TypeError(ds);d=Bn(d)||0,Yt(u)&&(n=!!u.leading,h="maxWait"in u,e=h?Ms(Bn(u.maxWait)||0,d):e,c="trailing"in u?!!u.trailing:c);function t(S){var y=g,x=f;return g=f=void 0,l=S,i=v.apply(x,y),i}function o(S){return l=S,r=setTimeout(w,d),n?t(S):i}function a(S){var y=S-s,x=S-l,P=d-y;return h?bs(P,e-x):P}function p(S){var y=S-s,x=S-l;return s===void 0||y>=d||y<0||h&&x>=e}function w(){var S=zt();if(p(S))return b(S);r=setTimeout(w,a(S))}function b(S){return r=void 0,c&&g?t(S):(g=f=void 0,i)}function E(){r!==void 0&&clearTimeout(r),l=0,g=s=f=r=void 0}function A(){return r===void 0?i:b(zt())}function m(){var S=zt(),y=p(S);if(g=arguments,f=this,s=S,y){if(r===void 0)return o(s);if(h)return r=setTimeout(w,d),t(s)}return r===void 0&&(r=setTimeout(w,d)),i}return m.cancel=E,m.flush=A,m}function Yt(v){var d=typeof v;return!!v&&(d=="object"||d=="function")}function Es(v){return!!v&&typeof v=="object"}function As(v){return typeof v=="symbol"||Es(v)&&Ps.call(v)==hs}function Bn(v){if(typeof v=="number")return v;if(As(v))return Rn;if(Yt(v)){var d=typeof v.valueOf=="function"?v.valueOf():v;v=Yt(d)?d+"":d}if(typeof v!="string")return v===0?v:+v;v=v.replace(vs,"");var u=ms.test(v);return u||gs.test(v)?xs(v.slice(2),u?2:8):ps.test(v)?Rn:+v}var Ts=ks;const Is=On(Ts),Ds=()=>{var v;return((v=window==null?void 0:window.visualViewport)==null?void 0:v.width)||document.documentElement.clientWidth},Rs=()=>{var v;return((v=window==null?void 0:window.visualViewport)==null?void 0:v.height)||document.documentElement.clientHeight},Ws=at({width:0,height:0},v=>{const d=()=>v({width:Ds(),height:Rs()});return d(),window.addEventListener("resize",Is(d,250)),()=>{window.removeEventListener("resize",d)}});export{Ls as C,Os as a,Le as e,qt as g,Ws as v};
