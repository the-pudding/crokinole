import{K as Kn,a9 as Xn,aa as Yn,ab as Vn,a8 as Qn,a7 as Zn,a as ct,u as Fe,g as ce,f as Y,a1 as lt,k as Dt,Y as _e,a2 as Qt,p as et,C as Ft,e as ne,c as ie,b as se,ac as ft,ad as Zt,D as Ot,E as Lt,F as Wt,n as Ue,a4 as mt,r as Fn,t as Re,q as we,d as Be,v as Ce,l as ae,h as J,j as Ye,ae as Jt,X as vt,a6 as Rt,a5 as Ve,y as re,x as Jn,af as jn,m as qn,A as $n}from"./scheduler.C7JCuNNY.js";import{S as ut,i as dt,g as Ze,b as de,e as Je,t as oe,f as jt,c as yt,a as St,m as wt,d as Ct,h as an}from"./index.BGNV_pQ3.js";import{d as Nt,w as nt,r as at}from"./index.DYwQb_j9.js";function We(v){return(v==null?void 0:v.length)!==void 0?v:Array.from(v)}function qt(v,d){const u={},g={},f={$$scope:1};let e=v.length;for(;e--;){const n=v[e],r=d[e];if(r){for(const s in n)s in r||(g[s]=1);for(const s in r)f[s]||(u[s]=r[s],f[s]=1);v[e]=r}else for(const s in n)f[s]=1}for(const n in g)n in u||(u[n]=void 0);return u}function Ls(v){return typeof v=="object"&&v!==null?v:{}}function on(v,{delay:d=0,duration:u=400,easing:g=Kn}={}){const f=+getComputedStyle(v).opacity;return{delay:d,duration:u,easing:g,css:e=>`opacity: ${e*f}`}}var je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}var Ln={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(v,d){(function(g,f){v.exports=f()})(je,function(){return function(u){var g={};function f(e){if(g[e])return g[e].exports;var n=g[e]={i:e,l:!1,exports:{}};return u[e].call(n.exports,n,n.exports,f),n.l=!0,n.exports}return f.m=u,f.c=g,f.d=function(e,n,r){f.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},f.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(e,n){if(n&1&&(e=f(e)),n&8||n&4&&typeof e=="object"&&e&&e.__esModule)return e;var r=Object.create(null);if(f.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),n&2&&typeof e!="string")for(var s in e)f.d(r,s,(function(l){return e[l]}).bind(null,s));return r},f.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(n,"a",n),n},f.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},f.p="",f(f.s=20)}([function(u,g){var f={};u.exports=f,function(){f._baseDelta=1e3/60,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(n,r){var s,l;typeof r=="boolean"?(s=2,l=r):(s=1,l=!0);for(var i=s;i<arguments.length;i++){var h=arguments[i];if(h)for(var c in h)l&&h[c]&&h[c].constructor===Object&&(!n[c]||n[c].constructor===Object)?(n[c]=n[c]||{},f.extend(n[c],l,h[c])):n[c]=h[c]}return n},f.clone=function(n,r){return f.extend({},r,n)},f.keys=function(n){if(Object.keys)return Object.keys(n);var r=[];for(var s in n)r.push(s);return r},f.values=function(n){var r=[];if(Object.keys){for(var s=Object.keys(n),l=0;l<s.length;l++)r.push(n[s[l]]);return r}for(var i in n)r.push(n[i]);return r},f.get=function(n,r,s,l){r=r.split(".").slice(s,l);for(var i=0;i<r.length;i+=1)n=n[r[i]];return n},f.set=function(n,r,s,l,i){var h=r.split(".").slice(l,i);return f.get(n,r,0,-1)[h[h.length-1]]=s,s},f.shuffle=function(n){for(var r=n.length-1;r>0;r--){var s=Math.floor(f.random()*(r+1)),l=n[r];n[r]=n[s],n[s]=l}return n},f.choose=function(n){return n[Math.floor(f.random()*n.length)]},f.isElement=function(n){return typeof HTMLElement<"u"?n instanceof HTMLElement:!!(n&&n.nodeType&&n.nodeName)},f.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"},f.isFunction=function(n){return typeof n=="function"},f.isPlainObject=function(n){return typeof n=="object"&&n.constructor===Object},f.isString=function(n){return toString.call(n)==="[object String]"},f.clamp=function(n,r,s){return n<r?r:n>s?s:n},f.sign=function(n){return n<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(n,r){return n=typeof n<"u"?n:0,r=typeof r<"u"?r:1,n+e()*(r-n)};var e=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(n){return n=n.replace("#",""),n.length==3&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)),parseInt(n,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var n=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[n]||(f.warn(n),f._warnedOnce[n]=!0)},f.deprecated=function(n,r,s){n[r]=f.chain(function(){f.warnOnce("🔅 deprecated 🔅",s)},n[r])},f.nextId=function(){return f._nextId++},f.indexOf=function(n,r){if(n.indexOf)return n.indexOf(r);for(var s=0;s<n.length;s++)if(n[s]===r)return s;return-1},f.map=function(n,r){if(n.map)return n.map(r);for(var s=[],l=0;l<n.length;l+=1)s.push(r(n[l]));return s},f.topologicalSort=function(n){var r=[],s=[],l=[];for(var i in n)!s[i]&&!l[i]&&f._topologicalSort(i,s,l,n,r);return r},f._topologicalSort=function(n,r,s,l,i){var h=l[n]||[];s[n]=!0;for(var c=0;c<h.length;c+=1){var t=h[c];s[t]||r[t]||f._topologicalSort(t,r,s,l,i)}s[n]=!1,r[n]=!0,i.push(n)},f.chain=function(){for(var n=[],r=0;r<arguments.length;r+=1){var s=arguments[r];s._chained?n.push.apply(n,s._chained):n.push(s)}var l=function(){for(var i,h=new Array(arguments.length),c=0,t=arguments.length;c<t;c++)h[c]=arguments[c];for(c=0;c<n.length;c+=1){var o=n[c].apply(i,h);typeof o<"u"&&(i=o)}return i};return l._chained=n,l},f.chainPathBefore=function(n,r,s){return f.set(n,r,f.chain(s,f.get(n,r)))},f.chainPathAfter=function(n,r,s){return f.set(n,r,f.chain(f.get(n,r),s))},f.setDecomp=function(n){f._decomp=n},f.getDecomp=function(){var n=f._decomp;try{!n&&typeof window<"u"&&(n=window.decomp),!n&&typeof je<"u"&&(n=je.decomp)}catch{n=null}return n}}()},function(u,g){var f={};u.exports=f,function(){f.create=function(e){var n={min:{x:0,y:0},max:{x:0,y:0}};return e&&f.update(n,e),n},f.update=function(e,n,r){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var s=0;s<n.length;s++){var l=n[s];l.x>e.max.x&&(e.max.x=l.x),l.x<e.min.x&&(e.min.x=l.x),l.y>e.max.y&&(e.max.y=l.y),l.y<e.min.y&&(e.min.y=l.y)}r&&(r.x>0?e.max.x+=r.x:e.min.x+=r.x,r.y>0?e.max.y+=r.y:e.min.y+=r.y)},f.contains=function(e,n){return n.x>=e.min.x&&n.x<=e.max.x&&n.y>=e.min.y&&n.y<=e.max.y},f.overlaps=function(e,n){return e.min.x<=n.max.x&&e.max.x>=n.min.x&&e.max.y>=n.min.y&&e.min.y<=n.max.y},f.translate=function(e,n){e.min.x+=n.x,e.max.x+=n.x,e.min.y+=n.y,e.max.y+=n.y},f.shift=function(e,n){var r=e.max.x-e.min.x,s=e.max.y-e.min.y;e.min.x=n.x,e.max.x=n.x+r,e.min.y=n.y,e.max.y=n.y+s}}()},function(u,g){var f={};u.exports=f,function(){f.create=function(e,n){return{x:e||0,y:n||0}},f.clone=function(e){return{x:e.x,y:e.y}},f.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},f.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},f.rotate=function(e,n,r){var s=Math.cos(n),l=Math.sin(n);r||(r={});var i=e.x*s-e.y*l;return r.y=e.x*l+e.y*s,r.x=i,r},f.rotateAbout=function(e,n,r,s){var l=Math.cos(n),i=Math.sin(n);s||(s={});var h=r.x+((e.x-r.x)*l-(e.y-r.y)*i);return s.y=r.y+((e.x-r.x)*i+(e.y-r.y)*l),s.x=h,s},f.normalise=function(e){var n=f.magnitude(e);return n===0?{x:0,y:0}:{x:e.x/n,y:e.y/n}},f.dot=function(e,n){return e.x*n.x+e.y*n.y},f.cross=function(e,n){return e.x*n.y-e.y*n.x},f.cross3=function(e,n,r){return(n.x-e.x)*(r.y-e.y)-(n.y-e.y)*(r.x-e.x)},f.add=function(e,n,r){return r||(r={}),r.x=e.x+n.x,r.y=e.y+n.y,r},f.sub=function(e,n,r){return r||(r={}),r.x=e.x-n.x,r.y=e.y-n.y,r},f.mult=function(e,n){return{x:e.x*n,y:e.y*n}},f.div=function(e,n){return{x:e.x/n,y:e.y/n}},f.perp=function(e,n){return n=n===!0?-1:1,{x:n*-e.y,y:n*e.x}},f.neg=function(e){return{x:-e.x,y:-e.y}},f.angle=function(e,n){return Math.atan2(n.y-e.y,n.x-e.x)},f._temp=[f.create(),f.create(),f.create(),f.create(),f.create(),f.create()]}()},function(u,g,f){var e={};u.exports=e;var n=f(2),r=f(0);(function(){e.create=function(s,l){for(var i=[],h=0;h<s.length;h++){var c=s[h],t={x:c.x,y:c.y,index:h,body:l,isInternal:!1};i.push(t)}return i},e.fromPath=function(s,l){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,h=[];return s.replace(i,function(c,t,o){h.push({x:parseFloat(t),y:parseFloat(o)})}),e.create(h,l)},e.centre=function(s){for(var l=e.area(s,!0),i={x:0,y:0},h,c,t,o=0;o<s.length;o++)t=(o+1)%s.length,h=n.cross(s[o],s[t]),c=n.mult(n.add(s[o],s[t]),h),i=n.add(i,c);return n.div(i,6*l)},e.mean=function(s){for(var l={x:0,y:0},i=0;i<s.length;i++)l.x+=s[i].x,l.y+=s[i].y;return n.div(l,s.length)},e.area=function(s,l){for(var i=0,h=s.length-1,c=0;c<s.length;c++)i+=(s[h].x-s[c].x)*(s[h].y+s[c].y),h=c;return l?i/2:Math.abs(i)/2},e.inertia=function(s,l){for(var i=0,h=0,c=s,t,o,a=0;a<c.length;a++)o=(a+1)%c.length,t=Math.abs(n.cross(c[o],c[a])),i+=t*(n.dot(c[o],c[o])+n.dot(c[o],c[a])+n.dot(c[a],c[a])),h+=t;return l/6*(i/h)},e.translate=function(s,l,i){i=typeof i<"u"?i:1;var h=s.length,c=l.x*i,t=l.y*i,o;for(o=0;o<h;o++)s[o].x+=c,s[o].y+=t;return s},e.rotate=function(s,l,i){if(l!==0){var h=Math.cos(l),c=Math.sin(l),t=i.x,o=i.y,a=s.length,p,w,b,T;for(T=0;T<a;T++)p=s[T],w=p.x-t,b=p.y-o,p.x=t+(w*h-b*c),p.y=o+(w*c+b*h);return s}},e.contains=function(s,l){for(var i=l.x,h=l.y,c=s.length,t=s[c-1],o,a=0;a<c;a++){if(o=s[a],(i-t.x)*(o.y-t.y)+(h-t.y)*(t.x-o.x)>0)return!1;t=o}return!0},e.scale=function(s,l,i,h){if(l===1&&i===1)return s;h=h||e.centre(s);for(var c,t,o=0;o<s.length;o++)c=s[o],t=n.sub(c,h),s[o].x=h.x+t.x*l,s[o].y=h.y+t.y*i;return s},e.chamfer=function(s,l,i,h,c){typeof l=="number"?l=[l]:l=l||[8],i=typeof i<"u"?i:-1,h=h||2,c=c||14;for(var t=[],o=0;o<s.length;o++){var a=s[o-1>=0?o-1:s.length-1],p=s[o],w=s[(o+1)%s.length],b=l[o<l.length?o:l.length-1];if(b===0){t.push(p);continue}var T=n.normalise({x:p.y-a.y,y:a.x-p.x}),E=n.normalise({x:w.y-p.y,y:p.x-w.x}),m=Math.sqrt(2*Math.pow(b,2)),S=n.mult(r.clone(T),b),y=n.normalise(n.mult(n.add(T,E),.5)),x=n.sub(p,n.mult(y,m)),P=i;i===-1&&(P=Math.pow(b,.32)*1.75),P=r.clamp(P,h,c),P%2===1&&(P+=1);for(var C=Math.acos(n.dot(T,E)),k=C/P,M=0;M<P;M++)t.push(n.add(n.rotate(S,k*M),x))}return t},e.clockwiseSort=function(s){var l=e.mean(s);return s.sort(function(i,h){return n.angle(l,i)-n.angle(l,h)}),s},e.isConvex=function(s){var l=0,i=s.length,h,c,t,o;if(i<3)return null;for(h=0;h<i;h++)if(c=(h+1)%i,t=(h+2)%i,o=(s[c].x-s[h].x)*(s[t].y-s[c].y),o-=(s[c].y-s[h].y)*(s[t].x-s[c].x),o<0?l|=1:o>0&&(l|=2),l===3)return!1;return l!==0?!0:null},e.hull=function(s){var l=[],i=[],h,c;for(s=s.slice(0),s.sort(function(t,o){var a=t.x-o.x;return a!==0?a:t.y-o.y}),c=0;c<s.length;c+=1){for(h=s[c];i.length>=2&&n.cross3(i[i.length-2],i[i.length-1],h)<=0;)i.pop();i.push(h)}for(c=s.length-1;c>=0;c-=1){for(h=s[c];l.length>=2&&n.cross3(l[l.length-2],l[l.length-1],h)<=0;)l.pop();l.push(h)}return l.pop(),i.pop(),l.concat(i)}})()},function(u,g,f){var e={};u.exports=e;var n=f(3),r=f(2),s=f(7),l=f(0),i=f(1),h=f(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var o={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},a=l.extend(o,t);return c(a,t),a},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var c=function(t,o){o=o||{},e.set(t,{bounds:t.bounds||i.create(t.vertices),positionPrev:t.positionPrev||r.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),n.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),i.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:o.axes||t.axes,area:o.area||t.area,mass:o.mass||t.mass,inertia:o.inertia||t.inertia});var a=t.isStatic?"#14151f":l.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),p=t.isStatic?"#555":"#ccc",w=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||a,t.render.strokeStyle=t.render.strokeStyle||p,t.render.lineWidth=t.render.lineWidth||w,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,o,a){var p;typeof o=="string"&&(p=o,o={},o[p]=a);for(p in o)if(Object.prototype.hasOwnProperty.call(o,p))switch(a=o[p],p){case"isStatic":e.setStatic(t,a);break;case"isSleeping":s.set(t,a);break;case"mass":e.setMass(t,a);break;case"density":e.setDensity(t,a);break;case"inertia":e.setInertia(t,a);break;case"vertices":e.setVertices(t,a);break;case"position":e.setPosition(t,a);break;case"angle":e.setAngle(t,a);break;case"velocity":e.setVelocity(t,a);break;case"angularVelocity":e.setAngularVelocity(t,a);break;case"speed":e.setSpeed(t,a);break;case"angularSpeed":e.setAngularSpeed(t,a);break;case"parts":e.setParts(t,a);break;case"centre":e.setCentre(t,a);break;default:t[p]=a}},e.setStatic=function(t,o){for(var a=0;a<t.parts.length;a++){var p=t.parts[a];o?(p.isStatic||(p._original={restitution:p.restitution,friction:p.friction,mass:p.mass,inertia:p.inertia,density:p.density,inverseMass:p.inverseMass,inverseInertia:p.inverseInertia}),p.restitution=0,p.friction=1,p.mass=p.inertia=p.density=1/0,p.inverseMass=p.inverseInertia=0,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.anglePrev=p.angle,p.angularVelocity=0,p.speed=0,p.angularSpeed=0,p.motion=0):p._original&&(p.restitution=p._original.restitution,p.friction=p._original.friction,p.mass=p._original.mass,p.inertia=p._original.inertia,p.density=p._original.density,p.inverseMass=p._original.inverseMass,p.inverseInertia=p._original.inverseInertia,p._original=null),p.isStatic=o}},e.setMass=function(t,o){var a=t.inertia/(t.mass/6);t.inertia=a*(o/6),t.inverseInertia=1/t.inertia,t.mass=o,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,o){e.setMass(t,o*t.area),t.density=o},e.setInertia=function(t,o){t.inertia=o,t.inverseInertia=1/t.inertia},e.setVertices=function(t,o){o[0].body===t?t.vertices=o:t.vertices=n.create(o,t),t.axes=h.fromVertices(t.vertices),t.area=n.area(t.vertices),e.setMass(t,t.density*t.area);var a=n.centre(t.vertices);n.translate(t.vertices,a,-1),e.setInertia(t,e._inertiaScale*n.inertia(t.vertices,t.mass)),n.translate(t.vertices,t.position),i.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,o,a){var p;for(o=o.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,p=0;p<o.length;p++){var w=o[p];w!==t&&(w.parent=t,t.parts.push(w))}if(t.parts.length!==1){if(a=typeof a<"u"?a:!0,a){var b=[];for(p=0;p<o.length;p++)b=b.concat(o[p].vertices);n.clockwiseSort(b);var T=n.hull(b),E=n.centre(T);e.setVertices(t,T),n.translate(t.vertices,E)}var m=e._totalProperties(t);t.area=m.area,t.parent=t,t.position.x=m.centre.x,t.position.y=m.centre.y,t.positionPrev.x=m.centre.x,t.positionPrev.y=m.centre.y,e.setMass(t,m.mass),e.setInertia(t,m.inertia),e.setPosition(t,m.centre)}},e.setCentre=function(t,o,a){a?(t.positionPrev.x+=o.x,t.positionPrev.y+=o.y,t.position.x+=o.x,t.position.y+=o.y):(t.positionPrev.x=o.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=o.y-(t.position.y-t.positionPrev.y),t.position.x=o.x,t.position.y=o.y)},e.setPosition=function(t,o,a){var p=r.sub(o,t.position);a?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=p.x,t.velocity.y=p.y,t.speed=r.magnitude(p)):(t.positionPrev.x+=p.x,t.positionPrev.y+=p.y);for(var w=0;w<t.parts.length;w++){var b=t.parts[w];b.position.x+=p.x,b.position.y+=p.y,n.translate(b.vertices,p),i.update(b.bounds,b.vertices,t.velocity)}},e.setAngle=function(t,o,a){var p=o-t.angle;a?(t.anglePrev=t.angle,t.angularVelocity=p,t.angularSpeed=Math.abs(p)):t.anglePrev+=p;for(var w=0;w<t.parts.length;w++){var b=t.parts[w];b.angle+=p,n.rotate(b.vertices,p,t.position),h.rotate(b.axes,p),i.update(b.bounds,b.vertices,t.velocity),w>0&&r.rotateAbout(b.position,p,t.position,b.position)}},e.setVelocity=function(t,o){var a=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-o.x*a,t.positionPrev.y=t.position.y-o.y*a,t.velocity.x=(t.position.x-t.positionPrev.x)/a,t.velocity.y=(t.position.y-t.positionPrev.y)/a,t.speed=r.magnitude(t.velocity)},e.getVelocity=function(t){var o=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*o,y:(t.position.y-t.positionPrev.y)*o}},e.getSpeed=function(t){return r.magnitude(e.getVelocity(t))},e.setSpeed=function(t,o){e.setVelocity(t,r.mult(r.normalise(e.getVelocity(t)),o))},e.setAngularVelocity=function(t,o){var a=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-o*a,t.angularVelocity=(t.angle-t.anglePrev)/a,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,o){e.setAngularVelocity(t,l.sign(e.getAngularVelocity(t))*o)},e.translate=function(t,o,a){e.setPosition(t,r.add(t.position,o),a)},e.rotate=function(t,o,a,p){if(!a)e.setAngle(t,t.angle+o,p);else{var w=Math.cos(o),b=Math.sin(o),T=t.position.x-a.x,E=t.position.y-a.y;e.setPosition(t,{x:a.x+(T*w-E*b),y:a.y+(T*b+E*w)},p),e.setAngle(t,t.angle+o,p)}},e.scale=function(t,o,a,p){var w=0,b=0;p=p||t.position;for(var T=0;T<t.parts.length;T++){var E=t.parts[T];n.scale(E.vertices,o,a,p),E.axes=h.fromVertices(E.vertices),E.area=n.area(E.vertices),e.setMass(E,t.density*E.area),n.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),e.setInertia(E,e._inertiaScale*n.inertia(E.vertices,E.mass)),n.translate(E.vertices,{x:E.position.x,y:E.position.y}),T>0&&(w+=E.area,b+=E.inertia),E.position.x=p.x+(E.position.x-p.x)*o,E.position.y=p.y+(E.position.y-p.y)*a,i.update(E.bounds,E.vertices,t.velocity)}t.parts.length>1&&(t.area=w,t.isStatic||(e.setMass(t,t.density*w),e.setInertia(t,b))),t.circleRadius&&(o===a?t.circleRadius*=o:t.circleRadius=null)},e.update=function(t,o){o=(typeof o<"u"?o:1e3/60)*t.timeScale;var a=o*o,p=e._timeCorrection?o/(t.deltaTime||o):1,w=1-t.frictionAir*(o/l._baseDelta),b=(t.position.x-t.positionPrev.x)*p,T=(t.position.y-t.positionPrev.y)*p;t.velocity.x=b*w+t.force.x/t.mass*a,t.velocity.y=T*w+t.force.y/t.mass*a,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=o,t.angularVelocity=(t.angle-t.anglePrev)*w*p+t.torque/t.inertia*a,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var E=0;E<t.parts.length;E++){var m=t.parts[E];n.translate(m.vertices,t.velocity),E>0&&(m.position.x+=t.velocity.x,m.position.y+=t.velocity.y),t.angularVelocity!==0&&(n.rotate(m.vertices,t.angularVelocity,t.position),h.rotate(m.axes,t.angularVelocity),E>0&&r.rotateAbout(m.position,t.angularVelocity,t.position,m.position)),i.update(m.bounds,m.vertices,t.velocity)}},e.updateVelocities=function(t){var o=e._baseDelta/t.deltaTime,a=t.velocity;a.x=(t.position.x-t.positionPrev.x)*o,a.y=(t.position.y-t.positionPrev.y)*o,t.speed=Math.sqrt(a.x*a.x+a.y*a.y),t.angularVelocity=(t.angle-t.anglePrev)*o,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,o,a){var p={x:o.x-t.position.x,y:o.y-t.position.y};t.force.x+=a.x,t.force.y+=a.y,t.torque+=p.x*a.y-p.y*a.x},e._totalProperties=function(t){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},a=t.parts.length===1?0:1;a<t.parts.length;a++){var p=t.parts[a],w=p.mass!==1/0?p.mass:1;o.mass+=w,o.area+=p.area,o.inertia+=p.inertia,o.centre=r.add(o.centre,r.mult(p.position,w))}return o.centre=r.div(o.centre,o.mass),o}})()},function(u,g,f){var e={};u.exports=e;var n=f(0);(function(){e.on=function(r,s,l){for(var i=s.split(" "),h,c=0;c<i.length;c++)h=i[c],r.events=r.events||{},r.events[h]=r.events[h]||[],r.events[h].push(l);return l},e.off=function(r,s,l){if(!s){r.events={};return}typeof s=="function"&&(l=s,s=n.keys(r.events).join(" "));for(var i=s.split(" "),h=0;h<i.length;h++){var c=r.events[i[h]],t=[];if(l&&c)for(var o=0;o<c.length;o++)c[o]!==l&&t.push(c[o]);r.events[i[h]]=t}},e.trigger=function(r,s,l){var i,h,c,t,o=r.events;if(o&&n.keys(o).length>0){l||(l={}),i=s.split(" ");for(var a=0;a<i.length;a++)if(h=i[a],c=o[h],c){t=n.clone(l,!1),t.name=h,t.source=r;for(var p=0;p<c.length;p++)c[p].apply(r,[t])}}}})()},function(u,g,f){var e={};u.exports=e;var n=f(5),r=f(0),s=f(1),l=f(4);(function(){e.create=function(i){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},e.setModified=function(i,h,c,t){if(i.isModified=h,h&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),c&&i.parent&&e.setModified(i.parent,h,c,t),t)for(var o=0;o<i.composites.length;o++){var a=i.composites[o];e.setModified(a,h,c,t)}},e.add=function(i,h){var c=[].concat(h);n.trigger(i,"beforeAdd",{object:h});for(var t=0;t<c.length;t++){var o=c[t];switch(o.type){case"body":if(o.parent!==o){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,o);break;case"constraint":e.addConstraint(i,o);break;case"composite":e.addComposite(i,o);break;case"mouseConstraint":e.addConstraint(i,o.constraint);break}}return n.trigger(i,"afterAdd",{object:h}),i},e.remove=function(i,h,c){var t=[].concat(h);n.trigger(i,"beforeRemove",{object:h});for(var o=0;o<t.length;o++){var a=t[o];switch(a.type){case"body":e.removeBody(i,a,c);break;case"constraint":e.removeConstraint(i,a,c);break;case"composite":e.removeComposite(i,a,c);break;case"mouseConstraint":e.removeConstraint(i,a.constraint);break}}return n.trigger(i,"afterRemove",{object:h}),i},e.addComposite=function(i,h){return i.composites.push(h),h.parent=i,e.setModified(i,!0,!0,!1),i},e.removeComposite=function(i,h,c){var t=r.indexOf(i.composites,h);if(t!==-1){var o=e.allBodies(h);e.removeCompositeAt(i,t);for(var a=0;a<o.length;a++)o[a].sleepCounter=0}if(c)for(var a=0;a<i.composites.length;a++)e.removeComposite(i.composites[a],h,!0);return i},e.removeCompositeAt=function(i,h){return i.composites.splice(h,1),e.setModified(i,!0,!0,!1),i},e.addBody=function(i,h){return i.bodies.push(h),e.setModified(i,!0,!0,!1),i},e.removeBody=function(i,h,c){var t=r.indexOf(i.bodies,h);if(t!==-1&&(e.removeBodyAt(i,t),h.sleepCounter=0),c)for(var o=0;o<i.composites.length;o++)e.removeBody(i.composites[o],h,!0);return i},e.removeBodyAt=function(i,h){return i.bodies.splice(h,1),e.setModified(i,!0,!0,!1),i},e.addConstraint=function(i,h){return i.constraints.push(h),e.setModified(i,!0,!0,!1),i},e.removeConstraint=function(i,h,c){var t=r.indexOf(i.constraints,h);if(t!==-1&&e.removeConstraintAt(i,t),c)for(var o=0;o<i.composites.length;o++)e.removeConstraint(i.composites[o],h,!0);return i},e.removeConstraintAt=function(i,h){return i.constraints.splice(h,1),e.setModified(i,!0,!0,!1),i},e.clear=function(i,h,c){if(c)for(var t=0;t<i.composites.length;t++)e.clear(i.composites[t],h,!0);return h?i.bodies=i.bodies.filter(function(o){return o.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,e.setModified(i,!0,!0,!1),i},e.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var h=[].concat(i.bodies),c=0;c<i.composites.length;c++)h=h.concat(e.allBodies(i.composites[c]));return i.cache&&(i.cache.allBodies=h),h},e.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var h=[].concat(i.constraints),c=0;c<i.composites.length;c++)h=h.concat(e.allConstraints(i.composites[c]));return i.cache&&(i.cache.allConstraints=h),h},e.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var h=[].concat(i.composites),c=0;c<i.composites.length;c++)h=h.concat(e.allComposites(i.composites[c]));return i.cache&&(i.cache.allComposites=h),h},e.get=function(i,h,c){var t,o;switch(c){case"body":t=e.allBodies(i);break;case"constraint":t=e.allConstraints(i);break;case"composite":t=e.allComposites(i).concat(i);break}return t?(o=t.filter(function(a){return a.id.toString()===h.toString()}),o.length===0?null:o[0]):null},e.move=function(i,h,c){return e.remove(i,h),e.add(c,h),i},e.rebase=function(i){for(var h=e.allBodies(i).concat(e.allConstraints(i)).concat(e.allComposites(i)),c=0;c<h.length;c++)h[c].id=r.nextId();return i},e.translate=function(i,h,c){for(var t=c?e.allBodies(i):i.bodies,o=0;o<t.length;o++)l.translate(t[o],h);return i},e.rotate=function(i,h,c,t){for(var o=Math.cos(h),a=Math.sin(h),p=t?e.allBodies(i):i.bodies,w=0;w<p.length;w++){var b=p[w],T=b.position.x-c.x,E=b.position.y-c.y;l.setPosition(b,{x:c.x+(T*o-E*a),y:c.y+(T*a+E*o)}),l.rotate(b,h)}return i},e.scale=function(i,h,c,t,o){for(var a=o?e.allBodies(i):i.bodies,p=0;p<a.length;p++){var w=a[p],b=w.position.x-t.x,T=w.position.y-t.y;l.setPosition(w,{x:t.x+b*h,y:t.y+T*c}),l.scale(w,h,c)}return i},e.bounds=function(i){for(var h=e.allBodies(i),c=[],t=0;t<h.length;t+=1){var o=h[t];c.push(o.bounds.min,o.bounds.max)}return s.create(c)}})()},function(u,g,f){var e={};u.exports=e;var n=f(4),r=f(5),s=f(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(l,i){for(var h=i/s._baseDelta,c=e._motionSleepThreshold,t=0;t<l.length;t++){var o=l[t],a=n.getSpeed(o),p=n.getAngularSpeed(o),w=a*a+p*p;if(o.force.x!==0||o.force.y!==0){e.set(o,!1);continue}var b=Math.min(o.motion,w),T=Math.max(o.motion,w);o.motion=e._minBias*b+(1-e._minBias)*T,o.sleepThreshold>0&&o.motion<c?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/h&&e.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},e.afterCollisions=function(l){for(var i=e._motionSleepThreshold,h=0;h<l.length;h++){var c=l[h];if(c.isActive){var t=c.collision,o=t.bodyA.parent,a=t.bodyB.parent;if(!(o.isSleeping&&a.isSleeping||o.isStatic||a.isStatic)&&(o.isSleeping||a.isSleeping)){var p=o.isSleeping&&!o.isStatic?o:a,w=p===o?a:o;!p.isStatic&&w.motion>i&&e.set(p,!1)}}}},e.set=function(l,i){var h=l.isSleeping;i?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,h||r.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,h&&r.trigger(l,"sleepEnd"))}})()},function(u,g,f){var e={};u.exports=e;var n=f(3),r=f(9);(function(){var s=[],l={overlap:0,axis:null},i={overlap:0,axis:null};e.create=function(h,c){return{pair:null,collided:!1,bodyA:h,bodyB:c,parentA:h.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(h,c,t){if(e._overlapAxes(l,h.vertices,c.vertices,h.axes),l.overlap<=0||(e._overlapAxes(i,c.vertices,h.vertices,c.axes),i.overlap<=0))return null;var o=t&&t.table[r.id(h,c)],a;o?a=o.collision:(a=e.create(h,c),a.collided=!0,a.bodyA=h.id<c.id?h:c,a.bodyB=h.id<c.id?c:h,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent),h=a.bodyA,c=a.bodyB;var p;l.overlap<i.overlap?p=l:p=i;var w=a.normal,b=a.tangent,T=a.penetration,E=a.supports,m=p.overlap,S=p.axis,y=S.x,x=S.y,P=c.position.x-h.position.x,C=c.position.y-h.position.y;y*P+x*C>=0&&(y=-y,x=-x),w.x=y,w.y=x,b.x=-x,b.y=y,T.x=y*m,T.y=x*m,a.depth=m;var k=e._findSupports(h,c,w,1),M=0;if(n.contains(h.vertices,k[0])&&(E[M++]=k[0]),n.contains(h.vertices,k[1])&&(E[M++]=k[1]),M<2){var A=e._findSupports(c,h,w,-1);n.contains(c.vertices,A[0])&&(E[M++]=A[0]),M<2&&n.contains(c.vertices,A[1])&&(E[M++]=A[1])}return M===0&&(E[M++]=k[0]),a.supportCount=M,a},e._overlapAxes=function(h,c,t,o){var a=c.length,p=t.length,w=c[0].x,b=c[0].y,T=t[0].x,E=t[0].y,m=o.length,S=Number.MAX_VALUE,y=0,x,P,C,k,M,A;for(M=0;M<m;M++){var D=o[M],R=D.x,N=D.y,F=w*R+b*N,U=T*R+E*N,X=F,_=U;for(A=1;A<a;A+=1)k=c[A].x*R+c[A].y*N,k>X?X=k:k<F&&(F=k);for(A=1;A<p;A+=1)k=t[A].x*R+t[A].y*N,k>_?_=k:k<U&&(U=k);if(P=X-U,C=_-F,x=P<C?P:C,x<S&&(S=x,y=M,x<=0))break}h.axis=o[y],h.overlap=S},e._findSupports=function(h,c,t,o){var a=c.vertices,p=a.length,w=h.position.x,b=h.position.y,T=t.x*o,E=t.y*o,m=a[0],S=m,y=T*(w-S.x)+E*(b-S.y),x,P,C;for(C=1;C<p;C+=1)S=a[C],P=T*(w-S.x)+E*(b-S.y),P<y&&(y=P,m=S);return x=a[(p+m.index-1)%p],y=T*(w-x.x)+E*(b-x.y),S=a[(m.index+1)%p],T*(w-S.x)+E*(b-S.y)<y?(s[0]=m,s[1]=S,s):(s[0]=m,s[1]=x,s)}})()},function(u,g,f){var e={};u.exports=e;var n=f(16);(function(){e.create=function(r,s){var l=r.bodyA,i=r.bodyB,h={id:e.id(l,i),bodyA:l,bodyB:i,collision:r,contacts:[n.create(),n.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||i.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(h,r,s),h},e.update=function(r,s,l){var i=s.supports,h=s.supportCount,c=r.contacts,t=s.parentA,o=s.parentB;r.isActive=!0,r.timeUpdated=l,r.collision=s,r.separation=s.depth,r.inverseMass=t.inverseMass+o.inverseMass,r.friction=t.friction<o.friction?t.friction:o.friction,r.frictionStatic=t.frictionStatic>o.frictionStatic?t.frictionStatic:o.frictionStatic,r.restitution=t.restitution>o.restitution?t.restitution:o.restitution,r.slop=t.slop>o.slop?t.slop:o.slop,r.contactCount=h,s.pair=r;var a=i[0],p=c[0],w=i[1],b=c[1];(b.vertex===a||p.vertex===w)&&(c[1]=p,c[0]=p=b,b=c[1]),p.vertex=a,b.vertex=w},e.setActive=function(r,s,l){s?(r.isActive=!0,r.timeUpdated=l):(r.isActive=!1,r.contactCount=0)},e.id=function(r,s){return r.id<s.id?r.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+r.id.toString(36)}})()},function(u,g,f){var e={};u.exports=e;var n=f(3),r=f(2),s=f(7),l=f(1),i=f(11),h=f(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(c){var t=c;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var o=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,a=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,p=r.magnitude(r.sub(o,a));t.length=typeof t.length<"u"?t.length:p,t.id=t.id||h.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var w={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(w.type="pin",w.anchors=!1):t.stiffness<.9&&(w.type="spring"),t.render=h.extend(w,t.render),t},e.preSolveAll=function(c){for(var t=0;t<c.length;t+=1){var o=c[t],a=o.constraintImpulse;o.isStatic||a.x===0&&a.y===0&&a.angle===0||(o.position.x+=a.x,o.position.y+=a.y,o.angle+=a.angle)}},e.solveAll=function(c,t){for(var o=h.clamp(t/h._baseDelta,0,1),a=0;a<c.length;a+=1){var p=c[a],w=!p.bodyA||p.bodyA&&p.bodyA.isStatic,b=!p.bodyB||p.bodyB&&p.bodyB.isStatic;(w||b)&&e.solve(c[a],o)}for(a=0;a<c.length;a+=1)p=c[a],w=!p.bodyA||p.bodyA&&p.bodyA.isStatic,b=!p.bodyB||p.bodyB&&p.bodyB.isStatic,!w&&!b&&e.solve(c[a],o)},e.solve=function(c,t){var o=c.bodyA,a=c.bodyB,p=c.pointA,w=c.pointB;if(!(!o&&!a)){o&&!o.isStatic&&(r.rotate(p,o.angle-c.angleA,p),c.angleA=o.angle),a&&!a.isStatic&&(r.rotate(w,a.angle-c.angleB,w),c.angleB=a.angle);var b=p,T=w;if(o&&(b=r.add(o.position,p)),a&&(T=r.add(a.position,w)),!(!b||!T)){var E=r.sub(b,T),m=r.magnitude(E);m<e._minLength&&(m=e._minLength);var S=(m-c.length)/m,y=c.stiffness>=1||c.length===0,x=y?c.stiffness*t:c.stiffness*t*t,P=c.damping*t,C=r.mult(E,S*x),k=(o?o.inverseMass:0)+(a?a.inverseMass:0),M=(o?o.inverseInertia:0)+(a?a.inverseInertia:0),A=k+M,D,R,N,F,U;if(P>0){var X=r.create();N=r.div(E,m),U=r.sub(a&&r.sub(a.position,a.positionPrev)||X,o&&r.sub(o.position,o.positionPrev)||X),F=r.dot(N,U)}o&&!o.isStatic&&(R=o.inverseMass/k,o.constraintImpulse.x-=C.x*R,o.constraintImpulse.y-=C.y*R,o.position.x-=C.x*R,o.position.y-=C.y*R,P>0&&(o.positionPrev.x-=P*N.x*F*R,o.positionPrev.y-=P*N.y*F*R),D=r.cross(p,C)/A*e._torqueDampen*o.inverseInertia*(1-c.angularStiffness),o.constraintImpulse.angle-=D,o.angle-=D),a&&!a.isStatic&&(R=a.inverseMass/k,a.constraintImpulse.x+=C.x*R,a.constraintImpulse.y+=C.y*R,a.position.x+=C.x*R,a.position.y+=C.y*R,P>0&&(a.positionPrev.x+=P*N.x*F*R,a.positionPrev.y+=P*N.y*F*R),D=r.cross(w,C)/A*e._torqueDampen*a.inverseInertia*(1-c.angularStiffness),a.constraintImpulse.angle+=D,a.angle+=D)}}},e.postSolveAll=function(c){for(var t=0;t<c.length;t++){var o=c[t],a=o.constraintImpulse;if(!(o.isStatic||a.x===0&&a.y===0&&a.angle===0)){s.set(o,!1);for(var p=0;p<o.parts.length;p++){var w=o.parts[p];n.translate(w.vertices,a),p>0&&(w.position.x+=a.x,w.position.y+=a.y),a.angle!==0&&(n.rotate(w.vertices,a.angle,o.position),i.rotate(w.axes,a.angle),p>0&&r.rotateAbout(w.position,a.angle,o.position,w.position)),l.update(w.bounds,w.vertices,o.velocity)}a.angle*=e._warming,a.x*=e._warming,a.y*=e._warming}}},e.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},e.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},e.currentLength=function(c){var t=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),o=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),a=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),p=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),w=t-a,b=o-p;return Math.sqrt(w*w+b*b)}})()},function(u,g,f){var e={};u.exports=e;var n=f(2),r=f(0);(function(){e.fromVertices=function(s){for(var l={},i=0;i<s.length;i++){var h=(i+1)%s.length,c=n.normalise({x:s[h].y-s[i].y,y:s[i].x-s[h].x}),t=c.y===0?1/0:c.x/c.y;t=t.toFixed(3).toString(),l[t]=c}return r.values(l)},e.rotate=function(s,l){if(l!==0)for(var i=Math.cos(l),h=Math.sin(l),c=0;c<s.length;c++){var t=s[c],o;o=t.x*i-t.y*h,t.y=t.x*h+t.y*i,t.x=o}}})()},function(u,g,f){var e={};u.exports=e;var n=f(3),r=f(0),s=f(4),l=f(1),i=f(2);(function(){e.rectangle=function(h,c,t,o,a){a=a||{};var p={label:"Rectangle Body",position:{x:h,y:c},vertices:n.fromPath("L 0 0 L "+t+" 0 L "+t+" "+o+" L 0 "+o)};if(a.chamfer){var w=a.chamfer;p.vertices=n.chamfer(p.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete a.chamfer}return s.create(r.extend({},p,a))},e.trapezoid=function(h,c,t,o,a,p){p=p||{},a>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1."),a*=.5;var w=(1-a*2)*t,b=t*a,T=b+w,E=T+b,m;a<.5?m="L 0 0 L "+b+" "+-o+" L "+T+" "+-o+" L "+E+" 0":m="L 0 0 L "+T+" "+-o+" L "+E+" 0";var S={label:"Trapezoid Body",position:{x:h,y:c},vertices:n.fromPath(m)};if(p.chamfer){var y=p.chamfer;S.vertices=n.chamfer(S.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete p.chamfer}return s.create(r.extend({},S,p))},e.circle=function(h,c,t,o,a){o=o||{};var p={label:"Circle Body",circleRadius:t};a=a||25;var w=Math.ceil(Math.max(10,Math.min(a,t)));return w%2===1&&(w+=1),e.polygon(h,c,w,t,r.extend({},p,o))},e.polygon=function(h,c,t,o,a){if(a=a||{},t<3)return e.circle(h,c,o,a);for(var p=2*Math.PI/t,w="",b=p*.5,T=0;T<t;T+=1){var E=b+T*p,m=Math.cos(E)*o,S=Math.sin(E)*o;w+="L "+m.toFixed(3)+" "+S.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:h,y:c},vertices:n.fromPath(w)};if(a.chamfer){var x=a.chamfer;y.vertices=n.chamfer(y.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete a.chamfer}return s.create(r.extend({},y,a))},e.fromVertices=function(h,c,t,o,a,p,w,b){var T=r.getDecomp(),E,m,S,y,x,P,C,k,M,A,D;for(E=!!(T&&T.quickDecomp),o=o||{},S=[],a=typeof a<"u"?a:!1,p=typeof p<"u"?p:.01,w=typeof w<"u"?w:10,b=typeof b<"u"?b:.01,r.isArray(t[0])||(t=[t]),A=0;A<t.length;A+=1)if(P=t[A],y=n.isConvex(P),x=!y,x&&!E&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),y||!E)y?P=n.clockwiseSort(P):P=n.hull(P),S.push({position:{x:h,y:c},vertices:P});else{var R=P.map(function(I){return[I.x,I.y]});T.makeCCW(R),p!==!1&&T.removeCollinearPoints(R,p),b!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(R,b);var N=T.quickDecomp(R);for(C=0;C<N.length;C++){var F=N[C],U=F.map(function(I){return{x:I[0],y:I[1]}});w>0&&n.area(U)<w||S.push({position:n.centre(U),vertices:U})}}for(C=0;C<S.length;C++)S[C]=s.create(r.extend(S[C],o));if(a){var X=5;for(C=0;C<S.length;C++){var _=S[C];for(k=C+1;k<S.length;k++){var Q=S[k];if(l.overlaps(_.bounds,Q.bounds)){var j=_.vertices,te=Q.vertices;for(M=0;M<_.vertices.length;M++)for(D=0;D<Q.vertices.length;D++){var ve=i.magnitudeSquared(i.sub(j[(M+1)%j.length],te[D])),B=i.magnitudeSquared(i.sub(j[M],te[(D+1)%te.length]));ve<X&&B<X&&(j[M].isInternal=!0,te[D].isInternal=!0)}}}}}return S.length>1?(m=s.create(r.extend({parts:S.slice(0)},o)),s.setPosition(m,{x:h,y:c}),m):S[0]}})()},function(u,g,f){var e={};u.exports=e;var n=f(0),r=f(8);(function(){e.create=function(s){var l={bodies:[],collisions:[],pairs:null};return n.extend(l,s)},e.setBodies=function(s,l){s.bodies=l.slice(0)},e.clear=function(s){s.bodies=[],s.collisions=[]},e.collisions=function(s){var l=s.pairs,i=s.bodies,h=i.length,c=e.canCollide,t=r.collides,o=s.collisions,a=0,p,w;for(i.sort(e._compareBoundsX),p=0;p<h;p++){var b=i[p],T=b.bounds,E=b.bounds.max.x,m=b.bounds.max.y,S=b.bounds.min.y,y=b.isStatic||b.isSleeping,x=b.parts.length,P=x===1;for(w=p+1;w<h;w++){var C=i[w],k=C.bounds;if(k.min.x>E)break;if(!(m<k.min.y||S>k.max.y)&&!(y&&(C.isStatic||C.isSleeping))&&c(b.collisionFilter,C.collisionFilter)){var M=C.parts.length;if(P&&M===1){var A=t(b,C,l);A&&(o[a++]=A)}else for(var D=x>1?1:0,R=M>1?1:0,N=D;N<x;N++)for(var F=b.parts[N],T=F.bounds,U=R;U<M;U++){var X=C.parts[U],k=X.bounds;if(!(T.min.x>k.max.x||T.max.x<k.min.x||T.max.y<k.min.y||T.min.y>k.max.y)){var A=t(F,X,l);A&&(o[a++]=A)}}}}}return o.length!==a&&(o.length=a),o},e.canCollide=function(s,l){return s.group===l.group&&s.group!==0?s.group>0:(s.mask&l.category)!==0&&(l.mask&s.category)!==0},e._compareBoundsX=function(s,l){return s.bounds.min.x-l.bounds.min.x}})()},function(u,g,f){var e={};u.exports=e;var n=f(0);(function(){e.create=function(r){var s={};return r||n.log("Mouse.create: element was undefined, defaulting to document.body","warn"),s.element=r||document.body,s.absolute={x:0,y:0},s.position={x:0,y:0},s.mousedownPosition={x:0,y:0},s.mouseupPosition={x:0,y:0},s.offset={x:0,y:0},s.scale={x:1,y:1},s.wheelDelta=0,s.button=-1,s.pixelRatio=parseInt(s.element.getAttribute("data-pixel-ratio"),10)||1,s.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},s.mousemove=function(l){var i=e._getRelativeMousePosition(l,s.element,s.pixelRatio),h=l.changedTouches;h&&(s.button=0,l.preventDefault()),s.absolute.x=i.x,s.absolute.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.sourceEvents.mousemove=l},s.mousedown=function(l){var i=e._getRelativeMousePosition(l,s.element,s.pixelRatio),h=l.changedTouches;h?(s.button=0,l.preventDefault()):s.button=l.button,s.absolute.x=i.x,s.absolute.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mousedownPosition.x=s.position.x,s.mousedownPosition.y=s.position.y,s.sourceEvents.mousedown=l},s.mouseup=function(l){var i=e._getRelativeMousePosition(l,s.element,s.pixelRatio),h=l.changedTouches;h&&l.preventDefault(),s.button=-1,s.absolute.x=i.x,s.absolute.y=i.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mouseupPosition.x=s.position.x,s.mouseupPosition.y=s.position.y,s.sourceEvents.mouseup=l},s.mousewheel=function(l){s.wheelDelta=Math.max(-1,Math.min(1,l.wheelDelta||-l.detail)),l.preventDefault(),s.sourceEvents.mousewheel=l},e.setElement(s,s.element),s},e.setElement=function(r,s){r.element=s,s.addEventListener("mousemove",r.mousemove,{passive:!0}),s.addEventListener("mousedown",r.mousedown,{passive:!0}),s.addEventListener("mouseup",r.mouseup,{passive:!0}),s.addEventListener("wheel",r.mousewheel,{passive:!1}),s.addEventListener("touchmove",r.mousemove,{passive:!1}),s.addEventListener("touchstart",r.mousedown,{passive:!1}),s.addEventListener("touchend",r.mouseup,{passive:!1})},e.clearSourceEvents=function(r){r.sourceEvents.mousemove=null,r.sourceEvents.mousedown=null,r.sourceEvents.mouseup=null,r.sourceEvents.mousewheel=null,r.wheelDelta=0},e.setOffset=function(r,s){r.offset.x=s.x,r.offset.y=s.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e.setScale=function(r,s){r.scale.x=s.x,r.scale.y=s.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e._getRelativeMousePosition=function(r,s,l){var i=s.getBoundingClientRect(),h=document.documentElement||document.body.parentNode||document.body,c=window.pageXOffset!==void 0?window.pageXOffset:h.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:h.scrollTop,o=r.changedTouches,a,p;return o?(a=o[0].pageX-i.left-c,p=o[0].pageY-i.top-t):(a=r.pageX-i.left-c,p=r.pageY-i.top-t),{x:a/(s.clientWidth/(s.width||s.clientWidth)*l),y:p/(s.clientHeight/(s.height||s.clientHeight)*l)}}})()},function(u,g,f){var e={};u.exports=e;var n=f(0);(function(){e._registry={},e.register=function(r){if(e.isPlugin(r)||n.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var s=e._registry[r.name],l=e.versionParse(r.version).number,i=e.versionParse(s.version).number;l>i?(n.warn("Plugin.register:",e.toString(s),"was upgraded to",e.toString(r)),e._registry[r.name]=r):l<i?n.warn("Plugin.register:",e.toString(s),"can not be downgraded to",e.toString(r)):r!==s&&n.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(r){return e._registry[e.dependencyParse(r).name]},e.toString=function(r){return typeof r=="string"?r:(r.name||"anonymous")+"@"+(r.version||r.range||"0.0.0")},e.isPlugin=function(r){return r&&r.name&&r.version&&r.install},e.isUsed=function(r,s){return r.used.indexOf(s)>-1},e.isFor=function(r,s){var l=r.for&&e.dependencyParse(r.for);return!r.for||s.name===l.name&&e.versionSatisfies(s.version,l.range)},e.use=function(r,s){if(r.uses=(r.uses||[]).concat(s||[]),r.uses.length===0){n.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.");return}for(var l=e.dependencies(r),i=n.topologicalSort(l),h=[],c=0;c<i.length;c+=1)if(i[c]!==r.name){var t=e.resolve(i[c]);if(!t){h.push("❌ "+i[c]);continue}e.isUsed(r,t.name)||(e.isFor(t,r)||(n.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(r)+"."),t._warned=!0),t.install?t.install(r):(n.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(h.push("🔶 "+e.toString(t)),delete t._warned):h.push("✅ "+e.toString(t)),r.used.push(t.name))}h.length>0&&n.info(h.join("  "))},e.dependencies=function(r,s){var l=e.dependencyParse(r),i=l.name;if(s=s||{},!(i in s)){r=e.resolve(r)||r,s[i]=n.map(r.uses||[],function(c){e.isPlugin(c)&&e.register(c);var t=e.dependencyParse(c),o=e.resolve(c);return o&&!e.versionSatisfies(o.version,t.range)?(n.warn("Plugin.dependencies:",e.toString(o),"does not satisfy",e.toString(t),"used by",e.toString(l)+"."),o._warned=!0,r._warned=!0):o||(n.warn("Plugin.dependencies:",e.toString(c),"used by",e.toString(l),"could not be resolved."),r._warned=!0),t.name});for(var h=0;h<s[i].length;h+=1)e.dependencies(s[i][h],s);return s}},e.dependencyParse=function(r){if(n.isString(r)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(r)||n.warn("Plugin.dependencyParse:",r,"is not a valid dependency string."),{name:r.split("@")[0],range:r.split("@")[1]||"*"}}return{name:r.name,range:r.range||r.version}},e.versionParse=function(r){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(r)||n.warn("Plugin.versionParse:",r,"is not a valid version or range.");var l=s.exec(r),i=Number(l[4]),h=Number(l[5]),c=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:r,operator:l[1]||l[2]||"",major:i,minor:h,patch:c,parts:[i,h,c],prerelease:l[7],number:i*1e8+h*1e4+c}},e.versionSatisfies=function(r,s){s=s||"*";var l=e.versionParse(s),i=e.versionParse(r);if(l.isRange){if(l.operator==="*"||r==="*")return!0;if(l.operator===">")return i.number>l.number;if(l.operator===">=")return i.number>=l.number;if(l.operator==="~")return i.major===l.major&&i.minor===l.minor&&i.patch>=l.patch;if(l.operator==="^")return l.major>0?i.major===l.major&&i.number>=l.number:l.minor>0?i.minor===l.minor&&i.patch>=l.patch:i.patch===l.patch}return r===s||r==="*"}})()},function(u,g){var f={};u.exports=f,function(){f.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(u,g,f){var e={};u.exports=e;var n=f(7),r=f(18),s=f(13),l=f(19),i=f(5),h=f(6),c=f(10),t=f(0),o=f(4);(function(){e._deltaMax=1e3/60,e.create=function(a){a=a||{};var p={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},w=t.extend(p,a);return w.world=a.world||h.create({label:"World"}),w.pairs=a.pairs||l.create(),w.detector=a.detector||s.create(),w.detector.pairs=w.pairs,w.grid={buckets:[]},w.world.gravity=w.gravity,w.broadphase=w.grid,w.metrics={},w},e.update=function(a,p){var w=t.now(),b=a.world,T=a.detector,E=a.pairs,m=a.timing,S=m.timestamp,y;p>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),p=typeof p<"u"?p:t._baseDelta,p*=m.timeScale,m.timestamp+=p,m.lastDelta=p;var x={timestamp:m.timestamp,delta:p};i.trigger(a,"beforeUpdate",x);var P=h.allBodies(b),C=h.allConstraints(b);for(b.isModified&&(s.setBodies(T,P),h.setModified(b,!1,!1,!0)),a.enableSleeping&&n.update(P,p),e._bodiesApplyGravity(P,a.gravity),p>0&&e._bodiesUpdate(P,p),i.trigger(a,"beforeSolve",x),c.preSolveAll(P),y=0;y<a.constraintIterations;y++)c.solveAll(C,p);c.postSolveAll(P);var k=s.collisions(T);l.update(E,k,S),a.enableSleeping&&n.afterCollisions(E.list),E.collisionStart.length>0&&i.trigger(a,"collisionStart",{pairs:E.collisionStart,timestamp:m.timestamp,delta:p});var M=t.clamp(20/a.positionIterations,0,1);for(r.preSolvePosition(E.list),y=0;y<a.positionIterations;y++)r.solvePosition(E.list,p,M);for(r.postSolvePosition(P),c.preSolveAll(P),y=0;y<a.constraintIterations;y++)c.solveAll(C,p);for(c.postSolveAll(P),r.preSolveVelocity(E.list),y=0;y<a.velocityIterations;y++)r.solveVelocity(E.list,p);return e._bodiesUpdateVelocities(P),E.collisionActive.length>0&&i.trigger(a,"collisionActive",{pairs:E.collisionActive,timestamp:m.timestamp,delta:p}),E.collisionEnd.length>0&&i.trigger(a,"collisionEnd",{pairs:E.collisionEnd,timestamp:m.timestamp,delta:p}),e._bodiesClearForces(P),i.trigger(a,"afterUpdate",x),a.timing.lastElapsed=t.now()-w,a},e.merge=function(a,p){if(t.extend(a,p),p.world){a.world=p.world,e.clear(a);for(var w=h.allBodies(a.world),b=0;b<w.length;b++){var T=w[b];n.set(T,!1),T.id=t.nextId()}}},e.clear=function(a){l.clear(a.pairs),s.clear(a.detector)},e._bodiesClearForces=function(a){for(var p=a.length,w=0;w<p;w++){var b=a[w];b.force.x=0,b.force.y=0,b.torque=0}},e._bodiesApplyGravity=function(a,p){var w=typeof p.scale<"u"?p.scale:.001,b=a.length;if(!(p.x===0&&p.y===0||w===0))for(var T=0;T<b;T++){var E=a[T];E.isStatic||E.isSleeping||(E.force.y+=E.mass*p.y*w,E.force.x+=E.mass*p.x*w)}},e._bodiesUpdate=function(a,p){for(var w=a.length,b=0;b<w;b++){var T=a[b];T.isStatic||T.isSleeping||o.update(T,p)}},e._bodiesUpdateVelocities=function(a){for(var p=a.length,w=0;w<p;w++)o.updateVelocities(a[w])}})()},function(u,g,f){var e={};u.exports=e;var n=f(3),r=f(0),s=f(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(l){var i,h,c,t=l.length;for(i=0;i<t;i++)h=l[i],h.isActive&&(c=h.contactCount,h.collision.parentA.totalContacts+=c,h.collision.parentB.totalContacts+=c)},e.solvePosition=function(l,i,h){var c,t,o,a,p,w,b,T,E=e._positionDampen*(h||1),m=r.clamp(i/r._baseDelta,0,1),S=l.length;for(c=0;c<S;c++)t=l[c],!(!t.isActive||t.isSensor)&&(o=t.collision,a=o.parentA,p=o.parentB,w=o.normal,t.separation=o.depth+w.x*(p.positionImpulse.x-a.positionImpulse.x)+w.y*(p.positionImpulse.y-a.positionImpulse.y));for(c=0;c<S;c++)t=l[c],!(!t.isActive||t.isSensor)&&(o=t.collision,a=o.parentA,p=o.parentB,w=o.normal,T=t.separation-t.slop*m,(a.isStatic||p.isStatic)&&(T*=2),a.isStatic||a.isSleeping||(b=E/a.totalContacts,a.positionImpulse.x+=w.x*T*b,a.positionImpulse.y+=w.y*T*b),p.isStatic||p.isSleeping||(b=E/p.totalContacts,p.positionImpulse.x-=w.x*T*b,p.positionImpulse.y-=w.y*T*b))},e.postSolvePosition=function(l){for(var i=e._positionWarming,h=l.length,c=n.translate,t=s.update,o=0;o<h;o++){var a=l[o],p=a.positionImpulse,w=p.x,b=p.y,T=a.velocity;if(a.totalContacts=0,w!==0||b!==0){for(var E=0;E<a.parts.length;E++){var m=a.parts[E];c(m.vertices,p),t(m.bounds,m.vertices,T),m.position.x+=w,m.position.y+=b}a.positionPrev.x+=w,a.positionPrev.y+=b,w*T.x+b*T.y<0?(p.x=0,p.y=0):(p.x*=i,p.y*=i)}}},e.preSolveVelocity=function(l){var i=l.length,h,c;for(h=0;h<i;h++){var t=l[h];if(!(!t.isActive||t.isSensor)){var o=t.contacts,a=t.contactCount,p=t.collision,w=p.parentA,b=p.parentB,T=p.normal,E=p.tangent;for(c=0;c<a;c++){var m=o[c],S=m.vertex,y=m.normalImpulse,x=m.tangentImpulse;if(y!==0||x!==0){var P=T.x*y+E.x*x,C=T.y*y+E.y*x;w.isStatic||w.isSleeping||(w.positionPrev.x+=P*w.inverseMass,w.positionPrev.y+=C*w.inverseMass,w.anglePrev+=w.inverseInertia*((S.x-w.position.x)*C-(S.y-w.position.y)*P)),b.isStatic||b.isSleeping||(b.positionPrev.x-=P*b.inverseMass,b.positionPrev.y-=C*b.inverseMass,b.anglePrev-=b.inverseInertia*((S.x-b.position.x)*C-(S.y-b.position.y)*P))}}}}},e.solveVelocity=function(l,i){var h=i/r._baseDelta,c=h*h,t=c*h,o=-e._restingThresh*h,a=e._restingThreshTangent,p=e._frictionNormalMultiplier*h,w=e._frictionMaxStatic,b=l.length,T,E,m,S;for(m=0;m<b;m++){var y=l[m];if(!(!y.isActive||y.isSensor)){var x=y.collision,P=x.parentA,C=x.parentB,k=x.normal.x,M=x.normal.y,A=x.tangent.x,D=x.tangent.y,R=y.inverseMass,N=y.friction*y.frictionStatic*p,F=y.contacts,U=y.contactCount,X=1/U,_=P.position.x-P.positionPrev.x,Q=P.position.y-P.positionPrev.y,j=P.angle-P.anglePrev,te=C.position.x-C.positionPrev.x,ve=C.position.y-C.positionPrev.y,B=C.angle-C.anglePrev;for(S=0;S<U;S++){var I=F[S],V=I.vertex,O=V.x-P.position.x,K=V.y-P.position.y,W=V.x-C.position.x,z=V.y-C.position.y,G=_-K*j,q=Q+O*j,$=te-z*B,le=ve+W*B,Me=G-$,Oe=q-le,Pe=k*Me+M*Oe,me=A*Me+D*Oe,Ae=y.separation+Pe,fe=Math.min(Ae,1);fe=Ae<0?0:fe;var Ie=fe*N;me<-Ie||me>Ie?(E=me>0?me:-me,T=y.friction*(me>0?1:-1)*t,T<-E?T=-E:T>E&&(T=E)):(T=me,E=w);var he=O*M-K*k,He=W*M-z*k,ge=X/(R+P.inverseInertia*he*he+C.inverseInertia*He*He),Le=(1+y.restitution)*Pe*ge;if(T*=ge,Pe<o)I.normalImpulse=0;else{var Se=I.normalImpulse;I.normalImpulse+=Le,I.normalImpulse>0&&(I.normalImpulse=0),Le=I.normalImpulse-Se}if(me<-a||me>a)I.tangentImpulse=0;else{var ze=I.tangentImpulse;I.tangentImpulse+=T,I.tangentImpulse<-E&&(I.tangentImpulse=-E),I.tangentImpulse>E&&(I.tangentImpulse=E),T=I.tangentImpulse-ze}var pe=k*Le+A*T,ue=M*Le+D*T;P.isStatic||P.isSleeping||(P.positionPrev.x+=pe*P.inverseMass,P.positionPrev.y+=ue*P.inverseMass,P.anglePrev+=(O*ue-K*pe)*P.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=pe*C.inverseMass,C.positionPrev.y-=ue*C.inverseMass,C.anglePrev-=(W*ue-z*pe)*C.inverseInertia)}}}}})()},function(u,g,f){var e={};u.exports=e;var n=f(9),r=f(0);(function(){e.create=function(s){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},e.update=function(s,l,i){var h=n.update,c=n.create,t=n.setActive,o=s.table,a=s.list,p=a.length,w=p,b=s.collisionStart,T=s.collisionEnd,E=s.collisionActive,m=l.length,S=0,y=0,x=0,P,C,k;for(k=0;k<m;k++)P=l[k],C=P.pair,C?(C.isActive&&(E[x++]=C),h(C,P,i)):(C=c(P,i),o[C.id]=C,b[S++]=C,a[w++]=C);for(w=0,p=a.length,k=0;k<p;k++)C=a[k],C.timeUpdated>=i?a[w++]=C:(t(C,!1,i),C.collision.bodyA.sleepCounter>0&&C.collision.bodyB.sleepCounter>0?a[w++]=C:(T[y++]=C,delete o[C.id]));a.length!==w&&(a.length=w),b.length!==S&&(b.length=S),T.length!==y&&(T.length=y),E.length!==x&&(E.length=x)},e.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},function(u,g,f){var e=u.exports=f(21);e.Axes=f(11),e.Bodies=f(12),e.Body=f(4),e.Bounds=f(1),e.Collision=f(8),e.Common=f(0),e.Composite=f(6),e.Composites=f(22),e.Constraint=f(10),e.Contact=f(16),e.Detector=f(13),e.Engine=f(17),e.Events=f(5),e.Grid=f(23),e.Mouse=f(14),e.MouseConstraint=f(24),e.Pair=f(9),e.Pairs=f(19),e.Plugin=f(15),e.Query=f(25),e.Render=f(26),e.Resolver=f(18),e.Runner=f(27),e.SAT=f(28),e.Sleeping=f(7),e.Svg=f(29),e.Vector=f(2),e.Vertices=f(3),e.World=f(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(u,g,f){var e={};u.exports=e;var n=f(15),r=f(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){n.use(e,Array.prototype.slice.call(arguments))},e.before=function(s,l){return s=s.replace(/^Matter./,""),r.chainPathBefore(e,s,l)},e.after=function(s,l){return s=s.replace(/^Matter./,""),r.chainPathAfter(e,s,l)}})()},function(u,g,f){var e={};u.exports=e;var n=f(6),r=f(10),s=f(0),l=f(4),i=f(12),h=s.deprecated;(function(){e.stack=function(c,t,o,a,p,w,b){for(var T=n.create({label:"Stack"}),E=c,m=t,S,y=0,x=0;x<a;x++){for(var P=0,C=0;C<o;C++){var k=b(E,m,C,x,S,y);if(k){var M=k.bounds.max.y-k.bounds.min.y,A=k.bounds.max.x-k.bounds.min.x;M>P&&(P=M),l.translate(k,{x:A*.5,y:M*.5}),E=k.bounds.max.x+p,n.addBody(T,k),S=k,y+=1}else E+=p}m+=P+w,E=c}return T},e.chain=function(c,t,o,a,p,w){for(var b=c.bodies,T=1;T<b.length;T++){var E=b[T-1],m=b[T],S=E.bounds.max.y-E.bounds.min.y,y=E.bounds.max.x-E.bounds.min.x,x=m.bounds.max.y-m.bounds.min.y,P=m.bounds.max.x-m.bounds.min.x,C={bodyA:E,pointA:{x:y*t,y:S*o},bodyB:m,pointB:{x:P*a,y:x*p}},k=s.extend(C,w);n.addConstraint(c,r.create(k))}return c.label+=" Chain",c},e.mesh=function(c,t,o,a,p){var w=c.bodies,b,T,E,m,S;for(b=0;b<o;b++){for(T=1;T<t;T++)E=w[T-1+b*t],m=w[T+b*t],n.addConstraint(c,r.create(s.extend({bodyA:E,bodyB:m},p)));if(b>0)for(T=0;T<t;T++)E=w[T+(b-1)*t],m=w[T+b*t],n.addConstraint(c,r.create(s.extend({bodyA:E,bodyB:m},p))),a&&T>0&&(S=w[T-1+(b-1)*t],n.addConstraint(c,r.create(s.extend({bodyA:S,bodyB:m},p)))),a&&T<t-1&&(S=w[T+1+(b-1)*t],n.addConstraint(c,r.create(s.extend({bodyA:S,bodyB:m},p))))}return c.label+=" Mesh",c},e.pyramid=function(c,t,o,a,p,w,b){return e.stack(c,t,o,a,p,w,function(T,E,m,S,y,x){var P=Math.min(a,Math.ceil(o/2)),C=y?y.bounds.max.x-y.bounds.min.x:0;if(!(S>P)){S=P-S;var k=S,M=o-1-S;if(!(m<k||m>M)){x===1&&l.translate(y,{x:(m+(o%2===1?1:-1))*C,y:0});var A=y?m*C:0;return b(c+A+m*p,E,m,S,y,x)}}})},e.newtonsCradle=function(c,t,o,a,p){for(var w=n.create({label:"Newtons Cradle"}),b=0;b<o;b++){var T=1.9,E=i.circle(c+b*(a*T),t+p,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=r.create({pointA:{x:c+b*(a*T),y:t},bodyB:E});n.addBody(w,E),n.addConstraint(w,m)}return w},h(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(c,t,o,a,p){var w=l.nextGroup(!0),b=20,T=-o*.5+b,E=o*.5-b,m=0,S=n.create({label:"Car"}),y=i.rectangle(c,t,o,a,{collisionFilter:{group:w},chamfer:{radius:a*.5},density:2e-4}),x=i.circle(c+T,t+m,p,{collisionFilter:{group:w},friction:.8}),P=i.circle(c+E,t+m,p,{collisionFilter:{group:w},friction:.8}),C=r.create({bodyB:y,pointB:{x:T,y:m},bodyA:x,stiffness:1,length:0}),k=r.create({bodyB:y,pointB:{x:E,y:m},bodyA:P,stiffness:1,length:0});return n.addBody(S,y),n.addBody(S,x),n.addBody(S,P),n.addConstraint(S,C),n.addConstraint(S,k),S},h(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(c,t,o,a,p,w,b,T,E,m){E=s.extend({inertia:1/0},E),m=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var S=e.stack(c,t,o,a,p,w,function(y,x){return i.circle(y,x,T,E)});return e.mesh(S,o,a,b,m),S.label="Soft Body",S},h(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(u,g,f){var e={};u.exports=e;var n=f(9),r=f(0),s=r.deprecated;(function(){e.create=function(l){var i={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(i,l)},e.update=function(l,i,h,c){var t,o,a,p=h.world,w=l.buckets,b,T,E=!1;for(t=0;t<i.length;t++){var m=i[t];if(!(m.isSleeping&&!c)&&!(p.bounds&&(m.bounds.max.x<p.bounds.min.x||m.bounds.min.x>p.bounds.max.x||m.bounds.max.y<p.bounds.min.y||m.bounds.min.y>p.bounds.max.y))){var S=e._getRegion(l,m);if(!m.region||S.id!==m.region.id||c){(!m.region||c)&&(m.region=S);var y=e._regionUnion(S,m.region);for(o=y.startCol;o<=y.endCol;o++)for(a=y.startRow;a<=y.endRow;a++){T=e._getBucketId(o,a),b=w[T];var x=o>=S.startCol&&o<=S.endCol&&a>=S.startRow&&a<=S.endRow,P=o>=m.region.startCol&&o<=m.region.endCol&&a>=m.region.startRow&&a<=m.region.endRow;!x&&P&&P&&b&&e._bucketRemoveBody(l,b,m),(m.region===S||x&&!P||c)&&(b||(b=e._createBucket(w,T)),e._bucketAddBody(l,b,m))}m.region=S,E=!0}}}E&&(l.pairsList=e._createActivePairsList(l))},s(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(l){l.buckets={},l.pairs={},l.pairsList=[]},s(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(l,i){var h=Math.min(l.startCol,i.startCol),c=Math.max(l.endCol,i.endCol),t=Math.min(l.startRow,i.startRow),o=Math.max(l.endRow,i.endRow);return e._createRegion(h,c,t,o)},e._getRegion=function(l,i){var h=i.bounds,c=Math.floor(h.min.x/l.bucketWidth),t=Math.floor(h.max.x/l.bucketWidth),o=Math.floor(h.min.y/l.bucketHeight),a=Math.floor(h.max.y/l.bucketHeight);return e._createRegion(c,t,o,a)},e._createRegion=function(l,i,h,c){return{id:l+","+i+","+h+","+c,startCol:l,endCol:i,startRow:h,endRow:c}},e._getBucketId=function(l,i){return"C"+l+"R"+i},e._createBucket=function(l,i){var h=l[i]=[];return h},e._bucketAddBody=function(l,i,h){var c=l.pairs,t=n.id,o=i.length,a;for(a=0;a<o;a++){var p=i[a];if(!(h.id===p.id||h.isStatic&&p.isStatic)){var w=t(h,p),b=c[w];b?b[2]+=1:c[w]=[h,p,1]}}i.push(h)},e._bucketRemoveBody=function(l,i,h){var c=l.pairs,t=n.id,o;i.splice(r.indexOf(i,h),1);var a=i.length;for(o=0;o<a;o++){var p=c[t(h,i[o])];p&&(p[2]-=1)}},e._createActivePairsList=function(l){var i,h=l.pairs,c=r.keys(h),t=c.length,o=[],a;for(a=0;a<t;a++)i=h[c[a]],i[2]>0?o.push(i):delete h[c[a]];return o}})()},function(u,g,f){var e={};u.exports=e;var n=f(3),r=f(7),s=f(14),l=f(5),i=f(13),h=f(10),c=f(6),t=f(0),o=f(1);(function(){e.create=function(a,p){var w=(a?a.mouse:null)||(p?p.mouse:null);w||(a&&a.render&&a.render.canvas?w=s.create(a.render.canvas):p&&p.element?w=s.create(p.element):(w=s.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var b=h.create({label:"Mouse Constraint",pointA:w.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),T={type:"mouseConstraint",mouse:w,element:null,body:null,constraint:b,collisionFilter:{category:1,mask:4294967295,group:0}},E=t.extend(T,p);return l.on(a,"beforeUpdate",function(){var m=c.allBodies(a.world);e.update(E,m),e._triggerEvents(E)}),E},e.update=function(a,p){var w=a.mouse,b=a.constraint,T=a.body;if(w.button===0){if(b.bodyB)r.set(b.bodyB,!1),b.pointA=w.position;else for(var E=0;E<p.length;E++)if(T=p[E],o.contains(T.bounds,w.position)&&i.canCollide(T.collisionFilter,a.collisionFilter))for(var m=T.parts.length>1?1:0;m<T.parts.length;m++){var S=T.parts[m];if(n.contains(S.vertices,w.position)){b.pointA=w.position,b.bodyB=a.body=T,b.pointB={x:w.position.x-T.position.x,y:w.position.y-T.position.y},b.angleB=T.angle,r.set(T,!1),l.trigger(a,"startdrag",{mouse:w,body:T});break}}}else b.bodyB=a.body=null,b.pointB=null,T&&l.trigger(a,"enddrag",{mouse:w,body:T})},e._triggerEvents=function(a){var p=a.mouse,w=p.sourceEvents;w.mousemove&&l.trigger(a,"mousemove",{mouse:p}),w.mousedown&&l.trigger(a,"mousedown",{mouse:p}),w.mouseup&&l.trigger(a,"mouseup",{mouse:p}),s.clearSourceEvents(p)}})()},function(u,g,f){var e={};u.exports=e;var n=f(2),r=f(8),s=f(1),l=f(12),i=f(3);(function(){e.collides=function(h,c){for(var t=[],o=c.length,a=h.bounds,p=r.collides,w=s.overlaps,b=0;b<o;b++){var T=c[b],E=T.parts.length,m=E===1?0:1;if(w(T.bounds,a))for(var S=m;S<E;S++){var y=T.parts[S];if(w(y.bounds,a)){var x=p(y,h);if(x){t.push(x);break}}}}return t},e.ray=function(h,c,t,o){o=o||1e-100;for(var a=n.angle(c,t),p=n.magnitude(n.sub(c,t)),w=(t.x+c.x)*.5,b=(t.y+c.y)*.5,T=l.rectangle(w,b,p,o,{angle:a}),E=e.collides(T,h),m=0;m<E.length;m+=1){var S=E[m];S.body=S.bodyB=S.bodyA}return E},e.region=function(h,c,t){for(var o=[],a=0;a<h.length;a++){var p=h[a],w=s.overlaps(p.bounds,c);(w&&!t||!w&&t)&&o.push(p)}return o},e.point=function(h,c){for(var t=[],o=0;o<h.length;o++){var a=h[o];if(s.contains(a.bounds,c))for(var p=a.parts.length===1?0:1;p<a.parts.length;p++){var w=a.parts[p];if(s.contains(w.bounds,c)&&i.contains(w.vertices,c)){t.push(a);break}}}return t}})()},function(u,g,f){var e={};u.exports=e;var n=f(4),r=f(0),s=f(6),l=f(1),i=f(5),h=f(2),c=f(14);(function(){var t,o;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(m){window.setTimeout(function(){m(r.now())},1e3/60)},o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(m){var S={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!m.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},y=r.extend(S,m);return y.canvas&&(y.canvas.width=y.options.width||y.canvas.width,y.canvas.height=y.options.height||y.canvas.height),y.mouse=m.mouse,y.engine=m.engine,y.canvas=y.canvas||w(y.options.width,y.options.height),y.context=y.canvas.getContext("2d"),y.textures={},y.bounds=y.bounds||{min:{x:0,y:0},max:{x:y.canvas.width,y:y.canvas.height}},y.controller=e,y.options.showBroadphase=!1,y.options.pixelRatio!==1&&e.setPixelRatio(y,y.options.pixelRatio),r.isElement(y.element)&&y.element.appendChild(y.canvas),y},e.run=function(m){(function S(y){m.frameRequestId=t(S),a(m,y),e.world(m,y),m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0),(m.options.showStats||m.options.showDebug)&&e.stats(m,m.context,y),(m.options.showPerformance||m.options.showDebug)&&e.performance(m,m.context,y),m.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(m){o(m.frameRequestId)},e.setPixelRatio=function(m,S){var y=m.options,x=m.canvas;S==="auto"&&(S=b(x)),y.pixelRatio=S,x.setAttribute("data-pixel-ratio",S),x.width=y.width*S,x.height=y.height*S,x.style.width=y.width+"px",x.style.height=y.height+"px"},e.setSize=function(m,S,y){m.options.width=S,m.options.height=y,m.bounds.max.x=m.bounds.min.x+S,m.bounds.max.y=m.bounds.min.y+y,m.options.pixelRatio!==1?e.setPixelRatio(m,m.options.pixelRatio):(m.canvas.width=S,m.canvas.height=y)},e.lookAt=function(m,S,y,x){x=typeof x<"u"?x:!0,S=r.isArray(S)?S:[S],y=y||{x:0,y:0};for(var P={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},C=0;C<S.length;C+=1){var k=S[C],M=k.bounds?k.bounds.min:k.min||k.position||k,A=k.bounds?k.bounds.max:k.max||k.position||k;M&&A&&(M.x<P.min.x&&(P.min.x=M.x),A.x>P.max.x&&(P.max.x=A.x),M.y<P.min.y&&(P.min.y=M.y),A.y>P.max.y&&(P.max.y=A.y))}var D=P.max.x-P.min.x+2*y.x,R=P.max.y-P.min.y+2*y.y,N=m.canvas.height,F=m.canvas.width,U=F/N,X=D/R,_=1,Q=1;X>U?Q=X/U:_=U/X,m.options.hasBounds=!0,m.bounds.min.x=P.min.x,m.bounds.max.x=P.min.x+D*_,m.bounds.min.y=P.min.y,m.bounds.max.y=P.min.y+R*Q,x&&(m.bounds.min.x+=D*.5-D*_*.5,m.bounds.max.x+=D*.5-D*_*.5,m.bounds.min.y+=R*.5-R*Q*.5,m.bounds.max.y+=R*.5-R*Q*.5),m.bounds.min.x-=y.x,m.bounds.max.x-=y.x,m.bounds.min.y-=y.y,m.bounds.max.y-=y.y,m.mouse&&(c.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.canvas.width,y:(m.bounds.max.y-m.bounds.min.y)/m.canvas.height}),c.setOffset(m.mouse,m.bounds.min))},e.startViewTransform=function(m){var S=m.bounds.max.x-m.bounds.min.x,y=m.bounds.max.y-m.bounds.min.y,x=S/m.options.width,P=y/m.options.height;m.context.setTransform(m.options.pixelRatio/x,0,0,m.options.pixelRatio/P,0,0),m.context.translate(-m.bounds.min.x,-m.bounds.min.y)},e.endViewTransform=function(m){m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0)},e.world=function(m,S){var y=r.now(),x=m.engine,P=x.world,C=m.canvas,k=m.context,M=m.options,A=m.timing,D=s.allBodies(P),R=s.allConstraints(P),N=M.wireframes?M.wireframeBackground:M.background,F=[],U=[],X,_={timestamp:x.timing.timestamp};if(i.trigger(m,"beforeRender",_),m.currentBackground!==N&&E(m,N),k.globalCompositeOperation="source-in",k.fillStyle="transparent",k.fillRect(0,0,C.width,C.height),k.globalCompositeOperation="source-over",M.hasBounds){for(X=0;X<D.length;X++){var Q=D[X];l.overlaps(Q.bounds,m.bounds)&&F.push(Q)}for(X=0;X<R.length;X++){var j=R[X],te=j.bodyA,ve=j.bodyB,B=j.pointA,I=j.pointB;te&&(B=h.add(te.position,j.pointA)),ve&&(I=h.add(ve.position,j.pointB)),!(!B||!I)&&(l.contains(m.bounds,B)||l.contains(m.bounds,I))&&U.push(j)}e.startViewTransform(m),m.mouse&&(c.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.options.width,y:(m.bounds.max.y-m.bounds.min.y)/m.options.height}),c.setOffset(m.mouse,m.bounds.min))}else U=R,F=D,m.options.pixelRatio!==1&&m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0);!M.wireframes||x.enableSleeping&&M.showSleeping?e.bodies(m,F,k):(M.showConvexHulls&&e.bodyConvexHulls(m,F,k),e.bodyWireframes(m,F,k)),M.showBounds&&e.bodyBounds(m,F,k),(M.showAxes||M.showAngleIndicator)&&e.bodyAxes(m,F,k),M.showPositions&&e.bodyPositions(m,F,k),M.showVelocity&&e.bodyVelocity(m,F,k),M.showIds&&e.bodyIds(m,F,k),M.showSeparations&&e.separations(m,x.pairs.list,k),M.showCollisions&&e.collisions(m,x.pairs.list,k),M.showVertexNumbers&&e.vertexNumbers(m,F,k),M.showMousePosition&&e.mousePosition(m,m.mouse,k),e.constraints(U,k),M.hasBounds&&e.endViewTransform(m),i.trigger(m,"afterRender",_),A.lastElapsed=r.now()-y},e.stats=function(m,S,y){for(var x=m.engine,P=x.world,C=s.allBodies(P),k=0,M=55,A=44,D=0,R=0,N=0;N<C.length;N+=1)k+=C[N].parts.length;var F={Part:k,Body:C.length,Cons:s.allConstraints(P).length,Comp:s.allComposites(P).length,Pair:x.pairs.list.length};S.fillStyle="#0e0f19",S.fillRect(D,R,M*5.5,A),S.font="12px Arial",S.textBaseline="top",S.textAlign="right";for(var U in F){var X=F[U];S.fillStyle="#aaa",S.fillText(U,D+M,R+8),S.fillStyle="#eee",S.fillText(X,D+M,R+26),D+=M}},e.performance=function(m,S){var y=m.engine,x=m.timing,P=x.deltaHistory,C=x.elapsedHistory,k=x.timestampElapsedHistory,M=x.engineDeltaHistory,A=x.engineUpdatesHistory,D=x.engineElapsedHistory,R=y.timing.lastUpdatesPerFrame,N=y.timing.lastDelta,F=p(P),U=p(C),X=p(M),_=p(A),Q=p(D),j=p(k),te=j/F||0,ve=Math.round(F/N),B=1e3/F||0,I=4,V=12,O=60,K=34,W=10,z=69;S.fillStyle="#0e0f19",S.fillRect(0,50,V*5+O*6+22,K),e.status(S,W,z,O,I,P.length,Math.round(B)+" fps",B/e._goodFps,function(G){return P[G]/F-1}),e.status(S,W+V+O,z,O,I,M.length,N.toFixed(2)+" dt",e._goodDelta/N,function(G){return M[G]/X-1}),e.status(S,W+(V+O)*2,z,O,I,A.length,R+" upf",Math.pow(r.clamp(_/ve||1,0,1),4),function(G){return A[G]/_-1}),e.status(S,W+(V+O)*3,z,O,I,D.length,Q.toFixed(2)+" ut",1-R*Q/e._goodFps,function(G){return D[G]/Q-1}),e.status(S,W+(V+O)*4,z,O,I,C.length,U.toFixed(2)+" rt",1-U/e._goodFps,function(G){return C[G]/U-1}),e.status(S,W+(V+O)*5,z,O,I,k.length,te.toFixed(2)+" x",te*te*te,function(G){return(k[G]/P[G]/te||0)-1})},e.status=function(m,S,y,x,P,C,k,M,A){m.strokeStyle="#888",m.fillStyle="#444",m.lineWidth=1,m.fillRect(S,y+7,x,1),m.beginPath(),m.moveTo(S,y+7-P*r.clamp(.4*A(0),-2,2));for(var D=0;D<x;D+=1)m.lineTo(S+D,y+7-(D<C?P*r.clamp(.4*A(D),-2,2):0));m.stroke(),m.fillStyle="hsl("+r.clamp(25+95*M,0,120)+",100%,60%)",m.fillRect(S,y-7,4,4),m.font="12px Arial",m.textBaseline="middle",m.textAlign="right",m.fillStyle="#eee",m.fillText(k,S+x,y-5)},e.constraints=function(m,S){for(var y=S,x=0;x<m.length;x++){var P=m[x];if(!(!P.render.visible||!P.pointA||!P.pointB)){var C=P.bodyA,k=P.bodyB,M,A;if(C?M=h.add(C.position,P.pointA):M=P.pointA,P.render.type==="pin")y.beginPath(),y.arc(M.x,M.y,3,0,2*Math.PI),y.closePath();else{if(k?A=h.add(k.position,P.pointB):A=P.pointB,y.beginPath(),y.moveTo(M.x,M.y),P.render.type==="spring")for(var D=h.sub(A,M),R=h.perp(h.normalise(D)),N=Math.ceil(r.clamp(P.length/5,12,20)),F,U=1;U<N;U+=1)F=U%2===0?1:-1,y.lineTo(M.x+D.x*(U/N)+R.x*F*4,M.y+D.y*(U/N)+R.y*F*4);y.lineTo(A.x,A.y)}P.render.lineWidth&&(y.lineWidth=P.render.lineWidth,y.strokeStyle=P.render.strokeStyle,y.stroke()),P.render.anchors&&(y.fillStyle=P.render.strokeStyle,y.beginPath(),y.arc(M.x,M.y,3,0,2*Math.PI),y.arc(A.x,A.y,3,0,2*Math.PI),y.closePath(),y.fill())}}},e.bodies=function(m,S,y){var x=y;m.engine;var P=m.options,C=P.showInternalEdges||!P.wireframes,k,M,A,D;for(A=0;A<S.length;A++)if(k=S[A],!!k.render.visible){for(D=k.parts.length>1?1:0;D<k.parts.length;D++)if(M=k.parts[D],!!M.render.visible){if(P.showSleeping&&k.isSleeping?x.globalAlpha=.5*M.render.opacity:M.render.opacity!==1&&(x.globalAlpha=M.render.opacity),M.render.sprite&&M.render.sprite.texture&&!P.wireframes){var R=M.render.sprite,N=T(m,R.texture);x.translate(M.position.x,M.position.y),x.rotate(M.angle),x.drawImage(N,N.width*-R.xOffset*R.xScale,N.height*-R.yOffset*R.yScale,N.width*R.xScale,N.height*R.yScale),x.rotate(-M.angle),x.translate(-M.position.x,-M.position.y)}else{if(M.circleRadius)x.beginPath(),x.arc(M.position.x,M.position.y,M.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(M.vertices[0].x,M.vertices[0].y);for(var F=1;F<M.vertices.length;F++)!M.vertices[F-1].isInternal||C?x.lineTo(M.vertices[F].x,M.vertices[F].y):x.moveTo(M.vertices[F].x,M.vertices[F].y),M.vertices[F].isInternal&&!C&&x.moveTo(M.vertices[(F+1)%M.vertices.length].x,M.vertices[(F+1)%M.vertices.length].y);x.lineTo(M.vertices[0].x,M.vertices[0].y),x.closePath()}P.wireframes?(x.lineWidth=1,x.strokeStyle=m.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=M.render.fillStyle,M.render.lineWidth&&(x.lineWidth=M.render.lineWidth,x.strokeStyle=M.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(m,S,y){var x=y,P=m.options.showInternalEdges,C,k,M,A,D;for(x.beginPath(),M=0;M<S.length;M++)if(C=S[M],!!C.render.visible)for(D=C.parts.length>1?1:0;D<C.parts.length;D++){for(k=C.parts[D],x.moveTo(k.vertices[0].x,k.vertices[0].y),A=1;A<k.vertices.length;A++)!k.vertices[A-1].isInternal||P?x.lineTo(k.vertices[A].x,k.vertices[A].y):x.moveTo(k.vertices[A].x,k.vertices[A].y),k.vertices[A].isInternal&&!P&&x.moveTo(k.vertices[(A+1)%k.vertices.length].x,k.vertices[(A+1)%k.vertices.length].y);x.lineTo(k.vertices[0].x,k.vertices[0].y)}x.lineWidth=1,x.strokeStyle=m.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(m,S,y){var x=y,P,C,k;for(x.beginPath(),C=0;C<S.length;C++)if(P=S[C],!(!P.render.visible||P.parts.length===1)){for(x.moveTo(P.vertices[0].x,P.vertices[0].y),k=1;k<P.vertices.length;k++)x.lineTo(P.vertices[k].x,P.vertices[k].y);x.lineTo(P.vertices[0].x,P.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(m,S,y){var x=y,P,C,k;for(P=0;P<S.length;P++){var M=S[P].parts;for(k=M.length>1?1:0;k<M.length;k++){var A=M[k];for(C=0;C<A.vertices.length;C++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(P+"_"+C,A.position.x+(A.vertices[C].x-A.position.x)*.8,A.position.y+(A.vertices[C].y-A.position.y)*.8)}}},e.mousePosition=function(m,S,y){var x=y;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(S.position.x+"  "+S.position.y,S.position.x+5,S.position.y-5)},e.bodyBounds=function(m,S,y){var x=y;m.engine;var P=m.options;x.beginPath();for(var C=0;C<S.length;C++){var k=S[C];if(k.render.visible)for(var M=S[C].parts,A=M.length>1?1:0;A<M.length;A++){var D=M[A];x.rect(D.bounds.min.x,D.bounds.min.y,D.bounds.max.x-D.bounds.min.x,D.bounds.max.y-D.bounds.min.y)}}P.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(m,S,y){var x=y;m.engine;var P=m.options,C,k,M,A;for(x.beginPath(),k=0;k<S.length;k++){var D=S[k],R=D.parts;if(D.render.visible)if(P.showAxes)for(M=R.length>1?1:0;M<R.length;M++)for(C=R[M],A=0;A<C.axes.length;A++){var N=C.axes[A];x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+N.x*20,C.position.y+N.y*20)}else for(M=R.length>1?1:0;M<R.length;M++)for(C=R[M],A=0;A<C.axes.length;A++)x.moveTo(C.position.x,C.position.y),x.lineTo((C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}P.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(m,S,y){var x=y;m.engine;var P=m.options,C,k,M,A;for(x.beginPath(),M=0;M<S.length;M++)if(C=S[M],!!C.render.visible)for(A=0;A<C.parts.length;A++)k=C.parts[A],x.arc(k.position.x,k.position.y,3,0,2*Math.PI,!1),x.closePath();for(P.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),M=0;M<S.length;M++)C=S[M],C.render.visible&&(x.arc(C.positionPrev.x,C.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(m,S,y){var x=y;x.beginPath();for(var P=0;P<S.length;P++){var C=S[P];if(C.render.visible){var k=n.getVelocity(C);x.moveTo(C.position.x,C.position.y),x.lineTo(C.position.x+k.x,C.position.y+k.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(m,S,y){var x=y,P,C;for(P=0;P<S.length;P++)if(S[P].render.visible){var k=S[P].parts;for(C=k.length>1?1:0;C<k.length;C++){var M=k[C];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(M.id,M.position.x+10,M.position.y-10)}}},e.collisions=function(m,S,y){var x=y,P=m.options,C,k,M,A;for(x.beginPath(),M=0;M<S.length;M++)if(C=S[M],!!C.isActive)for(k=C.collision,A=0;A<C.contactCount;A++){var D=C.contacts[A],R=D.vertex;x.rect(R.x-1.5,R.y-1.5,3.5,3.5)}for(P.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),M=0;M<S.length;M++)if(C=S[M],!!C.isActive&&(k=C.collision,C.contactCount>0)){var N=C.contacts[0].vertex.x,F=C.contacts[0].vertex.y;C.contactCount===2&&(N=(C.contacts[0].vertex.x+C.contacts[1].vertex.x)/2,F=(C.contacts[0].vertex.y+C.contacts[1].vertex.y)/2),k.bodyB===k.supports[0].body||k.bodyA.isStatic===!0?x.moveTo(N-k.normal.x*8,F-k.normal.y*8):x.moveTo(N+k.normal.x*8,F+k.normal.y*8),x.lineTo(N,F)}P.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(m,S,y){var x=y,P=m.options,C,k,M,A,D;for(x.beginPath(),D=0;D<S.length;D++)if(C=S[D],!!C.isActive){k=C.collision,M=k.bodyA,A=k.bodyB;var R=1;!A.isStatic&&!M.isStatic&&(R=.5),A.isStatic&&(R=0),x.moveTo(A.position.x,A.position.y),x.lineTo(A.position.x-k.penetration.x*R,A.position.y-k.penetration.y*R),R=1,!A.isStatic&&!M.isStatic&&(R=.5),M.isStatic&&(R=0),x.moveTo(M.position.x,M.position.y),x.lineTo(M.position.x+k.penetration.x*R,M.position.y+k.penetration.y*R)}P.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(m,S){m.engine;var y=m.selected,x=m.render,P=x.options,C;if(P.hasBounds){var k=x.bounds.max.x-x.bounds.min.x,M=x.bounds.max.y-x.bounds.min.y,A=k/x.options.width,D=M/x.options.height;S.scale(1/A,1/D),S.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var R=0;R<y.length;R++){var N=y[R].data;switch(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.9)",S.setLineDash([1,2]),N.type){case"body":C=N.bounds,S.beginPath(),S.rect(Math.floor(C.min.x-3),Math.floor(C.min.y-3),Math.floor(C.max.x-C.min.x+6),Math.floor(C.max.y-C.min.y+6)),S.closePath(),S.stroke();break;case"constraint":var F=N.pointA;N.bodyA&&(F=N.pointB),S.beginPath(),S.arc(F.x,F.y,10,0,2*Math.PI),S.closePath(),S.stroke();break}S.setLineDash([]),S.translate(-.5,-.5)}m.selectStart!==null&&(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.6)",S.fillStyle="rgba(255,165,0,0.1)",C=m.selectBounds,S.beginPath(),S.rect(Math.floor(C.min.x),Math.floor(C.min.y),Math.floor(C.max.x-C.min.x),Math.floor(C.max.y-C.min.y)),S.closePath(),S.stroke(),S.fill(),S.translate(-.5,-.5)),P.hasBounds&&S.setTransform(1,0,0,1,0,0)};var a=function(m,S){var y=m.engine,x=m.timing,P=x.historySize,C=y.timing.timestamp;x.delta=S-x.lastTime||e._goodDelta,x.lastTime=S,x.timestampElapsed=C-x.lastTimestamp||0,x.lastTimestamp=C,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,P),x.engineDeltaHistory.unshift(y.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,P),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,P),x.engineUpdatesHistory.unshift(y.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,P),x.engineElapsedHistory.unshift(y.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,P),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,P)},p=function(m){for(var S=0,y=0;y<m.length;y+=1)S+=m[y];return S/m.length||0},w=function(m,S){var y=document.createElement("canvas");return y.width=m,y.height=S,y.oncontextmenu=function(){return!1},y.onselectstart=function(){return!1},y},b=function(m){var S=m.getContext("2d"),y=window.devicePixelRatio||1,x=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return y/x},T=function(m,S){var y=m.textures[S];return y||(y=m.textures[S]=new Image,y.src=S,y)},E=function(m,S){var y=S;/(jpg|gif|png)$/.test(S)&&(y="url("+S+")"),m.canvas.style.background=y,m.canvas.style.backgroundSize="contain",m.currentBackground=S}})()},function(u,g,f){var e={};u.exports=e;var n=f(5),r=f(17),s=f(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(i){var h={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=s.extend(h,i);return c.fps=0,c},e.run=function(i,h){return i.timeBuffer=e._frameDeltaFallback,function c(t){i.frameRequestId=e._onNextFrame(i,c),t&&i.enabled&&e.tick(i,h,t)}(),i},e.tick=function(i,h,c){var t=s.now(),o=i.delta,a=0,p=c-i.timeLastTick;if((!p||!i.timeLastTick||p>Math.max(e._maxFrameDelta,i.maxFrameTime))&&(p=i.frameDelta||e._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(p),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var w=i.frameDeltaHistory.slice(0).sort(),b=i.frameDeltaHistory.slice(w.length*e._smoothingLowerBound,w.length*e._smoothingUpperBound),T=l(b);p=T||p}i.frameDeltaSnapping&&(p=1e3/Math.round(1e3/p)),i.frameDelta=p,i.timeLastTick=c,i.timeBuffer+=i.frameDelta,i.timeBuffer=s.clamp(i.timeBuffer,0,i.frameDelta+o*e._timeBufferMargin),i.lastUpdatesDeferred=0;var E=i.maxUpdates||Math.ceil(i.maxFrameTime/o),m={timestamp:h.timing.timestamp};n.trigger(i,"beforeTick",m),n.trigger(i,"tick",m);for(var S=s.now();o>0&&i.timeBuffer>=o*e._timeBufferMargin;){n.trigger(i,"beforeUpdate",m),r.update(h,o),n.trigger(i,"afterUpdate",m),i.timeBuffer-=o,a+=1;var y=s.now()-t,x=s.now()-S,P=y+e._elapsedNextEstimate*x/a;if(a>=E||P>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/o-e._timeBufferMargin));break}}h.timing.lastUpdatesPerFrame=a,n.trigger(i,"afterTick",m),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/o)>E?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(i){e._cancelNextFrame(i)},e._onNextFrame=function(i,h){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(h);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},e._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(i){for(var h=0,c=i.length,t=0;t<c;t+=1)h+=i[t];return h/c||0}})()},function(u,g,f){var e={};u.exports=e;var n=f(8),r=f(0),s=r.deprecated;(function(){e.collides=function(l,i){return n.collides(l,i)},s(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(u,g,f){var e={};u.exports=e,f(1);var n=f(0);(function(){e.pathToVertices=function(r,s){typeof window<"u"&&!("SVGPathSeg"in window)&&n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,i,h,c,t,o,a,p,w,b,T=[],E,m,S=0,y=0,x=0;s=s||15;var P=function(k,M,A){var D=A%2===1&&A>1;if(!w||k!=w.x||M!=w.y){w&&D?(E=w.x,m=w.y):(E=0,m=0);var R={x:E+k,y:m+M};(D||!w)&&(w=R),T.push(R),y=E+k,x=m+M}},C=function(k){var M=k.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":y=k.x,x=k.y;break;case"H":y=k.x;break;case"V":x=k.y;break}P(y,x,k.pathSegType)}};for(e._svgPathToAbsolute(r),h=r.getTotalLength(),o=[],l=0;l<r.pathSegList.numberOfItems;l+=1)o.push(r.pathSegList.getItem(l));for(a=o.concat();S<h;){if(b=r.getPathSegAtLength(S),t=o[b],t!=p){for(;a.length&&a[0]!=t;)C(a.shift());p=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=r.getPointAtLength(S),P(c.x,c.y,0);break}S+=s}for(l=0,i=a.length;l<i;++l)C(a[l]);return T},e._svgPathToAbsolute=function(r){for(var s,l,i,h,c,t,o=r.pathSegList,a=0,p=0,w=o.numberOfItems,b=0;b<w;++b){var T=o.getItem(b),E=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in T&&(a=T.x),"y"in T&&(p=T.y);else switch("x1"in T&&(i=a+T.x1),"x2"in T&&(c=a+T.x2),"y1"in T&&(h=p+T.y1),"y2"in T&&(t=p+T.y2),"x"in T&&(a+=T.x),"y"in T&&(p+=T.y),E){case"m":o.replaceItem(r.createSVGPathSegMovetoAbs(a,p),b);break;case"l":o.replaceItem(r.createSVGPathSegLinetoAbs(a,p),b);break;case"h":o.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(a),b);break;case"v":o.replaceItem(r.createSVGPathSegLinetoVerticalAbs(p),b);break;case"c":o.replaceItem(r.createSVGPathSegCurvetoCubicAbs(a,p,i,h,c,t),b);break;case"s":o.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(a,p,c,t),b);break;case"q":o.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(a,p,i,h),b);break;case"t":o.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(a,p),b);break;case"a":o.replaceItem(r.createSVGPathSegArcAbs(a,p,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),b);break;case"z":case"Z":a=s,p=l;break}(E=="M"||E=="m")&&(s=a,l=p)}}})()},function(u,g,f){var e={};u.exports=e;var n=f(6);f(0),function(){e.create=n.create,e.add=n.add,e.remove=n.remove,e.clear=n.clear,e.addComposite=n.addComposite,e.addBody=n.addBody,e.addConstraint=n.addConstraint}()}])})})(Ln);var ei=Ln.exports;const ee=On(ei),Wn=8,Ge=381+Wn,Kt=Wn/Ge,xt=330/Ge,Nn=51/Ge,Vt=xt+Nn,it=4.7625/Ge,ot=17.5/Ge,qe=102/Ge,st=203/Ge,$e=305/Ge,Hn=15/Ge,Ne=Object.freeze(Object.defineProperty({__proto__:null,base:Vt,disc:Hn,ditchWidth:Nn,fifteen:qe,five:$e,peg:it,rimWidth:Kt,surface:xt,ten:st,twenty:ot},Symbol.toStringTag,{value:"Module"})),ti={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},ni={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)","pink-aa":"#FF24FF","pink-aaa":"#D100D1","teal-aa":"#00A3A3","teal-aaa":"#008080","red-aa":"#FE5F55","red-aaa":"#E91101","purple-aaa":"#564592"},Tt={category:ti,color:ni,"":{"11px":"0.7rem","12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}},Ke=1,Et=2,ln=4,At=8,fn=16,ii=.9,si=.05,ri=.05,ai=1,Ht={player1:Tt.color["pink-aa"],player2:Tt.color["teal-aa"],active:Tt.color.black,vector:Tt.color.black};class oi{constructor(){this.events={}}on(d,u){this.events[d]||(this.events[d]=[]),this.events[d].push(u)}emit(d,u){this.events[d]&&this.events[d].forEach(g=>g(u))}}function li(){const v=new oi;let d,u,g,f,e,n,r,s,l,i,h,c=[],t,o;function a(){const B=ee.Bodies.circle(e,e,e*ot,{isStatic:!0,isSensor:!0,render:{visible:!1},label:"20"},64);ee.World.add(u,[B])}function p(){const I=Math.max(2,e*.05),V=ot*e+I/2-1,O=[];for(let K=0;K<16;K++){const W=K/16*2*Math.PI,z=e+Math.cos(W)*V,G=e+Math.sin(W)*V,q=2*Math.PI*V/16,$=ee.Bodies.rectangle(z,G,I,q,{isStatic:!0,isSensor:!1,angle:W,render:{visible:!1},label:"trap 20",collisionFilter:{category:ln,mask:Ke}});O.push($)}ee.World.add(u,O)}function w(){const I=Math.max(8,e*.2),V=Vt*e+I/2-1,O=[];for(let K=0;K<32;K++){const W=K/32*2*Math.PI,z=e+Math.cos(W)*V,G=e+Math.sin(W)*V,q=2*Math.PI*V/32,$=ee.Bodies.rectangle(z,G,I,q,{isStatic:!0,isSensor:!1,angle:W,render:{visible:!1},label:"trap rim",collisionFilter:{category:At,mask:Ke}});O.push($)}ee.World.add(u,O)}function b(){const I=Math.max(8,e*.1),V=xt*e-I/2+1,O=[];for(let K=0;K<32;K++){const W=K/32*2*Math.PI,z=e+Math.cos(W)*V,G=e+Math.sin(W)*V,q=2*Math.PI*V/32,$=ee.Bodies.rectangle(z,G,I,q,{isStatic:!0,isSensor:!1,angle:W,render:{visible:!1},label:"trap surface",collisionFilter:{category:fn,mask:Ke}});O.push($)}ee.World.add(u,O)}function T(){const B=[],I=it*e;for(let V=0;V<8;V++){const O=.375+V/8*Math.PI*2,K=e+Math.cos(O)*e*qe,W=e+Math.sin(O)*e*qe,z=ee.Bodies.circle(K,W,I,{isStatic:!0,restitution:ai,render:{visible:!1},collisionFilter:{category:Et,mask:Ke}});B.push(z)}ee.World.add(u,B)}function E(B,I,V,O,K,W){const z=Math.atan2(K-V,O-I),G=O-W*Math.cos(z-Math.PI/4),q=K-W*Math.sin(z-Math.PI/4),$=O-W*Math.cos(z+Math.PI/4),le=K-W*Math.sin(z+Math.PI/4);B.moveTo(O,K),B.lineTo(G,q),B.moveTo(O,K),B.lineTo($,le)}function m(B){if(!o)return;const I=o.circleRadius,V=o.position;if(l&&i){const O=ee.Vector.normalise(l),K=V.x+O.x*I*1.25,W=V.y+O.y*I*1.25,z=V.x+O.x*I*1.5+l.x,G=V.y+O.y*I*1.5+l.y;B.beginPath(),B.strokeStyle=Ht.vector,B.lineWidth=2,B.moveTo(K,W),B.lineTo(z,G),B.stroke();const q=e*.03,$=Math.PI/4,le=Math.atan2(l.y,l.x);B.beginPath(),B.moveTo(z,G),B.lineTo(z-q*Math.cos(le-$),G-q*Math.sin(le-$)),B.moveTo(z,G),B.lineTo(z-q*Math.cos(le+$),G-q*Math.sin(le+$)),B.stroke(),B.closePath()}t==="position"&&(B.beginPath(),B.strokeStyle=Ht.vector,B.lineWidth=2,B.moveTo(V.x-I*2.5,V.y),B.lineTo(V.x-I*1.25,V.y),B.moveTo(V.x+I*2.5,V.y),B.lineTo(V.x+I*1.25,V.y),B.stroke(),B.closePath(),B.lineDashOffset=0,B.beginPath(),E(B,V.x-I*1.25,V.y,V.x-I*2.5,V.y,I*.75),E(B,V.x+I*1.25,V.y,V.x+I*2.5,V.y,I*.75),B.stroke(),B.closePath())}function S(){const B=f.context;m(B)}function y(B){B.pairs.forEach(({bodyA:I,bodyB:V})=>{const O=I.label==="disc"?I:V.label==="disc"?V:null,K=I.label==="20"?I:V.label==="20"?V:null;if(O&&K&&!O.in20){const W=ee.Vector.magnitude(ee.Vector.sub(O.position,K.position)),G=O.circleRadius*.75,q=10,$=W<G,le=O.speed<q;$&&le&&(O.in20=!0,O.collisionFilter.mask=Ke|Et|At|ln,O.restitution=.4)}})}function x(B){B.pairs.forEach(({bodyA:I,bodyB:V})=>{const O=I.label==="disc"?I:V.label==="disc"?V:null,K=I.label==="disc"&&I.id!==O.id?I:V.label==="disc"&&V.id!==O.id?V:null,W=I.label==="trap rim"?I:V.label==="trap rim"?V:null;if(O&&W)O.frictionAir=.3,O.collisionFilter.mask=Ke|Et|At|fn;else if(O&&K){O.collided=!0,K.collided=!0;const z=O.player!==K.player;O.collidedOpp=z,K.collidedOpp=z}})}function P({target:B,speed:I}){if(!o)return;const V={x:B.x-o.position.x,y:B.y-o.position.y},O=ee.Vector.normalise(V);if(I){const K=I*n;s=ee.Vector.mult(O,K)}else{const K=ee.Vector.magnitude(V),W=Math.min(K,r),z=W/r*n;s=ee.Vector.mult(O,z),l=ee.Vector.mult(O,W)}}function C(B){const I={x:e,y:e},V=B.circleRadius,O=B.position,K=Math.sqrt(Math.pow(O.x-I.x,2)+Math.pow(O.y-I.y,2)),z=[{r:e*ot,score:20},{r:e*qe,score:15},{r:e*st,score:10},{r:e*$e,score:5}].find(G=>K+V<G.r);return(z==null?void 0:z.score)||0}function k(B){const I={x:e,y:e},V=B.circleRadius,O=B.position,K=Math.sqrt(Math.pow(O.x-I.x,2)+Math.pow(O.y-I.y,2)),W=e*qe;if(K-V<W)return!0}function M(){if(c.every(I=>I.isSleeping)){c.forEach(W=>{W.score=C(W),W.intersect15=k(W)});const I=c.some(W=>W.player!==o.player),V=c.some(W=>W.collidedOpp),O=c.filter(W=>W.player===o.player).some(W=>W.intersect15);c.forEach(W=>{I?W.player===o.player?W.id===o.id?W.valid=V:W.valid=W.collided?V:!0:W.valid=!0:W.id===o.id?W.valid=W.collided?O:W.intersect15:W.valid=W.collided?O:!0,(!W.valid||!W.score)&&ee.World.remove(u,W)});const K=c.find(W=>W.id===o.id).valid;if(c=c.filter(W=>W.score>0&&W.valid),h)v.emit("shotCompleteManual",{discs:c,valid:K});else{const W=c.map(z=>({id:z.id,player:z.player,score:z.score}));c.forEach(z=>{z.score===20&&ee.World.remove(u,z)}),c=c.filter(z=>z.score!==20),v.emit("shotComplete",{discs:W,valid:K}),c.forEach(z=>{z.valid=void 0,z.collided=void 0,z.collidedOpp=void 0,z.intersect15=void 0,z.in20=void 0})}o=null,j("idle")}}function A(){ee.Composite.clear(u,!1),ee.Events.off(d),ee.Render.stop(f),f.canvas.remove(),f.context=null,f.textures={},ee.Runner.stop(g)}function D(B){c.forEach(I=>{const V=e/B,O=I.position.x*V,K=I.position.y*V;ee.Body.setPosition(I,{x:O,y:K}),ee.Body.scale(I,V,V),ee.World.add(u,I)})}function R(){c.forEach(B=>{ee.World.remove(u,B)}),c=[],o=null,i=!1,l=void 0,s=void 0}function N(B={}){const I=B.player||"player1",V=B.state||"position",O=B.x?B.x*e*2:e,K=B.y?B.y*e*2:I==="player1"?e+e*$e:e-e*$e,W=e*Hn,z=si,G=ii,q=ri,$=ee.Bodies.circle(O,K,W,{density:z,restitution:G,frictionAir:q,render:{fillStyle:Ht[I],strokeStyle:"#fff",lineWidth:1},label:"disc",collisionFilter:{category:Ke,mask:Ke|Et|At},sleepThreshold:60,isSleeping:!0},64);$.player=I,c.push($),o=$,ee.Events.on($,"sleepStart",M),ee.World.add(u,$),n=o.mass*e*7e-4,j(V)}function F(B){if(!o||t!=="position")return;const I=2,V=[45-I,135+I],O=e*$e;let K=B-e;K=Math.max(-O,Math.min(O,K));const W=o.player==="player1",z=W?-1:1,G=V[W?0:1]*z*-1,q=V[W?1:0]*z*-1,$=e-Math.sqrt(Math.max(0,Math.pow(O,2)-Math.pow(K,2)))*z,le={x:e+K,y:$},Me={x:e,y:e},Pe=ee.Vector.angle(Me,le)*180/Math.PI;if(Pe>G&&Pe<q)ee.Body.setPosition(o,le);else if(Pe<=G){const me=G*Math.PI/180,Ae=Math.cos(me)*O,fe=Math.sin(me)*O,Ie=e+Ae,he=e+fe;ee.Body.setPosition(o,{x:Ie,y:he})}else if(Pe>=q){const me=q*Math.PI/180,Ae=Math.cos(me)*O,fe=Math.sin(me)*O,Ie=e+Ae,he=e+fe;ee.Body.setPosition(o,{x:Ie,y:he})}}function U({degrees:B,speed:I}){const V=(B-90)*Math.PI/180,O=o.position.x+Math.cos(V),K=o.position.y+Math.sin(V);return{x:o.position.x+(O-o.position.x)*I,y:o.position.y+(K-o.position.y)*I}}function X({degrees:B,power:I,visible:V}){if(!o||t!=="shoot")return;te(V===void 0?!0:V);const K=Math.max(.01,I)*r,W=U({degrees:B,speed:K});P({target:W})}function _(){!o||t!=="shoot"||(j("play"),te(!1),ee.Body.applyForce(o,o.position,s))}function Q(){!o||t!=="shoot"||_()}function j(B){t=B}function te(B){i=B}function ve({element:B,width:I,tutorial:V}){h=!!V;let O;d?(A(),O=e):j("idle");const K=I;e=I/2,r=e*.2,d=ee.Engine.create({enableSleeping:!0}),u=d.world,d.gravity.y=0,g=ee.Runner.create(),f=ee.Render.create({element:B,engine:d,options:{width:I,height:K,wireframes:!1,pixelRatio:"auto",background:"transparent",hasBounds:!0,showSleeping:!1}}),D(O),a(),T(),p(),w(),b(),ee.Events.on(f,"afterRender",S),ee.Runner.run(g,d),ee.Render.run(f),ee.Events.on(d,"collisionActive",y),ee.Events.on(d,"collisionStart",x),c.length||v.emit("ready")}return{removeDiscs:R,addDisc:N,positionDisc:F,aimDisc:X,release:Q,flickDisc:_,setState:j,setIndicatorVisible:te,init:ve,on:(B,I)=>v.on(B,I)}}function Bt(v){return Object.keys(v).reduce((d,u)=>v[u]===void 0?d:d+`${u}:${v[u]};`,"")}function Ut(v){return v?!0:void 0}Bt({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function cn(v){function d(u){return u(v),()=>{}}return{subscribe:d}}function _t(v){if(!Un)return null;const d=document.querySelector(`[data-melt-id="${v}"]`);return gt(d)?d:null}const pt=v=>new Proxy(v,{get(d,u,g){return Reflect.get(d,u,g)},ownKeys(d){return Reflect.ownKeys(d).filter(u=>u!=="action")}}),un=v=>typeof v=="function";Xt("empty");function Xt(v,d){const{stores:u,action:g,returned:f}=d??{},e=(()=>{if(u&&f)return Nt(u,r=>{const s=f(r);if(un(s)){const l=(...i)=>pt({...s(...i),[`data-melt-${v}`]:"",action:g??Xe});return l.action=g??Xe,l}return pt({...s,[`data-melt-${v}`]:"",action:g??Xe})});{const r=f,s=r==null?void 0:r();if(un(s)){const l=(...i)=>pt({...s(...i),[`data-melt-${v}`]:"",action:g??Xe});return l.action=g??Xe,cn(l)}return cn(pt({...s,[`data-melt-${v}`]:"",action:g??Xe}))}})(),n=g??(()=>{});return n.subscribe=e.subscribe,n}function dn(v,d){const{stores:u,returned:g,action:f}=d,{subscribe:e}=Nt(u,r=>g(r).map(s=>pt({...s,[`data-melt-${v}`]:"",action:f??Xe}))),n=f??(()=>{});return n.subscribe=e,n}function fi(v){const d=e=>e?`${v}-${e}`:v,u=e=>`data-melt-${v}${e?`-${e}`:""}`,g=e=>`[data-melt-${v}${e?`-${e}`:""}]`;return{name:d,attribute:u,selector:g,getEl:e=>document.querySelector(g(e))}}const Un=typeof document<"u";function gt(v){return v instanceof HTMLElement}function ci(...v){return(...d)=>{for(const u of v)typeof u=="function"&&u(...d)}}function Xe(){}function rt(v,d,u,g){const f=Array.isArray(d)?d:[d];return f.forEach(e=>v.addEventListener(e,u,g)),()=>{f.forEach(e=>v.removeEventListener(e,u,g))}}function ui(v,d,u,g){const f=Array.isArray(d)?d:[d];if(typeof u=="function"){const e=hi(n=>u(n));return f.forEach(n=>v.addEventListener(n,e,g)),()=>{f.forEach(n=>v.removeEventListener(n,e,g))}}return()=>void 0}function di(v){const d=v.currentTarget;if(!gt(d))return null;const u=new CustomEvent(`m-${v.type}`,{detail:{originalEvent:v},cancelable:!0});return d.dispatchEvent(u),u}function hi(v){return d=>{const u=di(d);if(!(u!=null&&u.defaultPrevented))return v(d)}}const vi=v=>{try{Xn(v)}catch{return v}};function _n(v,...d){const u={};for(const g of Object.keys(v))d.includes(g)||(u[g]=v[g]);return u}function Qe(v){return{...v,get:()=>Yn(v)}}Qe.writable=function(v){const d=nt(v);let u=v;return{subscribe:d.subscribe,set(g){d.set(g),u=g},update(g){const f=g(u);d.set(f),u=f},get(){return u}}};Qe.derived=function(v,d){const u=new Map,g=()=>{const e=Array.isArray(v)?v.map(n=>n.get()):v.get();return d(e)};return{get:g,subscribe:e=>{const n=[];return(Array.isArray(v)?v:[v]).forEach(s=>{n.push(s.subscribe(()=>{e(g())}))}),e(g()),u.set(e,n),()=>{const s=u.get(e);if(s)for(const l of s)l();u.delete(e)}}}};const pi=(v,d)=>{const u=Qe(v),g=(e,n)=>{u.update(r=>{const s=e(r);let l=s;return d&&(l=d({curr:r,next:s})),n==null||n(l),l})};return{...u,update:g,set:e=>{g(()=>e)}}};let mi="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",gi=(v=21)=>{let d="",u=v;for(;u--;)d+=mi[Math.random()*64|0];return d};function xi(){return gi(10)}function yi(v){return v.reduce((d,u)=>(d[u]=xi(),d),{})}const De={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"};function hn(v,d){let u;const g=Nt(v,e=>{u==null||u(),u=d(e)}).subscribe(Xe),f=()=>{g(),u==null||u()};return vi(f),f}function Si(v){const d={};return Object.keys(v).forEach(u=>{const g=u,f=v[g];d[g]=Qe(nt(f))}),d}function Gt(v,d,u,g){const f=(v-(isNaN(d)?0:d))%g;let e=Math.abs(f)*2>=g?v+Math.sign(f)*(g-Math.abs(f)):v-f;isNaN(d)?!isNaN(u)&&e>u&&(e=Math.floor(u/g)*g):e<d?e=d:!isNaN(u)&&e>u&&(e=d+Math.floor((u-d)/g)*g);const n=g.toString(),r=n.indexOf("."),s=r>=0?n.length-r:0;if(s>0){const l=Math.pow(10,s);e=Math.round(e*l)/l}return e}at(void 0,v=>{function d(g){v(g),v(void 0)}return rt(document,"pointerup",d,{passive:!1,capture:!0})});at(void 0,v=>{function d(g){g&&g.key===De.ESCAPE&&v(g),v(void 0)}return rt(document,"keydown",d,{passive:!1})});at(!1),at(!1),at(void 0);const wi={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({..._n(wi,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});const Ci={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:It}=fi("slider"),Pi=v=>{const d={...Ci,...v},u=Si(_n(d,"value","onValueChange","defaultValue")),{min:g,max:f,step:e,orientation:n,dir:r,disabled:s}=u,l=d.value??nt(d.defaultValue),i=pi(l,d==null?void 0:d.onValueChange),h=Qe(nt(!1)),c=Qe(nt(0)),t=Qe(nt(null)),o=yi(["root"]),a=(y,x)=>{i.update(P=>{if(!P)return[y];if(P[x]===y)return P;const C=[...P],k=C[x]>y?-1:1;function M(){C[x]=C[x+k],C[x+k]=y;const N=p();N&&(N[x+k].focus(),t.set({thumb:N[x+k],index:x+k}))}if(k===-1&&y<C[x-1])return M(),C;if(k===1&&y>C[x+1])return M(),C;const A=g.get(),D=f.get(),R=e.get();return C[x]=Gt(y,A,D,R),C})},p=()=>{const y=_t(o.root);return y?Array.from(y.querySelectorAll('[data-melt-part="thumb"]')).filter(x=>gt(x)):null},w=Nt([g,f],([y,x])=>P=>(P-y)/(x-y)*100),b=Qe.derived([n,r],([y,x])=>y==="horizontal"?x==="rtl"?"rl":"lr":x==="rtl"?"tb":"bt"),T=Xt(It(),{stores:[s,n,r],returned:([y,x,P])=>({dir:P,disabled:Ut(y),"data-disabled":Ut(y),"data-orientation":x,style:y?void 0:`touch-action: ${x==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":o.root})}),E=Xt(It("range"),{stores:[i,b,w],returned:([y,x,P])=>{const C=y.length>1?P(Math.min(...y)??0):0,k=100-P(Math.max(...y)??0),M={position:"absolute"};switch(x){case"lr":{M.left=`${C}%`,M.right=`${k}%`;break}case"rl":{M.right=`${C}%`,M.left=`${k}%`;break}case"bt":{M.bottom=`${C}%`,M.top=`${k}%`;break}case"tb":{M.top=`${C}%`,M.bottom=`${k}%`;break}}return{style:Bt(M)}}}),m=dn(It("thumb"),{stores:[i,w,g,f,s,n,b],returned:([y,x,P,C,k,M,A])=>Array.from({length:y.length||1},(R,N)=>{c.get()<y.length&&c.update(Q=>Q+1);const U=y[N],X=`${x(U)}%`,_={position:"absolute"};switch(A){case"lr":{_.left=X,_.translate="-50% 0";break}case"rl":{_.right=X,_.translate="50% 0";break}case"bt":{_.bottom=X,_.translate="0 50%";break}case"tb":{_.top=X,_.translate="0 -50%";break}}return{role:"slider","aria-valuemin":P,"aria-valuemax":C,"aria-valuenow":U,"aria-disabled":Ut(k),"aria-orientation":M,"data-melt-part":"thumb","data-value":U,style:Bt(_),tabindex:k?-1:0}}),action:y=>({destroy:ui(y,"keydown",P=>{if(s.get())return;const C=P.currentTarget;if(!gt(C))return;const k=p();if(!(k!=null&&k.length))return;const M=k.indexOf(C);if(c.set(M),![De.ARROW_LEFT,De.ARROW_RIGHT,De.ARROW_UP,De.ARROW_DOWN,De.HOME,De.END].includes(P.key))return;P.preventDefault();const A=g.get(),D=f.get(),R=e.get(),N=i.get(),F=n.get(),U=b.get(),X=N[M];switch(P.key){case De.HOME:{a(A,M);break}case De.END:{a(D,M);break}case De.ARROW_LEFT:{if(F!=="horizontal")break;P.metaKey?a(U==="rl"?D:A,M):U==="rl"&&X<D?a(X+R,M):U==="lr"&&X>A&&a(X-R,M);break}case De.ARROW_RIGHT:{if(F!=="horizontal")break;P.metaKey?a(U==="rl"?A:D,M):U==="rl"&&X>A?a(X-R,M):U==="lr"&&X<D&&a(X+R,M);break}case De.ARROW_UP:{P.metaKey?a(U==="tb"?A:D,M):U==="tb"&&X>A?a(X-R,M):U!=="tb"&&X<D&&a(X+R,M);break}case De.ARROW_DOWN:{P.metaKey?a(U==="tb"?D:A,M):U==="tb"&&X<D?a(X+R,M):U!=="tb"&&X>A&&a(X-R,M);break}}})})}),S=dn(It("tick"),{stores:[i,g,f,e,b],returned:([y,x,P,C,k])=>{const M=P-x;let A=Math.ceil(M/C);return M%C==0&&A++,Array.from({length:A},(D,R)=>{const N=`${R*(C/(P-x))*100}%`,F=R===0,U=R===A-1,X=F?0:U?-100:-50,_={position:"absolute"};switch(k){case"lr":{_.left=N,_.translate=`${X}% 0`;break}case"rl":{_.right=N,_.translate=`${-X}% 0`;break}case"bt":{_.bottom=N,_.translate=`0 ${-X}%`;break}case"tb":{_.top=N,_.translate=`0 ${X}%`;break}}const Q=x+R*C;return{"data-bounded":(y.length===1?Q<=y[0]:y[0]<=Q&&Q<=y[y.length-1])?!0:void 0,"data-value":Q,style:Bt(_)}})}});return hn([T,g,f,s,n,b,e],([y,x,P,C,k,M,A])=>{if(!Un||C)return;const D=(_,Q,j,te)=>{const B=(_-j)/(te-j)*(P-x)+x;if(B<x)a(x,Q);else if(B>P)a(P,Q);else{const I=A,V=x,O=Math.floor((B-V)/I),K=V+O*I+I/2,W=V+(O+1)*I+I/2,z=B>=K&&B<W?(O+1)*I+V:O*I+V;z<=P&&a(z,Q)}},R=_=>{const Q=p();if(!Q)return;Q.forEach(B=>B.blur());const j=Q.map(B=>{if(k==="horizontal"){const{left:I,right:V}=B.getBoundingClientRect();return Math.abs(_.clientX-(I+V)/2)}else{const{top:I,bottom:V}=B.getBoundingClientRect();return Math.abs(_.clientY-(I+V)/2)}}),te=Q[j.indexOf(Math.min(...j))],ve=Q.indexOf(te);return{thumb:te,index:ve}},N=_=>{if(!h.get())return;_.preventDefault(),_.stopPropagation();const Q=_t(y["data-melt-id"]),j=t.get();if(!Q||!j)return;j.thumb.focus();const{left:te,right:ve,top:B,bottom:I}=Q.getBoundingClientRect();switch(M){case"lr":{D(_.clientX,j.index,te,ve);break}case"rl":{D(_.clientX,j.index,ve,te);break}case"bt":{D(_.clientY,j.index,I,B);break}case"tb":{D(_.clientY,j.index,B,I);break}}},F=_=>{if(_.button!==0)return;const Q=_t(y["data-melt-id"]),j=R(_);if(!j||!Q)return;const te=_.target;!gt(te)||!Q.contains(te)||(_.preventDefault(),t.set(j),j.thumb.focus(),h.set(!0),N(_))},U=()=>{h.set(!1)},X=ci(rt(document,"pointerdown",F),rt(document,"pointerup",U),rt(document,"pointerleave",U),rt(document,"pointermove",N));return()=>{X()}}),hn([e,g,f,i],function([x,P,C,k]){const M=D=>Gt(D,P,C,x)===D,A=D=>Gt(D,P,C,x);k.some(D=>!M(D))&&i.update(D=>D.map(A))}),{elements:{root:T,thumbs:m,range:E,ticks:S},states:{value:i},options:u}};function Mi(v,d){const u={};return d.forEach(g=>{u[g]={[`data-${v}-${g}`]:""}}),g=>u[g]}function bi(){const v=Vn();return d=>{const{originalEvent:u}=d.detail,{cancelable:g}=d,f=u.type;v(f,{originalEvent:u,currentTarget:u.currentTarget},{cancelable:g})||d.preventDefault()}}function ki(v){const d={};for(const u in v){const g=v[u];g!==void 0&&(d[u]=g)}return d}function Ti(v){return function(d,u){if(u===void 0)return;const g=v[d];g&&g.set(u)}}function Gn(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Ei(v){const{NAME:d,PARTS:u}=Gn(),g=Mi(d,u),f={...Pi(ki(v)),getAttrs:g};return Qn(d,f),{...f,updateOption:Ti(f.options)}}function zn(){const{NAME:v}=Gn();return Zn(v)}const Ai=v=>({builder:v&4,ticks:v&8,thumbs:v&16}),vn=v=>({builder:v[2],ticks:v[3],thumbs:v[4]}),Ii=v=>({builder:v&4,ticks:v&8,thumbs:v&16}),pn=v=>({builder:v[2],ticks:v[3],thumbs:v[4]});function Di(v){let d,u,g,f;const e=v[19].default,n=Ft(e,v,v[18],vn);let r=[v[2],v[8]],s={};for(let l=0;l<r.length;l+=1)s=_e(s,r[l]);return{c(){d=ne("span"),n&&n.c(),this.h()},l(l){d=ie(l,"SPAN",{});var i=se(d);n&&n.l(i),i.forEach(Y),this.h()},h(){ft(d,s)},m(l,i){ce(l,d,i),n&&n.m(d,null),v[20](d),u=!0,g||(f=Zt(v[2].action(d)),g=!0)},p(l,i){n&&n.p&&(!u||i&262172)&&Ot(n,e,l,l[18],u?Wt(e,l[18],i,Ai):Lt(l[18]),vn),ft(d,s=qt(r,[i&4&&l[2],i&256&&l[8]]))},i(l){u||(oe(n,l),u=!0)},o(l){de(n,l),u=!1},d(l){l&&Y(d),n&&n.d(l),v[20](null),g=!1,f()}}}function Ri(v){let d;const u=v[19].default,g=Ft(u,v,v[18],pn);return{c(){g&&g.c()},l(f){g&&g.l(f)},m(f,e){g&&g.m(f,e),d=!0},p(f,e){g&&g.p&&(!d||e&262172)&&Ot(g,u,f,f[18],d?Wt(u,f[18],e,Ii):Lt(f[18]),pn)},i(f){d||(oe(g,f),d=!0)},o(f){de(g,f),d=!1},d(f){g&&g.d(f)}}}function Bi(v){let d,u,g,f;const e=[Ri,Di],n=[];function r(s,l){return s[1]?0:1}return d=r(v),u=n[d]=e[d](v),{c(){u.c(),g=Fe()},l(s){u.l(s),g=Fe()},m(s,l){n[d].m(s,l),ce(s,g,l),f=!0},p(s,[l]){let i=d;d=r(s),d===i?n[d].p(s,l):(Ze(),de(n[i],1,1,()=>{n[i]=null}),Je(),u=n[d],u?u.p(s,l):(u=n[d]=e[d](s),u.c()),oe(u,1),u.m(g.parentNode,g))},i(s){f||(oe(u),f=!0)},o(s){de(u),f=!1},d(s){s&&Y(g),n[d].d(s)}}}function Vi(v,d,u){let g;const f=["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"];let e=lt(d,f),n,r,s,{$$slots:l={},$$scope:i}=d,{disabled:h=void 0}=d,{min:c=void 0}=d,{max:t=void 0}=d,{step:o=void 0}=d,{orientation:a=void 0}=d,{dir:p=void 0}=d,{value:w=void 0}=d,{onValueChange:b=void 0}=d,{asChild:T=!1}=d,{el:E=void 0}=d;const{elements:{root:m,ticks:S,thumbs:y},states:{value:x},updateOption:P,getAttrs:C}=Ei({disabled:h,dir:p,min:c,max:t,step:o,orientation:a,defaultValue:w,onValueChange:({next:A})=>(w!==A&&(b==null||b(A),u(9,w=A)),A)});Dt(v,m,A=>u(17,n=A)),Dt(v,S,A=>u(3,r=A)),Dt(v,y,A=>u(4,s=A));const k=C("root");function M(A){et[A?"unshift":"push"](()=>{E=A,u(0,E)})}return v.$$set=A=>{d=_e(_e({},d),Qt(A)),u(8,e=lt(d,f)),"disabled"in A&&u(10,h=A.disabled),"min"in A&&u(11,c=A.min),"max"in A&&u(12,t=A.max),"step"in A&&u(13,o=A.step),"orientation"in A&&u(14,a=A.orientation),"dir"in A&&u(15,p=A.dir),"value"in A&&u(9,w=A.value),"onValueChange"in A&&u(16,b=A.onValueChange),"asChild"in A&&u(1,T=A.asChild),"el"in A&&u(0,E=A.el),"$$scope"in A&&u(18,i=A.$$scope)},v.$$.update=()=>{v.$$.dirty&512&&w!==void 0&&x.set(w),v.$$.dirty&1024&&P("disabled",h),v.$$.dirty&2048&&P("min",c),v.$$.dirty&4096&&P("max",t),v.$$.dirty&8192&&P("step",o),v.$$.dirty&16384&&P("orientation",a),v.$$.dirty&32768&&P("dir",p),v.$$.dirty&131072&&u(2,g=n),v.$$.dirty&4&&Object.assign(g,k)},[E,T,g,r,s,m,S,y,e,w,h,c,t,o,a,p,b,n,i,l,M]}class Fi extends ut{constructor(d){super(),dt(this,d,Vi,Bi,ct,{disabled:10,min:11,max:12,step:13,orientation:14,dir:15,value:9,onValueChange:16,asChild:1,el:0})}}const Oi=v=>({builder:v&4}),mn=v=>({builder:v[2]});function Li(v){let d,u,g,f=[v[2],v[4]],e={};for(let n=0;n<f.length;n+=1)e=_e(e,f[n]);return{c(){d=ne("span"),this.h()},l(n){d=ie(n,"SPAN",{}),se(d).forEach(Y),this.h()},h(){ft(d,e)},m(n,r){ce(n,d,r),v[8](d),u||(g=Zt(v[2].action(d)),u=!0)},p(n,r){ft(d,e=qt(f,[r&4&&n[2],r&16&&n[4]]))},i:Ue,o:Ue,d(n){n&&Y(d),v[8](null),u=!1,g()}}}function Wi(v){let d;const u=v[7].default,g=Ft(u,v,v[6],mn);return{c(){g&&g.c()},l(f){g&&g.l(f)},m(f,e){g&&g.m(f,e),d=!0},p(f,e){g&&g.p&&(!d||e&68)&&Ot(g,u,f,f[6],d?Wt(u,f[6],e,Oi):Lt(f[6]),mn)},i(f){d||(oe(g,f),d=!0)},o(f){de(g,f),d=!1},d(f){g&&g.d(f)}}}function Ni(v){let d,u,g,f;const e=[Wi,Li],n=[];function r(s,l){return s[1]?0:1}return d=r(v),u=n[d]=e[d](v),{c(){u.c(),g=Fe()},l(s){u.l(s),g=Fe()},m(s,l){n[d].m(s,l),ce(s,g,l),f=!0},p(s,[l]){let i=d;d=r(s),d===i?n[d].p(s,l):(Ze(),de(n[i],1,1,()=>{n[i]=null}),Je(),u=n[d],u?u.p(s,l):(u=n[d]=e[d](s),u.c()),oe(u,1),u.m(g.parentNode,g))},i(s){f||(oe(u),f=!0)},o(s){de(u),f=!1},d(s){s&&Y(g),n[d].d(s)}}}function Hi(v,d,u){let g;const f=["asChild","el"];let e=lt(d,f),n,{$$slots:r={},$$scope:s}=d,{asChild:l=!1}=d,{el:i=void 0}=d;const{elements:{range:h},getAttrs:c}=zn();Dt(v,h,a=>u(5,n=a));const t=c("range");function o(a){et[a?"unshift":"push"](()=>{i=a,u(0,i)})}return v.$$set=a=>{d=_e(_e({},d),Qt(a)),u(4,e=lt(d,f)),"asChild"in a&&u(1,l=a.asChild),"el"in a&&u(0,i=a.el),"$$scope"in a&&u(6,s=a.$$scope)},v.$$.update=()=>{v.$$.dirty&32&&u(2,g=n),v.$$.dirty&4&&Object.assign(g,t)},[i,l,g,h,e,n,s,r,o]}class Ui extends ut{constructor(d){super(),dt(this,d,Hi,Ni,ct,{asChild:1,el:0})}}const _i=v=>({builder:v&4}),gn=v=>({builder:v[2]});function Gi(v){let d,u,g,f=[v[2],v[4]],e={};for(let n=0;n<f.length;n+=1)e=_e(e,f[n]);return{c(){d=ne("span"),this.h()},l(n){d=ie(n,"SPAN",{}),se(d).forEach(Y),this.h()},h(){ft(d,e)},m(n,r){ce(n,d,r),v[8](d),u||(g=[Zt(v[2].action(d)),mt(d,"m-keydown",v[3])],u=!0)},p(n,r){ft(d,e=qt(f,[r&4&&n[2],r&16&&n[4]]))},i:Ue,o:Ue,d(n){n&&Y(d),v[8](null),u=!1,Fn(g)}}}function zi(v){let d;const u=v[7].default,g=Ft(u,v,v[6],gn);return{c(){g&&g.c()},l(f){g&&g.l(f)},m(f,e){g&&g.m(f,e),d=!0},p(f,e){g&&g.p&&(!d||e&68)&&Ot(g,u,f,f[6],d?Wt(u,f[6],e,_i):Lt(f[6]),gn)},i(f){d||(oe(g,f),d=!0)},o(f){de(g,f),d=!1},d(f){g&&g.d(f)}}}function Ki(v){let d,u,g,f;const e=[zi,Gi],n=[];function r(s,l){return s[1]?0:1}return d=r(v),u=n[d]=e[d](v),{c(){u.c(),g=Fe()},l(s){u.l(s),g=Fe()},m(s,l){n[d].m(s,l),ce(s,g,l),f=!0},p(s,[l]){let i=d;d=r(s),d===i?n[d].p(s,l):(Ze(),de(n[i],1,1,()=>{n[i]=null}),Je(),u=n[d],u?u.p(s,l):(u=n[d]=e[d](s),u.c()),oe(u,1),u.m(g.parentNode,g))},i(s){f||(oe(u),f=!0)},o(s){de(u),f=!1},d(s){s&&Y(g),n[d].d(s)}}}function Xi(v,d,u){let g;const f=["asChild","el","thumb"];let e=lt(d,f),{$$slots:n={},$$scope:r}=d,{asChild:s=!1}=d,{el:l=void 0}=d,{thumb:i}=d;const{getAttrs:h}=zn(),c=bi(),t=h("thumb");function o(a){et[a?"unshift":"push"](()=>{l=a,u(0,l)})}return v.$$set=a=>{d=_e(_e({},d),Qt(a)),u(4,e=lt(d,f)),"asChild"in a&&u(1,s=a.asChild),"el"in a&&u(0,l=a.el),"thumb"in a&&u(5,i=a.thumb),"$$scope"in a&&u(6,r=a.$$scope)},v.$$.update=()=>{v.$$.dirty&32&&u(2,g=i),v.$$.dirty&4&&Object.assign(g,t)},[l,s,g,c,e,i,r,n,o]}class Yi extends ut{constructor(d){super(),dt(this,d,Xi,Ki,ct,{asChild:1,el:0,thumb:5})}}function xn(v,d,u){const g=v.slice();return g[9]=d[u],g}function yn(v){let d,u;return d=new Yi({props:{thumb:v[9],class:v[5]}}),{c(){yt(d.$$.fragment)},l(g){St(d.$$.fragment,g)},m(g,f){wt(d,g,f),u=!0},p(g,f){const e={};f&256&&(e.thumb=g[9]),f&32&&(e.class=g[5]),d.$set(e)},i(g){u||(oe(d.$$.fragment,g),u=!0)},o(g){de(d.$$.fragment,g),u=!1},d(g){Ct(d,g)}}}function Qi(v){let d,u,g,f,e;u=new Ui({});let n=We(v[8]),r=[];for(let l=0;l<n.length;l+=1)r[l]=yn(xn(v,n,l));const s=l=>de(r[l],1,1,()=>{r[l]=null});return{c(){d=ne("span"),yt(u.$$.fragment),g=we();for(let l=0;l<r.length;l+=1)r[l].c();f=Fe(),this.h()},l(l){d=ie(l,"SPAN",{class:!0});var i=se(d);St(u.$$.fragment,i),i.forEach(Y),g=Ce(l);for(let h=0;h<r.length;h+=1)r[h].l(l);f=Fe(),this.h()},h(){ae(d,"class","bg svelte-14lbbqt")},m(l,i){ce(l,d,i),wt(u,d,null),ce(l,g,i);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(l,i);ce(l,f,i),e=!0},p(l,i){if(i&288){n=We(l[8]);let h;for(h=0;h<n.length;h+=1){const c=xn(l,n,h);r[h]?(r[h].p(c,i),oe(r[h],1)):(r[h]=yn(c),r[h].c(),oe(r[h],1),r[h].m(f.parentNode,f))}for(Ze(),h=n.length;h<r.length;h+=1)s(h);Je()}},i(l){if(!e){oe(u.$$.fragment,l);for(let i=0;i<n.length;i+=1)oe(r[i]);e=!0}},o(l){de(u.$$.fragment,l),r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)de(r[i]);e=!1},d(l){l&&(Y(d),Y(g),Y(f)),Ct(u),vt(r,l)}}}function Zi(v){let d,u,g,f,e,n,r;function s(i){v[7](i)}let l={min:v[2],max:v[3],step:v[4],$$slots:{default:[Qi,({thumbs:i})=>({8:i}),({thumbs:i})=>i?256:0]},$$scope:{ctx:v}};return v[0]!==void 0&&(l.value=v[0]),e=new Fi({props:l}),et.push(()=>jt(e,"value",s)),{c(){d=ne("div"),u=ne("p"),g=Re(v[1]),f=we(),yt(e.$$.fragment),this.h()},l(i){d=ie(i,"DIV",{class:!0});var h=se(d);u=ie(h,"P",{class:!0});var c=se(u);g=Be(c,v[1]),c.forEach(Y),f=Ce(h),St(e.$$.fragment,h),h.forEach(Y),this.h()},h(){ae(u,"class","label svelte-14lbbqt"),ae(d,"class","c svelte-14lbbqt")},m(i,h){ce(i,d,h),J(d,u),J(u,g),J(d,f),wt(e,d,null),r=!0},p(i,[h]){(!r||h&2)&&Ye(g,i[1]);const c={};h&4&&(c.min=i[2]),h&8&&(c.max=i[3]),h&16&&(c.step=i[4]),h&4384&&(c.$$scope={dirty:h,ctx:i}),!n&&h&1&&(n=!0,c.value=i[0],Jt(()=>n=!1)),e.$set(c)},i(i){r||(oe(e.$$.fragment,i),r=!0)},o(i){de(e.$$.fragment,i),r=!1},d(i){i&&Y(d),Ct(e)}}}function Ji(v,d,u){let g,{label:f}=d,{value:e}=d,{min:n}=d,{max:r}=d,{step:s}=d,{animate:l}=d;function i(h){e=h,u(0,e)}return v.$$set=h=>{"label"in h&&u(1,f=h.label),"value"in h&&u(0,e=h.value),"min"in h&&u(2,n=h.min),"max"in h&&u(3,r=h.max),"step"in h&&u(4,s=h.step),"animate"in h&&u(6,l=h.animate)},v.$$.update=()=>{v.$$.dirty&64&&u(5,g=l?"animate":"")},[e,f,n,r,s,g,l,i]}class ji extends ut{constructor(d){super(),dt(this,d,Ji,Zi,ct,{label:1,value:0,min:2,max:3,step:4,animate:6})}}function qi(v){let d,u,g,f;return{c(){d=ne("button"),u=Re("Shoot"),this.h()},l(e){d=ie(e,"BUTTON",{});var n=se(d);u=Be(n,"Shoot"),n.forEach(Y),this.h()},h(){d.disabled=v[0]},m(e,n){ce(e,d,n),J(d,u),g||(f=[mt(d,"pointerdown",v[1]),mt(d,"pointerup",v[2]),mt(d,"pointerleave",v[2])],g=!0)},p(e,[n]){n&1&&(d.disabled=e[0])},i:Ue,o:Ue,d(e){e&&Y(d),g=!1,Fn(f)}}}function $i(v,d,u){let{value:g}=d,{disabled:f}=d;const e=Vn();let n,r;function s(){let i=-1;r=!0,n=setInterval(()=>{g>=1?i=-1:g<=0&&(i=1),u(3,g+=.01*i),u(3,g=+g.toFixed(2))},17)}function l(){r&&(clearInterval(n),e("release",g),u(3,g=0),r=!1)}return v.$$set=i=>{"value"in i&&u(3,g=i.value),"disabled"in i&&u(0,f=i.disabled)},[f,s,l,g]}class es extends ut{constructor(d){super(),dt(this,d,$i,qi,ct,{value:3,disabled:0})}}const ts=[{state:"shoot",player:"player1",random:!0,power:.235,degrees:0}],ns=[{x:.3,y:.6,player:"player1"},{state:"position",player:"player1"}],is=[{state:"shoot",player:"player2",power:.17,degrees:177}],ss=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{x:.43462246777163904,y:.8876611418047882,state:"shoot",player:"player1",power:.35,degrees:15}],rs=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"position",player:"player1"}],as=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"shoot",player:"player1",power:.15,degrees:-3}],os=[{x:.45,y:.44,player:"player1",score:15,valid:!0},{x:.7,y:.4,player:"player1",score:10,valid:!0},{x:.8,y:.4,player:"player2",score:5,valid:!0},{x:.2,y:.4,player:"player2",score:5,valid:!0},{x:.3,y:.6,player:"player2",score:10,valid:!0,state:"idle"}],ls={open:ts,opentry:ns,fifteen:is,opponent:ss,opponenttry:rs,invalid:as,score:os};function Sn(v,d,u){const g=v.slice();return g[48]=d[u],g}function wn(v,d,u){const g=v.slice();return g[51]=d[u],g}function Cn(v,d,u){const g=v.slice();g[54]=d[u];const f=g[23][g[54]];return g[55]=f,g}function Pn(v,d,u){const g=v.slice();return g[54]=d[u],g[59]=u,g}function Mn(v){let d;return{c(){d=ne("div"),this.h()},l(u){d=ie(u,"DIV",{class:!0,style:!0}),se(d).forEach(Y),this.h()},h(){ae(d,"class",jn(v[54])+" svelte-1s0knkr"),re(d,"--w",Math.floor(Ne[v[54]]*v[0])+"px"),re(d,"--b",(Ne[v[54]]-Ne[v[22][v[59]+1]])/2*v[0]+"px")},m(u,g){ce(u,d,g)},p(u,g){g[0]&1&&re(d,"--w",Math.floor(Ne[u[54]]*u[0])+"px"),g[0]&1&&re(d,"--b",(Ne[u[54]]-Ne[u[22][u[59]+1]])/2*u[0]+"px")},d(u){u&&Y(d)}}}function bn(v){let d,u=v[55]+"",g;return{c(){d=ne("span"),g=Re(u),this.h()},l(f){d=ie(f,"SPAN",{class:!0,style:!0});var e=se(d);g=Be(e,u),e.forEach(Y),this.h()},h(){ae(d,"class","text text-"+v[54]+" svelte-1s0knkr"),re(d,"--w",Math.floor(v[0]/2-Ne[v[54]]*v[0]/2)+"px"),re(d,"--d",Ne[v[54]]*v[0]+"px")},m(f,e){ce(f,d,e),J(d,g)},p(f,e){e[0]&1&&re(d,"--w",Math.floor(f[0]/2-Ne[f[54]]*f[0]/2)+"px"),e[0]&1&&re(d,"--d",Ne[f[54]]*f[0]+"px")},d(f){f&&Y(d)}}}function kn(v){let d;return{c(){d=ne("div"),this.h()},l(u){d=ie(u,"DIV",{class:!0,style:!0}),se(d).forEach(Y),this.h()},h(){ae(d,"class","quadrant-line svelte-1s0knkr"),re(d,"--w",($e-st)*v[0]/2+"px"),re(d,"--x",st*v[0]/2+"px"),re(d,"--angle",v[51]+"deg")},m(u,g){ce(u,d,g)},p(u,g){g[0]&1&&re(d,"--w",($e-st)*u[0]/2+"px"),g[0]&1&&re(d,"--x",st*u[0]/2+"px")},d(u){u&&Y(d)}}}function Tn(v){let d;return{c(){d=ne("div"),this.h()},l(u){d=ie(u,"DIV",{class:!0,style:!0}),se(d).forEach(Y),this.h()},h(){ae(d,"class","peg svelte-1s0knkr"),re(d,"--w",it*v[0]+"px"),re(d,"--x",((qe-it)*v[0]+1)/2+"px"),re(d,"--angle",v[48]+"deg")},m(u,g){ce(u,d,g)},p(u,g){g[0]&1&&re(d,"--w",it*u[0]+"px"),g[0]&1&&re(d,"--x",((qe-it)*u[0]+1)/2+"px")},d(u){u&&Y(d)}}}function En(v){let d,u,g,f,e;return{c(){d=ne("p"),u=ne("strong"),g=Re(v[18]),this.h()},l(n){d=ie(n,"P",{class:!0});var r=se(d);u=ie(r,"STRONG",{});var s=se(u);g=Be(s,v[18]),s.forEach(Y),r.forEach(Y),this.h()},h(){ae(d,"class","text-outline svelte-1s0knkr")},m(n,r){ce(n,d,r),J(d,u),J(u,g),e=!0},p(n,r){(!e||r[0]&262144)&&Ye(g,n[18])},i(n){e||(n&&qn(()=>{e&&(f||(f=an(d,on,{},!0)),f.run(1))}),e=!0)},o(n){n&&(f||(f=an(d,on,{},!1)),f.run(0)),e=!1},d(n){n&&Y(d),n&&f&&f.end()}}}function An(v){let d,u,g,f;const e=[cs,fs],n=[];function r(s,l){return s[11]==="shoot"?0:1}return d=r(v),u=n[d]=e[d](v),{c(){u.c(),g=Fe()},l(s){u.l(s),g=Fe()},m(s,l){n[d].m(s,l),ce(s,g,l),f=!0},p(s,l){let i=d;d=r(s),d===i?n[d].p(s,l):(Ze(),de(n[i],1,1,()=>{n[i]=null}),Je(),u=n[d],u?u.p(s,l):(u=n[d]=e[d](s),u.c()),oe(u,1),u.m(g.parentNode,g))},i(s){f||(oe(u),f=!0)},o(s){de(u),f=!1},d(s){s&&Y(g),n[d].d(s)}}}function fs(v){let d,u="Place Disc",g,f;return{c(){d=ne("button"),d.textContent=u},l(e){d=ie(e,"BUTTON",{"data-svelte-h":!0}),Rt(d)!=="svelte-18imge0"&&(d.textContent=u)},m(e,n){ce(e,d,n),g||(f=mt(d,"click",v[26]),g=!0)},p:Ue,i:Ue,o:Ue,d(e){e&&Y(d),g=!1,f()}}}function cs(v){let d,u,g;function f(n){v[28](n)}let e={disabled:v[12]};return v[5]!==void 0&&(e.value=v[5]),d=new es({props:e}),et.push(()=>jt(d,"value",f)),d.$on("release",v[25]),{c(){yt(d.$$.fragment)},l(n){St(d.$$.fragment,n)},m(n,r){wt(d,n,r),g=!0},p(n,r){const s={};r[0]&4096&&(s.disabled=n[12]),!u&&r[0]&32&&(u=!0,s.value=n[5],Jt(()=>u=!1)),d.$set(s)},i(n){g||(oe(d.$$.fragment,n),g=!0)},o(n){de(d.$$.fragment,n),g=!1},d(n){Ct(d,n)}}}function In(v){var n,r,s;let d,u,g;function f(l){v[29](l)}let e={label:v[11]==="shoot"?"aim":v[11],min:(n=v[24][v[11]])==null?void 0:n.min,max:(r=v[24][v[11]])==null?void 0:r.max,step:(s=v[24][v[11]])==null?void 0:s.step,animate:v[17]};return v[4]!==void 0&&(e.value=v[4]),d=new ji({props:e}),et.push(()=>jt(d,"value",f)),{c(){yt(d.$$.fragment)},l(l){St(d.$$.fragment,l)},m(l,i){wt(d,l,i),g=!0},p(l,i){var c,t,o;const h={};i[0]&2048&&(h.label=l[11]==="shoot"?"aim":l[11]),i[0]&2048&&(h.min=(c=l[24][l[11]])==null?void 0:c.min),i[0]&2048&&(h.max=(t=l[24][l[11]])==null?void 0:t.max),i[0]&2048&&(h.step=(o=l[24][l[11]])==null?void 0:o.step),i[0]&131072&&(h.animate=l[17]),!u&&i[0]&16&&(u=!0,h.value=l[4],Jt(()=>u=!1)),d.$set(h)},i(l){g||(oe(d.$$.fragment,l),g=!0)},o(l){de(d.$$.fragment,l),g=!1},d(l){Ct(d,l)}}}function Dn(v){let d,u,g,f,e;return{c(){d=ne("p"),u=Re("x: "),g=Re(v[9]),f=Re(", y: "),e=Re(v[10]),this.h()},l(n){d=ie(n,"P",{class:!0});var r=se(d);u=Be(r,"x: "),g=Be(r,v[9]),f=Be(r,", y: "),e=Be(r,v[10]),r.forEach(Y),this.h()},h(){ae(d,"class","svelte-1s0knkr")},m(n,r){ce(n,d,r),J(d,u),J(d,g),J(d,f),J(d,e)},p(n,r){r[0]&512&&Ye(g,n[9]),r[0]&1024&&Ye(e,n[10])},d(n){n&&Y(d)}}}function us(v){let d,u,g,f="20s",e,n,r=v[6].player1+"",s,l,i,h,c="POINTS",t,o,a,p=v[7].player1+"",w,b,T,E=v[7].player2+"",m,S,y,x,P="20s",C,k,M=v[6].player2+"",A,D=`${v[0]}px`,R,N,F,U,X,_,Q,j,te,ve,B,I,V=`${v[0]}px`,O=`${v[0]}px`,K,W,z,G,q,$,le,Me,Oe,Pe,me,Ae,fe,Ie=We(v[22].slice(0,3)),he=[];for(let L=0;L<Ie.length;L+=1)he[L]=Mn(Pn(v,Ie,L));let He=We(v[22]),ge=[];for(let L=0;L<He.length;L+=1)ge[L]=bn(Cn(v,He,L));let Le=We(v[20]),Se=[];for(let L=0;L<Le.length;L+=1)Se[L]=kn(wn(v,Le,L));let ze=We(v[21]),pe=[];for(let L=0;L<ze.length;L+=1)pe[L]=Tn(Sn(v,ze,L));let ue=v[18]&&En(v),xe=!v[13]&&An(v),ye=!v[13]&&In(v),be=v[1]&&Dn(v);return{c(){d=ne("div"),u=ne("p"),g=ne("span"),g.textContent=f,e=we(),n=ne("strong"),s=Re(r),l=we(),i=ne("p"),h=ne("span"),h.textContent=c,t=we(),o=ne("strong"),a=ne("span"),w=Re(p),b=Re(` -
			`),T=ne("span"),m=Re(E),S=we(),y=ne("p"),x=ne("span"),x.textContent=P,C=we(),k=ne("strong"),A=Re(M),R=we(),N=ne("div"),F=ne("div"),U=ne("div"),X=we(),_=ne("div"),Q=we();for(let L=0;L<he.length;L+=1)he[L].c();j=we(),te=ne("div"),ve=we();for(let L=0;L<ge.length;L+=1)ge[L].c();B=we();for(let L=0;L<Se.length;L+=1)Se[L].c();I=we();for(let L=0;L<pe.length;L+=1)pe[L].c();K=we(),W=ne("div"),z=we(),G=ne("div"),ue&&ue.c(),$=we(),le=ne("div"),Me=ne("div"),xe&&xe.c(),Oe=we(),Pe=ne("div"),ye&&ye.c(),me=we(),be&&be.c(),Ae=Fe(),this.h()},l(L){d=ie(L,"DIV",{class:!0});var Z=se(d);u=ie(Z,"P",{class:!0});var H=se(u);g=ie(H,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-26pqx6"&&(g.textContent=f),e=Ce(H),n=ie(H,"STRONG",{});var Te=se(n);s=Be(Te,r),Te.forEach(Y),H.forEach(Y),l=Ce(Z),i=ie(Z,"P",{class:!0});var Pt=se(i);h=ie(Pt,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(h)!=="svelte-8p7j2g"&&(h.textContent=c),t=Ce(Pt),o=ie(Pt,"STRONG",{});var Mt=se(o);a=ie(Mt,"SPAN",{class:!0});var $t=se(a);w=Be($t,p),$t.forEach(Y),b=Be(Mt,` -
			`),T=ie(Mt,"SPAN",{class:!0});var en=se(T);m=Be(en,E),en.forEach(Y),Mt.forEach(Y),Pt.forEach(Y),S=Ce(Z),y=ie(Z,"P",{class:!0});var bt=se(y);x=ie(bt,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(x)!=="svelte-26pqx6"&&(x.textContent=P),C=Ce(bt),k=ie(bt,"STRONG",{});var tn=se(k);A=Be(tn,M),tn.forEach(Y),bt.forEach(Y),Z.forEach(Y),R=Ce(L),N=ie(L,"DIV",{class:!0});var tt=se(N);F=ie(tt,"DIV",{class:!0});var Ee=se(F);U=ie(Ee,"DIV",{class:!0,style:!0}),se(U).forEach(Y),X=Ce(Ee),_=ie(Ee,"DIV",{class:!0,style:!0}),se(_).forEach(Y),Q=Ce(Ee);for(let ke=0;ke<he.length;ke+=1)he[ke].l(Ee);j=Ce(Ee),te=ie(Ee,"DIV",{class:!0,style:!0}),se(te).forEach(Y),ve=Ce(Ee);for(let ke=0;ke<ge.length;ke+=1)ge[ke].l(Ee);B=Ce(Ee);for(let ke=0;ke<Se.length;ke+=1)Se[ke].l(Ee);I=Ce(Ee);for(let ke=0;ke<pe.length;ke+=1)pe[ke].l(Ee);Ee.forEach(Y),K=Ce(tt),W=ie(tt,"DIV",{class:!0}),se(W).forEach(Y),z=Ce(tt),G=ie(tt,"DIV",{class:!0});var nn=se(G);ue&&ue.l(nn),nn.forEach(Y),tt.forEach(Y),$=Ce(L),le=ie(L,"DIV",{class:!0});var kt=se(le);Me=ie(kt,"DIV",{class:!0});var sn=se(Me);xe&&xe.l(sn),sn.forEach(Y),Oe=Ce(kt),Pe=ie(kt,"DIV",{class:!0});var rn=se(Pe);ye&&ye.l(rn),rn.forEach(Y),kt.forEach(Y),me=Ce(L),be&&be.l(L),Ae=Fe(),this.h()},h(){ae(g,"class","label svelte-1s0knkr"),ae(u,"class","holder you svelte-1s0knkr"),Ve(u,"animate",v[8].player1),Ve(u,"visible",v[16]),ae(h,"class","label svelte-1s0knkr"),ae(a,"class","you"),ae(T,"class","opp"),ae(i,"class","points svelte-1s0knkr"),Ve(i,"visible",v[15]),ae(x,"class","label svelte-1s0knkr"),ae(y,"class","holder opp svelte-1s0knkr"),Ve(y,"animate",v[8].player2),Ve(y,"visible",v[16]),ae(d,"class","score svelte-1s0knkr"),re(d,"width",D),ae(U,"class","base svelte-1s0knkr"),re(U,"--w",Vt*v[0]+"px"),re(U,"--b",Kt/2*v[0]+"px"),ae(_,"class","surface svelte-1s0knkr"),re(_,"--w",xt*v[0]+"px"),ae(te,"class","twenty svelte-1s0knkr"),re(te,"--w",Math.floor(ot*v[0])+"px"),ae(F,"class","bg svelte-1s0knkr"),re(F,"width",V),re(F,"height",O),ae(W,"class","fg svelte-1s0knkr"),ae(G,"class","message svelte-1s0knkr"),ae(N,"class",q="c "+v[19]+" svelte-1s0knkr"),ae(Me,"class","top svelte-1s0knkr"),ae(Pe,"class","bottom svelte-1s0knkr"),ae(le,"class","ui svelte-1s0knkr"),Ve(le,"visible",v[14]||!v[2])},m(L,Z){ce(L,d,Z),J(d,u),J(u,g),J(u,e),J(u,n),J(n,s),J(d,l),J(d,i),J(i,h),J(i,t),J(i,o),J(o,a),J(a,w),J(o,b),J(o,T),J(T,m),J(d,S),J(d,y),J(y,x),J(y,C),J(y,k),J(k,A),ce(L,R,Z),ce(L,N,Z),J(N,F),J(F,U),J(F,X),J(F,_),J(F,Q);for(let H=0;H<he.length;H+=1)he[H]&&he[H].m(F,null);J(F,j),J(F,te),J(F,ve);for(let H=0;H<ge.length;H+=1)ge[H]&&ge[H].m(F,null);J(F,B);for(let H=0;H<Se.length;H+=1)Se[H]&&Se[H].m(F,null);J(F,I);for(let H=0;H<pe.length;H+=1)pe[H]&&pe[H].m(F,null);J(N,K),J(N,W),v[27](W),J(N,z),J(N,G),ue&&ue.m(G,null),ce(L,$,Z),ce(L,le,Z),J(le,Me),xe&&xe.m(Me,null),J(le,Oe),J(le,Pe),ye&&ye.m(Pe,null),ce(L,me,Z),be&&be.m(L,Z),ce(L,Ae,Z),fe=!0},p(L,Z){if((!fe||Z[0]&64)&&r!==(r=L[6].player1+"")&&Ye(s,r),(!fe||Z[0]&256)&&Ve(u,"animate",L[8].player1),(!fe||Z[0]&65536)&&Ve(u,"visible",L[16]),(!fe||Z[0]&128)&&p!==(p=L[7].player1+"")&&Ye(w,p),(!fe||Z[0]&128)&&E!==(E=L[7].player2+"")&&Ye(m,E),(!fe||Z[0]&32768)&&Ve(i,"visible",L[15]),(!fe||Z[0]&64)&&M!==(M=L[6].player2+"")&&Ye(A,M),(!fe||Z[0]&256)&&Ve(y,"animate",L[8].player2),(!fe||Z[0]&65536)&&Ve(y,"visible",L[16]),Z[0]&1&&D!==(D=`${L[0]}px`)&&re(d,"width",D),(!fe||Z[0]&1)&&re(U,"--w",Vt*L[0]+"px"),(!fe||Z[0]&1)&&re(U,"--b",Kt/2*L[0]+"px"),(!fe||Z[0]&1)&&re(_,"--w",xt*L[0]+"px"),Z[0]&4194305){Ie=We(L[22].slice(0,3));let H;for(H=0;H<Ie.length;H+=1){const Te=Pn(L,Ie,H);he[H]?he[H].p(Te,Z):(he[H]=Mn(Te),he[H].c(),he[H].m(F,j))}for(;H<he.length;H+=1)he[H].d(1);he.length=Ie.length}if((!fe||Z[0]&1)&&re(te,"--w",Math.floor(ot*L[0])+"px"),Z[0]&12582913){He=We(L[22]);let H;for(H=0;H<He.length;H+=1){const Te=Cn(L,He,H);ge[H]?ge[H].p(Te,Z):(ge[H]=bn(Te),ge[H].c(),ge[H].m(F,B))}for(;H<ge.length;H+=1)ge[H].d(1);ge.length=He.length}if(Z[0]&1048577){Le=We(L[20]);let H;for(H=0;H<Le.length;H+=1){const Te=wn(L,Le,H);Se[H]?Se[H].p(Te,Z):(Se[H]=kn(Te),Se[H].c(),Se[H].m(F,I))}for(;H<Se.length;H+=1)Se[H].d(1);Se.length=Le.length}if(Z[0]&2097153){ze=We(L[21]);let H;for(H=0;H<ze.length;H+=1){const Te=Sn(L,ze,H);pe[H]?pe[H].p(Te,Z):(pe[H]=Tn(Te),pe[H].c(),pe[H].m(F,null))}for(;H<pe.length;H+=1)pe[H].d(1);pe.length=ze.length}Z[0]&1&&V!==(V=`${L[0]}px`)&&re(F,"width",V),Z[0]&1&&O!==(O=`${L[0]}px`)&&re(F,"height",O),L[18]?ue?(ue.p(L,Z),Z[0]&262144&&oe(ue,1)):(ue=En(L),ue.c(),oe(ue,1),ue.m(G,null)):ue&&(Ze(),de(ue,1,1,()=>{ue=null}),Je()),(!fe||Z[0]&524288&&q!==(q="c "+L[19]+" svelte-1s0knkr"))&&ae(N,"class",q),L[13]?xe&&(Ze(),de(xe,1,1,()=>{xe=null}),Je()):xe?(xe.p(L,Z),Z[0]&8192&&oe(xe,1)):(xe=An(L),xe.c(),oe(xe,1),xe.m(Me,null)),L[13]?ye&&(Ze(),de(ye,1,1,()=>{ye=null}),Je()):ye?(ye.p(L,Z),Z[0]&8192&&oe(ye,1)):(ye=In(L),ye.c(),oe(ye,1),ye.m(Pe,null)),(!fe||Z[0]&16388)&&Ve(le,"visible",L[14]||!L[2]),L[1]?be?be.p(L,Z):(be=Dn(L),be.c(),be.m(Ae.parentNode,Ae)):be&&(be.d(1),be=null)},i(L){fe||(oe(ue),oe(xe),oe(ye),fe=!0)},o(L){de(ue),de(xe),de(ye),fe=!1},d(L){L&&(Y(d),Y(R),Y(N),Y($),Y(le),Y(me),Y(Ae)),vt(he,L),vt(ge,L),vt(Se,L),vt(pe,L),v[27](null),ue&&ue.d(),xe&&xe.d(),ye&&ye.d(),be&&be.d(L)}}}const ht=0;function ds(v,d,u){let g,{width:f}=d,{dev:e}=d,{tutorial:n}=d;const r=li(),s=[45,135,225,315],l=[15,60,105,150,195,240,285,330],i=["five","ten","fifteen","twenty"],h={five:"5",ten:"10",fifteen:"15",twenty:"20"},c={position:{value:[.5],min:.22,max:.78,step:.01},shoot:{value:[0],min:-90,max:90,step:1}},t={player1:0,player2:0},o={player1:0,player2:0,leader:""},a={player1:!1,player2:!1};let p,w=0,b=0,T=c.position.value,E=ht,m="position",S,y,x,P,C,k,M,A=!0,D=!0,R,N,F;function U({discs:G,valid:q}){u(5,E=ht)}function X({discs:G,valid:q}){if(q){const $=G.some(Oe=>Oe.score===20),Me=n.includes("open")?$?"Nice 20!":"But not a 20 :(":"Well done!";u(18,F=`Valid shot. ${Me}`)}else u(18,F="Invalid shot. Try again.");M=setTimeout(()=>{u(18,F=null),O()},3e3)}function _(){u(11,m="end"),u(18,F=`${o.player1>o.player2?"You":"Opp."} win the round`)}function Q({discs:G,valid:q}){G.forEach($=>{$.valid&&$.score&&u(7,o[$.player]+=$.score,o),$.valid&&$.score===20&&(u(8,a[$.player]=!0,a),u(6,t[$.player]++,t))})}function j({discs:G,valid:q}){Q({discs:G,valid:q}),u(5,E=ht),n.includes("try")?X({discs:G,valid:q}):n&&(k=setTimeout(O,2e3))}function te(){u(8,a.player1=!1,a),u(8,a.player2=!1,a),r.flickDisc(),u(12,y=!0)}function ve(){N||(N=T[0]!==c.position.value[0],u(17,R=!N)),m==="position"?r.positionDisc(T[0]*f):m==="shoot"&&(S=Math.round(T[0]),r.aimDisc({degrees:S,power:.25,visible:n.includes("try")}))}function B(){r.aimDisc({degrees:S,power:E,visible:n.includes("try")})}function I(){m==="position"&&(u(11,m="shoot"),u(4,T=c.shoot.value),u(5,E=ht),r.setState("shoot"))}function V(){u(6,t.player1=0,t),u(6,t.player2=0,t),u(7,o.player1=0,o),u(7,o.player2=0,o)}async function O(){u(12,y=!1),V(),clearTimeout(C),clearTimeout(k),clearTimeout(M),u(18,F=null),u(13,x=!n.includes("try")),u(14,P=!["regions","score"].includes(n));const G=n==="score";u(15,A=n!=="regions"),u(16,D=n!=="regions"),u(17,R=n==="opponenttry"&&!N),u(5,E=ht);const q=ls[n];if(r.removeDiscs(),q&&q.forEach(r.addDisc),(x||G)&&q){const $=q[q.length-1],le=$.random?Math.random()*3-1.5:0,Me=$.degrees+le,Oe=$.random?Math.random()*.07-.035:0,Pe=$.power+Oe;G&&(u(15,A=!0),Q({discs:q,valid:!0})),C=setTimeout(()=>{G?_():(u(11,m=q[q.length-1].state),r.aimDisc({degrees:Me,power:Pe}),te())},2e3)}else C=null,r.removeDiscs(),q&&(q.forEach(r.addDisc),u(11,m=q[q.length-1].state)),m==="shoot"&&r.setIndicatorVisible(!0);await $n(),u(4,T=c[m].value)}Jn(()=>{r.on("shotComplete",U),r.on("shotCompleteManual",j)});function K(G){et[G?"unshift":"push"](()=>{p=G,u(3,p)})}function W(G){E=G,u(5,E)}function z(G){T=G,u(4,T)}return v.$$set=G=>{"width"in G&&u(0,f=G.width),"dev"in G&&u(1,e=G.dev),"tutorial"in G&&u(2,n=G.tutorial)},v.$$.update=()=>{v.$$.dirty[0]&1&&u(9,w=0),v.$$.dirty[0]&1&&u(10,b=0),v.$$.dirty[0]&13&&f&&r.init({element:p,width:f,tutorial:n}),v.$$.dirty[0]&17&&f&&ve(),v.$$.dirty[0]&33&&f&&B(),v.$$.dirty[0]&5&&f&&O(),v.$$.dirty[0]&4&&u(19,g=n?`tutorial tutorial-${n}`:"")},[f,e,n,p,T,E,t,o,a,w,b,m,y,x,P,A,D,R,F,g,s,l,i,h,c,te,I,K,W,z]}class Ws extends ut{constructor(d){super(),dt(this,d,ds,us,ct,{width:0,dev:1,tutorial:2},null,[-1,-1])}}var hs="Expected a function",Rn=NaN,vs="[object Symbol]",ps=/^\s+|\s+$/g,ms=/^[-+]0x[0-9a-f]+$/i,gs=/^0b[01]+$/i,xs=/^0o[0-7]+$/i,ys=parseInt,Ss=typeof je=="object"&&je&&je.Object===Object&&je,ws=typeof self=="object"&&self&&self.Object===Object&&self,Cs=Ss||ws||Function("return this")(),Ps=Object.prototype,Ms=Ps.toString,bs=Math.max,ks=Math.min,zt=function(){return Cs.Date.now()};function Ts(v,d,u){var g,f,e,n,r,s,l=0,i=!1,h=!1,c=!0;if(typeof v!="function")throw new TypeError(hs);d=Bn(d)||0,Yt(u)&&(i=!!u.leading,h="maxWait"in u,e=h?bs(Bn(u.maxWait)||0,d):e,c="trailing"in u?!!u.trailing:c);function t(S){var y=g,x=f;return g=f=void 0,l=S,n=v.apply(x,y),n}function o(S){return l=S,r=setTimeout(w,d),i?t(S):n}function a(S){var y=S-s,x=S-l,P=d-y;return h?ks(P,e-x):P}function p(S){var y=S-s,x=S-l;return s===void 0||y>=d||y<0||h&&x>=e}function w(){var S=zt();if(p(S))return b(S);r=setTimeout(w,a(S))}function b(S){return r=void 0,c&&g?t(S):(g=f=void 0,n)}function T(){r!==void 0&&clearTimeout(r),l=0,g=s=f=r=void 0}function E(){return r===void 0?n:b(zt())}function m(){var S=zt(),y=p(S);if(g=arguments,f=this,s=S,y){if(r===void 0)return o(s);if(h)return r=setTimeout(w,d),t(s)}return r===void 0&&(r=setTimeout(w,d)),n}return m.cancel=T,m.flush=E,m}function Yt(v){var d=typeof v;return!!v&&(d=="object"||d=="function")}function Es(v){return!!v&&typeof v=="object"}function As(v){return typeof v=="symbol"||Es(v)&&Ms.call(v)==vs}function Bn(v){if(typeof v=="number")return v;if(As(v))return Rn;if(Yt(v)){var d=typeof v.valueOf=="function"?v.valueOf():v;v=Yt(d)?d+"":d}if(typeof v!="string")return v===0?v:+v;v=v.replace(ps,"");var u=gs.test(v);return u||xs.test(v)?ys(v.slice(2),u?2:8):ms.test(v)?Rn:+v}var Is=Ts;const Ds=On(Is),Rs=()=>{var v;return((v=window==null?void 0:window.visualViewport)==null?void 0:v.width)||document.documentElement.clientWidth},Bs=()=>{var v;return((v=window==null?void 0:window.visualViewport)==null?void 0:v.height)||document.documentElement.clientHeight},Ns=at({width:0,height:0},v=>{const d=()=>v({width:Rs(),height:Bs()});return d(),window.addEventListener("resize",Ds(d,250)),()=>{window.removeEventListener("resize",d)}});export{Ws as C,Ls as a,We as e,qt as g,Ns as v};
