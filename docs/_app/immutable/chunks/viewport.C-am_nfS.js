import{K as jn,a9 as Kn,aa as qn,ab as Vn,a8 as zn,a7 as Jn,a as pt,u as Re,g as fe,f as Q,a1 as ct,k as Ot,Y as Qe,a2 as zt,p as nt,C as Lt,e as ie,c as re,b as oe,ac as dt,ad as Jt,D as Ht,E as Wt,F as Nt,n as Ye,a4 as lt,r as Ln,t as Ce,q as xe,d as ke,v as Se,l as se,h as j,j as Xe,ae as $t,X as gt,a6 as Rt,a5 as Be,y as ae,x as $n,af as ei,m as ti,A as ni}from"./scheduler.C7JCuNNY.js";import{S as vt,i as mt,g as Je,b as ce,e as $e,t as le,f as en,c as St,a as wt,m as bt,d as At,h as fn}from"./index.BGNV_pQ3.js";import{d as Gt,w as rt,r as ft}from"./index.DYwQb_j9.js";function We(g){return(g==null?void 0:g.length)!==void 0?g:Array.from(g)}function tn(g,v){const o={},m={},f={$$scope:1};let t=g.length;for(;t--;){const a=g[t],c=v[t];if(c){for(const l in a)l in c||(m[l]=1);for(const l in c)f[l]||(o[l]=c[l],f[l]=1);g[t]=c}else for(const l in a)f[l]=1}for(const a in m)a in o||(o[a]=void 0);return o}function Yr(g){return typeof g=="object"&&g!==null?g:{}}function un(g,{delay:v=0,duration:o=400,easing:m=jn}={}){const f=+getComputedStyle(g).opacity;return{delay:v,duration:o,easing:m,css:t=>`opacity: ${t*f}`}}var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hn(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Wn={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(g,v){(function(m,f){g.exports=f()})(Oe,function(){return function(o){var m={};function f(t){if(m[t])return m[t].exports;var a=m[t]={i:t,l:!1,exports:{}};return o[t].call(a.exports,a,a.exports,f),a.l=!0,a.exports}return f.m=o,f.c=m,f.d=function(t,a,c){f.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:c})},f.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},f.t=function(t,a){if(a&1&&(t=f(t)),a&8||a&4&&typeof t=="object"&&t&&t.__esModule)return t;var c=Object.create(null);if(f.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),a&2&&typeof t!="string")for(var l in t)f.d(c,l,(function(d){return t[d]}).bind(null,l));return c},f.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return f.d(a,"a",a),a},f.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},f.p="",f(f.s=20)}([function(o,m){var f={};o.exports=f,function(){f._baseDelta=1e3/60,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(a,c){var l,d;typeof c=="boolean"?(l=2,d=c):(l=1,d=!0);for(var u=l;u<arguments.length;u++){var e=arguments[u];if(e)for(var i in e)d&&e[i]&&e[i].constructor===Object&&(!a[i]||a[i].constructor===Object)?(a[i]=a[i]||{},f.extend(a[i],d,e[i])):a[i]=e[i]}return a},f.clone=function(a,c){return f.extend({},c,a)},f.keys=function(a){if(Object.keys)return Object.keys(a);var c=[];for(var l in a)c.push(l);return c},f.values=function(a){var c=[];if(Object.keys){for(var l=Object.keys(a),d=0;d<l.length;d++)c.push(a[l[d]]);return c}for(var u in a)c.push(a[u]);return c},f.get=function(a,c,l,d){c=c.split(".").slice(l,d);for(var u=0;u<c.length;u+=1)a=a[c[u]];return a},f.set=function(a,c,l,d,u){var e=c.split(".").slice(d,u);return f.get(a,c,0,-1)[e[e.length-1]]=l,l},f.shuffle=function(a){for(var c=a.length-1;c>0;c--){var l=Math.floor(f.random()*(c+1)),d=a[c];a[c]=a[l],a[l]=d}return a},f.choose=function(a){return a[Math.floor(f.random()*a.length)]},f.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},f.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},f.isFunction=function(a){return typeof a=="function"},f.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},f.isString=function(a){return toString.call(a)==="[object String]"},f.clamp=function(a,c,l){return a<c?c:a>l?l:a},f.sign=function(a){return a<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(a,c){return a=typeof a<"u"?a:0,c=typeof c<"u"?c:1,a+t()*(c-a)};var t=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[a]||(f.warn(a),f._warnedOnce[a]=!0)},f.deprecated=function(a,c,l){a[c]=f.chain(function(){f.warnOnce("🔅 deprecated 🔅",l)},a[c])},f.nextId=function(){return f._nextId++},f.indexOf=function(a,c){if(a.indexOf)return a.indexOf(c);for(var l=0;l<a.length;l++)if(a[l]===c)return l;return-1},f.map=function(a,c){if(a.map)return a.map(c);for(var l=[],d=0;d<a.length;d+=1)l.push(c(a[d]));return l},f.topologicalSort=function(a){var c=[],l=[],d=[];for(var u in a)!l[u]&&!d[u]&&f._topologicalSort(u,l,d,a,c);return c},f._topologicalSort=function(a,c,l,d,u){var e=d[a]||[];l[a]=!0;for(var i=0;i<e.length;i+=1){var n=e[i];l[n]||c[n]||f._topologicalSort(n,c,l,d,u)}l[a]=!1,c[a]=!0,u.push(a)},f.chain=function(){for(var a=[],c=0;c<arguments.length;c+=1){var l=arguments[c];l._chained?a.push.apply(a,l._chained):a.push(l)}var d=function(){for(var u,e=new Array(arguments.length),i=0,n=arguments.length;i<n;i++)e[i]=arguments[i];for(i=0;i<a.length;i+=1){var r=a[i].apply(u,e);typeof r<"u"&&(u=r)}return u};return d._chained=a,d},f.chainPathBefore=function(a,c,l){return f.set(a,c,f.chain(l,f.get(a,c)))},f.chainPathAfter=function(a,c,l){return f.set(a,c,f.chain(f.get(a,c),l))},f.setDecomp=function(a){f._decomp=a},f.getDecomp=function(){var a=f._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof Oe<"u"&&(a=Oe.decomp)}catch{a=null}return a}}()},function(o,m){var f={};o.exports=f,function(){f.create=function(t){var a={min:{x:0,y:0},max:{x:0,y:0}};return t&&f.update(a,t),a},f.update=function(t,a,c){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var l=0;l<a.length;l++){var d=a[l];d.x>t.max.x&&(t.max.x=d.x),d.x<t.min.x&&(t.min.x=d.x),d.y>t.max.y&&(t.max.y=d.y),d.y<t.min.y&&(t.min.y=d.y)}c&&(c.x>0?t.max.x+=c.x:t.min.x+=c.x,c.y>0?t.max.y+=c.y:t.min.y+=c.y)},f.contains=function(t,a){return a.x>=t.min.x&&a.x<=t.max.x&&a.y>=t.min.y&&a.y<=t.max.y},f.overlaps=function(t,a){return t.min.x<=a.max.x&&t.max.x>=a.min.x&&t.max.y>=a.min.y&&t.min.y<=a.max.y},f.translate=function(t,a){t.min.x+=a.x,t.max.x+=a.x,t.min.y+=a.y,t.max.y+=a.y},f.shift=function(t,a){var c=t.max.x-t.min.x,l=t.max.y-t.min.y;t.min.x=a.x,t.max.x=a.x+c,t.min.y=a.y,t.max.y=a.y+l}}()},function(o,m){var f={};o.exports=f,function(){f.create=function(t,a){return{x:t||0,y:a||0}},f.clone=function(t){return{x:t.x,y:t.y}},f.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},f.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},f.rotate=function(t,a,c){var l=Math.cos(a),d=Math.sin(a);c||(c={});var u=t.x*l-t.y*d;return c.y=t.x*d+t.y*l,c.x=u,c},f.rotateAbout=function(t,a,c,l){var d=Math.cos(a),u=Math.sin(a);l||(l={});var e=c.x+((t.x-c.x)*d-(t.y-c.y)*u);return l.y=c.y+((t.x-c.x)*u+(t.y-c.y)*d),l.x=e,l},f.normalise=function(t){var a=f.magnitude(t);return a===0?{x:0,y:0}:{x:t.x/a,y:t.y/a}},f.dot=function(t,a){return t.x*a.x+t.y*a.y},f.cross=function(t,a){return t.x*a.y-t.y*a.x},f.cross3=function(t,a,c){return(a.x-t.x)*(c.y-t.y)-(a.y-t.y)*(c.x-t.x)},f.add=function(t,a,c){return c||(c={}),c.x=t.x+a.x,c.y=t.y+a.y,c},f.sub=function(t,a,c){return c||(c={}),c.x=t.x-a.x,c.y=t.y-a.y,c},f.mult=function(t,a){return{x:t.x*a,y:t.y*a}},f.div=function(t,a){return{x:t.x/a,y:t.y/a}},f.perp=function(t,a){return a=a===!0?-1:1,{x:a*-t.y,y:a*t.x}},f.neg=function(t){return{x:-t.x,y:-t.y}},f.angle=function(t,a){return Math.atan2(a.y-t.y,a.x-t.x)},f._temp=[f.create(),f.create(),f.create(),f.create(),f.create(),f.create()]}()},function(o,m,f){var t={};o.exports=t;var a=f(2),c=f(0);(function(){t.create=function(l,d){for(var u=[],e=0;e<l.length;e++){var i=l[e],n={x:i.x,y:i.y,index:e,body:d,isInternal:!1};u.push(n)}return u},t.fromPath=function(l,d){var u=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,e=[];return l.replace(u,function(i,n,r){e.push({x:parseFloat(n),y:parseFloat(r)})}),t.create(e,d)},t.centre=function(l){for(var d=t.area(l,!0),u={x:0,y:0},e,i,n,r=0;r<l.length;r++)n=(r+1)%l.length,e=a.cross(l[r],l[n]),i=a.mult(a.add(l[r],l[n]),e),u=a.add(u,i);return a.div(u,6*d)},t.mean=function(l){for(var d={x:0,y:0},u=0;u<l.length;u++)d.x+=l[u].x,d.y+=l[u].y;return a.div(d,l.length)},t.area=function(l,d){for(var u=0,e=l.length-1,i=0;i<l.length;i++)u+=(l[e].x-l[i].x)*(l[e].y+l[i].y),e=i;return d?u/2:Math.abs(u)/2},t.inertia=function(l,d){for(var u=0,e=0,i=l,n,r,s=0;s<i.length;s++)r=(s+1)%i.length,n=Math.abs(a.cross(i[r],i[s])),u+=n*(a.dot(i[r],i[r])+a.dot(i[r],i[s])+a.dot(i[s],i[s])),e+=n;return d/6*(u/e)},t.translate=function(l,d,u){u=typeof u<"u"?u:1;var e=l.length,i=d.x*u,n=d.y*u,r;for(r=0;r<e;r++)l[r].x+=i,l[r].y+=n;return l},t.rotate=function(l,d,u){if(d!==0){var e=Math.cos(d),i=Math.sin(d),n=u.x,r=u.y,s=l.length,p,h,w,T;for(T=0;T<s;T++)p=l[T],h=p.x-n,w=p.y-r,p.x=n+(h*e-w*i),p.y=r+(h*i+w*e);return l}},t.contains=function(l,d){for(var u=d.x,e=d.y,i=l.length,n=l[i-1],r,s=0;s<i;s++){if(r=l[s],(u-n.x)*(r.y-n.y)+(e-n.y)*(n.x-r.x)>0)return!1;n=r}return!0},t.scale=function(l,d,u,e){if(d===1&&u===1)return l;e=e||t.centre(l);for(var i,n,r=0;r<l.length;r++)i=l[r],n=a.sub(i,e),l[r].x=e.x+n.x*d,l[r].y=e.y+n.y*u;return l},t.chamfer=function(l,d,u,e,i){typeof d=="number"?d=[d]:d=d||[8],u=typeof u<"u"?u:-1,e=e||2,i=i||14;for(var n=[],r=0;r<l.length;r++){var s=l[r-1>=0?r-1:l.length-1],p=l[r],h=l[(r+1)%l.length],w=d[r<d.length?r:d.length-1];if(w===0){n.push(p);continue}var T=a.normalise({x:p.y-s.y,y:s.x-p.x}),C=a.normalise({x:h.y-p.y,y:p.x-h.x}),_=Math.sqrt(2*Math.pow(w,2)),S=a.mult(c.clone(T),w),x=a.normalise(a.mult(a.add(T,C),.5)),y=a.sub(p,a.mult(x,_)),b=u;u===-1&&(b=Math.pow(w,.32)*1.75),b=c.clamp(b,e,i),b%2===1&&(b+=1);for(var A=Math.acos(a.dot(T,C)),M=A/b,P=0;P<b;P++)n.push(a.add(a.rotate(S,M*P),y))}return n},t.clockwiseSort=function(l){var d=t.mean(l);return l.sort(function(u,e){return a.angle(d,u)-a.angle(d,e)}),l},t.isConvex=function(l){var d=0,u=l.length,e,i,n,r;if(u<3)return null;for(e=0;e<u;e++)if(i=(e+1)%u,n=(e+2)%u,r=(l[i].x-l[e].x)*(l[n].y-l[i].y),r-=(l[i].y-l[e].y)*(l[n].x-l[i].x),r<0?d|=1:r>0&&(d|=2),d===3)return!1;return d!==0?!0:null},t.hull=function(l){var d=[],u=[],e,i;for(l=l.slice(0),l.sort(function(n,r){var s=n.x-r.x;return s!==0?s:n.y-r.y}),i=0;i<l.length;i+=1){for(e=l[i];u.length>=2&&a.cross3(u[u.length-2],u[u.length-1],e)<=0;)u.pop();u.push(e)}for(i=l.length-1;i>=0;i-=1){for(e=l[i];d.length>=2&&a.cross3(d[d.length-2],d[d.length-1],e)<=0;)d.pop();d.push(e)}return d.pop(),u.pop(),d.concat(u)}})()},function(o,m,f){var t={};o.exports=t;var a=f(3),c=f(2),l=f(7),d=f(0),u=f(1),e=f(11);(function(){t._timeCorrection=!0,t._inertiaScale=4,t._nextCollidingGroupId=1,t._nextNonCollidingGroupId=-1,t._nextCategory=1,t._baseDelta=1e3/60,t.create=function(n){var r={id:d.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:a.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},s=d.extend(r,n);return i(s,n),s},t.nextGroup=function(n){return n?t._nextNonCollidingGroupId--:t._nextCollidingGroupId++},t.nextCategory=function(){return t._nextCategory=t._nextCategory<<1,t._nextCategory};var i=function(n,r){r=r||{},t.set(n,{bounds:n.bounds||u.create(n.vertices),positionPrev:n.positionPrev||c.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),a.rotate(n.vertices,n.angle,n.position),e.rotate(n.axes,n.angle),u.update(n.bounds,n.vertices,n.velocity),t.set(n,{axes:r.axes||n.axes,area:r.area||n.area,mass:r.mass||n.mass,inertia:r.inertia||n.inertia});var s=n.isStatic?"#14151f":d.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),p=n.isStatic?"#555":"#ccc",h=n.isStatic&&n.render.fillStyle===null?1:0;n.render.fillStyle=n.render.fillStyle||s,n.render.strokeStyle=n.render.strokeStyle||p,n.render.lineWidth=n.render.lineWidth||h,n.render.sprite.xOffset+=-(n.bounds.min.x-n.position.x)/(n.bounds.max.x-n.bounds.min.x),n.render.sprite.yOffset+=-(n.bounds.min.y-n.position.y)/(n.bounds.max.y-n.bounds.min.y)};t.set=function(n,r,s){var p;typeof r=="string"&&(p=r,r={},r[p]=s);for(p in r)if(Object.prototype.hasOwnProperty.call(r,p))switch(s=r[p],p){case"isStatic":t.setStatic(n,s);break;case"isSleeping":l.set(n,s);break;case"mass":t.setMass(n,s);break;case"density":t.setDensity(n,s);break;case"inertia":t.setInertia(n,s);break;case"vertices":t.setVertices(n,s);break;case"position":t.setPosition(n,s);break;case"angle":t.setAngle(n,s);break;case"velocity":t.setVelocity(n,s);break;case"angularVelocity":t.setAngularVelocity(n,s);break;case"speed":t.setSpeed(n,s);break;case"angularSpeed":t.setAngularSpeed(n,s);break;case"parts":t.setParts(n,s);break;case"centre":t.setCentre(n,s);break;default:n[p]=s}},t.setStatic=function(n,r){for(var s=0;s<n.parts.length;s++){var p=n.parts[s];r?(p.isStatic||(p._original={restitution:p.restitution,friction:p.friction,mass:p.mass,inertia:p.inertia,density:p.density,inverseMass:p.inverseMass,inverseInertia:p.inverseInertia}),p.restitution=0,p.friction=1,p.mass=p.inertia=p.density=1/0,p.inverseMass=p.inverseInertia=0,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.anglePrev=p.angle,p.angularVelocity=0,p.speed=0,p.angularSpeed=0,p.motion=0):p._original&&(p.restitution=p._original.restitution,p.friction=p._original.friction,p.mass=p._original.mass,p.inertia=p._original.inertia,p.density=p._original.density,p.inverseMass=p._original.inverseMass,p.inverseInertia=p._original.inverseInertia,p._original=null),p.isStatic=r}},t.setMass=function(n,r){var s=n.inertia/(n.mass/6);n.inertia=s*(r/6),n.inverseInertia=1/n.inertia,n.mass=r,n.inverseMass=1/n.mass,n.density=n.mass/n.area},t.setDensity=function(n,r){t.setMass(n,r*n.area),n.density=r},t.setInertia=function(n,r){n.inertia=r,n.inverseInertia=1/n.inertia},t.setVertices=function(n,r){r[0].body===n?n.vertices=r:n.vertices=a.create(r,n),n.axes=e.fromVertices(n.vertices),n.area=a.area(n.vertices),t.setMass(n,n.density*n.area);var s=a.centre(n.vertices);a.translate(n.vertices,s,-1),t.setInertia(n,t._inertiaScale*a.inertia(n.vertices,n.mass)),a.translate(n.vertices,n.position),u.update(n.bounds,n.vertices,n.velocity)},t.setParts=function(n,r,s){var p;for(r=r.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,p=0;p<r.length;p++){var h=r[p];h!==n&&(h.parent=n,n.parts.push(h))}if(n.parts.length!==1){if(s=typeof s<"u"?s:!0,s){var w=[];for(p=0;p<r.length;p++)w=w.concat(r[p].vertices);a.clockwiseSort(w);var T=a.hull(w),C=a.centre(T);t.setVertices(n,T),a.translate(n.vertices,C)}var _=t._totalProperties(n);n.area=_.area,n.parent=n,n.position.x=_.centre.x,n.position.y=_.centre.y,n.positionPrev.x=_.centre.x,n.positionPrev.y=_.centre.y,t.setMass(n,_.mass),t.setInertia(n,_.inertia),t.setPosition(n,_.centre)}},t.setCentre=function(n,r,s){s?(n.positionPrev.x+=r.x,n.positionPrev.y+=r.y,n.position.x+=r.x,n.position.y+=r.y):(n.positionPrev.x=r.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=r.y-(n.position.y-n.positionPrev.y),n.position.x=r.x,n.position.y=r.y)},t.setPosition=function(n,r,s){var p=c.sub(r,n.position);s?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=p.x,n.velocity.y=p.y,n.speed=c.magnitude(p)):(n.positionPrev.x+=p.x,n.positionPrev.y+=p.y);for(var h=0;h<n.parts.length;h++){var w=n.parts[h];w.position.x+=p.x,w.position.y+=p.y,a.translate(w.vertices,p),u.update(w.bounds,w.vertices,n.velocity)}},t.setAngle=function(n,r,s){var p=r-n.angle;s?(n.anglePrev=n.angle,n.angularVelocity=p,n.angularSpeed=Math.abs(p)):n.anglePrev+=p;for(var h=0;h<n.parts.length;h++){var w=n.parts[h];w.angle+=p,a.rotate(w.vertices,p,n.position),e.rotate(w.axes,p),u.update(w.bounds,w.vertices,n.velocity),h>0&&c.rotateAbout(w.position,p,n.position,w.position)}},t.setVelocity=function(n,r){var s=n.deltaTime/t._baseDelta;n.positionPrev.x=n.position.x-r.x*s,n.positionPrev.y=n.position.y-r.y*s,n.velocity.x=(n.position.x-n.positionPrev.x)/s,n.velocity.y=(n.position.y-n.positionPrev.y)/s,n.speed=c.magnitude(n.velocity)},t.getVelocity=function(n){var r=t._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*r,y:(n.position.y-n.positionPrev.y)*r}},t.getSpeed=function(n){return c.magnitude(t.getVelocity(n))},t.setSpeed=function(n,r){t.setVelocity(n,c.mult(c.normalise(t.getVelocity(n)),r))},t.setAngularVelocity=function(n,r){var s=n.deltaTime/t._baseDelta;n.anglePrev=n.angle-r*s,n.angularVelocity=(n.angle-n.anglePrev)/s,n.angularSpeed=Math.abs(n.angularVelocity)},t.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*t._baseDelta/n.deltaTime},t.getAngularSpeed=function(n){return Math.abs(t.getAngularVelocity(n))},t.setAngularSpeed=function(n,r){t.setAngularVelocity(n,d.sign(t.getAngularVelocity(n))*r)},t.translate=function(n,r,s){t.setPosition(n,c.add(n.position,r),s)},t.rotate=function(n,r,s,p){if(!s)t.setAngle(n,n.angle+r,p);else{var h=Math.cos(r),w=Math.sin(r),T=n.position.x-s.x,C=n.position.y-s.y;t.setPosition(n,{x:s.x+(T*h-C*w),y:s.y+(T*w+C*h)},p),t.setAngle(n,n.angle+r,p)}},t.scale=function(n,r,s,p){var h=0,w=0;p=p||n.position;for(var T=0;T<n.parts.length;T++){var C=n.parts[T];a.scale(C.vertices,r,s,p),C.axes=e.fromVertices(C.vertices),C.area=a.area(C.vertices),t.setMass(C,n.density*C.area),a.translate(C.vertices,{x:-C.position.x,y:-C.position.y}),t.setInertia(C,t._inertiaScale*a.inertia(C.vertices,C.mass)),a.translate(C.vertices,{x:C.position.x,y:C.position.y}),T>0&&(h+=C.area,w+=C.inertia),C.position.x=p.x+(C.position.x-p.x)*r,C.position.y=p.y+(C.position.y-p.y)*s,u.update(C.bounds,C.vertices,n.velocity)}n.parts.length>1&&(n.area=h,n.isStatic||(t.setMass(n,n.density*h),t.setInertia(n,w))),n.circleRadius&&(r===s?n.circleRadius*=r:n.circleRadius=null)},t.update=function(n,r){r=(typeof r<"u"?r:1e3/60)*n.timeScale;var s=r*r,p=t._timeCorrection?r/(n.deltaTime||r):1,h=1-n.frictionAir*(r/d._baseDelta),w=(n.position.x-n.positionPrev.x)*p,T=(n.position.y-n.positionPrev.y)*p;n.velocity.x=w*h+n.force.x/n.mass*s,n.velocity.y=T*h+n.force.y/n.mass*s,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=r,n.angularVelocity=(n.angle-n.anglePrev)*h*p+n.torque/n.inertia*s,n.anglePrev=n.angle,n.angle+=n.angularVelocity;for(var C=0;C<n.parts.length;C++){var _=n.parts[C];a.translate(_.vertices,n.velocity),C>0&&(_.position.x+=n.velocity.x,_.position.y+=n.velocity.y),n.angularVelocity!==0&&(a.rotate(_.vertices,n.angularVelocity,n.position),e.rotate(_.axes,n.angularVelocity),C>0&&c.rotateAbout(_.position,n.angularVelocity,n.position,_.position)),u.update(_.bounds,_.vertices,n.velocity)}},t.updateVelocities=function(n){var r=t._baseDelta/n.deltaTime,s=n.velocity;s.x=(n.position.x-n.positionPrev.x)*r,s.y=(n.position.y-n.positionPrev.y)*r,n.speed=Math.sqrt(s.x*s.x+s.y*s.y),n.angularVelocity=(n.angle-n.anglePrev)*r,n.angularSpeed=Math.abs(n.angularVelocity)},t.applyForce=function(n,r,s){var p={x:r.x-n.position.x,y:r.y-n.position.y};n.force.x+=s.x,n.force.y+=s.y,n.torque+=p.x*s.y-p.y*s.x},t._totalProperties=function(n){for(var r={mass:0,area:0,inertia:0,centre:{x:0,y:0}},s=n.parts.length===1?0:1;s<n.parts.length;s++){var p=n.parts[s],h=p.mass!==1/0?p.mass:1;r.mass+=h,r.area+=p.area,r.inertia+=p.inertia,r.centre=c.add(r.centre,c.mult(p.position,h))}return r.centre=c.div(r.centre,r.mass),r}})()},function(o,m,f){var t={};o.exports=t;var a=f(0);(function(){t.on=function(c,l,d){for(var u=l.split(" "),e,i=0;i<u.length;i++)e=u[i],c.events=c.events||{},c.events[e]=c.events[e]||[],c.events[e].push(d);return d},t.off=function(c,l,d){if(!l){c.events={};return}typeof l=="function"&&(d=l,l=a.keys(c.events).join(" "));for(var u=l.split(" "),e=0;e<u.length;e++){var i=c.events[u[e]],n=[];if(d&&i)for(var r=0;r<i.length;r++)i[r]!==d&&n.push(i[r]);c.events[u[e]]=n}},t.trigger=function(c,l,d){var u,e,i,n,r=c.events;if(r&&a.keys(r).length>0){d||(d={}),u=l.split(" ");for(var s=0;s<u.length;s++)if(e=u[s],i=r[e],i){n=a.clone(d,!1),n.name=e,n.source=c;for(var p=0;p<i.length;p++)i[p].apply(c,[n])}}}})()},function(o,m,f){var t={};o.exports=t;var a=f(5),c=f(0),l=f(1),d=f(4);(function(){t.create=function(u){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},u)},t.setModified=function(u,e,i,n){if(u.isModified=e,e&&u.cache&&(u.cache.allBodies=null,u.cache.allConstraints=null,u.cache.allComposites=null),i&&u.parent&&t.setModified(u.parent,e,i,n),n)for(var r=0;r<u.composites.length;r++){var s=u.composites[r];t.setModified(s,e,i,n)}},t.add=function(u,e){var i=[].concat(e);a.trigger(u,"beforeAdd",{object:e});for(var n=0;n<i.length;n++){var r=i[n];switch(r.type){case"body":if(r.parent!==r){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}t.addBody(u,r);break;case"constraint":t.addConstraint(u,r);break;case"composite":t.addComposite(u,r);break;case"mouseConstraint":t.addConstraint(u,r.constraint);break}}return a.trigger(u,"afterAdd",{object:e}),u},t.remove=function(u,e,i){var n=[].concat(e);a.trigger(u,"beforeRemove",{object:e});for(var r=0;r<n.length;r++){var s=n[r];switch(s.type){case"body":t.removeBody(u,s,i);break;case"constraint":t.removeConstraint(u,s,i);break;case"composite":t.removeComposite(u,s,i);break;case"mouseConstraint":t.removeConstraint(u,s.constraint);break}}return a.trigger(u,"afterRemove",{object:e}),u},t.addComposite=function(u,e){return u.composites.push(e),e.parent=u,t.setModified(u,!0,!0,!1),u},t.removeComposite=function(u,e,i){var n=c.indexOf(u.composites,e);if(n!==-1){var r=t.allBodies(e);t.removeCompositeAt(u,n);for(var s=0;s<r.length;s++)r[s].sleepCounter=0}if(i)for(var s=0;s<u.composites.length;s++)t.removeComposite(u.composites[s],e,!0);return u},t.removeCompositeAt=function(u,e){return u.composites.splice(e,1),t.setModified(u,!0,!0,!1),u},t.addBody=function(u,e){return u.bodies.push(e),t.setModified(u,!0,!0,!1),u},t.removeBody=function(u,e,i){var n=c.indexOf(u.bodies,e);if(n!==-1&&(t.removeBodyAt(u,n),e.sleepCounter=0),i)for(var r=0;r<u.composites.length;r++)t.removeBody(u.composites[r],e,!0);return u},t.removeBodyAt=function(u,e){return u.bodies.splice(e,1),t.setModified(u,!0,!0,!1),u},t.addConstraint=function(u,e){return u.constraints.push(e),t.setModified(u,!0,!0,!1),u},t.removeConstraint=function(u,e,i){var n=c.indexOf(u.constraints,e);if(n!==-1&&t.removeConstraintAt(u,n),i)for(var r=0;r<u.composites.length;r++)t.removeConstraint(u.composites[r],e,!0);return u},t.removeConstraintAt=function(u,e){return u.constraints.splice(e,1),t.setModified(u,!0,!0,!1),u},t.clear=function(u,e,i){if(i)for(var n=0;n<u.composites.length;n++)t.clear(u.composites[n],e,!0);return e?u.bodies=u.bodies.filter(function(r){return r.isStatic}):u.bodies.length=0,u.constraints.length=0,u.composites.length=0,t.setModified(u,!0,!0,!1),u},t.allBodies=function(u){if(u.cache&&u.cache.allBodies)return u.cache.allBodies;for(var e=[].concat(u.bodies),i=0;i<u.composites.length;i++)e=e.concat(t.allBodies(u.composites[i]));return u.cache&&(u.cache.allBodies=e),e},t.allConstraints=function(u){if(u.cache&&u.cache.allConstraints)return u.cache.allConstraints;for(var e=[].concat(u.constraints),i=0;i<u.composites.length;i++)e=e.concat(t.allConstraints(u.composites[i]));return u.cache&&(u.cache.allConstraints=e),e},t.allComposites=function(u){if(u.cache&&u.cache.allComposites)return u.cache.allComposites;for(var e=[].concat(u.composites),i=0;i<u.composites.length;i++)e=e.concat(t.allComposites(u.composites[i]));return u.cache&&(u.cache.allComposites=e),e},t.get=function(u,e,i){var n,r;switch(i){case"body":n=t.allBodies(u);break;case"constraint":n=t.allConstraints(u);break;case"composite":n=t.allComposites(u).concat(u);break}return n?(r=n.filter(function(s){return s.id.toString()===e.toString()}),r.length===0?null:r[0]):null},t.move=function(u,e,i){return t.remove(u,e),t.add(i,e),u},t.rebase=function(u){for(var e=t.allBodies(u).concat(t.allConstraints(u)).concat(t.allComposites(u)),i=0;i<e.length;i++)e[i].id=c.nextId();return u},t.translate=function(u,e,i){for(var n=i?t.allBodies(u):u.bodies,r=0;r<n.length;r++)d.translate(n[r],e);return u},t.rotate=function(u,e,i,n){for(var r=Math.cos(e),s=Math.sin(e),p=n?t.allBodies(u):u.bodies,h=0;h<p.length;h++){var w=p[h],T=w.position.x-i.x,C=w.position.y-i.y;d.setPosition(w,{x:i.x+(T*r-C*s),y:i.y+(T*s+C*r)}),d.rotate(w,e)}return u},t.scale=function(u,e,i,n,r){for(var s=r?t.allBodies(u):u.bodies,p=0;p<s.length;p++){var h=s[p],w=h.position.x-n.x,T=h.position.y-n.y;d.setPosition(h,{x:n.x+w*e,y:n.y+T*i}),d.scale(h,e,i)}return u},t.bounds=function(u){for(var e=t.allBodies(u),i=[],n=0;n<e.length;n+=1){var r=e[n];i.push(r.bounds.min,r.bounds.max)}return l.create(i)}})()},function(o,m,f){var t={};o.exports=t;var a=f(4),c=f(5),l=f(0);(function(){t._motionWakeThreshold=.18,t._motionSleepThreshold=.08,t._minBias=.9,t.update=function(d,u){for(var e=u/l._baseDelta,i=t._motionSleepThreshold,n=0;n<d.length;n++){var r=d[n],s=a.getSpeed(r),p=a.getAngularSpeed(r),h=s*s+p*p;if(r.force.x!==0||r.force.y!==0){t.set(r,!1);continue}var w=Math.min(r.motion,h),T=Math.max(r.motion,h);r.motion=t._minBias*w+(1-t._minBias)*T,r.sleepThreshold>0&&r.motion<i?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold/e&&t.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}},t.afterCollisions=function(d){for(var u=t._motionSleepThreshold,e=0;e<d.length;e++){var i=d[e];if(i.isActive){var n=i.collision,r=n.bodyA.parent,s=n.bodyB.parent;if(!(r.isSleeping&&s.isSleeping||r.isStatic||s.isStatic)&&(r.isSleeping||s.isSleeping)){var p=r.isSleeping&&!r.isStatic?r:s,h=p===r?s:r;!p.isStatic&&h.motion>u&&t.set(p,!1)}}}},t.set=function(d,u){var e=d.isSleeping;u?(d.isSleeping=!0,d.sleepCounter=d.sleepThreshold,d.positionImpulse.x=0,d.positionImpulse.y=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.speed=0,d.angularSpeed=0,d.motion=0,e||c.trigger(d,"sleepStart")):(d.isSleeping=!1,d.sleepCounter=0,e&&c.trigger(d,"sleepEnd"))}})()},function(o,m,f){var t={};o.exports=t;var a=f(3),c=f(9);(function(){var l=[],d={overlap:0,axis:null},u={overlap:0,axis:null};t.create=function(e,i){return{pair:null,collided:!1,bodyA:e,bodyB:i,parentA:e.parent,parentB:i.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},t.collides=function(e,i,n){if(t._overlapAxes(d,e.vertices,i.vertices,e.axes),d.overlap<=0||(t._overlapAxes(u,i.vertices,e.vertices,i.axes),u.overlap<=0))return null;var r=n&&n.table[c.id(e,i)],s;r?s=r.collision:(s=t.create(e,i),s.collided=!0,s.bodyA=e.id<i.id?e:i,s.bodyB=e.id<i.id?i:e,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent),e=s.bodyA,i=s.bodyB;var p;d.overlap<u.overlap?p=d:p=u;var h=s.normal,w=s.tangent,T=s.penetration,C=s.supports,_=p.overlap,S=p.axis,x=S.x,y=S.y,b=i.position.x-e.position.x,A=i.position.y-e.position.y;x*b+y*A>=0&&(x=-x,y=-y),h.x=x,h.y=y,w.x=-y,w.y=x,T.x=x*_,T.y=y*_,s.depth=_;var M=t._findSupports(e,i,h,1),P=0;if(a.contains(e.vertices,M[0])&&(C[P++]=M[0]),a.contains(e.vertices,M[1])&&(C[P++]=M[1]),P<2){var k=t._findSupports(i,e,h,-1);a.contains(i.vertices,k[0])&&(C[P++]=k[0]),P<2&&a.contains(i.vertices,k[1])&&(C[P++]=k[1])}return P===0&&(C[P++]=M[0]),s.supportCount=P,s},t._overlapAxes=function(e,i,n,r){var s=i.length,p=n.length,h=i[0].x,w=i[0].y,T=n[0].x,C=n[0].y,_=r.length,S=Number.MAX_VALUE,x=0,y,b,A,M,P,k;for(P=0;P<_;P++){var E=r[P],D=E.x,H=E.y,R=h*D+w*H,N=T*D+C*H,Y=R,G=N;for(k=1;k<s;k+=1)M=i[k].x*D+i[k].y*H,M>Y?Y=M:M<R&&(R=M);for(k=1;k<p;k+=1)M=n[k].x*D+n[k].y*H,M>G?G=M:M<N&&(N=M);if(b=Y-N,A=G-R,y=b<A?b:A,y<S&&(S=y,x=P,y<=0))break}e.axis=r[x],e.overlap=S},t._findSupports=function(e,i,n,r){var s=i.vertices,p=s.length,h=e.position.x,w=e.position.y,T=n.x*r,C=n.y*r,_=s[0],S=_,x=T*(h-S.x)+C*(w-S.y),y,b,A;for(A=1;A<p;A+=1)S=s[A],b=T*(h-S.x)+C*(w-S.y),b<x&&(x=b,_=S);return y=s[(p+_.index-1)%p],x=T*(h-y.x)+C*(w-y.y),S=s[(_.index+1)%p],T*(h-S.x)+C*(w-S.y)<x?(l[0]=_,l[1]=S,l):(l[0]=_,l[1]=y,l)}})()},function(o,m,f){var t={};o.exports=t;var a=f(16);(function(){t.create=function(c,l){var d=c.bodyA,u=c.bodyB,e={id:t.id(d,u),bodyA:d,bodyB:u,collision:c,contacts:[a.create(),a.create()],contactCount:0,separation:0,isActive:!0,isSensor:d.isSensor||u.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(e,c,l),e},t.update=function(c,l,d){var u=l.supports,e=l.supportCount,i=c.contacts,n=l.parentA,r=l.parentB;c.isActive=!0,c.timeUpdated=d,c.collision=l,c.separation=l.depth,c.inverseMass=n.inverseMass+r.inverseMass,c.friction=n.friction<r.friction?n.friction:r.friction,c.frictionStatic=n.frictionStatic>r.frictionStatic?n.frictionStatic:r.frictionStatic,c.restitution=n.restitution>r.restitution?n.restitution:r.restitution,c.slop=n.slop>r.slop?n.slop:r.slop,c.contactCount=e,l.pair=c;var s=u[0],p=i[0],h=u[1],w=i[1];(w.vertex===s||p.vertex===h)&&(i[1]=p,i[0]=p=w,w=i[1]),p.vertex=s,w.vertex=h},t.setActive=function(c,l,d){l?(c.isActive=!0,c.timeUpdated=d):(c.isActive=!1,c.contactCount=0)},t.id=function(c,l){return c.id<l.id?c.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+c.id.toString(36)}})()},function(o,m,f){var t={};o.exports=t;var a=f(3),c=f(2),l=f(7),d=f(1),u=f(11),e=f(0);(function(){t._warming=.4,t._torqueDampen=1,t._minLength=1e-6,t.create=function(i){var n=i;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var r=n.bodyA?c.add(n.bodyA.position,n.pointA):n.pointA,s=n.bodyB?c.add(n.bodyB.position,n.pointB):n.pointB,p=c.magnitude(c.sub(r,s));n.length=typeof n.length<"u"?n.length:p,n.id=n.id||e.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var h={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return n.length===0&&n.stiffness>.1?(h.type="pin",h.anchors=!1):n.stiffness<.9&&(h.type="spring"),n.render=e.extend(h,n.render),n},t.preSolveAll=function(i){for(var n=0;n<i.length;n+=1){var r=i[n],s=r.constraintImpulse;r.isStatic||s.x===0&&s.y===0&&s.angle===0||(r.position.x+=s.x,r.position.y+=s.y,r.angle+=s.angle)}},t.solveAll=function(i,n){for(var r=e.clamp(n/e._baseDelta,0,1),s=0;s<i.length;s+=1){var p=i[s],h=!p.bodyA||p.bodyA&&p.bodyA.isStatic,w=!p.bodyB||p.bodyB&&p.bodyB.isStatic;(h||w)&&t.solve(i[s],r)}for(s=0;s<i.length;s+=1)p=i[s],h=!p.bodyA||p.bodyA&&p.bodyA.isStatic,w=!p.bodyB||p.bodyB&&p.bodyB.isStatic,!h&&!w&&t.solve(i[s],r)},t.solve=function(i,n){var r=i.bodyA,s=i.bodyB,p=i.pointA,h=i.pointB;if(!(!r&&!s)){r&&!r.isStatic&&(c.rotate(p,r.angle-i.angleA,p),i.angleA=r.angle),s&&!s.isStatic&&(c.rotate(h,s.angle-i.angleB,h),i.angleB=s.angle);var w=p,T=h;if(r&&(w=c.add(r.position,p)),s&&(T=c.add(s.position,h)),!(!w||!T)){var C=c.sub(w,T),_=c.magnitude(C);_<t._minLength&&(_=t._minLength);var S=(_-i.length)/_,x=i.stiffness>=1||i.length===0,y=x?i.stiffness*n:i.stiffness*n*n,b=i.damping*n,A=c.mult(C,S*y),M=(r?r.inverseMass:0)+(s?s.inverseMass:0),P=(r?r.inverseInertia:0)+(s?s.inverseInertia:0),k=M+P,E,D,H,R,N;if(b>0){var Y=c.create();H=c.div(C,_),N=c.sub(s&&c.sub(s.position,s.positionPrev)||Y,r&&c.sub(r.position,r.positionPrev)||Y),R=c.dot(H,N)}r&&!r.isStatic&&(D=r.inverseMass/M,r.constraintImpulse.x-=A.x*D,r.constraintImpulse.y-=A.y*D,r.position.x-=A.x*D,r.position.y-=A.y*D,b>0&&(r.positionPrev.x-=b*H.x*R*D,r.positionPrev.y-=b*H.y*R*D),E=c.cross(p,A)/k*t._torqueDampen*r.inverseInertia*(1-i.angularStiffness),r.constraintImpulse.angle-=E,r.angle-=E),s&&!s.isStatic&&(D=s.inverseMass/M,s.constraintImpulse.x+=A.x*D,s.constraintImpulse.y+=A.y*D,s.position.x+=A.x*D,s.position.y+=A.y*D,b>0&&(s.positionPrev.x+=b*H.x*R*D,s.positionPrev.y+=b*H.y*R*D),E=c.cross(h,A)/k*t._torqueDampen*s.inverseInertia*(1-i.angularStiffness),s.constraintImpulse.angle+=E,s.angle+=E)}}},t.postSolveAll=function(i){for(var n=0;n<i.length;n++){var r=i[n],s=r.constraintImpulse;if(!(r.isStatic||s.x===0&&s.y===0&&s.angle===0)){l.set(r,!1);for(var p=0;p<r.parts.length;p++){var h=r.parts[p];a.translate(h.vertices,s),p>0&&(h.position.x+=s.x,h.position.y+=s.y),s.angle!==0&&(a.rotate(h.vertices,s.angle,r.position),u.rotate(h.axes,s.angle),p>0&&c.rotateAbout(h.position,s.angle,r.position,h.position)),d.update(h.bounds,h.vertices,r.velocity)}s.angle*=t._warming,s.x*=t._warming,s.y*=t._warming}}},t.pointAWorld=function(i){return{x:(i.bodyA?i.bodyA.position.x:0)+(i.pointA?i.pointA.x:0),y:(i.bodyA?i.bodyA.position.y:0)+(i.pointA?i.pointA.y:0)}},t.pointBWorld=function(i){return{x:(i.bodyB?i.bodyB.position.x:0)+(i.pointB?i.pointB.x:0),y:(i.bodyB?i.bodyB.position.y:0)+(i.pointB?i.pointB.y:0)}},t.currentLength=function(i){var n=(i.bodyA?i.bodyA.position.x:0)+(i.pointA?i.pointA.x:0),r=(i.bodyA?i.bodyA.position.y:0)+(i.pointA?i.pointA.y:0),s=(i.bodyB?i.bodyB.position.x:0)+(i.pointB?i.pointB.x:0),p=(i.bodyB?i.bodyB.position.y:0)+(i.pointB?i.pointB.y:0),h=n-s,w=r-p;return Math.sqrt(h*h+w*w)}})()},function(o,m,f){var t={};o.exports=t;var a=f(2),c=f(0);(function(){t.fromVertices=function(l){for(var d={},u=0;u<l.length;u++){var e=(u+1)%l.length,i=a.normalise({x:l[e].y-l[u].y,y:l[u].x-l[e].x}),n=i.y===0?1/0:i.x/i.y;n=n.toFixed(3).toString(),d[n]=i}return c.values(d)},t.rotate=function(l,d){if(d!==0)for(var u=Math.cos(d),e=Math.sin(d),i=0;i<l.length;i++){var n=l[i],r;r=n.x*u-n.y*e,n.y=n.x*e+n.y*u,n.x=r}}})()},function(o,m,f){var t={};o.exports=t;var a=f(3),c=f(0),l=f(4),d=f(1),u=f(2);(function(){t.rectangle=function(e,i,n,r,s){s=s||{};var p={label:"Rectangle Body",position:{x:e,y:i},vertices:a.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(s.chamfer){var h=s.chamfer;p.vertices=a.chamfer(p.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete s.chamfer}return l.create(c.extend({},p,s))},t.trapezoid=function(e,i,n,r,s,p){p=p||{},s>=1&&c.warn("Bodies.trapezoid: slope parameter must be < 1."),s*=.5;var h=(1-s*2)*n,w=n*s,T=w+h,C=T+w,_;s<.5?_="L 0 0 L "+w+" "+-r+" L "+T+" "+-r+" L "+C+" 0":_="L 0 0 L "+T+" "+-r+" L "+C+" 0";var S={label:"Trapezoid Body",position:{x:e,y:i},vertices:a.fromPath(_)};if(p.chamfer){var x=p.chamfer;S.vertices=a.chamfer(S.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete p.chamfer}return l.create(c.extend({},S,p))},t.circle=function(e,i,n,r,s){r=r||{};var p={label:"Circle Body",circleRadius:n};s=s||25;var h=Math.ceil(Math.max(10,Math.min(s,n)));return h%2===1&&(h+=1),t.polygon(e,i,h,n,c.extend({},p,r))},t.polygon=function(e,i,n,r,s){if(s=s||{},n<3)return t.circle(e,i,r,s);for(var p=2*Math.PI/n,h="",w=p*.5,T=0;T<n;T+=1){var C=w+T*p,_=Math.cos(C)*r,S=Math.sin(C)*r;h+="L "+_.toFixed(3)+" "+S.toFixed(3)+" "}var x={label:"Polygon Body",position:{x:e,y:i},vertices:a.fromPath(h)};if(s.chamfer){var y=s.chamfer;x.vertices=a.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete s.chamfer}return l.create(c.extend({},x,s))},t.fromVertices=function(e,i,n,r,s,p,h,w){var T=c.getDecomp(),C,_,S,x,y,b,A,M,P,k,E;for(C=!!(T&&T.quickDecomp),r=r||{},S=[],s=typeof s<"u"?s:!1,p=typeof p<"u"?p:.01,h=typeof h<"u"?h:10,w=typeof w<"u"?w:.01,c.isArray(n[0])||(n=[n]),k=0;k<n.length;k+=1)if(b=n[k],x=a.isConvex(b),y=!x,y&&!C&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),x||!C)x?b=a.clockwiseSort(b):b=a.hull(b),S.push({position:{x:e,y:i},vertices:b});else{var D=b.map(function(I){return[I.x,I.y]});T.makeCCW(D),p!==!1&&T.removeCollinearPoints(D,p),w!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(D,w);var H=T.quickDecomp(D);for(A=0;A<H.length;A++){var R=H[A],N=R.map(function(I){return{x:I[0],y:I[1]}});h>0&&a.area(N)<h||S.push({position:a.centre(N),vertices:N})}}for(A=0;A<S.length;A++)S[A]=l.create(c.extend(S[A],r));if(s){var Y=5;for(A=0;A<S.length;A++){var G=S[A];for(M=A+1;M<S.length;M++){var $=S[M];if(d.overlaps(G.bounds,$.bounds)){var K=G.vertices,ne=$.vertices;for(P=0;P<G.vertices.length;P++)for(E=0;E<$.vertices.length;E++){var de=u.magnitudeSquared(u.sub(K[(P+1)%K.length],ne[E])),B=u.magnitudeSquared(u.sub(K[P],ne[(E+1)%ne.length]));de<Y&&B<Y&&(K[P].isInternal=!0,ne[E].isInternal=!0)}}}}}return S.length>1?(_=l.create(c.extend({parts:S.slice(0)},r)),l.setPosition(_,{x:e,y:i}),_):S[0]}})()},function(o,m,f){var t={};o.exports=t;var a=f(0),c=f(8);(function(){t.create=function(l){var d={bodies:[],collisions:[],pairs:null};return a.extend(d,l)},t.setBodies=function(l,d){l.bodies=d.slice(0)},t.clear=function(l){l.bodies=[],l.collisions=[]},t.collisions=function(l){var d=l.pairs,u=l.bodies,e=u.length,i=t.canCollide,n=c.collides,r=l.collisions,s=0,p,h;for(u.sort(t._compareBoundsX),p=0;p<e;p++){var w=u[p],T=w.bounds,C=w.bounds.max.x,_=w.bounds.max.y,S=w.bounds.min.y,x=w.isStatic||w.isSleeping,y=w.parts.length,b=y===1;for(h=p+1;h<e;h++){var A=u[h],M=A.bounds;if(M.min.x>C)break;if(!(_<M.min.y||S>M.max.y)&&!(x&&(A.isStatic||A.isSleeping))&&i(w.collisionFilter,A.collisionFilter)){var P=A.parts.length;if(b&&P===1){var k=n(w,A,d);k&&(r[s++]=k)}else for(var E=y>1?1:0,D=P>1?1:0,H=E;H<y;H++)for(var R=w.parts[H],T=R.bounds,N=D;N<P;N++){var Y=A.parts[N],M=Y.bounds;if(!(T.min.x>M.max.x||T.max.x<M.min.x||T.max.y<M.min.y||T.min.y>M.max.y)){var k=n(R,Y,d);k&&(r[s++]=k)}}}}}return r.length!==s&&(r.length=s),r},t.canCollide=function(l,d){return l.group===d.group&&l.group!==0?l.group>0:(l.mask&d.category)!==0&&(d.mask&l.category)!==0},t._compareBoundsX=function(l,d){return l.bounds.min.x-d.bounds.min.x}})()},function(o,m,f){var t={};o.exports=t;var a=f(0);(function(){t.create=function(c){var l={};return c||a.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=c||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(d){var u=t._getRelativeMousePosition(d,l.element,l.pixelRatio),e=d.changedTouches;e&&(l.button=0,d.preventDefault()),l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=d},l.mousedown=function(d){var u=t._getRelativeMousePosition(d,l.element,l.pixelRatio),e=d.changedTouches;e?(l.button=0,d.preventDefault()):l.button=d.button,l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=d},l.mouseup=function(d){var u=t._getRelativeMousePosition(d,l.element,l.pixelRatio),e=d.changedTouches;e&&d.preventDefault(),l.button=-1,l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=d},l.mousewheel=function(d){l.wheelDelta=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail)),d.preventDefault(),l.sourceEvents.mousewheel=d},t.setElement(l,l.element),l},t.setElement=function(c,l){c.element=l,l.addEventListener("mousemove",c.mousemove,{passive:!0}),l.addEventListener("mousedown",c.mousedown,{passive:!0}),l.addEventListener("mouseup",c.mouseup,{passive:!0}),l.addEventListener("wheel",c.mousewheel,{passive:!1}),l.addEventListener("touchmove",c.mousemove,{passive:!1}),l.addEventListener("touchstart",c.mousedown,{passive:!1}),l.addEventListener("touchend",c.mouseup,{passive:!1})},t.clearSourceEvents=function(c){c.sourceEvents.mousemove=null,c.sourceEvents.mousedown=null,c.sourceEvents.mouseup=null,c.sourceEvents.mousewheel=null,c.wheelDelta=0},t.setOffset=function(c,l){c.offset.x=l.x,c.offset.y=l.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y},t.setScale=function(c,l){c.scale.x=l.x,c.scale.y=l.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y},t._getRelativeMousePosition=function(c,l,d){var u=l.getBoundingClientRect(),e=document.documentElement||document.body.parentNode||document.body,i=window.pageXOffset!==void 0?window.pageXOffset:e.scrollLeft,n=window.pageYOffset!==void 0?window.pageYOffset:e.scrollTop,r=c.changedTouches,s,p;return r?(s=r[0].pageX-u.left-i,p=r[0].pageY-u.top-n):(s=c.pageX-u.left-i,p=c.pageY-u.top-n),{x:s/(l.clientWidth/(l.width||l.clientWidth)*d),y:p/(l.clientHeight/(l.height||l.clientHeight)*d)}}})()},function(o,m,f){var t={};o.exports=t;var a=f(0);(function(){t._registry={},t.register=function(c){if(t.isPlugin(c)||a.warn("Plugin.register:",t.toString(c),"does not implement all required fields."),c.name in t._registry){var l=t._registry[c.name],d=t.versionParse(c.version).number,u=t.versionParse(l.version).number;d>u?(a.warn("Plugin.register:",t.toString(l),"was upgraded to",t.toString(c)),t._registry[c.name]=c):d<u?a.warn("Plugin.register:",t.toString(l),"can not be downgraded to",t.toString(c)):c!==l&&a.warn("Plugin.register:",t.toString(c),"is already registered to different plugin object")}else t._registry[c.name]=c;return c},t.resolve=function(c){return t._registry[t.dependencyParse(c).name]},t.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},t.isPlugin=function(c){return c&&c.name&&c.version&&c.install},t.isUsed=function(c,l){return c.used.indexOf(l)>-1},t.isFor=function(c,l){var d=c.for&&t.dependencyParse(c.for);return!c.for||l.name===d.name&&t.versionSatisfies(l.version,d.range)},t.use=function(c,l){if(c.uses=(c.uses||[]).concat(l||[]),c.uses.length===0){a.warn("Plugin.use:",t.toString(c),"does not specify any dependencies to install.");return}for(var d=t.dependencies(c),u=a.topologicalSort(d),e=[],i=0;i<u.length;i+=1)if(u[i]!==c.name){var n=t.resolve(u[i]);if(!n){e.push("❌ "+u[i]);continue}t.isUsed(c,n.name)||(t.isFor(n,c)||(a.warn("Plugin.use:",t.toString(n),"is for",n.for,"but installed on",t.toString(c)+"."),n._warned=!0),n.install?n.install(c):(a.warn("Plugin.use:",t.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(e.push("🔶 "+t.toString(n)),delete n._warned):e.push("✅ "+t.toString(n)),c.used.push(n.name))}e.length>0&&a.info(e.join("  "))},t.dependencies=function(c,l){var d=t.dependencyParse(c),u=d.name;if(l=l||{},!(u in l)){c=t.resolve(c)||c,l[u]=a.map(c.uses||[],function(i){t.isPlugin(i)&&t.register(i);var n=t.dependencyParse(i),r=t.resolve(i);return r&&!t.versionSatisfies(r.version,n.range)?(a.warn("Plugin.dependencies:",t.toString(r),"does not satisfy",t.toString(n),"used by",t.toString(d)+"."),r._warned=!0,c._warned=!0):r||(a.warn("Plugin.dependencies:",t.toString(i),"used by",t.toString(d),"could not be resolved."),c._warned=!0),n.name});for(var e=0;e<l[u].length;e+=1)t.dependencies(l[u][e],l);return l}},t.dependencyParse=function(c){if(a.isString(c)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(c)||a.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},t.versionParse=function(c){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(c)||a.warn("Plugin.versionParse:",c,"is not a valid version or range.");var d=l.exec(c),u=Number(d[4]),e=Number(d[5]),i=Number(d[6]);return{isRange:!!(d[1]||d[2]),version:d[3],range:c,operator:d[1]||d[2]||"",major:u,minor:e,patch:i,parts:[u,e,i],prerelease:d[7],number:u*1e8+e*1e4+i}},t.versionSatisfies=function(c,l){l=l||"*";var d=t.versionParse(l),u=t.versionParse(c);if(d.isRange){if(d.operator==="*"||c==="*")return!0;if(d.operator===">")return u.number>d.number;if(d.operator===">=")return u.number>=d.number;if(d.operator==="~")return u.major===d.major&&u.minor===d.minor&&u.patch>=d.patch;if(d.operator==="^")return d.major>0?u.major===d.major&&u.number>=d.number:d.minor>0?u.minor===d.minor&&u.patch>=d.patch:u.patch===d.patch}return c===l||c==="*"}})()},function(o,m){var f={};o.exports=f,function(){f.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},function(o,m,f){var t={};o.exports=t;var a=f(7),c=f(18),l=f(13),d=f(19),u=f(5),e=f(6),i=f(10),n=f(0),r=f(4);(function(){t._deltaMax=1e3/60,t.create=function(s){s=s||{};var p={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},h=n.extend(p,s);return h.world=s.world||e.create({label:"World"}),h.pairs=s.pairs||d.create(),h.detector=s.detector||l.create(),h.detector.pairs=h.pairs,h.grid={buckets:[]},h.world.gravity=h.gravity,h.broadphase=h.grid,h.metrics={},h},t.update=function(s,p){var h=n.now(),w=s.world,T=s.detector,C=s.pairs,_=s.timing,S=_.timestamp,x;p>t._deltaMax&&n.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",t._deltaMax.toFixed(3),"ms."),p=typeof p<"u"?p:n._baseDelta,p*=_.timeScale,_.timestamp+=p,_.lastDelta=p;var y={timestamp:_.timestamp,delta:p};u.trigger(s,"beforeUpdate",y);var b=e.allBodies(w),A=e.allConstraints(w);for(w.isModified&&(l.setBodies(T,b),e.setModified(w,!1,!1,!0)),s.enableSleeping&&a.update(b,p),t._bodiesApplyGravity(b,s.gravity),p>0&&t._bodiesUpdate(b,p),u.trigger(s,"beforeSolve",y),i.preSolveAll(b),x=0;x<s.constraintIterations;x++)i.solveAll(A,p);i.postSolveAll(b);var M=l.collisions(T);d.update(C,M,S),s.enableSleeping&&a.afterCollisions(C.list),C.collisionStart.length>0&&u.trigger(s,"collisionStart",{pairs:C.collisionStart,timestamp:_.timestamp,delta:p});var P=n.clamp(20/s.positionIterations,0,1);for(c.preSolvePosition(C.list),x=0;x<s.positionIterations;x++)c.solvePosition(C.list,p,P);for(c.postSolvePosition(b),i.preSolveAll(b),x=0;x<s.constraintIterations;x++)i.solveAll(A,p);for(i.postSolveAll(b),c.preSolveVelocity(C.list),x=0;x<s.velocityIterations;x++)c.solveVelocity(C.list,p);return t._bodiesUpdateVelocities(b),C.collisionActive.length>0&&u.trigger(s,"collisionActive",{pairs:C.collisionActive,timestamp:_.timestamp,delta:p}),C.collisionEnd.length>0&&u.trigger(s,"collisionEnd",{pairs:C.collisionEnd,timestamp:_.timestamp,delta:p}),t._bodiesClearForces(b),u.trigger(s,"afterUpdate",y),s.timing.lastElapsed=n.now()-h,s},t.merge=function(s,p){if(n.extend(s,p),p.world){s.world=p.world,t.clear(s);for(var h=e.allBodies(s.world),w=0;w<h.length;w++){var T=h[w];a.set(T,!1),T.id=n.nextId()}}},t.clear=function(s){d.clear(s.pairs),l.clear(s.detector)},t._bodiesClearForces=function(s){for(var p=s.length,h=0;h<p;h++){var w=s[h];w.force.x=0,w.force.y=0,w.torque=0}},t._bodiesApplyGravity=function(s,p){var h=typeof p.scale<"u"?p.scale:.001,w=s.length;if(!(p.x===0&&p.y===0||h===0))for(var T=0;T<w;T++){var C=s[T];C.isStatic||C.isSleeping||(C.force.y+=C.mass*p.y*h,C.force.x+=C.mass*p.x*h)}},t._bodiesUpdate=function(s,p){for(var h=s.length,w=0;w<h;w++){var T=s[w];T.isStatic||T.isSleeping||r.update(T,p)}},t._bodiesUpdateVelocities=function(s){for(var p=s.length,h=0;h<p;h++)r.updateVelocities(s[h])}})()},function(o,m,f){var t={};o.exports=t;var a=f(3),c=f(0),l=f(1);(function(){t._restingThresh=2,t._restingThreshTangent=Math.sqrt(6),t._positionDampen=.9,t._positionWarming=.8,t._frictionNormalMultiplier=5,t._frictionMaxStatic=Number.MAX_VALUE,t.preSolvePosition=function(d){var u,e,i,n=d.length;for(u=0;u<n;u++)e=d[u],e.isActive&&(i=e.contactCount,e.collision.parentA.totalContacts+=i,e.collision.parentB.totalContacts+=i)},t.solvePosition=function(d,u,e){var i,n,r,s,p,h,w,T,C=t._positionDampen*(e||1),_=c.clamp(u/c._baseDelta,0,1),S=d.length;for(i=0;i<S;i++)n=d[i],!(!n.isActive||n.isSensor)&&(r=n.collision,s=r.parentA,p=r.parentB,h=r.normal,n.separation=r.depth+h.x*(p.positionImpulse.x-s.positionImpulse.x)+h.y*(p.positionImpulse.y-s.positionImpulse.y));for(i=0;i<S;i++)n=d[i],!(!n.isActive||n.isSensor)&&(r=n.collision,s=r.parentA,p=r.parentB,h=r.normal,T=n.separation-n.slop*_,(s.isStatic||p.isStatic)&&(T*=2),s.isStatic||s.isSleeping||(w=C/s.totalContacts,s.positionImpulse.x+=h.x*T*w,s.positionImpulse.y+=h.y*T*w),p.isStatic||p.isSleeping||(w=C/p.totalContacts,p.positionImpulse.x-=h.x*T*w,p.positionImpulse.y-=h.y*T*w))},t.postSolvePosition=function(d){for(var u=t._positionWarming,e=d.length,i=a.translate,n=l.update,r=0;r<e;r++){var s=d[r],p=s.positionImpulse,h=p.x,w=p.y,T=s.velocity;if(s.totalContacts=0,h!==0||w!==0){for(var C=0;C<s.parts.length;C++){var _=s.parts[C];i(_.vertices,p),n(_.bounds,_.vertices,T),_.position.x+=h,_.position.y+=w}s.positionPrev.x+=h,s.positionPrev.y+=w,h*T.x+w*T.y<0?(p.x=0,p.y=0):(p.x*=u,p.y*=u)}}},t.preSolveVelocity=function(d){var u=d.length,e,i;for(e=0;e<u;e++){var n=d[e];if(!(!n.isActive||n.isSensor)){var r=n.contacts,s=n.contactCount,p=n.collision,h=p.parentA,w=p.parentB,T=p.normal,C=p.tangent;for(i=0;i<s;i++){var _=r[i],S=_.vertex,x=_.normalImpulse,y=_.tangentImpulse;if(x!==0||y!==0){var b=T.x*x+C.x*y,A=T.y*x+C.y*y;h.isStatic||h.isSleeping||(h.positionPrev.x+=b*h.inverseMass,h.positionPrev.y+=A*h.inverseMass,h.anglePrev+=h.inverseInertia*((S.x-h.position.x)*A-(S.y-h.position.y)*b)),w.isStatic||w.isSleeping||(w.positionPrev.x-=b*w.inverseMass,w.positionPrev.y-=A*w.inverseMass,w.anglePrev-=w.inverseInertia*((S.x-w.position.x)*A-(S.y-w.position.y)*b))}}}}},t.solveVelocity=function(d,u){var e=u/c._baseDelta,i=e*e,n=i*e,r=-t._restingThresh*e,s=t._restingThreshTangent,p=t._frictionNormalMultiplier*e,h=t._frictionMaxStatic,w=d.length,T,C,_,S;for(_=0;_<w;_++){var x=d[_];if(!(!x.isActive||x.isSensor)){var y=x.collision,b=y.parentA,A=y.parentB,M=y.normal.x,P=y.normal.y,k=y.tangent.x,E=y.tangent.y,D=x.inverseMass,H=x.friction*x.frictionStatic*p,R=x.contacts,N=x.contactCount,Y=1/N,G=b.position.x-b.positionPrev.x,$=b.position.y-b.positionPrev.y,K=b.angle-b.anglePrev,ne=A.position.x-A.positionPrev.x,de=A.position.y-A.positionPrev.y,B=A.angle-A.anglePrev;for(S=0;S<N;S++){var I=R[S],O=I.vertex,F=O.x-b.position.x,U=O.y-b.position.y,L=O.x-A.position.x,X=O.y-A.position.y,q=G-U*K,Z=$+F*K,z=ne-X*B,te=de+L*B,Ae=q-z,Fe=Z-te,me=M*Ae+P*Fe,pe=k*Ae+E*Fe,we=x.separation+me,ue=Math.min(we,1);ue=we<0?0:ue;var He=ue*H;pe<-He||pe>He?(C=pe>0?pe:-pe,T=x.friction*(pe>0?1:-1)*n,T<-C?T=-C:T>C&&(T=C)):(T=pe,C=h);var Ge=F*P-U*M,Ue=L*P-X*M,he=Y/(D+b.inverseInertia*Ge*Ge+A.inverseInertia*Ue*Ue),Ve=(1+x.restitution)*me*he;if(T*=he,me<r)I.normalImpulse=0;else{var be=I.normalImpulse;I.normalImpulse+=Ve,I.normalImpulse>0&&(I.normalImpulse=0),Ve=I.normalImpulse-be}if(pe<-s||pe>s)I.tangentImpulse=0;else{var je=I.tangentImpulse;I.tangentImpulse+=T,I.tangentImpulse<-C&&(I.tangentImpulse=-C),I.tangentImpulse>C&&(I.tangentImpulse=C),T=I.tangentImpulse-je}var ve=M*Ve+k*T,Le=P*Ve+E*T;b.isStatic||b.isSleeping||(b.positionPrev.x+=ve*b.inverseMass,b.positionPrev.y+=Le*b.inverseMass,b.anglePrev+=(F*Le-U*ve)*b.inverseInertia),A.isStatic||A.isSleeping||(A.positionPrev.x-=ve*A.inverseMass,A.positionPrev.y-=Le*A.inverseMass,A.anglePrev-=(L*Le-X*ve)*A.inverseInertia)}}}}})()},function(o,m,f){var t={};o.exports=t;var a=f(9),c=f(0);(function(){t.create=function(l){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},t.update=function(l,d,u){var e=a.update,i=a.create,n=a.setActive,r=l.table,s=l.list,p=s.length,h=p,w=l.collisionStart,T=l.collisionEnd,C=l.collisionActive,_=d.length,S=0,x=0,y=0,b,A,M;for(M=0;M<_;M++)b=d[M],A=b.pair,A?(A.isActive&&(C[y++]=A),e(A,b,u)):(A=i(b,u),r[A.id]=A,w[S++]=A,s[h++]=A);for(h=0,p=s.length,M=0;M<p;M++)A=s[M],A.timeUpdated>=u?s[h++]=A:(n(A,!1,u),A.collision.bodyA.sleepCounter>0&&A.collision.bodyB.sleepCounter>0?s[h++]=A:(T[x++]=A,delete r[A.id]));s.length!==h&&(s.length=h),w.length!==S&&(w.length=S),T.length!==x&&(T.length=x),C.length!==y&&(C.length=y)},t.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(o,m,f){var t=o.exports=f(21);t.Axes=f(11),t.Bodies=f(12),t.Body=f(4),t.Bounds=f(1),t.Collision=f(8),t.Common=f(0),t.Composite=f(6),t.Composites=f(22),t.Constraint=f(10),t.Contact=f(16),t.Detector=f(13),t.Engine=f(17),t.Events=f(5),t.Grid=f(23),t.Mouse=f(14),t.MouseConstraint=f(24),t.Pair=f(9),t.Pairs=f(19),t.Plugin=f(15),t.Query=f(25),t.Render=f(26),t.Resolver=f(18),t.Runner=f(27),t.SAT=f(28),t.Sleeping=f(7),t.Svg=f(29),t.Vector=f(2),t.Vertices=f(3),t.World=f(30),t.Engine.run=t.Runner.run,t.Common.deprecated(t.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(o,m,f){var t={};o.exports=t;var a=f(15),c=f(0);(function(){t.name="matter-js",t.version="0.20.0",t.uses=[],t.used=[],t.use=function(){a.use(t,Array.prototype.slice.call(arguments))},t.before=function(l,d){return l=l.replace(/^Matter./,""),c.chainPathBefore(t,l,d)},t.after=function(l,d){return l=l.replace(/^Matter./,""),c.chainPathAfter(t,l,d)}})()},function(o,m,f){var t={};o.exports=t;var a=f(6),c=f(10),l=f(0),d=f(4),u=f(12),e=l.deprecated;(function(){t.stack=function(i,n,r,s,p,h,w){for(var T=a.create({label:"Stack"}),C=i,_=n,S,x=0,y=0;y<s;y++){for(var b=0,A=0;A<r;A++){var M=w(C,_,A,y,S,x);if(M){var P=M.bounds.max.y-M.bounds.min.y,k=M.bounds.max.x-M.bounds.min.x;P>b&&(b=P),d.translate(M,{x:k*.5,y:P*.5}),C=M.bounds.max.x+p,a.addBody(T,M),S=M,x+=1}else C+=p}_+=b+h,C=i}return T},t.chain=function(i,n,r,s,p,h){for(var w=i.bodies,T=1;T<w.length;T++){var C=w[T-1],_=w[T],S=C.bounds.max.y-C.bounds.min.y,x=C.bounds.max.x-C.bounds.min.x,y=_.bounds.max.y-_.bounds.min.y,b=_.bounds.max.x-_.bounds.min.x,A={bodyA:C,pointA:{x:x*n,y:S*r},bodyB:_,pointB:{x:b*s,y:y*p}},M=l.extend(A,h);a.addConstraint(i,c.create(M))}return i.label+=" Chain",i},t.mesh=function(i,n,r,s,p){var h=i.bodies,w,T,C,_,S;for(w=0;w<r;w++){for(T=1;T<n;T++)C=h[T-1+w*n],_=h[T+w*n],a.addConstraint(i,c.create(l.extend({bodyA:C,bodyB:_},p)));if(w>0)for(T=0;T<n;T++)C=h[T+(w-1)*n],_=h[T+w*n],a.addConstraint(i,c.create(l.extend({bodyA:C,bodyB:_},p))),s&&T>0&&(S=h[T-1+(w-1)*n],a.addConstraint(i,c.create(l.extend({bodyA:S,bodyB:_},p)))),s&&T<n-1&&(S=h[T+1+(w-1)*n],a.addConstraint(i,c.create(l.extend({bodyA:S,bodyB:_},p))))}return i.label+=" Mesh",i},t.pyramid=function(i,n,r,s,p,h,w){return t.stack(i,n,r,s,p,h,function(T,C,_,S,x,y){var b=Math.min(s,Math.ceil(r/2)),A=x?x.bounds.max.x-x.bounds.min.x:0;if(!(S>b)){S=b-S;var M=S,P=r-1-S;if(!(_<M||_>P)){y===1&&d.translate(x,{x:(_+(r%2===1?1:-1))*A,y:0});var k=x?_*A:0;return w(i+k+_*p,C,_,S,x,y)}}})},t.newtonsCradle=function(i,n,r,s,p){for(var h=a.create({label:"Newtons Cradle"}),w=0;w<r;w++){var T=1.9,C=u.circle(i+w*(s*T),n+p,s,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),_=c.create({pointA:{x:i+w*(s*T),y:n},bodyB:C});a.addBody(h,C),a.addConstraint(h,_)}return h},e(t,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),t.car=function(i,n,r,s,p){var h=d.nextGroup(!0),w=20,T=-r*.5+w,C=r*.5-w,_=0,S=a.create({label:"Car"}),x=u.rectangle(i,n,r,s,{collisionFilter:{group:h},chamfer:{radius:s*.5},density:2e-4}),y=u.circle(i+T,n+_,p,{collisionFilter:{group:h},friction:.8}),b=u.circle(i+C,n+_,p,{collisionFilter:{group:h},friction:.8}),A=c.create({bodyB:x,pointB:{x:T,y:_},bodyA:y,stiffness:1,length:0}),M=c.create({bodyB:x,pointB:{x:C,y:_},bodyA:b,stiffness:1,length:0});return a.addBody(S,x),a.addBody(S,y),a.addBody(S,b),a.addConstraint(S,A),a.addConstraint(S,M),S},e(t,"car","Composites.car ➤ moved to car example"),t.softBody=function(i,n,r,s,p,h,w,T,C,_){C=l.extend({inertia:1/0},C),_=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},_);var S=t.stack(i,n,r,s,p,h,function(x,y){return u.circle(x,y,T,C)});return t.mesh(S,r,s,w,_),S.label="Soft Body",S},e(t,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(o,m,f){var t={};o.exports=t;var a=f(9),c=f(0),l=c.deprecated;(function(){t.create=function(d){var u={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return c.extend(u,d)},t.update=function(d,u,e,i){var n,r,s,p=e.world,h=d.buckets,w,T,C=!1;for(n=0;n<u.length;n++){var _=u[n];if(!(_.isSleeping&&!i)&&!(p.bounds&&(_.bounds.max.x<p.bounds.min.x||_.bounds.min.x>p.bounds.max.x||_.bounds.max.y<p.bounds.min.y||_.bounds.min.y>p.bounds.max.y))){var S=t._getRegion(d,_);if(!_.region||S.id!==_.region.id||i){(!_.region||i)&&(_.region=S);var x=t._regionUnion(S,_.region);for(r=x.startCol;r<=x.endCol;r++)for(s=x.startRow;s<=x.endRow;s++){T=t._getBucketId(r,s),w=h[T];var y=r>=S.startCol&&r<=S.endCol&&s>=S.startRow&&s<=S.endRow,b=r>=_.region.startCol&&r<=_.region.endCol&&s>=_.region.startRow&&s<=_.region.endRow;!y&&b&&b&&w&&t._bucketRemoveBody(d,w,_),(_.region===S||y&&!b||i)&&(w||(w=t._createBucket(h,T)),t._bucketAddBody(d,w,_))}_.region=S,C=!0}}}C&&(d.pairsList=t._createActivePairsList(d))},l(t,"update","Grid.update ➤ replaced by Matter.Detector"),t.clear=function(d){d.buckets={},d.pairs={},d.pairsList=[]},l(t,"clear","Grid.clear ➤ replaced by Matter.Detector"),t._regionUnion=function(d,u){var e=Math.min(d.startCol,u.startCol),i=Math.max(d.endCol,u.endCol),n=Math.min(d.startRow,u.startRow),r=Math.max(d.endRow,u.endRow);return t._createRegion(e,i,n,r)},t._getRegion=function(d,u){var e=u.bounds,i=Math.floor(e.min.x/d.bucketWidth),n=Math.floor(e.max.x/d.bucketWidth),r=Math.floor(e.min.y/d.bucketHeight),s=Math.floor(e.max.y/d.bucketHeight);return t._createRegion(i,n,r,s)},t._createRegion=function(d,u,e,i){return{id:d+","+u+","+e+","+i,startCol:d,endCol:u,startRow:e,endRow:i}},t._getBucketId=function(d,u){return"C"+d+"R"+u},t._createBucket=function(d,u){var e=d[u]=[];return e},t._bucketAddBody=function(d,u,e){var i=d.pairs,n=a.id,r=u.length,s;for(s=0;s<r;s++){var p=u[s];if(!(e.id===p.id||e.isStatic&&p.isStatic)){var h=n(e,p),w=i[h];w?w[2]+=1:i[h]=[e,p,1]}}u.push(e)},t._bucketRemoveBody=function(d,u,e){var i=d.pairs,n=a.id,r;u.splice(c.indexOf(u,e),1);var s=u.length;for(r=0;r<s;r++){var p=i[n(e,u[r])];p&&(p[2]-=1)}},t._createActivePairsList=function(d){var u,e=d.pairs,i=c.keys(e),n=i.length,r=[],s;for(s=0;s<n;s++)u=e[i[s]],u[2]>0?r.push(u):delete e[i[s]];return r}})()},function(o,m,f){var t={};o.exports=t;var a=f(3),c=f(7),l=f(14),d=f(5),u=f(13),e=f(10),i=f(6),n=f(0),r=f(1);(function(){t.create=function(s,p){var h=(s?s.mouse:null)||(p?p.mouse:null);h||(s&&s.render&&s.render.canvas?h=l.create(s.render.canvas):p&&p.element?h=l.create(p.element):(h=l.create(),n.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var w=e.create({label:"Mouse Constraint",pointA:h.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),T={type:"mouseConstraint",mouse:h,element:null,body:null,constraint:w,collisionFilter:{category:1,mask:4294967295,group:0}},C=n.extend(T,p);return d.on(s,"beforeUpdate",function(){var _=i.allBodies(s.world);t.update(C,_),t._triggerEvents(C)}),C},t.update=function(s,p){var h=s.mouse,w=s.constraint,T=s.body;if(h.button===0){if(w.bodyB)c.set(w.bodyB,!1),w.pointA=h.position;else for(var C=0;C<p.length;C++)if(T=p[C],r.contains(T.bounds,h.position)&&u.canCollide(T.collisionFilter,s.collisionFilter))for(var _=T.parts.length>1?1:0;_<T.parts.length;_++){var S=T.parts[_];if(a.contains(S.vertices,h.position)){w.pointA=h.position,w.bodyB=s.body=T,w.pointB={x:h.position.x-T.position.x,y:h.position.y-T.position.y},w.angleB=T.angle,c.set(T,!1),d.trigger(s,"startdrag",{mouse:h,body:T});break}}}else w.bodyB=s.body=null,w.pointB=null,T&&d.trigger(s,"enddrag",{mouse:h,body:T})},t._triggerEvents=function(s){var p=s.mouse,h=p.sourceEvents;h.mousemove&&d.trigger(s,"mousemove",{mouse:p}),h.mousedown&&d.trigger(s,"mousedown",{mouse:p}),h.mouseup&&d.trigger(s,"mouseup",{mouse:p}),l.clearSourceEvents(p)}})()},function(o,m,f){var t={};o.exports=t;var a=f(2),c=f(8),l=f(1),d=f(12),u=f(3);(function(){t.collides=function(e,i){for(var n=[],r=i.length,s=e.bounds,p=c.collides,h=l.overlaps,w=0;w<r;w++){var T=i[w],C=T.parts.length,_=C===1?0:1;if(h(T.bounds,s))for(var S=_;S<C;S++){var x=T.parts[S];if(h(x.bounds,s)){var y=p(x,e);if(y){n.push(y);break}}}}return n},t.ray=function(e,i,n,r){r=r||1e-100;for(var s=a.angle(i,n),p=a.magnitude(a.sub(i,n)),h=(n.x+i.x)*.5,w=(n.y+i.y)*.5,T=d.rectangle(h,w,p,r,{angle:s}),C=t.collides(T,e),_=0;_<C.length;_+=1){var S=C[_];S.body=S.bodyB=S.bodyA}return C},t.region=function(e,i,n){for(var r=[],s=0;s<e.length;s++){var p=e[s],h=l.overlaps(p.bounds,i);(h&&!n||!h&&n)&&r.push(p)}return r},t.point=function(e,i){for(var n=[],r=0;r<e.length;r++){var s=e[r];if(l.contains(s.bounds,i))for(var p=s.parts.length===1?0:1;p<s.parts.length;p++){var h=s.parts[p];if(l.contains(h.bounds,i)&&u.contains(h.vertices,i)){n.push(s);break}}}return n}})()},function(o,m,f){var t={};o.exports=t;var a=f(4),c=f(0),l=f(6),d=f(1),u=f(5),e=f(2),i=f(14);(function(){var n,r;typeof window<"u"&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(_){window.setTimeout(function(){_(c.now())},1e3/60)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),t._goodFps=30,t._goodDelta=1e3/60,t.create=function(_){var S={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!_.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},x=c.extend(S,_);return x.canvas&&(x.canvas.width=x.options.width||x.canvas.width,x.canvas.height=x.options.height||x.canvas.height),x.mouse=_.mouse,x.engine=_.engine,x.canvas=x.canvas||h(x.options.width,x.options.height),x.context=x.canvas.getContext("2d"),x.textures={},x.bounds=x.bounds||{min:{x:0,y:0},max:{x:x.canvas.width,y:x.canvas.height}},x.controller=t,x.options.showBroadphase=!1,x.options.pixelRatio!==1&&t.setPixelRatio(x,x.options.pixelRatio),c.isElement(x.element)&&x.element.appendChild(x.canvas),x},t.run=function(_){(function S(x){_.frameRequestId=n(S),s(_,x),t.world(_,x),_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0),(_.options.showStats||_.options.showDebug)&&t.stats(_,_.context,x),(_.options.showPerformance||_.options.showDebug)&&t.performance(_,_.context,x),_.context.setTransform(1,0,0,1,0,0)})()},t.stop=function(_){r(_.frameRequestId)},t.setPixelRatio=function(_,S){var x=_.options,y=_.canvas;S==="auto"&&(S=w(y)),x.pixelRatio=S,y.setAttribute("data-pixel-ratio",S),y.width=x.width*S,y.height=x.height*S,y.style.width=x.width+"px",y.style.height=x.height+"px"},t.setSize=function(_,S,x){_.options.width=S,_.options.height=x,_.bounds.max.x=_.bounds.min.x+S,_.bounds.max.y=_.bounds.min.y+x,_.options.pixelRatio!==1?t.setPixelRatio(_,_.options.pixelRatio):(_.canvas.width=S,_.canvas.height=x)},t.lookAt=function(_,S,x,y){y=typeof y<"u"?y:!0,S=c.isArray(S)?S:[S],x=x||{x:0,y:0};for(var b={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},A=0;A<S.length;A+=1){var M=S[A],P=M.bounds?M.bounds.min:M.min||M.position||M,k=M.bounds?M.bounds.max:M.max||M.position||M;P&&k&&(P.x<b.min.x&&(b.min.x=P.x),k.x>b.max.x&&(b.max.x=k.x),P.y<b.min.y&&(b.min.y=P.y),k.y>b.max.y&&(b.max.y=k.y))}var E=b.max.x-b.min.x+2*x.x,D=b.max.y-b.min.y+2*x.y,H=_.canvas.height,R=_.canvas.width,N=R/H,Y=E/D,G=1,$=1;Y>N?$=Y/N:G=N/Y,_.options.hasBounds=!0,_.bounds.min.x=b.min.x,_.bounds.max.x=b.min.x+E*G,_.bounds.min.y=b.min.y,_.bounds.max.y=b.min.y+D*$,y&&(_.bounds.min.x+=E*.5-E*G*.5,_.bounds.max.x+=E*.5-E*G*.5,_.bounds.min.y+=D*.5-D*$*.5,_.bounds.max.y+=D*.5-D*$*.5),_.bounds.min.x-=x.x,_.bounds.max.x-=x.x,_.bounds.min.y-=x.y,_.bounds.max.y-=x.y,_.mouse&&(i.setScale(_.mouse,{x:(_.bounds.max.x-_.bounds.min.x)/_.canvas.width,y:(_.bounds.max.y-_.bounds.min.y)/_.canvas.height}),i.setOffset(_.mouse,_.bounds.min))},t.startViewTransform=function(_){var S=_.bounds.max.x-_.bounds.min.x,x=_.bounds.max.y-_.bounds.min.y,y=S/_.options.width,b=x/_.options.height;_.context.setTransform(_.options.pixelRatio/y,0,0,_.options.pixelRatio/b,0,0),_.context.translate(-_.bounds.min.x,-_.bounds.min.y)},t.endViewTransform=function(_){_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0)},t.world=function(_,S){var x=c.now(),y=_.engine,b=y.world,A=_.canvas,M=_.context,P=_.options,k=_.timing,E=l.allBodies(b),D=l.allConstraints(b),H=P.wireframes?P.wireframeBackground:P.background,R=[],N=[],Y,G={timestamp:y.timing.timestamp};if(u.trigger(_,"beforeRender",G),_.currentBackground!==H&&C(_,H),M.globalCompositeOperation="source-in",M.fillStyle="transparent",M.fillRect(0,0,A.width,A.height),M.globalCompositeOperation="source-over",P.hasBounds){for(Y=0;Y<E.length;Y++){var $=E[Y];d.overlaps($.bounds,_.bounds)&&R.push($)}for(Y=0;Y<D.length;Y++){var K=D[Y],ne=K.bodyA,de=K.bodyB,B=K.pointA,I=K.pointB;ne&&(B=e.add(ne.position,K.pointA)),de&&(I=e.add(de.position,K.pointB)),!(!B||!I)&&(d.contains(_.bounds,B)||d.contains(_.bounds,I))&&N.push(K)}t.startViewTransform(_),_.mouse&&(i.setScale(_.mouse,{x:(_.bounds.max.x-_.bounds.min.x)/_.options.width,y:(_.bounds.max.y-_.bounds.min.y)/_.options.height}),i.setOffset(_.mouse,_.bounds.min))}else N=D,R=E,_.options.pixelRatio!==1&&_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0);!P.wireframes||y.enableSleeping&&P.showSleeping?t.bodies(_,R,M):(P.showConvexHulls&&t.bodyConvexHulls(_,R,M),t.bodyWireframes(_,R,M)),P.showBounds&&t.bodyBounds(_,R,M),(P.showAxes||P.showAngleIndicator)&&t.bodyAxes(_,R,M),P.showPositions&&t.bodyPositions(_,R,M),P.showVelocity&&t.bodyVelocity(_,R,M),P.showIds&&t.bodyIds(_,R,M),P.showSeparations&&t.separations(_,y.pairs.list,M),P.showCollisions&&t.collisions(_,y.pairs.list,M),P.showVertexNumbers&&t.vertexNumbers(_,R,M),P.showMousePosition&&t.mousePosition(_,_.mouse,M),t.constraints(N,M),P.hasBounds&&t.endViewTransform(_),u.trigger(_,"afterRender",G),k.lastElapsed=c.now()-x},t.stats=function(_,S,x){for(var y=_.engine,b=y.world,A=l.allBodies(b),M=0,P=55,k=44,E=0,D=0,H=0;H<A.length;H+=1)M+=A[H].parts.length;var R={Part:M,Body:A.length,Cons:l.allConstraints(b).length,Comp:l.allComposites(b).length,Pair:y.pairs.list.length};S.fillStyle="#0e0f19",S.fillRect(E,D,P*5.5,k),S.font="12px Arial",S.textBaseline="top",S.textAlign="right";for(var N in R){var Y=R[N];S.fillStyle="#aaa",S.fillText(N,E+P,D+8),S.fillStyle="#eee",S.fillText(Y,E+P,D+26),E+=P}},t.performance=function(_,S){var x=_.engine,y=_.timing,b=y.deltaHistory,A=y.elapsedHistory,M=y.timestampElapsedHistory,P=y.engineDeltaHistory,k=y.engineUpdatesHistory,E=y.engineElapsedHistory,D=x.timing.lastUpdatesPerFrame,H=x.timing.lastDelta,R=p(b),N=p(A),Y=p(P),G=p(k),$=p(E),K=p(M),ne=K/R||0,de=Math.round(R/H),B=1e3/R||0,I=4,O=12,F=60,U=34,L=10,X=69;S.fillStyle="#0e0f19",S.fillRect(0,50,O*5+F*6+22,U),t.status(S,L,X,F,I,b.length,Math.round(B)+" fps",B/t._goodFps,function(q){return b[q]/R-1}),t.status(S,L+O+F,X,F,I,P.length,H.toFixed(2)+" dt",t._goodDelta/H,function(q){return P[q]/Y-1}),t.status(S,L+(O+F)*2,X,F,I,k.length,D+" upf",Math.pow(c.clamp(G/de||1,0,1),4),function(q){return k[q]/G-1}),t.status(S,L+(O+F)*3,X,F,I,E.length,$.toFixed(2)+" ut",1-D*$/t._goodFps,function(q){return E[q]/$-1}),t.status(S,L+(O+F)*4,X,F,I,A.length,N.toFixed(2)+" rt",1-N/t._goodFps,function(q){return A[q]/N-1}),t.status(S,L+(O+F)*5,X,F,I,M.length,ne.toFixed(2)+" x",ne*ne*ne,function(q){return(M[q]/b[q]/ne||0)-1})},t.status=function(_,S,x,y,b,A,M,P,k){_.strokeStyle="#888",_.fillStyle="#444",_.lineWidth=1,_.fillRect(S,x+7,y,1),_.beginPath(),_.moveTo(S,x+7-b*c.clamp(.4*k(0),-2,2));for(var E=0;E<y;E+=1)_.lineTo(S+E,x+7-(E<A?b*c.clamp(.4*k(E),-2,2):0));_.stroke(),_.fillStyle="hsl("+c.clamp(25+95*P,0,120)+",100%,60%)",_.fillRect(S,x-7,4,4),_.font="12px Arial",_.textBaseline="middle",_.textAlign="right",_.fillStyle="#eee",_.fillText(M,S+y,x-5)},t.constraints=function(_,S){for(var x=S,y=0;y<_.length;y++){var b=_[y];if(!(!b.render.visible||!b.pointA||!b.pointB)){var A=b.bodyA,M=b.bodyB,P,k;if(A?P=e.add(A.position,b.pointA):P=b.pointA,b.render.type==="pin")x.beginPath(),x.arc(P.x,P.y,3,0,2*Math.PI),x.closePath();else{if(M?k=e.add(M.position,b.pointB):k=b.pointB,x.beginPath(),x.moveTo(P.x,P.y),b.render.type==="spring")for(var E=e.sub(k,P),D=e.perp(e.normalise(E)),H=Math.ceil(c.clamp(b.length/5,12,20)),R,N=1;N<H;N+=1)R=N%2===0?1:-1,x.lineTo(P.x+E.x*(N/H)+D.x*R*4,P.y+E.y*(N/H)+D.y*R*4);x.lineTo(k.x,k.y)}b.render.lineWidth&&(x.lineWidth=b.render.lineWidth,x.strokeStyle=b.render.strokeStyle,x.stroke()),b.render.anchors&&(x.fillStyle=b.render.strokeStyle,x.beginPath(),x.arc(P.x,P.y,3,0,2*Math.PI),x.arc(k.x,k.y,3,0,2*Math.PI),x.closePath(),x.fill())}}},t.bodies=function(_,S,x){var y=x;_.engine;var b=_.options,A=b.showInternalEdges||!b.wireframes,M,P,k,E;for(k=0;k<S.length;k++)if(M=S[k],!!M.render.visible){for(E=M.parts.length>1?1:0;E<M.parts.length;E++)if(P=M.parts[E],!!P.render.visible){if(b.showSleeping&&M.isSleeping?y.globalAlpha=.5*P.render.opacity:P.render.opacity!==1&&(y.globalAlpha=P.render.opacity),P.render.sprite&&P.render.sprite.texture&&!b.wireframes){var D=P.render.sprite,H=T(_,D.texture);y.translate(P.position.x,P.position.y),y.rotate(P.angle),y.drawImage(H,H.width*-D.xOffset*D.xScale,H.height*-D.yOffset*D.yScale,H.width*D.xScale,H.height*D.yScale),y.rotate(-P.angle),y.translate(-P.position.x,-P.position.y)}else{if(P.circleRadius)y.beginPath(),y.arc(P.position.x,P.position.y,P.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(P.vertices[0].x,P.vertices[0].y);for(var R=1;R<P.vertices.length;R++)!P.vertices[R-1].isInternal||A?y.lineTo(P.vertices[R].x,P.vertices[R].y):y.moveTo(P.vertices[R].x,P.vertices[R].y),P.vertices[R].isInternal&&!A&&y.moveTo(P.vertices[(R+1)%P.vertices.length].x,P.vertices[(R+1)%P.vertices.length].y);y.lineTo(P.vertices[0].x,P.vertices[0].y),y.closePath()}b.wireframes?(y.lineWidth=1,y.strokeStyle=_.options.wireframeStrokeStyle,y.stroke()):(y.fillStyle=P.render.fillStyle,P.render.lineWidth&&(y.lineWidth=P.render.lineWidth,y.strokeStyle=P.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},t.bodyWireframes=function(_,S,x){var y=x,b=_.options.showInternalEdges,A,M,P,k,E;for(y.beginPath(),P=0;P<S.length;P++)if(A=S[P],!!A.render.visible)for(E=A.parts.length>1?1:0;E<A.parts.length;E++){for(M=A.parts[E],y.moveTo(M.vertices[0].x,M.vertices[0].y),k=1;k<M.vertices.length;k++)!M.vertices[k-1].isInternal||b?y.lineTo(M.vertices[k].x,M.vertices[k].y):y.moveTo(M.vertices[k].x,M.vertices[k].y),M.vertices[k].isInternal&&!b&&y.moveTo(M.vertices[(k+1)%M.vertices.length].x,M.vertices[(k+1)%M.vertices.length].y);y.lineTo(M.vertices[0].x,M.vertices[0].y)}y.lineWidth=1,y.strokeStyle=_.options.wireframeStrokeStyle,y.stroke()},t.bodyConvexHulls=function(_,S,x){var y=x,b,A,M;for(y.beginPath(),A=0;A<S.length;A++)if(b=S[A],!(!b.render.visible||b.parts.length===1)){for(y.moveTo(b.vertices[0].x,b.vertices[0].y),M=1;M<b.vertices.length;M++)y.lineTo(b.vertices[M].x,b.vertices[M].y);y.lineTo(b.vertices[0].x,b.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},t.vertexNumbers=function(_,S,x){var y=x,b,A,M;for(b=0;b<S.length;b++){var P=S[b].parts;for(M=P.length>1?1:0;M<P.length;M++){var k=P[M];for(A=0;A<k.vertices.length;A++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(b+"_"+A,k.position.x+(k.vertices[A].x-k.position.x)*.8,k.position.y+(k.vertices[A].y-k.position.y)*.8)}}},t.mousePosition=function(_,S,x){var y=x;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(S.position.x+"  "+S.position.y,S.position.x+5,S.position.y-5)},t.bodyBounds=function(_,S,x){var y=x;_.engine;var b=_.options;y.beginPath();for(var A=0;A<S.length;A++){var M=S[A];if(M.render.visible)for(var P=S[A].parts,k=P.length>1?1:0;k<P.length;k++){var E=P[k];y.rect(E.bounds.min.x,E.bounds.min.y,E.bounds.max.x-E.bounds.min.x,E.bounds.max.y-E.bounds.min.y)}}b.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},t.bodyAxes=function(_,S,x){var y=x;_.engine;var b=_.options,A,M,P,k;for(y.beginPath(),M=0;M<S.length;M++){var E=S[M],D=E.parts;if(E.render.visible)if(b.showAxes)for(P=D.length>1?1:0;P<D.length;P++)for(A=D[P],k=0;k<A.axes.length;k++){var H=A.axes[k];y.moveTo(A.position.x,A.position.y),y.lineTo(A.position.x+H.x*20,A.position.y+H.y*20)}else for(P=D.length>1?1:0;P<D.length;P++)for(A=D[P],k=0;k<A.axes.length;k++)y.moveTo(A.position.x,A.position.y),y.lineTo((A.vertices[0].x+A.vertices[A.vertices.length-1].x)/2,(A.vertices[0].y+A.vertices[A.vertices.length-1].y)/2)}b.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},t.bodyPositions=function(_,S,x){var y=x;_.engine;var b=_.options,A,M,P,k;for(y.beginPath(),P=0;P<S.length;P++)if(A=S[P],!!A.render.visible)for(k=0;k<A.parts.length;k++)M=A.parts[k],y.arc(M.position.x,M.position.y,3,0,2*Math.PI,!1),y.closePath();for(b.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),P=0;P<S.length;P++)A=S[P],A.render.visible&&(y.arc(A.positionPrev.x,A.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},t.bodyVelocity=function(_,S,x){var y=x;y.beginPath();for(var b=0;b<S.length;b++){var A=S[b];if(A.render.visible){var M=a.getVelocity(A);y.moveTo(A.position.x,A.position.y),y.lineTo(A.position.x+M.x,A.position.y+M.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},t.bodyIds=function(_,S,x){var y=x,b,A;for(b=0;b<S.length;b++)if(S[b].render.visible){var M=S[b].parts;for(A=M.length>1?1:0;A<M.length;A++){var P=M[A];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(P.id,P.position.x+10,P.position.y-10)}}},t.collisions=function(_,S,x){var y=x,b=_.options,A,M,P,k;for(y.beginPath(),P=0;P<S.length;P++)if(A=S[P],!!A.isActive)for(M=A.collision,k=0;k<A.contactCount;k++){var E=A.contacts[k],D=E.vertex;y.rect(D.x-1.5,D.y-1.5,3.5,3.5)}for(b.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),P=0;P<S.length;P++)if(A=S[P],!!A.isActive&&(M=A.collision,A.contactCount>0)){var H=A.contacts[0].vertex.x,R=A.contacts[0].vertex.y;A.contactCount===2&&(H=(A.contacts[0].vertex.x+A.contacts[1].vertex.x)/2,R=(A.contacts[0].vertex.y+A.contacts[1].vertex.y)/2),M.bodyB===M.supports[0].body||M.bodyA.isStatic===!0?y.moveTo(H-M.normal.x*8,R-M.normal.y*8):y.moveTo(H+M.normal.x*8,R+M.normal.y*8),y.lineTo(H,R)}b.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},t.separations=function(_,S,x){var y=x,b=_.options,A,M,P,k,E;for(y.beginPath(),E=0;E<S.length;E++)if(A=S[E],!!A.isActive){M=A.collision,P=M.bodyA,k=M.bodyB;var D=1;!k.isStatic&&!P.isStatic&&(D=.5),k.isStatic&&(D=0),y.moveTo(k.position.x,k.position.y),y.lineTo(k.position.x-M.penetration.x*D,k.position.y-M.penetration.y*D),D=1,!k.isStatic&&!P.isStatic&&(D=.5),P.isStatic&&(D=0),y.moveTo(P.position.x,P.position.y),y.lineTo(P.position.x+M.penetration.x*D,P.position.y+M.penetration.y*D)}b.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},t.inspector=function(_,S){_.engine;var x=_.selected,y=_.render,b=y.options,A;if(b.hasBounds){var M=y.bounds.max.x-y.bounds.min.x,P=y.bounds.max.y-y.bounds.min.y,k=M/y.options.width,E=P/y.options.height;S.scale(1/k,1/E),S.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var D=0;D<x.length;D++){var H=x[D].data;switch(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.9)",S.setLineDash([1,2]),H.type){case"body":A=H.bounds,S.beginPath(),S.rect(Math.floor(A.min.x-3),Math.floor(A.min.y-3),Math.floor(A.max.x-A.min.x+6),Math.floor(A.max.y-A.min.y+6)),S.closePath(),S.stroke();break;case"constraint":var R=H.pointA;H.bodyA&&(R=H.pointB),S.beginPath(),S.arc(R.x,R.y,10,0,2*Math.PI),S.closePath(),S.stroke();break}S.setLineDash([]),S.translate(-.5,-.5)}_.selectStart!==null&&(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.6)",S.fillStyle="rgba(255,165,0,0.1)",A=_.selectBounds,S.beginPath(),S.rect(Math.floor(A.min.x),Math.floor(A.min.y),Math.floor(A.max.x-A.min.x),Math.floor(A.max.y-A.min.y)),S.closePath(),S.stroke(),S.fill(),S.translate(-.5,-.5)),b.hasBounds&&S.setTransform(1,0,0,1,0,0)};var s=function(_,S){var x=_.engine,y=_.timing,b=y.historySize,A=x.timing.timestamp;y.delta=S-y.lastTime||t._goodDelta,y.lastTime=S,y.timestampElapsed=A-y.lastTimestamp||0,y.lastTimestamp=A,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,b),y.engineDeltaHistory.unshift(x.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,b),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,b),y.engineUpdatesHistory.unshift(x.timing.lastUpdatesPerFrame),y.engineUpdatesHistory.length=Math.min(y.engineUpdatesHistory.length,b),y.engineElapsedHistory.unshift(x.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,b),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,b)},p=function(_){for(var S=0,x=0;x<_.length;x+=1)S+=_[x];return S/_.length||0},h=function(_,S){var x=document.createElement("canvas");return x.width=_,x.height=S,x.oncontextmenu=function(){return!1},x.onselectstart=function(){return!1},x},w=function(_){var S=_.getContext("2d"),x=window.devicePixelRatio||1,y=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return x/y},T=function(_,S){var x=_.textures[S];return x||(x=_.textures[S]=new Image,x.src=S,x)},C=function(_,S){var x=S;/(jpg|gif|png)$/.test(S)&&(x="url("+S+")"),_.canvas.style.background=x,_.canvas.style.backgroundSize="contain",_.currentBackground=S}})()},function(o,m,f){var t={};o.exports=t;var a=f(5),c=f(17),l=f(0);(function(){t._maxFrameDelta=1e3/15,t._frameDeltaFallback=1e3/60,t._timeBufferMargin=1.5,t._elapsedNextEstimate=1,t._smoothingLowerBound=.1,t._smoothingUpperBound=.9,t.create=function(u){var e={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},i=l.extend(e,u);return i.fps=0,i},t.run=function(u,e){return u.timeBuffer=t._frameDeltaFallback,function i(n){u.frameRequestId=t._onNextFrame(u,i),n&&u.enabled&&t.tick(u,e,n)}(),u},t.tick=function(u,e,i){var n=l.now(),r=u.delta,s=0,p=i-u.timeLastTick;if((!p||!u.timeLastTick||p>Math.max(t._maxFrameDelta,u.maxFrameTime))&&(p=u.frameDelta||t._frameDeltaFallback),u.frameDeltaSmoothing){u.frameDeltaHistory.push(p),u.frameDeltaHistory=u.frameDeltaHistory.slice(-u.frameDeltaHistorySize);var h=u.frameDeltaHistory.slice(0).sort(),w=u.frameDeltaHistory.slice(h.length*t._smoothingLowerBound,h.length*t._smoothingUpperBound),T=d(w);p=T||p}u.frameDeltaSnapping&&(p=1e3/Math.round(1e3/p)),u.frameDelta=p,u.timeLastTick=i,u.timeBuffer+=u.frameDelta,u.timeBuffer=l.clamp(u.timeBuffer,0,u.frameDelta+r*t._timeBufferMargin),u.lastUpdatesDeferred=0;var C=u.maxUpdates||Math.ceil(u.maxFrameTime/r),_={timestamp:e.timing.timestamp};a.trigger(u,"beforeTick",_),a.trigger(u,"tick",_);for(var S=l.now();r>0&&u.timeBuffer>=r*t._timeBufferMargin;){a.trigger(u,"beforeUpdate",_),c.update(e,r),a.trigger(u,"afterUpdate",_),u.timeBuffer-=r,s+=1;var x=l.now()-n,y=l.now()-S,b=x+t._elapsedNextEstimate*y/s;if(s>=C||b>u.maxFrameTime){u.lastUpdatesDeferred=Math.round(Math.max(0,u.timeBuffer/r-t._timeBufferMargin));break}}e.timing.lastUpdatesPerFrame=s,a.trigger(u,"afterTick",_),u.frameDeltaHistory.length>=100&&(u.lastUpdatesDeferred&&Math.round(u.frameDelta/r)>C?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):u.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof u.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(u.deltaMin||u.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),u.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},t.stop=function(u){t._cancelNextFrame(u)},t._onNextFrame=function(u,e){if(typeof window<"u"&&window.requestAnimationFrame)u.frameRequestId=window.requestAnimationFrame(e);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return u.frameRequestId},t._cancelNextFrame=function(u){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(u.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var d=function(u){for(var e=0,i=u.length,n=0;n<i;n+=1)e+=u[n];return e/i||0}})()},function(o,m,f){var t={};o.exports=t;var a=f(8),c=f(0),l=c.deprecated;(function(){t.collides=function(d,u){return a.collides(d,u)},l(t,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(o,m,f){var t={};o.exports=t,f(1);var a=f(0);(function(){t.pathToVertices=function(c,l){typeof window<"u"&&!("SVGPathSeg"in window)&&a.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var d,u,e,i,n,r,s,p,h,w,T=[],C,_,S=0,x=0,y=0;l=l||15;var b=function(M,P,k){var E=k%2===1&&k>1;if(!h||M!=h.x||P!=h.y){h&&E?(C=h.x,_=h.y):(C=0,_=0);var D={x:C+M,y:_+P};(E||!h)&&(h=D),T.push(D),x=C+M,y=_+P}},A=function(M){var P=M.pathSegTypeAsLetter.toUpperCase();if(P!=="Z"){switch(P){case"M":case"L":case"T":case"C":case"S":case"Q":x=M.x,y=M.y;break;case"H":x=M.x;break;case"V":y=M.y;break}b(x,y,M.pathSegType)}};for(t._svgPathToAbsolute(c),e=c.getTotalLength(),r=[],d=0;d<c.pathSegList.numberOfItems;d+=1)r.push(c.pathSegList.getItem(d));for(s=r.concat();S<e;){if(w=c.getPathSegAtLength(S),n=r[w],n!=p){for(;s.length&&s[0]!=n;)A(s.shift());p=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=c.getPointAtLength(S),b(i.x,i.y,0);break}S+=l}for(d=0,u=s.length;d<u;++d)A(s[d]);return T},t._svgPathToAbsolute=function(c){for(var l,d,u,e,i,n,r=c.pathSegList,s=0,p=0,h=r.numberOfItems,w=0;w<h;++w){var T=r.getItem(w),C=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in T&&(s=T.x),"y"in T&&(p=T.y);else switch("x1"in T&&(u=s+T.x1),"x2"in T&&(i=s+T.x2),"y1"in T&&(e=p+T.y1),"y2"in T&&(n=p+T.y2),"x"in T&&(s+=T.x),"y"in T&&(p+=T.y),C){case"m":r.replaceItem(c.createSVGPathSegMovetoAbs(s,p),w);break;case"l":r.replaceItem(c.createSVGPathSegLinetoAbs(s,p),w);break;case"h":r.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(s),w);break;case"v":r.replaceItem(c.createSVGPathSegLinetoVerticalAbs(p),w);break;case"c":r.replaceItem(c.createSVGPathSegCurvetoCubicAbs(s,p,u,e,i,n),w);break;case"s":r.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(s,p,i,n),w);break;case"q":r.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(s,p,u,e),w);break;case"t":r.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(s,p),w);break;case"a":r.replaceItem(c.createSVGPathSegArcAbs(s,p,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),w);break;case"z":case"Z":s=l,p=d;break}(C=="M"||C=="m")&&(l=s,d=p)}}})()},function(o,m,f){var t={};o.exports=t;var a=f(6);f(0),function(){t.create=a.create,t.add=a.add,t.remove=a.remove,t.clear=a.clear,t.addComposite=a.addComposite,t.addBody=a.addBody,t.addConstraint=a.addConstraint}()}])})})(Wn);var ii=Wn.exports;const ee=Hn(ii),Nn=8,Ze=381+Nn,jt=Nn/Ze,xt=330/Ze,Gn=51/Ze,Vt=xt+Gn,ot=4.7625/Ze,ut=17.5/Ze,et=102/Ze,at=203/Ze,tt=305/Ze,Un=15/Ze,Ne=Object.freeze(Object.defineProperty({__proto__:null,base:Vt,disc:Un,ditchWidth:Gn,fifteen:et,five:tt,peg:ot,rimWidth:jt,surface:xt,ten:at,twenty:ut},Symbol.toStringTag,{value:"Module"})),ri={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},oi={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)","pink-aa":"#FF24FF","pink-aaa":"#D100D1","teal-aa":"#00A3A3","teal-aaa":"#008080","red-aa":"#FE5F55","red-aaa":"#E91101","purple-aaa":"#564592"},It={category:ri,color:oi,"":{"11px":"0.7rem","12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}};var Tt={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(g){(function(){var v=function(){this.init()};v.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var i=this||o;if(e=parseFloat(e),i.ctx||u(),typeof e<"u"&&e>=0&&e<=1){if(i._volume=e,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var r=i._howls[n]._getSoundIds(),s=0;s<r.length;s++){var p=i._howls[n]._soundById(r[s]);p&&p._node&&(p._node.volume=p._volume*e)}return i}return i._volume},mute:function(e){var i=this||o;i.ctx||u(),i._muted=e,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(e?0:i._volume,o.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var r=i._howls[n]._getSoundIds(),s=0;s<r.length;s++){var p=i._howls[n]._soundById(r[s]);p&&p._node&&(p._node.muted=e?!0:p._muted)}return i},stop:function(){for(var e=this||o,i=0;i<e._howls.length;i++)e._howls[i].stop();return e},unload:function(){for(var e=this||o,i=e._howls.length-1;i>=0;i--)e._howls[i].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,u()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var i=new Audio;typeof i.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var i=new Audio;i.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,i=null;try{i=typeof Audio<"u"?new Audio:null}catch{return e}if(!i||typeof i.canPlayType!="function")return e;var n=i.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",s=r.match(/OPR\/(\d+)/g),p=s&&parseInt(s[0].split("/")[1],10)<33,h=r.indexOf("Safari")!==-1&&r.indexOf("Chrome")===-1,w=r.match(/Version\/(.*?) /),T=h&&w&&parseInt(w[1],10)<15;return e._codecs={mp3:!!(!p&&(n||i.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!n,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(i.canPlayType('audio/wav; codecs="1"')||i.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(i.canPlayType("audio/x-m4b;")||i.canPlayType("audio/m4b;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!T&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!T&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var i=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch{e.noAudio=!0;break}for(var s=0;s<e._howls.length;s++)if(!e._howls[s]._webAudio)for(var p=e._howls[s]._getSoundIds(),h=0;h<p.length;h++){var w=e._howls[s]._soundById(p[h]);w&&w._node&&!w._node._unlocked&&(w._node._unlocked=!0,w._node.load())}e._autoResume();var T=e.ctx.createBufferSource();T.buffer=e._scratchBuffer,T.connect(e.ctx.destination),typeof T.start>"u"?T.noteOn(0):T.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),T.onended=function(){T.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",i,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("click",i,!0),document.removeEventListener("keydown",i,!0);for(var C=0;C<e._howls.length;C++)e._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0),document.addEventListener("keydown",i,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var i=new Audio().play();return i&&typeof Promise<"u"&&(i instanceof Promise||typeof i.then=="function")&&i.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var i=this||o;return e._unlocked&&i._html5AudioPool.push(e),i},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!o.usingWebAudio)){for(var i=0;i<e._howls.length;i++)if(e._howls[i]._webAudio){for(var n=0;n<e._howls[i]._sounds.length;n++)if(!e._howls[i]._sounds[n]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var r=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(r,r)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!o.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var i=0;i<e._howls.length;i++)e._howls[i]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var o=new v,m=function(e){var i=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}i.init(e)};m.prototype={init:function(e){var i=this;return o.ctx||u(),i._autoplay=e.autoplay||!1,i._format=typeof e.format!="string"?e.format:[e.format],i._html5=e.html5||!1,i._muted=e.mute||!1,i._loop=e.loop||!1,i._pool=e.pool||5,i._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,i._rate=e.rate||1,i._sprite=e.sprite||{},i._src=typeof e.src!="string"?e.src:[e.src],i._volume=e.volume!==void 0?e.volume:1,i._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=e.onend?[{fn:e.onend}]:[],i._onfade=e.onfade?[{fn:e.onfade}]:[],i._onload=e.onload?[{fn:e.onload}]:[],i._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],i._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],i._onpause=e.onpause?[{fn:e.onpause}]:[],i._onplay=e.onplay?[{fn:e.onplay}]:[],i._onstop=e.onstop?[{fn:e.onstop}]:[],i._onmute=e.onmute?[{fn:e.onmute}]:[],i._onvolume=e.onvolume?[{fn:e.onvolume}]:[],i._onrate=e.onrate?[{fn:e.onrate}]:[],i._onseek=e.onseek?[{fn:e.onseek}]:[],i._onunlock=e.onunlock?[{fn:e.onunlock}]:[],i._onresume=[],i._webAudio=o.usingWebAudio&&!i._html5,typeof o.ctx<"u"&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&i._preload!=="none"&&i.load(),i},load:function(){var e=this,i=null;if(o.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,s;if(e._format&&e._format[n])r=e._format[n];else{if(s=e._src[n],typeof s!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=/^data:audio\/([^;,]+);/i.exec(s),r||(r=/\.([^.]+)$/.exec(s.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&o.codecs(r)){i=e._src[n];break}}if(!i){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=i,e._state="loading",window.location.protocol==="https:"&&i.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new f(e),e._webAudio&&a(e),e},play:function(e,i){var n=this,r=null;if(typeof e=="number")r=e,e=null;else{if(typeof e=="string"&&n._state==="loaded"&&!n._sprite[e])return null;if(typeof e>"u"&&(e="__default",!n._playLock)){for(var s=0,p=0;p<n._sounds.length;p++)n._sounds[p]._paused&&!n._sounds[p]._ended&&(s++,r=n._sounds[p]._id);s===1?e=null:r=null}}var h=r?n._soundById(r):n._inactiveSound();if(!h)return null;if(r&&!e&&(e=h._sprite||"__default"),n._state!=="loaded"){h._sprite=e,h._ended=!1;var w=h._id;return n._queue.push({event:"play",action:function(){n.play(w)}}),w}if(r&&!h._paused)return i||n._loadQueue("play"),h._id;n._webAudio&&o._autoResume();var T=Math.max(0,h._seek>0?h._seek:n._sprite[e][0]/1e3),C=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-T),_=C*1e3/Math.abs(h._rate),S=n._sprite[e][0]/1e3,x=(n._sprite[e][0]+n._sprite[e][1])/1e3;h._sprite=e,h._ended=!1;var y=function(){h._paused=!1,h._seek=T,h._start=S,h._stop=x,h._loop=!!(h._loop||n._sprite[e][2])};if(T>=x){n._ended(h);return}var b=h._node;if(n._webAudio){var A=function(){n._playLock=!1,y(),n._refreshBuffer(h);var E=h._muted||n._muted?0:h._volume;b.gain.setValueAtTime(E,o.ctx.currentTime),h._playStart=o.ctx.currentTime,typeof b.bufferSource.start>"u"?h._loop?b.bufferSource.noteGrainOn(0,T,86400):b.bufferSource.noteGrainOn(0,T,C):h._loop?b.bufferSource.start(0,T,86400):b.bufferSource.start(0,T,C),_!==1/0&&(n._endTimers[h._id]=setTimeout(n._ended.bind(n,h),_)),i||setTimeout(function(){n._emit("play",h._id),n._loadQueue()},0)};o.state==="running"&&o.ctx.state!=="interrupted"?A():(n._playLock=!0,n.once("resume",A),n._clearTimer(h._id))}else{var M=function(){b.currentTime=T,b.muted=h._muted||n._muted||o._muted||b.muted,b.volume=h._volume*o.volume(),b.playbackRate=h._rate;try{var E=b.play();if(E&&typeof Promise<"u"&&(E instanceof Promise||typeof E.then=="function")?(n._playLock=!0,y(),E.then(function(){n._playLock=!1,b._unlocked=!0,i?n._loadQueue():n._emit("play",h._id)}).catch(function(){n._playLock=!1,n._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),h._ended=!0,h._paused=!0})):i||(n._playLock=!1,y(),n._emit("play",h._id)),b.playbackRate=h._rate,b.paused){n._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||h._loop?n._endTimers[h._id]=setTimeout(n._ended.bind(n,h),_):(n._endTimers[h._id]=function(){n._ended(h),b.removeEventListener("ended",n._endTimers[h._id],!1)},b.addEventListener("ended",n._endTimers[h._id],!1))}catch(D){n._emit("playerror",h._id,D)}};b.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(b.src=n._src,b.load());var P=window&&window.ejecta||!b.readyState&&o._navigator.isCocoonJS;if(b.readyState>=3||P)M();else{n._playLock=!0,n._state="loading";var k=function(){n._state="loaded",M(),b.removeEventListener(o._canPlayEvent,k,!1)};b.addEventListener(o._canPlayEvent,k,!1),n._clearTimer(h._id)}}return h._id},pause:function(e){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(e)}}),i;for(var n=i._getSoundIds(e),r=0;r<n.length;r++){i._clearTimer(n[r]);var s=i._soundById(n[r]);if(s&&!s._paused&&(s._seek=i.seek(n[r]),s._rateSeek=0,s._paused=!0,i._stopFade(n[r]),s._node))if(i._webAudio){if(!s._node.bufferSource)continue;typeof s._node.bufferSource.stop>"u"?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),i._cleanBuffer(s._node)}else(!isNaN(s._node.duration)||s._node.duration===1/0)&&s._node.pause();arguments[1]||i._emit("pause",s?s._id:null)}return i},stop:function(e,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),s=0;s<r.length;s++){n._clearTimer(r[s]);var p=n._soundById(r[s]);p&&(p._seek=p._start||0,p._rateSeek=0,p._paused=!0,p._ended=!0,n._stopFade(r[s]),p._node&&(n._webAudio?p._node.bufferSource&&(typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),n._cleanBuffer(p._node)):(!isNaN(p._node.duration)||p._node.duration===1/0)&&(p._node.currentTime=p._start||0,p._node.pause(),p._node.duration===1/0&&n._clearSound(p._node))),i||n._emit("stop",p._id))}return n},mute:function(e,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,i)}}),n;if(typeof i>"u")if(typeof e=="boolean")n._muted=e;else return n._muted;for(var r=n._getSoundIds(i),s=0;s<r.length;s++){var p=n._soundById(r[s]);p&&(p._muted=e,p._interval&&n._stopFade(p._id),n._webAudio&&p._node?p._node.gain.setValueAtTime(e?0:p._volume,o.ctx.currentTime):p._node&&(p._node.muted=o._muted?!0:e),n._emit("mute",p._id))}return n},volume:function(){var e=this,i=arguments,n,r;if(i.length===0)return e._volume;if(i.length===1||i.length===2&&typeof i[1]>"u"){var s=e._getSoundIds(),p=s.indexOf(i[0]);p>=0?r=parseInt(i[0],10):n=parseFloat(i[0])}else i.length>=2&&(n=parseFloat(i[0]),r=parseInt(i[1],10));var h;if(typeof n<"u"&&n>=0&&n<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,i)}}),e;typeof r>"u"&&(e._volume=n),r=e._getSoundIds(r);for(var w=0;w<r.length;w++)h=e._soundById(r[w]),h&&(h._volume=n,i[2]||e._stopFade(r[w]),e._webAudio&&h._node&&!h._muted?h._node.gain.setValueAtTime(n,o.ctx.currentTime):h._node&&!h._muted&&(h._node.volume=n*o.volume()),e._emit("volume",h._id))}else return h=r?e._soundById(r):e._sounds[0],h?h._volume:0;return e},fade:function(e,i,n,r){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(e,i,n,r)}}),s;e=Math.min(Math.max(0,parseFloat(e)),1),i=Math.min(Math.max(0,parseFloat(i)),1),n=parseFloat(n),s.volume(e,r);for(var p=s._getSoundIds(r),h=0;h<p.length;h++){var w=s._soundById(p[h]);if(w){if(r||s._stopFade(p[h]),s._webAudio&&!w._muted){var T=o.ctx.currentTime,C=T+n/1e3;w._volume=e,w._node.gain.setValueAtTime(e,T),w._node.gain.linearRampToValueAtTime(i,C)}s._startFadeInterval(w,e,i,n,p[h],typeof r>"u")}}return s},_startFadeInterval:function(e,i,n,r,s,p){var h=this,w=i,T=n-i,C=Math.abs(T/.01),_=Math.max(4,C>0?r/C:r),S=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var x=(Date.now()-S)/r;S=Date.now(),w+=T*x,w=Math.round(w*100)/100,T<0?w=Math.max(n,w):w=Math.min(n,w),h._webAudio?e._volume=w:h.volume(w,e._id,!0),p&&(h._volume=w),(n<i&&w<=n||n>i&&w>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,h.volume(n,e._id),h._emit("fade",e._id))},_)},_stopFade:function(e){var i=this,n=i._soundById(e);return n&&n._interval&&(i._webAudio&&n._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(n._interval),n._interval=null,i.volume(n._fadeTo,e),n._fadeTo=null,i._emit("fade",e)),i},loop:function(){var e=this,i=arguments,n,r,s;if(i.length===0)return e._loop;if(i.length===1)if(typeof i[0]=="boolean")n=i[0],e._loop=n;else return s=e._soundById(parseInt(i[0],10)),s?s._loop:!1;else i.length===2&&(n=i[0],r=parseInt(i[1],10));for(var p=e._getSoundIds(r),h=0;h<p.length;h++)s=e._soundById(p[h]),s&&(s._loop=n,e._webAudio&&s._node&&s._node.bufferSource&&(s._node.bufferSource.loop=n,n&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop,e.playing(p[h])&&(e.pause(p[h],!0),e.play(p[h],!0)))));return e},rate:function(){var e=this,i=arguments,n,r;if(i.length===0)r=e._sounds[0]._id;else if(i.length===1){var s=e._getSoundIds(),p=s.indexOf(i[0]);p>=0?r=parseInt(i[0],10):n=parseFloat(i[0])}else i.length===2&&(n=parseFloat(i[0]),r=parseInt(i[1],10));var h;if(typeof n=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,i)}}),e;typeof r>"u"&&(e._rate=n),r=e._getSoundIds(r);for(var w=0;w<r.length;w++)if(h=e._soundById(r[w]),h){e.playing(r[w])&&(h._rateSeek=e.seek(r[w]),h._playStart=e._webAudio?o.ctx.currentTime:h._playStart),h._rate=n,e._webAudio&&h._node&&h._node.bufferSource?h._node.bufferSource.playbackRate.setValueAtTime(n,o.ctx.currentTime):h._node&&(h._node.playbackRate=n);var T=e.seek(r[w]),C=(e._sprite[h._sprite][0]+e._sprite[h._sprite][1])/1e3-T,_=C*1e3/Math.abs(h._rate);(e._endTimers[r[w]]||!h._paused)&&(e._clearTimer(r[w]),e._endTimers[r[w]]=setTimeout(e._ended.bind(e,h),_)),e._emit("rate",h._id)}}else return h=e._soundById(r),h?h._rate:e._rate;return e},seek:function(){var e=this,i=arguments,n,r;if(i.length===0)e._sounds.length&&(r=e._sounds[0]._id);else if(i.length===1){var s=e._getSoundIds(),p=s.indexOf(i[0]);p>=0?r=parseInt(i[0],10):e._sounds.length&&(r=e._sounds[0]._id,n=parseFloat(i[0]))}else i.length===2&&(n=parseFloat(i[0]),r=parseInt(i[1],10));if(typeof r>"u")return 0;if(typeof n=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,i)}}),e;var h=e._soundById(r);if(h)if(typeof n=="number"&&n>=0){var w=e.playing(r);w&&e.pause(r,!0),h._seek=n,h._ended=!1,e._clearTimer(r),!e._webAudio&&h._node&&!isNaN(h._node.duration)&&(h._node.currentTime=n);var T=function(){w&&e.play(r,!0),e._emit("seek",r)};if(w&&!e._webAudio){var C=function(){e._playLock?setTimeout(C,0):T()};setTimeout(C,0)}else T()}else if(e._webAudio){var _=e.playing(r)?o.ctx.currentTime-h._playStart:0,S=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(S+_*Math.abs(h._rate))}else return h._node.currentTime;return e},playing:function(e){var i=this;if(typeof e=="number"){var n=i._soundById(e);return n?!n._paused:!1}for(var r=0;r<i._sounds.length;r++)if(!i._sounds[r]._paused)return!0;return!1},duration:function(e){var i=this,n=i._duration,r=i._soundById(e);return r&&(n=i._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,i=e._sounds,n=0;n<i.length;n++)i[n]._paused||e.stop(i[n]._id),e._webAudio||(e._clearSound(i[n]._node),i[n]._node.removeEventListener("error",i[n]._errorFn,!1),i[n]._node.removeEventListener(o._canPlayEvent,i[n]._loadFn,!1),i[n]._node.removeEventListener("ended",i[n]._endFn,!1),o._releaseHtml5Audio(i[n]._node)),delete i[n]._node,e._clearTimer(i[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var s=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){s=!1;break}return t&&s&&delete t[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,i,n,r){var s=this,p=s["_on"+e];return typeof i=="function"&&p.push(r?{id:n,fn:i,once:r}:{id:n,fn:i}),s},off:function(e,i,n){var r=this,s=r["_on"+e],p=0;if(typeof i=="number"&&(n=i,i=null),i||n)for(p=0;p<s.length;p++){var h=n===s[p].id;if(i===s[p].fn&&h||!i&&h){s.splice(p,1);break}}else if(e)r["_on"+e]=[];else{var w=Object.keys(r);for(p=0;p<w.length;p++)w[p].indexOf("_on")===0&&Array.isArray(r[w[p]])&&(r[w[p]]=[])}return r},once:function(e,i,n){var r=this;return r.on(e,i,n,1),r},_emit:function(e,i,n){for(var r=this,s=r["_on"+e],p=s.length-1;p>=0;p--)(!s[p].id||s[p].id===i||e==="load")&&(setTimeout((function(h){h.call(this,i,n)}).bind(r,s[p].fn),0),s[p].once&&r.off(e,s[p].fn,s[p].id));return r._loadQueue(e),r},_loadQueue:function(e){var i=this;if(i._queue.length>0){var n=i._queue[0];n.event===e&&(i._queue.shift(),i._loadQueue()),e||n.action()}return i},_ended:function(e){var i=this,n=e._sprite;if(!i._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(i._ended.bind(i,e),100),i;var r=!!(e._loop||i._sprite[n][2]);if(i._emit("end",e._id),!i._webAudio&&r&&i.stop(e._id,!0).play(e._id),i._webAudio&&r){i._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var s=(e._stop-e._start)*1e3/Math.abs(e._rate);i._endTimers[e._id]=setTimeout(i._ended.bind(i,e),s)}return i._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,i._clearTimer(e._id),i._cleanBuffer(e._node),o._autoSuspend()),!i._webAudio&&!r&&i.stop(e._id,!0),i},_clearTimer:function(e){var i=this;if(i._endTimers[e]){if(typeof i._endTimers[e]!="function")clearTimeout(i._endTimers[e]);else{var n=i._soundById(e);n&&n._node&&n._node.removeEventListener("ended",i._endTimers[e],!1)}delete i._endTimers[e]}return i},_soundById:function(e){for(var i=this,n=0;n<i._sounds.length;n++)if(e===i._sounds[n]._id)return i._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var i=0;i<e._sounds.length;i++)if(e._sounds[i]._ended)return e._sounds[i].reset();return new f(e)},_drain:function(){var e=this,i=e._pool,n=0,r=0;if(!(e._sounds.length<i)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=i)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){var i=this;if(typeof e>"u"){for(var n=[],r=0;r<i._sounds.length;r++)n.push(i._sounds[r]._id);return n}else return[e]},_refreshBuffer:function(e){var i=this;return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=t[i._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),i},_cleanBuffer:function(e){var i=this,n=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return i;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),n))try{e.bufferSource.buffer=o._scratchBuffer}catch{}return e.bufferSource=null,i},_clearSound:function(e){var i=/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent);i||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var f=function(e){this._parent=e,this.init()};f.prototype={init:function(){var e=this,i=e._parent;return e._muted=i._muted,e._loop=i._loop,e._volume=i._volume,e._rate=i._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,i._sounds.push(e),e.create(),e},create:function(){var e=this,i=e._parent,n=o._muted||e._muted||e._parent._muted?0:e._volume;return i._webAudio?(e._node=typeof o.ctx.createGain>"u"?o.ctx.createGainNode():o.ctx.createGain(),e._node.gain.setValueAtTime(n,o.ctx.currentTime),e._node.paused=!0,e._node.connect(o.masterGain)):o.noAudio||(e._node=o._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(o._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=i._src,e._node.preload=i._preload===!0?"auto":i._preload,e._node.volume=n*o.volume(),e._node.load()),e},reset:function(){var e=this,i=e._parent;return e._muted=i._muted,e._loop=i._loop,e._volume=i._volume,e._rate=i._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,i=e._parent;i._duration=Math.ceil(e._node.duration*10)/10,Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue()),e._node.removeEventListener(o._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,i=e._parent;i._duration===1/0&&(i._duration=Math.ceil(e._node.duration*10)/10,i._sprite.__default[1]===1/0&&(i._sprite.__default[1]=i._duration*1e3),i._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var t={},a=function(e){var i=e._src;if(t[i]){e._duration=t[i].duration,d(e);return}if(/^data:[^;]+;base64,/.test(i)){for(var n=atob(i.split(",")[1]),r=new Uint8Array(n.length),s=0;s<n.length;++s)r[s]=n.charCodeAt(s);l(r.buffer,e)}else{var p=new XMLHttpRequest;p.open(e._xhr.method,i,!0),p.withCredentials=e._xhr.withCredentials,p.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(h){p.setRequestHeader(h,e._xhr.headers[h])}),p.onload=function(){var h=(p.status+"")[0];if(h!=="0"&&h!=="2"&&h!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+p.status+".");return}l(p.response,e)},p.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete t[i],e.load())},c(p)}},c=function(e){try{e.send()}catch{e.onerror()}},l=function(e,i){var n=function(){i._emit("loaderror",null,"Decoding audio data failed.")},r=function(s){s&&i._sounds.length>0?(t[i._src]=s,d(i,s)):n()};typeof Promise<"u"&&o.ctx.decodeAudioData.length===1?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},d=function(e,i){i&&!e._duration&&(e._duration=i.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},u=function(){if(o.usingWebAudio){try{typeof AudioContext<"u"?o.ctx=new AudioContext:typeof webkitAudioContext<"u"?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch{o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),i=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=i?parseInt(i[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=typeof o.ctx.createGain>"u"?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};g.Howler=o,g.Howl=m,typeof Oe<"u"?(Oe.HowlerGlobal=v,Oe.Howler=o,Oe.Howl=m,Oe.Sound=f):typeof window<"u"&&(window.HowlerGlobal=v,window.Howler=o,window.Howl=m,window.Sound=f)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(o){var m=this;if(!m.ctx||!m.ctx.listener)return m;for(var f=m._howls.length-1;f>=0;f--)m._howls[f].stereo(o);return m},HowlerGlobal.prototype.pos=function(o,m,f){var t=this;if(!t.ctx||!t.ctx.listener)return t;if(m=typeof m!="number"?t._pos[1]:m,f=typeof f!="number"?t._pos[2]:f,typeof o=="number")t._pos=[o,m,f],typeof t.ctx.listener.positionX<"u"?(t.ctx.listener.positionX.setTargetAtTime(t._pos[0],Howler.ctx.currentTime,.1),t.ctx.listener.positionY.setTargetAtTime(t._pos[1],Howler.ctx.currentTime,.1),t.ctx.listener.positionZ.setTargetAtTime(t._pos[2],Howler.ctx.currentTime,.1)):t.ctx.listener.setPosition(t._pos[0],t._pos[1],t._pos[2]);else return t._pos;return t},HowlerGlobal.prototype.orientation=function(o,m,f,t,a,c){var l=this;if(!l.ctx||!l.ctx.listener)return l;var d=l._orientation;if(m=typeof m!="number"?d[1]:m,f=typeof f!="number"?d[2]:f,t=typeof t!="number"?d[3]:t,a=typeof a!="number"?d[4]:a,c=typeof c!="number"?d[5]:c,typeof o=="number")l._orientation=[o,m,f,t,a,c],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(m,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(f,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(t,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(o,m,f,t,a,c);else return d;return l},Howl.prototype.init=function(o){return function(m){var f=this;return f._orientation=m.orientation||[1,0,0],f._stereo=m.stereo||null,f._pos=m.pos||null,f._pannerAttr={coneInnerAngle:typeof m.coneInnerAngle<"u"?m.coneInnerAngle:360,coneOuterAngle:typeof m.coneOuterAngle<"u"?m.coneOuterAngle:360,coneOuterGain:typeof m.coneOuterGain<"u"?m.coneOuterGain:0,distanceModel:typeof m.distanceModel<"u"?m.distanceModel:"inverse",maxDistance:typeof m.maxDistance<"u"?m.maxDistance:1e4,panningModel:typeof m.panningModel<"u"?m.panningModel:"HRTF",refDistance:typeof m.refDistance<"u"?m.refDistance:1,rolloffFactor:typeof m.rolloffFactor<"u"?m.rolloffFactor:1},f._onstereo=m.onstereo?[{fn:m.onstereo}]:[],f._onpos=m.onpos?[{fn:m.onpos}]:[],f._onorientation=m.onorientation?[{fn:m.onorientation}]:[],o.call(this,m)}}(Howl.prototype.init),Howl.prototype.stereo=function(o,m){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"stereo",action:function(){f.stereo(o,m)}}),f;var t=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof m>"u")if(typeof o=="number")f._stereo=o,f._pos=[o,0,0];else return f._stereo;for(var a=f._getSoundIds(m),c=0;c<a.length;c++){var l=f._soundById(a[c]);if(l)if(typeof o=="number")l._stereo=o,l._pos=[o,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&v(l,t),t==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(o,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(o,0,0):l._panner.pan.setValueAtTime(o,Howler.ctx.currentTime)),f._emit("stereo",l._id);else return l._stereo}return f},Howl.prototype.pos=function(o,m,f,t){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(o,m,f,t)}}),a;if(m=typeof m!="number"?0:m,f=typeof f!="number"?-.5:f,typeof t>"u")if(typeof o=="number")a._pos=[o,m,f];else return a._pos;for(var c=a._getSoundIds(t),l=0;l<c.length;l++){var d=a._soundById(c[l]);if(d)if(typeof o=="number")d._pos=[o,m,f],d._node&&((!d._panner||d._panner.pan)&&v(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(o,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(m,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(f,Howler.ctx.currentTime)):d._panner.setPosition(o,m,f)),a._emit("pos",d._id);else return d._pos}return a},Howl.prototype.orientation=function(o,m,f,t){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(o,m,f,t)}}),a;if(m=typeof m!="number"?a._orientation[1]:m,f=typeof f!="number"?a._orientation[2]:f,typeof t>"u")if(typeof o=="number")a._orientation=[o,m,f];else return a._orientation;for(var c=a._getSoundIds(t),l=0;l<c.length;l++){var d=a._soundById(c[l]);if(d)if(typeof o=="number")d._orientation=[o,m,f],d._node&&(d._panner||(d._pos||(d._pos=a._pos||[0,0,-.5]),v(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(o,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(m,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(f,Howler.ctx.currentTime)):d._panner.setOrientation(o,m,f)),a._emit("orientation",d._id);else return d._orientation}return a},Howl.prototype.pannerAttr=function(){var o=this,m=arguments,f,t,a;if(!o._webAudio)return o;if(m.length===0)return o._pannerAttr;if(m.length===1)if(typeof m[0]=="object")f=m[0],typeof t>"u"&&(f.pannerAttr||(f.pannerAttr={coneInnerAngle:f.coneInnerAngle,coneOuterAngle:f.coneOuterAngle,coneOuterGain:f.coneOuterGain,distanceModel:f.distanceModel,maxDistance:f.maxDistance,refDistance:f.refDistance,rolloffFactor:f.rolloffFactor,panningModel:f.panningModel}),o._pannerAttr={coneInnerAngle:typeof f.pannerAttr.coneInnerAngle<"u"?f.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:typeof f.pannerAttr.coneOuterAngle<"u"?f.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:typeof f.pannerAttr.coneOuterGain<"u"?f.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:typeof f.pannerAttr.distanceModel<"u"?f.pannerAttr.distanceModel:o._distanceModel,maxDistance:typeof f.pannerAttr.maxDistance<"u"?f.pannerAttr.maxDistance:o._maxDistance,refDistance:typeof f.pannerAttr.refDistance<"u"?f.pannerAttr.refDistance:o._refDistance,rolloffFactor:typeof f.pannerAttr.rolloffFactor<"u"?f.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:typeof f.pannerAttr.panningModel<"u"?f.pannerAttr.panningModel:o._panningModel});else return a=o._soundById(parseInt(m[0],10)),a?a._pannerAttr:o._pannerAttr;else m.length===2&&(f=m[0],t=parseInt(m[1],10));for(var c=o._getSoundIds(t),l=0;l<c.length;l++)if(a=o._soundById(c[l]),a){var d=a._pannerAttr;d={coneInnerAngle:typeof f.coneInnerAngle<"u"?f.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof f.coneOuterAngle<"u"?f.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof f.coneOuterGain<"u"?f.coneOuterGain:d.coneOuterGain,distanceModel:typeof f.distanceModel<"u"?f.distanceModel:d.distanceModel,maxDistance:typeof f.maxDistance<"u"?f.maxDistance:d.maxDistance,refDistance:typeof f.refDistance<"u"?f.refDistance:d.refDistance,rolloffFactor:typeof f.rolloffFactor<"u"?f.rolloffFactor:d.rolloffFactor,panningModel:typeof f.panningModel<"u"?f.panningModel:d.panningModel};var u=a._panner;u||(a._pos||(a._pos=o._pos||[0,0,-.5]),v(a,"spatial"),u=a._panner),u.coneInnerAngle=d.coneInnerAngle,u.coneOuterAngle=d.coneOuterAngle,u.coneOuterGain=d.coneOuterGain,u.distanceModel=d.distanceModel,u.maxDistance=d.maxDistance,u.refDistance=d.refDistance,u.rolloffFactor=d.rolloffFactor,u.panningModel=d.panningModel}return o},Sound.prototype.init=function(o){return function(){var m=this,f=m._parent;m._orientation=f._orientation,m._stereo=f._stereo,m._pos=f._pos,m._pannerAttr=f._pannerAttr,o.call(this),m._stereo?f.stereo(m._stereo):m._pos&&f.pos(m._pos[0],m._pos[1],m._pos[2],m._id)}}(Sound.prototype.init),Sound.prototype.reset=function(o){return function(){var m=this,f=m._parent;return m._orientation=f._orientation,m._stereo=f._stereo,m._pos=f._pos,m._pannerAttr=f._pannerAttr,m._stereo?f.stereo(m._stereo):m._pos?f.pos(m._pos[0],m._pos[1],m._pos[2],m._id):m._panner&&(m._panner.disconnect(0),m._panner=void 0,f._refreshBuffer(m)),o.call(this)}}(Sound.prototype.reset);var v=function(o,m){m=m||"spatial",m==="spatial"?(o._panner=Howler.ctx.createPanner(),o._panner.coneInnerAngle=o._pannerAttr.coneInnerAngle,o._panner.coneOuterAngle=o._pannerAttr.coneOuterAngle,o._panner.coneOuterGain=o._pannerAttr.coneOuterGain,o._panner.distanceModel=o._pannerAttr.distanceModel,o._panner.maxDistance=o._pannerAttr.maxDistance,o._panner.refDistance=o._pannerAttr.refDistance,o._panner.rolloffFactor=o._pannerAttr.rolloffFactor,o._panner.panningModel=o._pannerAttr.panningModel,typeof o._panner.positionX<"u"?(o._panner.positionX.setValueAtTime(o._pos[0],Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(o._pos[1],Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(o._pos[2],Howler.ctx.currentTime)):o._panner.setPosition(o._pos[0],o._pos[1],o._pos[2]),typeof o._panner.orientationX<"u"?(o._panner.orientationX.setValueAtTime(o._orientation[0],Howler.ctx.currentTime),o._panner.orientationY.setValueAtTime(o._orientation[1],Howler.ctx.currentTime),o._panner.orientationZ.setValueAtTime(o._orientation[2],Howler.ctx.currentTime)):o._panner.setOrientation(o._orientation[0],o._orientation[1],o._orientation[2])):(o._panner=Howler.ctx.createStereoPanner(),o._panner.pan.setValueAtTime(o._stereo,Howler.ctx.currentTime)),o._panner.connect(o._node),o._paused||o._parent.pause(o._id,!0).play(o._id,!0)}})()})(Tt);const Ke=1,Et=2,cn=4,Dt=8,dn=16,ai=.9,si=.05,li=.05,fi=1,Ut={player1:It.color["pink-aa"],player2:It.color["teal-aa"],active:It.color.black,vector:It.color.black},ui=new Tt.Howl({src:["assets/audio/disc.mp3"]}),ci=new Tt.Howl({src:["assets/audio/rim.mp3"]}),di=new Tt.Howl({src:["assets/audio/flick.mp3"]}),pi=new Tt.Howl({src:["assets/audio/center.mp3"]});class vi{constructor(){this.events={}}on(v,o){this.events[v]||(this.events[v]=[]),this.events[v].push(o)}emit(v,o){this.events[v]&&this.events[v].forEach(m=>m(o))}}function mi(){const g=new vi;let v,o,m,f,t,a,c,l,d,u,e,i=[],n,r;function s(){const B=ee.Bodies.circle(t,t,t*ut,{isStatic:!0,isSensor:!0,render:{visible:!1},label:"20"},64);ee.World.add(o,[B])}function p(){const I=Math.max(2,t*.05),O=ut*t+I/2-1,F=[];for(let U=0;U<16;U++){const L=U/16*2*Math.PI,X=t+Math.cos(L)*O,q=t+Math.sin(L)*O,Z=2*Math.PI*O/16,z=ee.Bodies.rectangle(X,q,I,Z,{isStatic:!0,isSensor:!1,angle:L,render:{visible:!1},label:"trap 20",collisionFilter:{category:cn,mask:Ke}});F.push(z)}ee.World.add(o,F)}function h(){const I=Math.max(8,t*.2),O=Vt*t+I/2-1,F=[];for(let U=0;U<32;U++){const L=U/32*2*Math.PI,X=t+Math.cos(L)*O,q=t+Math.sin(L)*O,Z=2*Math.PI*O/32,z=ee.Bodies.rectangle(X,q,I,Z,{isStatic:!0,isSensor:!1,angle:L,render:{visible:!1},label:"trap rim",collisionFilter:{category:Dt,mask:Ke}});F.push(z)}ee.World.add(o,F)}function w(){const I=Math.max(8,t*.1),O=xt*t-I/2+1,F=[];for(let U=0;U<32;U++){const L=U/32*2*Math.PI,X=t+Math.cos(L)*O,q=t+Math.sin(L)*O,Z=2*Math.PI*O/32,z=ee.Bodies.rectangle(X,q,I,Z,{isStatic:!0,isSensor:!1,angle:L,render:{visible:!1},label:"trap surface",collisionFilter:{category:dn,mask:Ke}});F.push(z)}ee.World.add(o,F)}function T(){const B=[],I=ot*t;for(let O=0;O<8;O++){const F=.375+O/8*Math.PI*2,U=t+Math.cos(F)*t*et,L=t+Math.sin(F)*t*et,X=ee.Bodies.circle(U,L,I,{isStatic:!0,restitution:fi,render:{visible:!1},collisionFilter:{category:Et,mask:Ke}});B.push(X)}ee.World.add(o,B)}function C(B,I,O,F,U,L){const X=Math.atan2(U-O,F-I),q=F-L*Math.cos(X-Math.PI/4),Z=U-L*Math.sin(X-Math.PI/4),z=F-L*Math.cos(X+Math.PI/4),te=U-L*Math.sin(X+Math.PI/4);B.moveTo(F,U),B.lineTo(q,Z),B.moveTo(F,U),B.lineTo(z,te)}function _(B){if(!r)return;const I=r.circleRadius,O=r.position;if(d&&u){const F=ee.Vector.normalise(d),U=O.x+F.x*I*1.25,L=O.y+F.y*I*1.25,X=O.x+F.x*I*1.5+d.x,q=O.y+F.y*I*1.5+d.y;B.beginPath(),B.strokeStyle=Ut.vector,B.lineWidth=2,B.moveTo(U,L),B.lineTo(X,q),B.stroke();const Z=t*.03,z=Math.PI/4,te=Math.atan2(d.y,d.x);B.beginPath(),B.moveTo(X,q),B.lineTo(X-Z*Math.cos(te-z),q-Z*Math.sin(te-z)),B.moveTo(X,q),B.lineTo(X-Z*Math.cos(te+z),q-Z*Math.sin(te+z)),B.stroke(),B.closePath()}n==="position"&&(B.beginPath(),B.strokeStyle=Ut.vector,B.lineWidth=2,B.moveTo(O.x-I*2.5,O.y),B.lineTo(O.x-I*1.25,O.y),B.moveTo(O.x+I*2.5,O.y),B.lineTo(O.x+I*1.25,O.y),B.stroke(),B.closePath(),B.lineDashOffset=0,B.beginPath(),C(B,O.x-I*1.25,O.y,O.x-I*2.5,O.y,I*.75),C(B,O.x+I*1.25,O.y,O.x+I*2.5,O.y,I*.75),B.stroke(),B.closePath())}function S(){const B=f.context;_(B)}function x(B){B.pairs.forEach(({bodyA:I,bodyB:O})=>{const F=I.label==="disc"?I:O.label==="disc"?O:null,U=I.label==="20"?I:O.label==="20"?O:null;if(F&&U&&!F.in20){const L=ee.Vector.magnitude(ee.Vector.sub(F.position,U.position)),q=F.circleRadius*.75,Z=10,z=L<q,te=F.speed<Z;z&&te&&(pi.play(),F.in20=!0,F.collisionFilter.mask=Ke|Et|Dt|cn,F.restitution=.4)}})}function y(B){B.pairs.forEach(({bodyA:I,bodyB:O})=>{const F=I.label==="disc"?I:O.label==="disc"?O:null,U=I.label==="disc"&&I.id!==F.id?I:O.label==="disc"&&O.id!==F.id?O:null,L=I.label==="trap rim"?I:O.label==="trap rim"?O:null;if(F&&L)ci.play(),F.frictionAir=.3,F.collisionFilter.mask=Ke|Et|Dt|dn;else if(F&&U){ui.play(),F.collided=!0,U.collided=!0;const X=F.player!==U.player;F.collidedOpp=X,U.collidedOpp=X}})}function b({target:B,speed:I}){if(!r)return;const O={x:B.x-r.position.x,y:B.y-r.position.y},F=ee.Vector.normalise(O);if(I){const U=I*a;l=ee.Vector.mult(F,U)}else{const U=ee.Vector.magnitude(O),L=Math.min(U,c),X=L/c*a;l=ee.Vector.mult(F,X),d=ee.Vector.mult(F,L)}}function A(B){const I={x:t,y:t},O=B.circleRadius,F=B.position,U=Math.sqrt(Math.pow(F.x-I.x,2)+Math.pow(F.y-I.y,2)),X=[{r:t*ut,score:20},{r:t*et,score:15},{r:t*at,score:10},{r:t*tt,score:5}].find(q=>U+O<q.r);return(X==null?void 0:X.score)||0}function M(B){const I={x:t,y:t},O=B.circleRadius,F=B.position,U=Math.sqrt(Math.pow(F.x-I.x,2)+Math.pow(F.y-I.y,2)),L=t*et;if(U-O<L)return!0}function P(){if(i.every(I=>I.isSleeping)){i.forEach(L=>{L.score=A(L),L.intersect15=M(L)});const I=i.some(L=>L.player!==r.player),O=i.some(L=>L.collidedOpp),F=i.filter(L=>L.player===r.player).some(L=>L.intersect15);i.forEach(L=>{I?L.player===r.player?L.id===r.id?L.valid=O:L.valid=L.collided?O:!0:L.valid=!0:L.id===r.id?L.valid=L.collided?F:L.intersect15:L.valid=L.collided?F:!0,(!L.valid||!L.score)&&ee.World.remove(o,L)});const U=i.find(L=>L.id===r.id).valid;if(i=i.filter(L=>L.score>0&&L.valid),e)g.emit("shotCompleteManual",{discs:i,valid:U});else{const L=i.map(X=>({id:X.id,player:X.player,score:X.score}));i.forEach(X=>{X.score===20&&ee.World.remove(o,X)}),i=i.filter(X=>X.score!==20),g.emit("shotComplete",{discs:L,valid:U}),i.forEach(X=>{X.valid=void 0,X.collided=void 0,X.collidedOpp=void 0,X.intersect15=void 0,X.in20=void 0})}r=null,K("idle")}}function k(){ee.Composite.clear(o,!1),ee.Events.off(v),ee.Render.stop(f),f.canvas.remove(),f.context=null,f.textures={},ee.Runner.stop(m)}function E(B){i.forEach(I=>{const O=t/B,F=I.position.x*O,U=I.position.y*O;ee.Body.setPosition(I,{x:F,y:U}),ee.Body.scale(I,O,O),ee.World.add(o,I)})}function D(){i.forEach(B=>{ee.World.remove(o,B)}),i=[],r=null,u=!1,d=void 0,l=void 0}function H(B={}){const I=B.player||"player1",O=B.state||"position",F=B.x?B.x*t*2:t,U=B.y?B.y*t*2:I==="player1"?t+t*tt:t-t*tt,L=t*Un,X=si,q=ai,Z=li,z=ee.Bodies.circle(F,U,L,{density:X,restitution:q,frictionAir:Z,render:{fillStyle:Ut[I],strokeStyle:"#fff",lineWidth:1},label:"disc",collisionFilter:{category:Ke,mask:Ke|Et|Dt},sleepThreshold:60,isSleeping:!0},64);z.player=I,i.push(z),r=z,ee.Events.on(z,"sleepStart",P),ee.World.add(o,z),a=r.mass*t*7e-4,K(O)}function R(B){if(!r||n!=="position")return;const I=2,O=[45-I,135+I],F=t*tt;let U=B-t;U=Math.max(-F,Math.min(F,U));const L=r.player==="player1",X=L?-1:1,q=O[L?0:1]*X*-1,Z=O[L?1:0]*X*-1,z=t-Math.sqrt(Math.max(0,Math.pow(F,2)-Math.pow(U,2)))*X,te={x:t+U,y:z},Ae={x:t,y:t},me=ee.Vector.angle(Ae,te)*180/Math.PI;if(me>q&&me<Z)ee.Body.setPosition(r,te);else if(me<=q){const pe=q*Math.PI/180,we=Math.cos(pe)*F,ue=Math.sin(pe)*F,He=t+we,Ge=t+ue;ee.Body.setPosition(r,{x:He,y:Ge})}else if(me>=Z){const pe=Z*Math.PI/180,we=Math.cos(pe)*F,ue=Math.sin(pe)*F,He=t+we,Ge=t+ue;ee.Body.setPosition(r,{x:He,y:Ge})}}function N({degrees:B,speed:I}){const O=(B-90)*Math.PI/180,F=r.position.x+Math.cos(O),U=r.position.y+Math.sin(O);return{x:r.position.x+(F-r.position.x)*I,y:r.position.y+(U-r.position.y)*I}}function Y({degrees:B,power:I,visible:O}){if(!r||n!=="shoot")return;ne(O===void 0?!0:O);const U=Math.max(.01,I)*c,L=N({degrees:B,speed:U});b({target:L})}function G(){!r||n!=="shoot"||(K("play"),ne(!1),ee.Body.applyForce(r,r.position,l),di.play())}function $(){!r||n!=="shoot"||G()}function K(B){n=B}function ne(B){u=B}function de({element:B,width:I,tutorial:O}){e=!!O;let F;v?(k(),F=t):K("idle");const U=I;t=I/2,c=t*.2,v=ee.Engine.create({enableSleeping:!0}),o=v.world,v.gravity.y=0,m=ee.Runner.create(),f=ee.Render.create({element:B,engine:v,options:{width:I,height:U,wireframes:!1,pixelRatio:"auto",background:"transparent",hasBounds:!0,showSleeping:!1}}),E(F),s(),T(),p(),h(),w(),ee.Events.on(f,"afterRender",S),ee.Runner.run(m,v),ee.Render.run(f),ee.Events.on(v,"collisionActive",x),ee.Events.on(v,"collisionStart",y),i.length||g.emit("ready")}return{removeDiscs:D,addDisc:H,positionDisc:R,aimDisc:Y,release:$,flickDisc:G,setState:K,setIndicatorVisible:ne,init:de,on:(B,I)=>g.on(B,I)}}function Ft(g){return Object.keys(g).reduce((v,o)=>g[o]===void 0?v:v+`${o}:${g[o]};`,"")}function Xt(g){return g?!0:void 0}Ft({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function pn(g){function v(o){return o(g),()=>{}}return{subscribe:v}}function Yt(g){if(!Xn)return null;const v=document.querySelector(`[data-melt-id="${g}"]`);return yt(v)?v:null}const _t=g=>new Proxy(g,{get(v,o,m){return Reflect.get(v,o,m)},ownKeys(v){return Reflect.ownKeys(v).filter(o=>o!=="action")}}),vn=g=>typeof g=="function";Kt("empty");function Kt(g,v){const{stores:o,action:m,returned:f}=v??{},t=(()=>{if(o&&f)return Gt(o,c=>{const l=f(c);if(vn(l)){const d=(...u)=>_t({...l(...u),[`data-melt-${g}`]:"",action:m??qe});return d.action=m??qe,d}return _t({...l,[`data-melt-${g}`]:"",action:m??qe})});{const c=f,l=c==null?void 0:c();if(vn(l)){const d=(...u)=>_t({...l(...u),[`data-melt-${g}`]:"",action:m??qe});return d.action=m??qe,pn(d)}return pn(_t({...l,[`data-melt-${g}`]:"",action:m??qe}))}})(),a=m??(()=>{});return a.subscribe=t.subscribe,a}function mn(g,v){const{stores:o,returned:m,action:f}=v,{subscribe:t}=Gt(o,c=>m(c).map(l=>_t({...l,[`data-melt-${g}`]:"",action:f??qe}))),a=f??(()=>{});return a.subscribe=t,a}function hi(g){const v=t=>t?`${g}-${t}`:g,o=t=>`data-melt-${g}${t?`-${t}`:""}`,m=t=>`[data-melt-${g}${t?`-${t}`:""}]`;return{name:v,attribute:o,selector:m,getEl:t=>document.querySelector(m(t))}}const Xn=typeof document<"u";function yt(g){return g instanceof HTMLElement}function gi(...g){return(...v)=>{for(const o of g)typeof o=="function"&&o(...v)}}function qe(){}function st(g,v,o,m){const f=Array.isArray(v)?v:[v];return f.forEach(t=>g.addEventListener(t,o,m)),()=>{f.forEach(t=>g.removeEventListener(t,o,m))}}function _i(g,v,o,m){const f=Array.isArray(v)?v:[v];if(typeof o=="function"){const t=xi(a=>o(a));return f.forEach(a=>g.addEventListener(a,t,m)),()=>{f.forEach(a=>g.removeEventListener(a,t,m))}}return()=>void 0}function yi(g){const v=g.currentTarget;if(!yt(v))return null;const o=new CustomEvent(`m-${g.type}`,{detail:{originalEvent:g},cancelable:!0});return v.dispatchEvent(o),o}function xi(g){return v=>{const o=yi(v);if(!(o!=null&&o.defaultPrevented))return g(v)}}const Si=g=>{try{Kn(g)}catch{return g}};function Yn(g,...v){const o={};for(const m of Object.keys(g))v.includes(m)||(o[m]=g[m]);return o}function ze(g){return{...g,get:()=>qn(g)}}ze.writable=function(g){const v=rt(g);let o=g;return{subscribe:v.subscribe,set(m){v.set(m),o=m},update(m){const f=m(o);v.set(f),o=f},get(){return o}}};ze.derived=function(g,v){const o=new Map,m=()=>{const t=Array.isArray(g)?g.map(a=>a.get()):g.get();return v(t)};return{get:m,subscribe:t=>{const a=[];return(Array.isArray(g)?g:[g]).forEach(l=>{a.push(l.subscribe(()=>{t(m())}))}),t(m()),o.set(t,a),()=>{const l=o.get(t);if(l)for(const d of l)d();o.delete(t)}}}};const wi=(g,v)=>{const o=ze(g),m=(t,a)=>{o.update(c=>{const l=t(c);let d=l;return v&&(d=v({curr:c,next:l})),a==null||a(d),d})};return{...o,update:m,set:t=>{m(()=>t)}}};let bi="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ai=(g=21)=>{let v="",o=g;for(;o--;)v+=bi[Math.random()*64|0];return v};function Ti(){return Ai(10)}function Pi(g){return g.reduce((v,o)=>(v[o]=Ti(),v),{})}const De={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"};function hn(g,v){let o;const m=Gt(g,t=>{o==null||o(),o=v(t)}).subscribe(qe),f=()=>{m(),o==null||o()};return Si(f),f}function Mi(g){const v={};return Object.keys(g).forEach(o=>{const m=o,f=g[m];v[m]=ze(rt(f))}),v}function Qt(g,v,o,m){const f=(g-(isNaN(v)?0:v))%m;let t=Math.abs(f)*2>=m?g+Math.sign(f)*(m-Math.abs(f)):g-f;isNaN(v)?!isNaN(o)&&t>o&&(t=Math.floor(o/m)*m):t<v?t=v:!isNaN(o)&&t>o&&(t=v+Math.floor((o-v)/m)*m);const a=m.toString(),c=a.indexOf("."),l=c>=0?a.length-c:0;if(l>0){const d=Math.pow(10,l);t=Math.round(t*d)/d}return t}ft(void 0,g=>{function v(m){g(m),g(void 0)}return st(document,"pointerup",v,{passive:!1,capture:!0})});ft(void 0,g=>{function v(m){m&&m.key===De.ESCAPE&&g(m),g(void 0)}return st(document,"keydown",v,{passive:!1})});ft(!1),ft(!1),ft(void 0);const Ci={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...Yn(Ci,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});const ki={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Bt}=hi("slider"),Ii=g=>{const v={...ki,...g},o=Mi(Yn(v,"value","onValueChange","defaultValue")),{min:m,max:f,step:t,orientation:a,dir:c,disabled:l}=o,d=v.value??rt(v.defaultValue),u=wi(d,v==null?void 0:v.onValueChange),e=ze(rt(!1)),i=ze(rt(0)),n=ze(rt(null)),r=Pi(["root"]),s=(x,y)=>{u.update(b=>{if(!b)return[x];if(b[y]===x)return b;const A=[...b],M=A[y]>x?-1:1;function P(){A[y]=A[y+M],A[y+M]=x;const H=p();H&&(H[y+M].focus(),n.set({thumb:H[y+M],index:y+M}))}if(M===-1&&x<A[y-1])return P(),A;if(M===1&&x>A[y+1])return P(),A;const k=m.get(),E=f.get(),D=t.get();return A[y]=Qt(x,k,E,D),A})},p=()=>{const x=Yt(r.root);return x?Array.from(x.querySelectorAll('[data-melt-part="thumb"]')).filter(y=>yt(y)):null},h=Gt([m,f],([x,y])=>b=>(b-x)/(y-x)*100),w=ze.derived([a,c],([x,y])=>x==="horizontal"?y==="rtl"?"rl":"lr":y==="rtl"?"tb":"bt"),T=Kt(Bt(),{stores:[l,a,c],returned:([x,y,b])=>({dir:b,disabled:Xt(x),"data-disabled":Xt(x),"data-orientation":y,style:x?void 0:`touch-action: ${y==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":r.root})}),C=Kt(Bt("range"),{stores:[u,w,h],returned:([x,y,b])=>{const A=x.length>1?b(Math.min(...x)??0):0,M=100-b(Math.max(...x)??0),P={position:"absolute"};switch(y){case"lr":{P.left=`${A}%`,P.right=`${M}%`;break}case"rl":{P.right=`${A}%`,P.left=`${M}%`;break}case"bt":{P.bottom=`${A}%`,P.top=`${M}%`;break}case"tb":{P.top=`${A}%`,P.bottom=`${M}%`;break}}return{style:Ft(P)}}}),_=mn(Bt("thumb"),{stores:[u,h,m,f,l,a,w],returned:([x,y,b,A,M,P,k])=>Array.from({length:x.length||1},(D,H)=>{i.get()<x.length&&i.update($=>$+1);const N=x[H],Y=`${y(N)}%`,G={position:"absolute"};switch(k){case"lr":{G.left=Y,G.translate="-50% 0";break}case"rl":{G.right=Y,G.translate="50% 0";break}case"bt":{G.bottom=Y,G.translate="0 50%";break}case"tb":{G.top=Y,G.translate="0 -50%";break}}return{role:"slider","aria-valuemin":b,"aria-valuemax":A,"aria-valuenow":N,"aria-disabled":Xt(M),"aria-orientation":P,"data-melt-part":"thumb","data-value":N,style:Ft(G),tabindex:M?-1:0}}),action:x=>({destroy:_i(x,"keydown",b=>{if(l.get())return;const A=b.currentTarget;if(!yt(A))return;const M=p();if(!(M!=null&&M.length))return;const P=M.indexOf(A);if(i.set(P),![De.ARROW_LEFT,De.ARROW_RIGHT,De.ARROW_UP,De.ARROW_DOWN,De.HOME,De.END].includes(b.key))return;b.preventDefault();const k=m.get(),E=f.get(),D=t.get(),H=u.get(),R=a.get(),N=w.get(),Y=H[P];switch(b.key){case De.HOME:{s(k,P);break}case De.END:{s(E,P);break}case De.ARROW_LEFT:{if(R!=="horizontal")break;b.metaKey?s(N==="rl"?E:k,P):N==="rl"&&Y<E?s(Y+D,P):N==="lr"&&Y>k&&s(Y-D,P);break}case De.ARROW_RIGHT:{if(R!=="horizontal")break;b.metaKey?s(N==="rl"?k:E,P):N==="rl"&&Y>k?s(Y-D,P):N==="lr"&&Y<E&&s(Y+D,P);break}case De.ARROW_UP:{b.metaKey?s(N==="tb"?k:E,P):N==="tb"&&Y>k?s(Y-D,P):N!=="tb"&&Y<E&&s(Y+D,P);break}case De.ARROW_DOWN:{b.metaKey?s(N==="tb"?E:k,P):N==="tb"&&Y<E?s(Y+D,P):N!=="tb"&&Y>k&&s(Y-D,P);break}}})})}),S=mn(Bt("tick"),{stores:[u,m,f,t,w],returned:([x,y,b,A,M])=>{const P=b-y;let k=Math.ceil(P/A);return P%A==0&&k++,Array.from({length:k},(E,D)=>{const H=`${D*(A/(b-y))*100}%`,R=D===0,N=D===k-1,Y=R?0:N?-100:-50,G={position:"absolute"};switch(M){case"lr":{G.left=H,G.translate=`${Y}% 0`;break}case"rl":{G.right=H,G.translate=`${-Y}% 0`;break}case"bt":{G.bottom=H,G.translate=`0 ${-Y}%`;break}case"tb":{G.top=H,G.translate=`0 ${Y}%`;break}}const $=y+D*A;return{"data-bounded":(x.length===1?$<=x[0]:x[0]<=$&&$<=x[x.length-1])?!0:void 0,"data-value":$,style:Ft(G)}})}});return hn([T,m,f,l,a,w,t],([x,y,b,A,M,P,k])=>{if(!Xn||A)return;const E=(G,$,K,ne)=>{const B=(G-K)/(ne-K)*(b-y)+y;if(B<y)s(y,$);else if(B>b)s(b,$);else{const I=k,O=y,F=Math.floor((B-O)/I),U=O+F*I+I/2,L=O+(F+1)*I+I/2,X=B>=U&&B<L?(F+1)*I+O:F*I+O;X<=b&&s(X,$)}},D=G=>{const $=p();if(!$)return;$.forEach(B=>B.blur());const K=$.map(B=>{if(M==="horizontal"){const{left:I,right:O}=B.getBoundingClientRect();return Math.abs(G.clientX-(I+O)/2)}else{const{top:I,bottom:O}=B.getBoundingClientRect();return Math.abs(G.clientY-(I+O)/2)}}),ne=$[K.indexOf(Math.min(...K))],de=$.indexOf(ne);return{thumb:ne,index:de}},H=G=>{if(!e.get())return;G.preventDefault(),G.stopPropagation();const $=Yt(x["data-melt-id"]),K=n.get();if(!$||!K)return;K.thumb.focus();const{left:ne,right:de,top:B,bottom:I}=$.getBoundingClientRect();switch(P){case"lr":{E(G.clientX,K.index,ne,de);break}case"rl":{E(G.clientX,K.index,de,ne);break}case"bt":{E(G.clientY,K.index,I,B);break}case"tb":{E(G.clientY,K.index,B,I);break}}},R=G=>{if(G.button!==0)return;const $=Yt(x["data-melt-id"]),K=D(G);if(!K||!$)return;const ne=G.target;!yt(ne)||!$.contains(ne)||(G.preventDefault(),n.set(K),K.thumb.focus(),e.set(!0),H(G))},N=()=>{e.set(!1)},Y=gi(st(document,"pointerdown",R),st(document,"pointerup",N),st(document,"pointerleave",N),st(document,"pointermove",H));return()=>{Y()}}),hn([t,m,f,u],function([y,b,A,M]){const P=E=>Qt(E,b,A,y)===E,k=E=>Qt(E,b,A,y);M.some(E=>!P(E))&&u.update(E=>E.map(k))}),{elements:{root:T,thumbs:_,range:C,ticks:S},states:{value:u},options:o}};function Ei(g,v){const o={};return v.forEach(m=>{o[m]={[`data-${g}-${m}`]:""}}),m=>o[m]}function Di(){const g=Vn();return v=>{const{originalEvent:o}=v.detail,{cancelable:m}=v,f=o.type;g(f,{originalEvent:o,currentTarget:o.currentTarget},{cancelable:m})||v.preventDefault()}}function Bi(g){const v={};for(const o in g){const m=g[o];m!==void 0&&(v[o]=m)}return v}function Oi(g){return function(v,o){if(o===void 0)return;const m=g[v];m&&m.set(o)}}function Qn(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Ri(g){const{NAME:v,PARTS:o}=Qn(),m=Ei(v,o),f={...Ii(Bi(g)),getAttrs:m};return zn(v,f),{...f,updateOption:Oi(f.options)}}function Zn(){const{NAME:g}=Qn();return Jn(g)}const Fi=g=>({builder:g&4,ticks:g&8,thumbs:g&16}),gn=g=>({builder:g[2],ticks:g[3],thumbs:g[4]}),Vi=g=>({builder:g&4,ticks:g&8,thumbs:g&16}),_n=g=>({builder:g[2],ticks:g[3],thumbs:g[4]});function Li(g){let v,o,m,f;const t=g[19].default,a=Lt(t,g,g[18],gn);let c=[g[2],g[8]],l={};for(let d=0;d<c.length;d+=1)l=Qe(l,c[d]);return{c(){v=ie("span"),a&&a.c(),this.h()},l(d){v=re(d,"SPAN",{});var u=oe(v);a&&a.l(u),u.forEach(Q),this.h()},h(){dt(v,l)},m(d,u){fe(d,v,u),a&&a.m(v,null),g[20](v),o=!0,m||(f=Jt(g[2].action(v)),m=!0)},p(d,u){a&&a.p&&(!o||u&262172)&&Ht(a,t,d,d[18],o?Nt(t,d[18],u,Fi):Wt(d[18]),gn),dt(v,l=tn(c,[u&4&&d[2],u&256&&d[8]]))},i(d){o||(le(a,d),o=!0)},o(d){ce(a,d),o=!1},d(d){d&&Q(v),a&&a.d(d),g[20](null),m=!1,f()}}}function Hi(g){let v;const o=g[19].default,m=Lt(o,g,g[18],_n);return{c(){m&&m.c()},l(f){m&&m.l(f)},m(f,t){m&&m.m(f,t),v=!0},p(f,t){m&&m.p&&(!v||t&262172)&&Ht(m,o,f,f[18],v?Nt(o,f[18],t,Vi):Wt(f[18]),_n)},i(f){v||(le(m,f),v=!0)},o(f){ce(m,f),v=!1},d(f){m&&m.d(f)}}}function Wi(g){let v,o,m,f;const t=[Hi,Li],a=[];function c(l,d){return l[1]?0:1}return v=c(g),o=a[v]=t[v](g),{c(){o.c(),m=Re()},l(l){o.l(l),m=Re()},m(l,d){a[v].m(l,d),fe(l,m,d),f=!0},p(l,[d]){let u=v;v=c(l),v===u?a[v].p(l,d):(Je(),ce(a[u],1,1,()=>{a[u]=null}),$e(),o=a[v],o?o.p(l,d):(o=a[v]=t[v](l),o.c()),le(o,1),o.m(m.parentNode,m))},i(l){f||(le(o),f=!0)},o(l){ce(o),f=!1},d(l){l&&Q(m),a[v].d(l)}}}function Ni(g,v,o){let m;const f=["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"];let t=ct(v,f),a,c,l,{$$slots:d={},$$scope:u}=v,{disabled:e=void 0}=v,{min:i=void 0}=v,{max:n=void 0}=v,{step:r=void 0}=v,{orientation:s=void 0}=v,{dir:p=void 0}=v,{value:h=void 0}=v,{onValueChange:w=void 0}=v,{asChild:T=!1}=v,{el:C=void 0}=v;const{elements:{root:_,ticks:S,thumbs:x},states:{value:y},updateOption:b,getAttrs:A}=Ri({disabled:e,dir:p,min:i,max:n,step:r,orientation:s,defaultValue:h,onValueChange:({next:k})=>(h!==k&&(w==null||w(k),o(9,h=k)),k)});Ot(g,_,k=>o(17,a=k)),Ot(g,S,k=>o(3,c=k)),Ot(g,x,k=>o(4,l=k));const M=A("root");function P(k){nt[k?"unshift":"push"](()=>{C=k,o(0,C)})}return g.$$set=k=>{v=Qe(Qe({},v),zt(k)),o(8,t=ct(v,f)),"disabled"in k&&o(10,e=k.disabled),"min"in k&&o(11,i=k.min),"max"in k&&o(12,n=k.max),"step"in k&&o(13,r=k.step),"orientation"in k&&o(14,s=k.orientation),"dir"in k&&o(15,p=k.dir),"value"in k&&o(9,h=k.value),"onValueChange"in k&&o(16,w=k.onValueChange),"asChild"in k&&o(1,T=k.asChild),"el"in k&&o(0,C=k.el),"$$scope"in k&&o(18,u=k.$$scope)},g.$$.update=()=>{g.$$.dirty&512&&h!==void 0&&y.set(h),g.$$.dirty&1024&&b("disabled",e),g.$$.dirty&2048&&b("min",i),g.$$.dirty&4096&&b("max",n),g.$$.dirty&8192&&b("step",r),g.$$.dirty&16384&&b("orientation",s),g.$$.dirty&32768&&b("dir",p),g.$$.dirty&131072&&o(2,m=a),g.$$.dirty&4&&Object.assign(m,M)},[C,T,m,c,l,_,S,x,t,h,e,i,n,r,s,p,w,a,u,d,P]}class Gi extends vt{constructor(v){super(),mt(this,v,Ni,Wi,pt,{disabled:10,min:11,max:12,step:13,orientation:14,dir:15,value:9,onValueChange:16,asChild:1,el:0})}}const Ui=g=>({builder:g&4}),yn=g=>({builder:g[2]});function Xi(g){let v,o,m,f=[g[2],g[4]],t={};for(let a=0;a<f.length;a+=1)t=Qe(t,f[a]);return{c(){v=ie("span"),this.h()},l(a){v=re(a,"SPAN",{}),oe(v).forEach(Q),this.h()},h(){dt(v,t)},m(a,c){fe(a,v,c),g[8](v),o||(m=Jt(g[2].action(v)),o=!0)},p(a,c){dt(v,t=tn(f,[c&4&&a[2],c&16&&a[4]]))},i:Ye,o:Ye,d(a){a&&Q(v),g[8](null),o=!1,m()}}}function Yi(g){let v;const o=g[7].default,m=Lt(o,g,g[6],yn);return{c(){m&&m.c()},l(f){m&&m.l(f)},m(f,t){m&&m.m(f,t),v=!0},p(f,t){m&&m.p&&(!v||t&68)&&Ht(m,o,f,f[6],v?Nt(o,f[6],t,Ui):Wt(f[6]),yn)},i(f){v||(le(m,f),v=!0)},o(f){ce(m,f),v=!1},d(f){m&&m.d(f)}}}function Qi(g){let v,o,m,f;const t=[Yi,Xi],a=[];function c(l,d){return l[1]?0:1}return v=c(g),o=a[v]=t[v](g),{c(){o.c(),m=Re()},l(l){o.l(l),m=Re()},m(l,d){a[v].m(l,d),fe(l,m,d),f=!0},p(l,[d]){let u=v;v=c(l),v===u?a[v].p(l,d):(Je(),ce(a[u],1,1,()=>{a[u]=null}),$e(),o=a[v],o?o.p(l,d):(o=a[v]=t[v](l),o.c()),le(o,1),o.m(m.parentNode,m))},i(l){f||(le(o),f=!0)},o(l){ce(o),f=!1},d(l){l&&Q(m),a[v].d(l)}}}function Zi(g,v,o){let m;const f=["asChild","el"];let t=ct(v,f),a,{$$slots:c={},$$scope:l}=v,{asChild:d=!1}=v,{el:u=void 0}=v;const{elements:{range:e},getAttrs:i}=Zn();Ot(g,e,s=>o(5,a=s));const n=i("range");function r(s){nt[s?"unshift":"push"](()=>{u=s,o(0,u)})}return g.$$set=s=>{v=Qe(Qe({},v),zt(s)),o(4,t=ct(v,f)),"asChild"in s&&o(1,d=s.asChild),"el"in s&&o(0,u=s.el),"$$scope"in s&&o(6,l=s.$$scope)},g.$$.update=()=>{g.$$.dirty&32&&o(2,m=a),g.$$.dirty&4&&Object.assign(m,n)},[u,d,m,e,t,a,l,c,r]}class ji extends vt{constructor(v){super(),mt(this,v,Zi,Qi,pt,{asChild:1,el:0})}}const Ki=g=>({builder:g&4}),xn=g=>({builder:g[2]});function qi(g){let v,o,m,f=[g[2],g[4]],t={};for(let a=0;a<f.length;a+=1)t=Qe(t,f[a]);return{c(){v=ie("span"),this.h()},l(a){v=re(a,"SPAN",{}),oe(v).forEach(Q),this.h()},h(){dt(v,t)},m(a,c){fe(a,v,c),g[8](v),o||(m=[Jt(g[2].action(v)),lt(v,"m-keydown",g[3])],o=!0)},p(a,c){dt(v,t=tn(f,[c&4&&a[2],c&16&&a[4]]))},i:Ye,o:Ye,d(a){a&&Q(v),g[8](null),o=!1,Ln(m)}}}function zi(g){let v;const o=g[7].default,m=Lt(o,g,g[6],xn);return{c(){m&&m.c()},l(f){m&&m.l(f)},m(f,t){m&&m.m(f,t),v=!0},p(f,t){m&&m.p&&(!v||t&68)&&Ht(m,o,f,f[6],v?Nt(o,f[6],t,Ki):Wt(f[6]),xn)},i(f){v||(le(m,f),v=!0)},o(f){ce(m,f),v=!1},d(f){m&&m.d(f)}}}function Ji(g){let v,o,m,f;const t=[zi,qi],a=[];function c(l,d){return l[1]?0:1}return v=c(g),o=a[v]=t[v](g),{c(){o.c(),m=Re()},l(l){o.l(l),m=Re()},m(l,d){a[v].m(l,d),fe(l,m,d),f=!0},p(l,[d]){let u=v;v=c(l),v===u?a[v].p(l,d):(Je(),ce(a[u],1,1,()=>{a[u]=null}),$e(),o=a[v],o?o.p(l,d):(o=a[v]=t[v](l),o.c()),le(o,1),o.m(m.parentNode,m))},i(l){f||(le(o),f=!0)},o(l){ce(o),f=!1},d(l){l&&Q(m),a[v].d(l)}}}function $i(g,v,o){let m;const f=["asChild","el","thumb"];let t=ct(v,f),{$$slots:a={},$$scope:c}=v,{asChild:l=!1}=v,{el:d=void 0}=v,{thumb:u}=v;const{getAttrs:e}=Zn(),i=Di(),n=e("thumb");function r(s){nt[s?"unshift":"push"](()=>{d=s,o(0,d)})}return g.$$set=s=>{v=Qe(Qe({},v),zt(s)),o(4,t=ct(v,f)),"asChild"in s&&o(1,l=s.asChild),"el"in s&&o(0,d=s.el),"thumb"in s&&o(5,u=s.thumb),"$$scope"in s&&o(6,c=s.$$scope)},g.$$.update=()=>{g.$$.dirty&32&&o(2,m=u),g.$$.dirty&4&&Object.assign(m,n)},[d,l,m,i,t,u,c,a,r]}class er extends vt{constructor(v){super(),mt(this,v,$i,Ji,pt,{asChild:1,el:0,thumb:5})}}function Sn(g,v,o){const m=g.slice();return m[10]=v[o],m}function wn(g){let v,o;return v=new er({props:{thumb:g[10],class:g[6]}}),{c(){St(v.$$.fragment)},l(m){wt(v.$$.fragment,m)},m(m,f){bt(v,m,f),o=!0},p(m,f){const t={};f&512&&(t.thumb=m[10]),f&64&&(t.class=m[6]),v.$set(t)},i(m){o||(le(v.$$.fragment,m),o=!0)},o(m){ce(v.$$.fragment,m),o=!1},d(m){At(v,m)}}}function tr(g){let v,o,m,f,t;o=new ji({});let a=We(g[9]),c=[];for(let d=0;d<a.length;d+=1)c[d]=wn(Sn(g,a,d));const l=d=>ce(c[d],1,1,()=>{c[d]=null});return{c(){v=ie("span"),St(o.$$.fragment),m=xe();for(let d=0;d<c.length;d+=1)c[d].c();f=Re(),this.h()},l(d){v=re(d,"SPAN",{class:!0});var u=oe(v);wt(o.$$.fragment,u),u.forEach(Q),m=Se(d);for(let e=0;e<c.length;e+=1)c[e].l(d);f=Re(),this.h()},h(){se(v,"class","bg svelte-6mr5k")},m(d,u){fe(d,v,u),bt(o,v,null),fe(d,m,u);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(d,u);fe(d,f,u),t=!0},p(d,u){if(u&576){a=We(d[9]);let e;for(e=0;e<a.length;e+=1){const i=Sn(d,a,e);c[e]?(c[e].p(i,u),le(c[e],1)):(c[e]=wn(i),c[e].c(),le(c[e],1),c[e].m(f.parentNode,f))}for(Je(),e=a.length;e<c.length;e+=1)l(e);$e()}},i(d){if(!t){le(o.$$.fragment,d);for(let u=0;u<a.length;u+=1)le(c[u]);t=!0}},o(d){ce(o.$$.fragment,d),c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)ce(c[u]);t=!1},d(d){d&&(Q(v),Q(m),Q(f)),At(o),gt(c,d)}}}function nr(g){let v,o,m,f,t,a,c;function l(u){g[8](u)}let d={min:g[2],max:g[3],step:g[5],disabled:g[4],$$slots:{default:[tr,({thumbs:u})=>({9:u}),({thumbs:u})=>u?512:0]},$$scope:{ctx:g}};return g[0]!==void 0&&(d.value=g[0]),t=new Gi({props:d}),nt.push(()=>en(t,"value",l)),{c(){v=ie("div"),o=ie("p"),m=Ce(g[1]),f=xe(),St(t.$$.fragment),this.h()},l(u){v=re(u,"DIV",{class:!0});var e=oe(v);o=re(e,"P",{class:!0});var i=oe(o);m=ke(i,g[1]),i.forEach(Q),f=Se(e),wt(t.$$.fragment,e),e.forEach(Q),this.h()},h(){se(o,"class","label svelte-6mr5k"),se(v,"class","c svelte-6mr5k")},m(u,e){fe(u,v,e),j(v,o),j(o,m),j(v,f),bt(t,v,null),c=!0},p(u,[e]){(!c||e&2)&&Xe(m,u[1]);const i={};e&4&&(i.min=u[2]),e&8&&(i.max=u[3]),e&32&&(i.step=u[5]),e&16&&(i.disabled=u[4]),e&8768&&(i.$$scope={dirty:e,ctx:u}),!a&&e&1&&(a=!0,i.value=u[0],$t(()=>a=!1)),t.$set(i)},i(u){c||(le(t.$$.fragment,u),c=!0)},o(u){ce(t.$$.fragment,u),c=!1},d(u){u&&Q(v),At(t)}}}function ir(g,v,o){let m,{label:f}=v,{value:t}=v,{min:a}=v,{max:c}=v,{disabled:l}=v,{step:d}=v,{animate:u}=v;function e(i){t=i,o(0,t)}return g.$$set=i=>{"label"in i&&o(1,f=i.label),"value"in i&&o(0,t=i.value),"min"in i&&o(2,a=i.min),"max"in i&&o(3,c=i.max),"disabled"in i&&o(4,l=i.disabled),"step"in i&&o(5,d=i.step),"animate"in i&&o(7,u=i.animate)},g.$$.update=()=>{g.$$.dirty&128&&o(6,m=u?"animate":"")},[t,f,a,c,l,d,m,u,e]}class rr extends vt{constructor(v){super(),mt(this,v,ir,nr,pt,{label:1,value:0,min:2,max:3,disabled:4,step:5,animate:7})}}function or(g){let v,o,m,f;return{c(){v=ie("button"),o=Ce("Shoot"),this.h()},l(t){v=re(t,"BUTTON",{});var a=oe(v);o=ke(a,"Shoot"),a.forEach(Q),this.h()},h(){v.disabled=g[0]},m(t,a){fe(t,v,a),j(v,o),m||(f=[lt(v,"pointerdown",g[1]),lt(v,"pointerup",g[2]),lt(v,"pointerleave",g[2])],m=!0)},p(t,[a]){a&1&&(v.disabled=t[0])},i:Ye,o:Ye,d(t){t&&Q(v),m=!1,Ln(f)}}}function ar(g,v,o){let{value:m}=v,{disabled:f}=v;const t=Vn();let a,c;function l(){let u=-1;c=!0,a=setInterval(()=>{m>=1?u=-1:m<=0&&(u=1),o(3,m+=.01*u),o(3,m=+m.toFixed(2))},17)}function d(){c&&(clearInterval(a),t("release",m),o(3,m=0),c=!1)}return g.$$set=u=>{"value"in u&&o(3,m=u.value),"disabled"in u&&o(0,f=u.disabled)},[f,l,d,m]}class sr extends vt{constructor(v){super(),mt(this,v,ar,or,pt,{value:3,disabled:0})}}const lr=[{state:"shoot",player:"player1",random:!0,power:.235,degrees:0}],fr=[{x:.3,y:.6,player:"player1"},{state:"position",player:"player1"}],ur=[{state:"shoot",player:"player2",power:.17,degrees:177}],cr=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{x:.43462246777163904,y:.8876611418047882,state:"shoot",player:"player1",power:.35,degrees:15}],dr=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"position",player:"player1"}],pr=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"shoot",player:"player1",power:.15,degrees:-3}],vr=[{x:.45,y:.44,player:"player1",score:15,valid:!0},{x:.7,y:.4,player:"player1",score:10,valid:!0},{x:.8,y:.4,player:"player2",score:5,valid:!0},{x:.2,y:.4,player:"player2",score:5,valid:!0},{x:.3,y:.6,player:"player2",score:10,valid:!0,state:"idle"}],mr=[{x:.50347,y:.28819,player:"player2"},{x:.54513,y:.19965,player:"player2"},{x:.6163,y:.324,player:"player2"},{player:"player1",state:"position"}],hr={open:lr,opentry:fr,fifteen:ur,opponent:cr,opponenttry:dr,invalid:pr,score:vr,tripletry:mr};function bn(g,v,o){const m=g.slice();return m[48]=v[o],m}function An(g,v,o){const m=g.slice();return m[51]=v[o],m}function Tn(g,v,o){const m=g.slice();m[54]=v[o];const f=m[23][m[54]];return m[55]=f,m}function Pn(g,v,o){const m=g.slice();return m[54]=v[o],m[59]=o,m}function Mn(g){let v;return{c(){v=ie("div"),this.h()},l(o){v=re(o,"DIV",{class:!0,style:!0}),oe(v).forEach(Q),this.h()},h(){se(v,"class",ei(g[54])+" svelte-1ebjqcn"),ae(v,"--w",Math.floor(Ne[g[54]]*g[0])+"px"),ae(v,"--b",(Ne[g[54]]-Ne[g[22][g[59]+1]])/2*g[0]+"px")},m(o,m){fe(o,v,m)},p(o,m){m[0]&1&&ae(v,"--w",Math.floor(Ne[o[54]]*o[0])+"px"),m[0]&1&&ae(v,"--b",(Ne[o[54]]-Ne[o[22][o[59]+1]])/2*o[0]+"px")},d(o){o&&Q(v)}}}function Cn(g){let v,o=g[55]+"",m;return{c(){v=ie("span"),m=Ce(o),this.h()},l(f){v=re(f,"SPAN",{class:!0,style:!0});var t=oe(v);m=ke(t,o),t.forEach(Q),this.h()},h(){se(v,"class","text text-"+g[54]+" svelte-1ebjqcn"),ae(v,"--w",Math.floor(g[0]/2-Ne[g[54]]*g[0]/2)+"px"),ae(v,"--d",Ne[g[54]]*g[0]+"px")},m(f,t){fe(f,v,t),j(v,m)},p(f,t){t[0]&1&&ae(v,"--w",Math.floor(f[0]/2-Ne[f[54]]*f[0]/2)+"px"),t[0]&1&&ae(v,"--d",Ne[f[54]]*f[0]+"px")},d(f){f&&Q(v)}}}function kn(g){let v;return{c(){v=ie("div"),this.h()},l(o){v=re(o,"DIV",{class:!0,style:!0}),oe(v).forEach(Q),this.h()},h(){se(v,"class","quadrant-line svelte-1ebjqcn"),ae(v,"--w",(tt-at)*g[0]/2+"px"),ae(v,"--x",at*g[0]/2+"px"),ae(v,"--angle",g[51]+"deg")},m(o,m){fe(o,v,m)},p(o,m){m[0]&1&&ae(v,"--w",(tt-at)*o[0]/2+"px"),m[0]&1&&ae(v,"--x",at*o[0]/2+"px")},d(o){o&&Q(v)}}}function In(g){let v;return{c(){v=ie("div"),this.h()},l(o){v=re(o,"DIV",{class:!0,style:!0}),oe(v).forEach(Q),this.h()},h(){se(v,"class","peg svelte-1ebjqcn"),ae(v,"--w",ot*g[0]+"px"),ae(v,"--x",((et-ot)*g[0]+1)/2+"px"),ae(v,"--angle",g[48]+"deg")},m(o,m){fe(o,v,m)},p(o,m){m[0]&1&&ae(v,"--w",ot*o[0]+"px"),m[0]&1&&ae(v,"--x",((et-ot)*o[0]+1)/2+"px")},d(o){o&&Q(v)}}}function En(g){let v,o,m,f,t;return{c(){v=ie("p"),o=ie("strong"),m=Ce(g[18]),this.h()},l(a){v=re(a,"P",{class:!0});var c=oe(v);o=re(c,"STRONG",{});var l=oe(o);m=ke(l,g[18]),l.forEach(Q),c.forEach(Q),this.h()},h(){se(v,"class","text-outline svelte-1ebjqcn")},m(a,c){fe(a,v,c),j(v,o),j(o,m),t=!0},p(a,c){(!t||c[0]&262144)&&Xe(m,a[18])},i(a){t||(a&&ti(()=>{t&&(f||(f=fn(v,un,{},!0)),f.run(1))}),t=!0)},o(a){a&&(f||(f=fn(v,un,{},!1)),f.run(0)),t=!1},d(a){a&&Q(v),a&&f&&f.end()}}}function Dn(g){let v,o,m,f;const t=[_r,gr],a=[];function c(l,d){return l[11]==="shoot"?0:1}return v=c(g),o=a[v]=t[v](g),{c(){o.c(),m=Re()},l(l){o.l(l),m=Re()},m(l,d){a[v].m(l,d),fe(l,m,d),f=!0},p(l,d){let u=v;v=c(l),v===u?a[v].p(l,d):(Je(),ce(a[u],1,1,()=>{a[u]=null}),$e(),o=a[v],o?o.p(l,d):(o=a[v]=t[v](l),o.c()),le(o,1),o.m(m.parentNode,m))},i(l){f||(le(o),f=!0)},o(l){ce(o),f=!1},d(l){l&&Q(m),a[v].d(l)}}}function gr(g){let v,o="Place Disc",m,f;return{c(){v=ie("button"),v.textContent=o},l(t){v=re(t,"BUTTON",{"data-svelte-h":!0}),Rt(v)!=="svelte-18imge0"&&(v.textContent=o)},m(t,a){fe(t,v,a),m||(f=lt(v,"click",g[27]),m=!0)},p:Ye,i:Ye,o:Ye,d(t){t&&Q(v),m=!1,f()}}}function _r(g){let v,o,m;function f(a){g[29](a)}let t={disabled:g[12]};return g[5]!==void 0&&(t.value=g[5]),v=new sr({props:t}),nt.push(()=>en(v,"value",f)),v.$on("release",g[26]),{c(){St(v.$$.fragment)},l(a){wt(v.$$.fragment,a)},m(a,c){bt(v,a,c),m=!0},p(a,c){const l={};c[0]&4096&&(l.disabled=a[12]),!o&&c[0]&32&&(o=!0,l.value=a[5],$t(()=>o=!1)),v.$set(l)},i(a){m||(le(v.$$.fragment,a),m=!0)},o(a){ce(v.$$.fragment,a),m=!1},d(a){At(v,a)}}}function Bn(g){var a,c,l;let v,o,m;function f(d){g[30](d)}let t={label:g[11]==="shoot"?"aim":g[11],min:(a=g[24][g[11]])==null?void 0:a.min,max:(c=g[24][g[11]])==null?void 0:c.max,step:(l=g[24][g[11]])==null?void 0:l.step,animate:g[17],disabled:g[12]};return g[4]!==void 0&&(t.value=g[4]),v=new rr({props:t}),nt.push(()=>en(v,"value",f)),{c(){St(v.$$.fragment)},l(d){wt(v.$$.fragment,d)},m(d,u){bt(v,d,u),m=!0},p(d,u){var i,n,r;const e={};u[0]&2048&&(e.label=d[11]==="shoot"?"aim":d[11]),u[0]&2048&&(e.min=(i=d[24][d[11]])==null?void 0:i.min),u[0]&2048&&(e.max=(n=d[24][d[11]])==null?void 0:n.max),u[0]&2048&&(e.step=(r=d[24][d[11]])==null?void 0:r.step),u[0]&131072&&(e.animate=d[17]),u[0]&4096&&(e.disabled=d[12]),!o&&u[0]&16&&(o=!0,e.value=d[4],$t(()=>o=!1)),v.$set(e)},i(d){m||(le(v.$$.fragment,d),m=!0)},o(d){ce(v.$$.fragment,d),m=!1},d(d){At(v,d)}}}function On(g){let v,o,m=g[4][0]+"",f,t,a,c,l,d,u;return{c(){v=ie("p"),o=Ce("slider: "),f=Ce(m),t=xe(),a=ie("p"),c=Ce("x: "),l=Ce(g[9]),d=Ce(", y: "),u=Ce(g[10]),this.h()},l(e){v=re(e,"P",{class:!0});var i=oe(v);o=ke(i,"slider: "),f=ke(i,m),i.forEach(Q),t=Se(e),a=re(e,"P",{class:!0});var n=oe(a);c=ke(n,"x: "),l=ke(n,g[9]),d=ke(n,", y: "),u=ke(n,g[10]),n.forEach(Q),this.h()},h(){se(v,"class","svelte-1ebjqcn"),se(a,"class","svelte-1ebjqcn")},m(e,i){fe(e,v,i),j(v,o),j(v,f),fe(e,t,i),fe(e,a,i),j(a,c),j(a,l),j(a,d),j(a,u)},p(e,i){i[0]&16&&m!==(m=e[4][0]+"")&&Xe(f,m),i[0]&512&&Xe(l,e[9]),i[0]&1024&&Xe(u,e[10])},d(e){e&&(Q(v),Q(t),Q(a))}}}function yr(g){let v,o,m,f="20s",t,a,c=g[6].player1+"",l,d,u,e,i="POINTS",n,r,s,p=g[7].player1+"",h,w,T,C=g[7].player2+"",_,S,x,y,b="20s",A,M,P=g[6].player2+"",k,E=`${g[0]}px`,D,H,R,N,Y,G,$,K,ne,de,B,I,O=`${g[0]}px`,F=`${g[0]}px`,U,L,X,q,Z,z,te,Ae,Fe,me,pe,we,ue,He,Ge,Ue=We(g[22].slice(0,3)),he=[];for(let V=0;V<Ue.length;V+=1)he[V]=Mn(Pn(g,Ue,V));let Ve=We(g[22]),be=[];for(let V=0;V<Ve.length;V+=1)be[V]=Cn(Tn(g,Ve,V));let je=We(g[20]),ve=[];for(let V=0;V<je.length;V+=1)ve[V]=kn(An(g,je,V));let Le=We(g[21]),Te=[];for(let V=0;V<Le.length;V+=1)Te[V]=In(bn(g,Le,V));let ge=g[18]&&En(g),_e=!g[13]&&Dn(g),ye=!g[13]&&Bn(g),Pe=g[1]&&On(g);return{c(){v=ie("div"),o=ie("p"),m=ie("span"),m.textContent=f,t=xe(),a=ie("strong"),l=Ce(c),d=xe(),u=ie("p"),e=ie("span"),e.textContent=i,n=xe(),r=ie("strong"),s=ie("span"),h=Ce(p),w=Ce(` -
			`),T=ie("span"),_=Ce(C),S=xe(),x=ie("p"),y=ie("span"),y.textContent=b,A=xe(),M=ie("strong"),k=Ce(P),D=xe(),H=ie("div"),R=ie("div"),N=ie("div"),Y=xe(),G=ie("div"),$=xe();for(let V=0;V<he.length;V+=1)he[V].c();K=xe(),ne=ie("div"),de=xe();for(let V=0;V<be.length;V+=1)be[V].c();B=xe();for(let V=0;V<ve.length;V+=1)ve[V].c();I=xe();for(let V=0;V<Te.length;V+=1)Te[V].c();U=xe(),L=ie("div"),X=xe(),q=ie("div"),ge&&ge.c(),z=xe(),te=ie("div"),Ae=ie("div"),_e&&_e.c(),Fe=xe(),me=ie("div"),ye&&ye.c(),pe=xe(),Pe&&Pe.c(),we=Re(),this.h()},l(V){v=re(V,"DIV",{class:!0});var J=oe(v);o=re(J,"P",{class:!0});var W=oe(o);m=re(W,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(m)!=="svelte-26pqx6"&&(m.textContent=f),t=Se(W),a=re(W,"STRONG",{});var Ie=oe(a);l=ke(Ie,c),Ie.forEach(Q),W.forEach(Q),d=Se(J),u=re(J,"P",{class:!0});var Pt=oe(u);e=re(Pt,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-8p7j2g"&&(e.textContent=i),n=Se(Pt),r=re(Pt,"STRONG",{});var Mt=oe(r);s=re(Mt,"SPAN",{class:!0});var nn=oe(s);h=ke(nn,p),nn.forEach(Q),w=ke(Mt,` -
			`),T=re(Mt,"SPAN",{class:!0});var rn=oe(T);_=ke(rn,C),rn.forEach(Q),Mt.forEach(Q),Pt.forEach(Q),S=Se(J),x=re(J,"P",{class:!0});var Ct=oe(x);y=re(Ct,"SPAN",{class:!0,"data-svelte-h":!0}),Rt(y)!=="svelte-26pqx6"&&(y.textContent=b),A=Se(Ct),M=re(Ct,"STRONG",{});var on=oe(M);k=ke(on,P),on.forEach(Q),Ct.forEach(Q),J.forEach(Q),D=Se(V),H=re(V,"DIV",{class:!0});var it=oe(H);R=re(it,"DIV",{class:!0});var Ee=oe(R);N=re(Ee,"DIV",{class:!0,style:!0}),oe(N).forEach(Q),Y=Se(Ee),G=re(Ee,"DIV",{class:!0,style:!0}),oe(G).forEach(Q),$=Se(Ee);for(let Me=0;Me<he.length;Me+=1)he[Me].l(Ee);K=Se(Ee),ne=re(Ee,"DIV",{class:!0,style:!0}),oe(ne).forEach(Q),de=Se(Ee);for(let Me=0;Me<be.length;Me+=1)be[Me].l(Ee);B=Se(Ee);for(let Me=0;Me<ve.length;Me+=1)ve[Me].l(Ee);I=Se(Ee);for(let Me=0;Me<Te.length;Me+=1)Te[Me].l(Ee);Ee.forEach(Q),U=Se(it),L=re(it,"DIV",{class:!0}),oe(L).forEach(Q),X=Se(it),q=re(it,"DIV",{class:!0});var an=oe(q);ge&&ge.l(an),an.forEach(Q),it.forEach(Q),z=Se(V),te=re(V,"DIV",{class:!0});var kt=oe(te);Ae=re(kt,"DIV",{class:!0});var sn=oe(Ae);_e&&_e.l(sn),sn.forEach(Q),Fe=Se(kt),me=re(kt,"DIV",{class:!0});var ln=oe(me);ye&&ye.l(ln),ln.forEach(Q),kt.forEach(Q),pe=Se(V),Pe&&Pe.l(V),we=Re(),this.h()},h(){se(m,"class","label svelte-1ebjqcn"),se(o,"class","holder you svelte-1ebjqcn"),Be(o,"animate",g[8].player1),Be(o,"visible",g[16]),se(e,"class","label svelte-1ebjqcn"),se(s,"class","you"),se(T,"class","opp"),se(u,"class","points svelte-1ebjqcn"),Be(u,"visible",g[15]),se(y,"class","label svelte-1ebjqcn"),se(x,"class","holder opp svelte-1ebjqcn"),Be(x,"animate",g[8].player2),Be(x,"visible",g[16]),se(v,"class","score svelte-1ebjqcn"),ae(v,"width",E),se(N,"class","base svelte-1ebjqcn"),ae(N,"--w",Vt*g[0]+"px"),ae(N,"--b",jt/2*g[0]+"px"),se(G,"class","surface svelte-1ebjqcn"),ae(G,"--w",xt*g[0]+"px"),se(ne,"class","twenty svelte-1ebjqcn"),ae(ne,"--w",Math.floor(ut*g[0])+"px"),se(R,"class","bg svelte-1ebjqcn"),ae(R,"width",O),ae(R,"height",F),se(L,"class","fg svelte-1ebjqcn"),se(q,"class","message svelte-1ebjqcn"),se(H,"class",Z="c "+g[19]+" svelte-1ebjqcn"),se(Ae,"class","top svelte-1ebjqcn"),se(me,"class","bottom svelte-1ebjqcn"),se(te,"class","ui svelte-1ebjqcn"),Be(te,"visible",g[14]||!g[2])},m(V,J){fe(V,v,J),j(v,o),j(o,m),j(o,t),j(o,a),j(a,l),j(v,d),j(v,u),j(u,e),j(u,n),j(u,r),j(r,s),j(s,h),j(r,w),j(r,T),j(T,_),j(v,S),j(v,x),j(x,y),j(x,A),j(x,M),j(M,k),fe(V,D,J),fe(V,H,J),j(H,R),j(R,N),j(R,Y),j(R,G),j(R,$);for(let W=0;W<he.length;W+=1)he[W]&&he[W].m(R,null);j(R,K),j(R,ne),j(R,de);for(let W=0;W<be.length;W+=1)be[W]&&be[W].m(R,null);j(R,B);for(let W=0;W<ve.length;W+=1)ve[W]&&ve[W].m(R,null);j(R,I);for(let W=0;W<Te.length;W+=1)Te[W]&&Te[W].m(R,null);j(H,U),j(H,L),g[28](L),j(H,X),j(H,q),ge&&ge.m(q,null),fe(V,z,J),fe(V,te,J),j(te,Ae),_e&&_e.m(Ae,null),j(te,Fe),j(te,me),ye&&ye.m(me,null),fe(V,pe,J),Pe&&Pe.m(V,J),fe(V,we,J),ue=!0,He||(Ge=lt(L,"click",g[25]),He=!0)},p(V,J){if((!ue||J[0]&64)&&c!==(c=V[6].player1+"")&&Xe(l,c),(!ue||J[0]&256)&&Be(o,"animate",V[8].player1),(!ue||J[0]&65536)&&Be(o,"visible",V[16]),(!ue||J[0]&128)&&p!==(p=V[7].player1+"")&&Xe(h,p),(!ue||J[0]&128)&&C!==(C=V[7].player2+"")&&Xe(_,C),(!ue||J[0]&32768)&&Be(u,"visible",V[15]),(!ue||J[0]&64)&&P!==(P=V[6].player2+"")&&Xe(k,P),(!ue||J[0]&256)&&Be(x,"animate",V[8].player2),(!ue||J[0]&65536)&&Be(x,"visible",V[16]),J[0]&1&&E!==(E=`${V[0]}px`)&&ae(v,"width",E),(!ue||J[0]&1)&&ae(N,"--w",Vt*V[0]+"px"),(!ue||J[0]&1)&&ae(N,"--b",jt/2*V[0]+"px"),(!ue||J[0]&1)&&ae(G,"--w",xt*V[0]+"px"),J[0]&4194305){Ue=We(V[22].slice(0,3));let W;for(W=0;W<Ue.length;W+=1){const Ie=Pn(V,Ue,W);he[W]?he[W].p(Ie,J):(he[W]=Mn(Ie),he[W].c(),he[W].m(R,K))}for(;W<he.length;W+=1)he[W].d(1);he.length=Ue.length}if((!ue||J[0]&1)&&ae(ne,"--w",Math.floor(ut*V[0])+"px"),J[0]&12582913){Ve=We(V[22]);let W;for(W=0;W<Ve.length;W+=1){const Ie=Tn(V,Ve,W);be[W]?be[W].p(Ie,J):(be[W]=Cn(Ie),be[W].c(),be[W].m(R,B))}for(;W<be.length;W+=1)be[W].d(1);be.length=Ve.length}if(J[0]&1048577){je=We(V[20]);let W;for(W=0;W<je.length;W+=1){const Ie=An(V,je,W);ve[W]?ve[W].p(Ie,J):(ve[W]=kn(Ie),ve[W].c(),ve[W].m(R,I))}for(;W<ve.length;W+=1)ve[W].d(1);ve.length=je.length}if(J[0]&2097153){Le=We(V[21]);let W;for(W=0;W<Le.length;W+=1){const Ie=bn(V,Le,W);Te[W]?Te[W].p(Ie,J):(Te[W]=In(Ie),Te[W].c(),Te[W].m(R,null))}for(;W<Te.length;W+=1)Te[W].d(1);Te.length=Le.length}J[0]&1&&O!==(O=`${V[0]}px`)&&ae(R,"width",O),J[0]&1&&F!==(F=`${V[0]}px`)&&ae(R,"height",F),V[18]?ge?(ge.p(V,J),J[0]&262144&&le(ge,1)):(ge=En(V),ge.c(),le(ge,1),ge.m(q,null)):ge&&(Je(),ce(ge,1,1,()=>{ge=null}),$e()),(!ue||J[0]&524288&&Z!==(Z="c "+V[19]+" svelte-1ebjqcn"))&&se(H,"class",Z),V[13]?_e&&(Je(),ce(_e,1,1,()=>{_e=null}),$e()):_e?(_e.p(V,J),J[0]&8192&&le(_e,1)):(_e=Dn(V),_e.c(),le(_e,1),_e.m(Ae,null)),V[13]?ye&&(Je(),ce(ye,1,1,()=>{ye=null}),$e()):ye?(ye.p(V,J),J[0]&8192&&le(ye,1)):(ye=Bn(V),ye.c(),le(ye,1),ye.m(me,null)),(!ue||J[0]&16388)&&Be(te,"visible",V[14]||!V[2]),V[1]?Pe?Pe.p(V,J):(Pe=On(V),Pe.c(),Pe.m(we.parentNode,we)):Pe&&(Pe.d(1),Pe=null)},i(V){ue||(le(ge),le(_e),le(ye),ue=!0)},o(V){ce(ge),ce(_e),ce(ye),ue=!1},d(V){V&&(Q(v),Q(D),Q(H),Q(z),Q(te),Q(pe),Q(we)),gt(he,V),gt(be,V),gt(ve,V),gt(Te,V),g[28](null),ge&&ge.d(),_e&&_e.d(),ye&&ye.d(),Pe&&Pe.d(V),He=!1,Ge()}}}const ht=0;function xr(g,v,o){let m,{width:f}=v,{dev:t}=v,{tutorial:a}=v;const c=mi(),l=[45,135,225,315],d=[15,60,105,150,195,240,285,330],u=["five","ten","fifteen","twenty"],e={five:"5",ten:"10",fifteen:"15",twenty:"20"},i={position:{value:[.5],min:.22,max:.78,step:.01},shoot:{value:[0],min:-90,max:90,step:.5}},n={player1:0,player2:0},r={player1:0,player2:0,leader:""},s={player1:!1,player2:!1};let p,h=0,w=0,T=i.position.value,C=ht,_="position",S,x,y,b,A,M,P,k=!0,E=!0,D,H,R;function N(Z){t&&(o(9,h=Z.offsetX/f),o(10,w=Z.offsetY/f))}function Y({discs:Z,valid:z}){o(5,C=ht)}function G({discs:Z,valid:z}){if(z){const te=Z.some(we=>we.score===20),Ae=Z.filter(we=>we.player==="player2").every(we=>we.score===0),Fe=a.includes("open"),me=a.includes("triple");o(18,R=`Valid shot. ${Fe?te?"Nice 20!":"But not a 20 :(":me?Ae?"Triple takeout!":"But not a triple takeout :(":"Well done!"}`)}else o(18,R="Invalid shot. Try again.");P=setTimeout(()=>{o(18,R=null),U()},2e3)}function $(){o(11,_="end"),o(18,R=`${r.player1>r.player2?"You":"Opp."} win the round`)}function K({discs:Z,valid:z}){Z.forEach(te=>{te.valid&&te.score&&o(7,r[te.player]+=te.score,r),te.valid&&te.score===20&&(o(8,s[te.player]=!0,s),o(6,n[te.player]++,n))})}function ne({discs:Z,valid:z}){K({discs:Z,valid:z}),o(5,C=ht),a.includes("try")?G({discs:Z,valid:z}):a&&(M=setTimeout(U,2e3))}function de(){o(8,s.player1=!1,s),o(8,s.player2=!1,s),c.flickDisc(),o(12,x=!0)}function B(){if(H||(H=T[0]!==i.position.value[0],o(17,D=!H)),_==="position")c.positionDisc(T[0]*f);else if(_==="shoot"){const Z=a?a.includes("try"):!0;S=T[0],c.aimDisc({degrees:S,power:.25,visible:Z})}}function I(){const Z=a?a.includes("try"):!0;c.aimDisc({degrees:S,power:C,visible:Z})}function O(){_==="position"&&(o(11,_="shoot"),o(4,T=i.shoot.value),o(5,C=ht),c.setState("shoot"))}function F(){o(6,n.player1=0,n),o(6,n.player2=0,n),o(7,r.player1=0,r),o(7,r.player2=0,r)}async function U(){o(12,x=!1),F(),clearTimeout(A),clearTimeout(M),clearTimeout(P),o(18,R=null),o(13,y=!a.includes("try")),o(14,b=!["regions","score"].includes(a));const Z=a==="score";o(15,k=!["regions","tripletry"].includes(a)),o(16,E=k),o(17,D=a==="opponenttry"&&!H),o(5,C=ht);const z=hr[a];if(c.removeDiscs(),z&&z.forEach(c.addDisc),(y||Z)&&z){const te=z[z.length-1],Ae=te.random?Math.random()*3-1.5:0,Fe=te.degrees+Ae,me=te.random?Math.random()*.07-.035:0,pe=te.power+me;Z&&(o(15,k=!0),K({discs:z,valid:!0})),A=setTimeout(()=>{Z?$():(o(11,_=z[z.length-1].state),c.aimDisc({degrees:Fe,power:pe}),de())},2e3)}else A=null,c.removeDiscs(),z&&(z.forEach(c.addDisc),o(11,_=z[z.length-1].state)),_==="shoot"&&c.setIndicatorVisible(!0);await ni(),o(4,T=i[_].value)}$n(()=>{c.on("shotComplete",Y),c.on("shotCompleteManual",ne)});function L(Z){nt[Z?"unshift":"push"](()=>{p=Z,o(3,p)})}function X(Z){C=Z,o(5,C)}function q(Z){T=Z,o(4,T)}return g.$$set=Z=>{"width"in Z&&o(0,f=Z.width),"dev"in Z&&o(1,t=Z.dev),"tutorial"in Z&&o(2,a=Z.tutorial)},g.$$.update=()=>{g.$$.dirty[0]&1&&o(9,h=0),g.$$.dirty[0]&1&&o(10,w=0),g.$$.dirty[0]&13&&f&&c.init({element:p,width:f,tutorial:a}),g.$$.dirty[0]&17&&f&&B(),g.$$.dirty[0]&33&&f&&I(),g.$$.dirty[0]&5&&f&&a&&U(),g.$$.dirty[0]&4&&o(19,m=a?`tutorial tutorial-${a}`:"")},[f,t,a,p,T,C,n,r,s,h,w,_,x,y,b,k,E,D,R,m,l,d,u,e,i,N,de,O,L,X,q]}class Qr extends vt{constructor(v){super(),mt(this,v,xr,yr,pt,{width:0,dev:1,tutorial:2},null,[-1,-1])}}var Sr="Expected a function",Rn=NaN,wr="[object Symbol]",br=/^\s+|\s+$/g,Ar=/^[-+]0x[0-9a-f]+$/i,Tr=/^0b[01]+$/i,Pr=/^0o[0-7]+$/i,Mr=parseInt,Cr=typeof Oe=="object"&&Oe&&Oe.Object===Object&&Oe,kr=typeof self=="object"&&self&&self.Object===Object&&self,Ir=Cr||kr||Function("return this")(),Er=Object.prototype,Dr=Er.toString,Br=Math.max,Or=Math.min,Zt=function(){return Ir.Date.now()};function Rr(g,v,o){var m,f,t,a,c,l,d=0,u=!1,e=!1,i=!0;if(typeof g!="function")throw new TypeError(Sr);v=Fn(v)||0,qt(o)&&(u=!!o.leading,e="maxWait"in o,t=e?Br(Fn(o.maxWait)||0,v):t,i="trailing"in o?!!o.trailing:i);function n(S){var x=m,y=f;return m=f=void 0,d=S,a=g.apply(y,x),a}function r(S){return d=S,c=setTimeout(h,v),u?n(S):a}function s(S){var x=S-l,y=S-d,b=v-x;return e?Or(b,t-y):b}function p(S){var x=S-l,y=S-d;return l===void 0||x>=v||x<0||e&&y>=t}function h(){var S=Zt();if(p(S))return w(S);c=setTimeout(h,s(S))}function w(S){return c=void 0,i&&m?n(S):(m=f=void 0,a)}function T(){c!==void 0&&clearTimeout(c),d=0,m=l=f=c=void 0}function C(){return c===void 0?a:w(Zt())}function _(){var S=Zt(),x=p(S);if(m=arguments,f=this,l=S,x){if(c===void 0)return r(l);if(e)return c=setTimeout(h,v),n(l)}return c===void 0&&(c=setTimeout(h,v)),a}return _.cancel=T,_.flush=C,_}function qt(g){var v=typeof g;return!!g&&(v=="object"||v=="function")}function Fr(g){return!!g&&typeof g=="object"}function Vr(g){return typeof g=="symbol"||Fr(g)&&Dr.call(g)==wr}function Fn(g){if(typeof g=="number")return g;if(Vr(g))return Rn;if(qt(g)){var v=typeof g.valueOf=="function"?g.valueOf():g;g=qt(v)?v+"":v}if(typeof g!="string")return g===0?g:+g;g=g.replace(br,"");var o=Tr.test(g);return o||Pr.test(g)?Mr(g.slice(2),o?2:8):Ar.test(g)?Rn:+g}var Lr=Rr;const Hr=Hn(Lr),Wr=()=>{var g;return((g=window==null?void 0:window.visualViewport)==null?void 0:g.width)||document.documentElement.clientWidth},Nr=()=>{var g;return((g=window==null?void 0:window.visualViewport)==null?void 0:g.height)||document.documentElement.clientHeight},Zr=ft({width:0,height:0},g=>{const v=()=>g({width:Wr(),height:Nr()});return v(),window.addEventListener("resize",Hr(v,250)),()=>{window.removeEventListener("resize",v)}});export{Qr as C,Yr as a,We as e,tn as g,Zr as v};
