import{K as Kn,ab as qn,ac as zn,ad as Ln,aa as Jn,a8 as $n,a as pt,u as Ve,g as ce,f as Q,a1 as ct,k as Rt,Y as Qe,a2 as Jt,p as it,C as Ht,e as ie,c as re,b as se,ae as dt,a7 as $t,D as Wt,E as Nt,F as Gt,n as Ye,a4 as lt,r as Hn,t as ke,q as xe,d as Ie,v as Se,l as fe,h as q,j as Xe,af as en,X as gt,a6 as Ft,a5 as Re,y as le,x as ei,ag as ti,m as ni,A as ii}from"./scheduler.C31QdOOv.js";import{S as vt,i as mt,g as Je,b as de,e as $e,t as ue,f as tn,c as wt,a as bt,m as At,d as Tt,h as un}from"./index.C7vtcI56.js";import{w as et,d as Ut,r as ft}from"./index.CcMCousj.js";function Ne(g){return(g==null?void 0:g.length)!==void 0?g:Array.from(g)}function nn(g,v){const r={},m={},f={$$scope:1};let t=g.length;for(;t--;){const s=g[t],d=v[t];if(d){for(const l in s)l in d||(m[l]=1);for(const l in d)f[l]||(r[l]=d[l],f[l]=1);g[t]=d}else for(const l in s)f[l]=1}for(const s in m)s in r||(r[s]=void 0);return r}function jr(g){return typeof g=="object"&&g!==null?g:{}}function cn(g,{delay:v=0,duration:r=400,easing:m=Kn}={}){const f=+getComputedStyle(g).opacity;return{delay:v,duration:r,easing:m,css:t=>`opacity: ${t*f}`}}var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wn(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Nn={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(g,v){(function(m,f){g.exports=f()})(Fe,function(){return function(r){var m={};function f(t){if(m[t])return m[t].exports;var s=m[t]={i:t,l:!1,exports:{}};return r[t].call(s.exports,s,s.exports,f),s.l=!0,s.exports}return f.m=r,f.c=m,f.d=function(t,s,d){f.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:d})},f.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},f.t=function(t,s){if(s&1&&(t=f(t)),s&8||s&4&&typeof t=="object"&&t&&t.__esModule)return t;var d=Object.create(null);if(f.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:t}),s&2&&typeof t!="string")for(var l in t)f.d(d,l,(function(c){return t[c]}).bind(null,l));return d},f.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return f.d(s,"a",s),s},f.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},f.p="",f(f.s=20)}([function(r,m){var f={};r.exports=f,function(){f._baseDelta=1e3/60,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(s,d){var l,c;typeof d=="boolean"?(l=2,c=d):(l=1,c=!0);for(var u=l;u<arguments.length;u++){var e=arguments[u];if(e)for(var i in e)c&&e[i]&&e[i].constructor===Object&&(!s[i]||s[i].constructor===Object)?(s[i]=s[i]||{},f.extend(s[i],c,e[i])):s[i]=e[i]}return s},f.clone=function(s,d){return f.extend({},d,s)},f.keys=function(s){if(Object.keys)return Object.keys(s);var d=[];for(var l in s)d.push(l);return d},f.values=function(s){var d=[];if(Object.keys){for(var l=Object.keys(s),c=0;c<l.length;c++)d.push(s[l[c]]);return d}for(var u in s)d.push(s[u]);return d},f.get=function(s,d,l,c){d=d.split(".").slice(l,c);for(var u=0;u<d.length;u+=1)s=s[d[u]];return s},f.set=function(s,d,l,c,u){var e=d.split(".").slice(c,u);return f.get(s,d,0,-1)[e[e.length-1]]=l,l},f.shuffle=function(s){for(var d=s.length-1;d>0;d--){var l=Math.floor(f.random()*(d+1)),c=s[d];s[d]=s[l],s[l]=c}return s},f.choose=function(s){return s[Math.floor(f.random()*s.length)]},f.isElement=function(s){return typeof HTMLElement<"u"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},f.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},f.isFunction=function(s){return typeof s=="function"},f.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},f.isString=function(s){return toString.call(s)==="[object String]"},f.clamp=function(s,d,l){return s<d?d:s>l?l:s},f.sign=function(s){return s<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(s,d){return s=typeof s<"u"?s:0,d=typeof d<"u"?d:1,s+t()*(d-s)};var t=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[s]||(f.warn(s),f._warnedOnce[s]=!0)},f.deprecated=function(s,d,l){s[d]=f.chain(function(){f.warnOnce("🔅 deprecated 🔅",l)},s[d])},f.nextId=function(){return f._nextId++},f.indexOf=function(s,d){if(s.indexOf)return s.indexOf(d);for(var l=0;l<s.length;l++)if(s[l]===d)return l;return-1},f.map=function(s,d){if(s.map)return s.map(d);for(var l=[],c=0;c<s.length;c+=1)l.push(d(s[c]));return l},f.topologicalSort=function(s){var d=[],l=[],c=[];for(var u in s)!l[u]&&!c[u]&&f._topologicalSort(u,l,c,s,d);return d},f._topologicalSort=function(s,d,l,c,u){var e=c[s]||[];l[s]=!0;for(var i=0;i<e.length;i+=1){var n=e[i];l[n]||d[n]||f._topologicalSort(n,d,l,c,u)}l[s]=!1,d[s]=!0,u.push(s)},f.chain=function(){for(var s=[],d=0;d<arguments.length;d+=1){var l=arguments[d];l._chained?s.push.apply(s,l._chained):s.push(l)}var c=function(){for(var u,e=new Array(arguments.length),i=0,n=arguments.length;i<n;i++)e[i]=arguments[i];for(i=0;i<s.length;i+=1){var a=s[i].apply(u,e);typeof a<"u"&&(u=a)}return u};return c._chained=s,c},f.chainPathBefore=function(s,d,l){return f.set(s,d,f.chain(l,f.get(s,d)))},f.chainPathAfter=function(s,d,l){return f.set(s,d,f.chain(f.get(s,d),l))},f.setDecomp=function(s){f._decomp=s},f.getDecomp=function(){var s=f._decomp;try{!s&&typeof window<"u"&&(s=window.decomp),!s&&typeof Fe<"u"&&(s=Fe.decomp)}catch{s=null}return s}}()},function(r,m){var f={};r.exports=f,function(){f.create=function(t){var s={min:{x:0,y:0},max:{x:0,y:0}};return t&&f.update(s,t),s},f.update=function(t,s,d){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var l=0;l<s.length;l++){var c=s[l];c.x>t.max.x&&(t.max.x=c.x),c.x<t.min.x&&(t.min.x=c.x),c.y>t.max.y&&(t.max.y=c.y),c.y<t.min.y&&(t.min.y=c.y)}d&&(d.x>0?t.max.x+=d.x:t.min.x+=d.x,d.y>0?t.max.y+=d.y:t.min.y+=d.y)},f.contains=function(t,s){return s.x>=t.min.x&&s.x<=t.max.x&&s.y>=t.min.y&&s.y<=t.max.y},f.overlaps=function(t,s){return t.min.x<=s.max.x&&t.max.x>=s.min.x&&t.max.y>=s.min.y&&t.min.y<=s.max.y},f.translate=function(t,s){t.min.x+=s.x,t.max.x+=s.x,t.min.y+=s.y,t.max.y+=s.y},f.shift=function(t,s){var d=t.max.x-t.min.x,l=t.max.y-t.min.y;t.min.x=s.x,t.max.x=s.x+d,t.min.y=s.y,t.max.y=s.y+l}}()},function(r,m){var f={};r.exports=f,function(){f.create=function(t,s){return{x:t||0,y:s||0}},f.clone=function(t){return{x:t.x,y:t.y}},f.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},f.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},f.rotate=function(t,s,d){var l=Math.cos(s),c=Math.sin(s);d||(d={});var u=t.x*l-t.y*c;return d.y=t.x*c+t.y*l,d.x=u,d},f.rotateAbout=function(t,s,d,l){var c=Math.cos(s),u=Math.sin(s);l||(l={});var e=d.x+((t.x-d.x)*c-(t.y-d.y)*u);return l.y=d.y+((t.x-d.x)*u+(t.y-d.y)*c),l.x=e,l},f.normalise=function(t){var s=f.magnitude(t);return s===0?{x:0,y:0}:{x:t.x/s,y:t.y/s}},f.dot=function(t,s){return t.x*s.x+t.y*s.y},f.cross=function(t,s){return t.x*s.y-t.y*s.x},f.cross3=function(t,s,d){return(s.x-t.x)*(d.y-t.y)-(s.y-t.y)*(d.x-t.x)},f.add=function(t,s,d){return d||(d={}),d.x=t.x+s.x,d.y=t.y+s.y,d},f.sub=function(t,s,d){return d||(d={}),d.x=t.x-s.x,d.y=t.y-s.y,d},f.mult=function(t,s){return{x:t.x*s,y:t.y*s}},f.div=function(t,s){return{x:t.x/s,y:t.y/s}},f.perp=function(t,s){return s=s===!0?-1:1,{x:s*-t.y,y:s*t.x}},f.neg=function(t){return{x:-t.x,y:-t.y}},f.angle=function(t,s){return Math.atan2(s.y-t.y,s.x-t.x)},f._temp=[f.create(),f.create(),f.create(),f.create(),f.create(),f.create()]}()},function(r,m,f){var t={};r.exports=t;var s=f(2),d=f(0);(function(){t.create=function(l,c){for(var u=[],e=0;e<l.length;e++){var i=l[e],n={x:i.x,y:i.y,index:e,body:c,isInternal:!1};u.push(n)}return u},t.fromPath=function(l,c){var u=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,e=[];return l.replace(u,function(i,n,a){e.push({x:parseFloat(n),y:parseFloat(a)})}),t.create(e,c)},t.centre=function(l){for(var c=t.area(l,!0),u={x:0,y:0},e,i,n,a=0;a<l.length;a++)n=(a+1)%l.length,e=s.cross(l[a],l[n]),i=s.mult(s.add(l[a],l[n]),e),u=s.add(u,i);return s.div(u,6*c)},t.mean=function(l){for(var c={x:0,y:0},u=0;u<l.length;u++)c.x+=l[u].x,c.y+=l[u].y;return s.div(c,l.length)},t.area=function(l,c){for(var u=0,e=l.length-1,i=0;i<l.length;i++)u+=(l[e].x-l[i].x)*(l[e].y+l[i].y),e=i;return c?u/2:Math.abs(u)/2},t.inertia=function(l,c){for(var u=0,e=0,i=l,n,a,o=0;o<i.length;o++)a=(o+1)%i.length,n=Math.abs(s.cross(i[a],i[o])),u+=n*(s.dot(i[a],i[a])+s.dot(i[a],i[o])+s.dot(i[o],i[o])),e+=n;return c/6*(u/e)},t.translate=function(l,c,u){u=typeof u<"u"?u:1;var e=l.length,i=c.x*u,n=c.y*u,a;for(a=0;a<e;a++)l[a].x+=i,l[a].y+=n;return l},t.rotate=function(l,c,u){if(c!==0){var e=Math.cos(c),i=Math.sin(c),n=u.x,a=u.y,o=l.length,p,h,w,T;for(T=0;T<o;T++)p=l[T],h=p.x-n,w=p.y-a,p.x=n+(h*e-w*i),p.y=a+(h*i+w*e);return l}},t.contains=function(l,c){for(var u=c.x,e=c.y,i=l.length,n=l[i-1],a,o=0;o<i;o++){if(a=l[o],(u-n.x)*(a.y-n.y)+(e-n.y)*(n.x-a.x)>0)return!1;n=a}return!0},t.scale=function(l,c,u,e){if(c===1&&u===1)return l;e=e||t.centre(l);for(var i,n,a=0;a<l.length;a++)i=l[a],n=s.sub(i,e),l[a].x=e.x+n.x*c,l[a].y=e.y+n.y*u;return l},t.chamfer=function(l,c,u,e,i){typeof c=="number"?c=[c]:c=c||[8],u=typeof u<"u"?u:-1,e=e||2,i=i||14;for(var n=[],a=0;a<l.length;a++){var o=l[a-1>=0?a-1:l.length-1],p=l[a],h=l[(a+1)%l.length],w=c[a<c.length?a:c.length-1];if(w===0){n.push(p);continue}var T=s.normalise({x:p.y-o.y,y:o.x-p.x}),C=s.normalise({x:h.y-p.y,y:p.x-h.x}),_=Math.sqrt(2*Math.pow(w,2)),S=s.mult(d.clone(T),w),x=s.normalise(s.mult(s.add(T,C),.5)),y=s.sub(p,s.mult(x,_)),b=u;u===-1&&(b=Math.pow(w,.32)*1.75),b=d.clamp(b,e,i),b%2===1&&(b+=1);for(var A=Math.acos(s.dot(T,C)),M=A/b,P=0;P<b;P++)n.push(s.add(s.rotate(S,M*P),y))}return n},t.clockwiseSort=function(l){var c=t.mean(l);return l.sort(function(u,e){return s.angle(c,u)-s.angle(c,e)}),l},t.isConvex=function(l){var c=0,u=l.length,e,i,n,a;if(u<3)return null;for(e=0;e<u;e++)if(i=(e+1)%u,n=(e+2)%u,a=(l[i].x-l[e].x)*(l[n].y-l[i].y),a-=(l[i].y-l[e].y)*(l[n].x-l[i].x),a<0?c|=1:a>0&&(c|=2),c===3)return!1;return c!==0?!0:null},t.hull=function(l){var c=[],u=[],e,i;for(l=l.slice(0),l.sort(function(n,a){var o=n.x-a.x;return o!==0?o:n.y-a.y}),i=0;i<l.length;i+=1){for(e=l[i];u.length>=2&&s.cross3(u[u.length-2],u[u.length-1],e)<=0;)u.pop();u.push(e)}for(i=l.length-1;i>=0;i-=1){for(e=l[i];c.length>=2&&s.cross3(c[c.length-2],c[c.length-1],e)<=0;)c.pop();c.push(e)}return c.pop(),u.pop(),c.concat(u)}})()},function(r,m,f){var t={};r.exports=t;var s=f(3),d=f(2),l=f(7),c=f(0),u=f(1),e=f(11);(function(){t._timeCorrection=!0,t._inertiaScale=4,t._nextCollidingGroupId=1,t._nextNonCollidingGroupId=-1,t._nextCategory=1,t._baseDelta=1e3/60,t.create=function(n){var a={id:c.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},o=c.extend(a,n);return i(o,n),o},t.nextGroup=function(n){return n?t._nextNonCollidingGroupId--:t._nextCollidingGroupId++},t.nextCategory=function(){return t._nextCategory=t._nextCategory<<1,t._nextCategory};var i=function(n,a){a=a||{},t.set(n,{bounds:n.bounds||u.create(n.vertices),positionPrev:n.positionPrev||d.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),s.rotate(n.vertices,n.angle,n.position),e.rotate(n.axes,n.angle),u.update(n.bounds,n.vertices,n.velocity),t.set(n,{axes:a.axes||n.axes,area:a.area||n.area,mass:a.mass||n.mass,inertia:a.inertia||n.inertia});var o=n.isStatic?"#14151f":c.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),p=n.isStatic?"#555":"#ccc",h=n.isStatic&&n.render.fillStyle===null?1:0;n.render.fillStyle=n.render.fillStyle||o,n.render.strokeStyle=n.render.strokeStyle||p,n.render.lineWidth=n.render.lineWidth||h,n.render.sprite.xOffset+=-(n.bounds.min.x-n.position.x)/(n.bounds.max.x-n.bounds.min.x),n.render.sprite.yOffset+=-(n.bounds.min.y-n.position.y)/(n.bounds.max.y-n.bounds.min.y)};t.set=function(n,a,o){var p;typeof a=="string"&&(p=a,a={},a[p]=o);for(p in a)if(Object.prototype.hasOwnProperty.call(a,p))switch(o=a[p],p){case"isStatic":t.setStatic(n,o);break;case"isSleeping":l.set(n,o);break;case"mass":t.setMass(n,o);break;case"density":t.setDensity(n,o);break;case"inertia":t.setInertia(n,o);break;case"vertices":t.setVertices(n,o);break;case"position":t.setPosition(n,o);break;case"angle":t.setAngle(n,o);break;case"velocity":t.setVelocity(n,o);break;case"angularVelocity":t.setAngularVelocity(n,o);break;case"speed":t.setSpeed(n,o);break;case"angularSpeed":t.setAngularSpeed(n,o);break;case"parts":t.setParts(n,o);break;case"centre":t.setCentre(n,o);break;default:n[p]=o}},t.setStatic=function(n,a){for(var o=0;o<n.parts.length;o++){var p=n.parts[o];a?(p.isStatic||(p._original={restitution:p.restitution,friction:p.friction,mass:p.mass,inertia:p.inertia,density:p.density,inverseMass:p.inverseMass,inverseInertia:p.inverseInertia}),p.restitution=0,p.friction=1,p.mass=p.inertia=p.density=1/0,p.inverseMass=p.inverseInertia=0,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.anglePrev=p.angle,p.angularVelocity=0,p.speed=0,p.angularSpeed=0,p.motion=0):p._original&&(p.restitution=p._original.restitution,p.friction=p._original.friction,p.mass=p._original.mass,p.inertia=p._original.inertia,p.density=p._original.density,p.inverseMass=p._original.inverseMass,p.inverseInertia=p._original.inverseInertia,p._original=null),p.isStatic=a}},t.setMass=function(n,a){var o=n.inertia/(n.mass/6);n.inertia=o*(a/6),n.inverseInertia=1/n.inertia,n.mass=a,n.inverseMass=1/n.mass,n.density=n.mass/n.area},t.setDensity=function(n,a){t.setMass(n,a*n.area),n.density=a},t.setInertia=function(n,a){n.inertia=a,n.inverseInertia=1/n.inertia},t.setVertices=function(n,a){a[0].body===n?n.vertices=a:n.vertices=s.create(a,n),n.axes=e.fromVertices(n.vertices),n.area=s.area(n.vertices),t.setMass(n,n.density*n.area);var o=s.centre(n.vertices);s.translate(n.vertices,o,-1),t.setInertia(n,t._inertiaScale*s.inertia(n.vertices,n.mass)),s.translate(n.vertices,n.position),u.update(n.bounds,n.vertices,n.velocity)},t.setParts=function(n,a,o){var p;for(a=a.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,p=0;p<a.length;p++){var h=a[p];h!==n&&(h.parent=n,n.parts.push(h))}if(n.parts.length!==1){if(o=typeof o<"u"?o:!0,o){var w=[];for(p=0;p<a.length;p++)w=w.concat(a[p].vertices);s.clockwiseSort(w);var T=s.hull(w),C=s.centre(T);t.setVertices(n,T),s.translate(n.vertices,C)}var _=t._totalProperties(n);n.area=_.area,n.parent=n,n.position.x=_.centre.x,n.position.y=_.centre.y,n.positionPrev.x=_.centre.x,n.positionPrev.y=_.centre.y,t.setMass(n,_.mass),t.setInertia(n,_.inertia),t.setPosition(n,_.centre)}},t.setCentre=function(n,a,o){o?(n.positionPrev.x+=a.x,n.positionPrev.y+=a.y,n.position.x+=a.x,n.position.y+=a.y):(n.positionPrev.x=a.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=a.y-(n.position.y-n.positionPrev.y),n.position.x=a.x,n.position.y=a.y)},t.setPosition=function(n,a,o){var p=d.sub(a,n.position);o?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=p.x,n.velocity.y=p.y,n.speed=d.magnitude(p)):(n.positionPrev.x+=p.x,n.positionPrev.y+=p.y);for(var h=0;h<n.parts.length;h++){var w=n.parts[h];w.position.x+=p.x,w.position.y+=p.y,s.translate(w.vertices,p),u.update(w.bounds,w.vertices,n.velocity)}},t.setAngle=function(n,a,o){var p=a-n.angle;o?(n.anglePrev=n.angle,n.angularVelocity=p,n.angularSpeed=Math.abs(p)):n.anglePrev+=p;for(var h=0;h<n.parts.length;h++){var w=n.parts[h];w.angle+=p,s.rotate(w.vertices,p,n.position),e.rotate(w.axes,p),u.update(w.bounds,w.vertices,n.velocity),h>0&&d.rotateAbout(w.position,p,n.position,w.position)}},t.setVelocity=function(n,a){var o=n.deltaTime/t._baseDelta;n.positionPrev.x=n.position.x-a.x*o,n.positionPrev.y=n.position.y-a.y*o,n.velocity.x=(n.position.x-n.positionPrev.x)/o,n.velocity.y=(n.position.y-n.positionPrev.y)/o,n.speed=d.magnitude(n.velocity)},t.getVelocity=function(n){var a=t._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*a,y:(n.position.y-n.positionPrev.y)*a}},t.getSpeed=function(n){return d.magnitude(t.getVelocity(n))},t.setSpeed=function(n,a){t.setVelocity(n,d.mult(d.normalise(t.getVelocity(n)),a))},t.setAngularVelocity=function(n,a){var o=n.deltaTime/t._baseDelta;n.anglePrev=n.angle-a*o,n.angularVelocity=(n.angle-n.anglePrev)/o,n.angularSpeed=Math.abs(n.angularVelocity)},t.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*t._baseDelta/n.deltaTime},t.getAngularSpeed=function(n){return Math.abs(t.getAngularVelocity(n))},t.setAngularSpeed=function(n,a){t.setAngularVelocity(n,c.sign(t.getAngularVelocity(n))*a)},t.translate=function(n,a,o){t.setPosition(n,d.add(n.position,a),o)},t.rotate=function(n,a,o,p){if(!o)t.setAngle(n,n.angle+a,p);else{var h=Math.cos(a),w=Math.sin(a),T=n.position.x-o.x,C=n.position.y-o.y;t.setPosition(n,{x:o.x+(T*h-C*w),y:o.y+(T*w+C*h)},p),t.setAngle(n,n.angle+a,p)}},t.scale=function(n,a,o,p){var h=0,w=0;p=p||n.position;for(var T=0;T<n.parts.length;T++){var C=n.parts[T];s.scale(C.vertices,a,o,p),C.axes=e.fromVertices(C.vertices),C.area=s.area(C.vertices),t.setMass(C,n.density*C.area),s.translate(C.vertices,{x:-C.position.x,y:-C.position.y}),t.setInertia(C,t._inertiaScale*s.inertia(C.vertices,C.mass)),s.translate(C.vertices,{x:C.position.x,y:C.position.y}),T>0&&(h+=C.area,w+=C.inertia),C.position.x=p.x+(C.position.x-p.x)*a,C.position.y=p.y+(C.position.y-p.y)*o,u.update(C.bounds,C.vertices,n.velocity)}n.parts.length>1&&(n.area=h,n.isStatic||(t.setMass(n,n.density*h),t.setInertia(n,w))),n.circleRadius&&(a===o?n.circleRadius*=a:n.circleRadius=null)},t.update=function(n,a){a=(typeof a<"u"?a:1e3/60)*n.timeScale;var o=a*a,p=t._timeCorrection?a/(n.deltaTime||a):1,h=1-n.frictionAir*(a/c._baseDelta),w=(n.position.x-n.positionPrev.x)*p,T=(n.position.y-n.positionPrev.y)*p;n.velocity.x=w*h+n.force.x/n.mass*o,n.velocity.y=T*h+n.force.y/n.mass*o,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=a,n.angularVelocity=(n.angle-n.anglePrev)*h*p+n.torque/n.inertia*o,n.anglePrev=n.angle,n.angle+=n.angularVelocity;for(var C=0;C<n.parts.length;C++){var _=n.parts[C];s.translate(_.vertices,n.velocity),C>0&&(_.position.x+=n.velocity.x,_.position.y+=n.velocity.y),n.angularVelocity!==0&&(s.rotate(_.vertices,n.angularVelocity,n.position),e.rotate(_.axes,n.angularVelocity),C>0&&d.rotateAbout(_.position,n.angularVelocity,n.position,_.position)),u.update(_.bounds,_.vertices,n.velocity)}},t.updateVelocities=function(n){var a=t._baseDelta/n.deltaTime,o=n.velocity;o.x=(n.position.x-n.positionPrev.x)*a,o.y=(n.position.y-n.positionPrev.y)*a,n.speed=Math.sqrt(o.x*o.x+o.y*o.y),n.angularVelocity=(n.angle-n.anglePrev)*a,n.angularSpeed=Math.abs(n.angularVelocity)},t.applyForce=function(n,a,o){var p={x:a.x-n.position.x,y:a.y-n.position.y};n.force.x+=o.x,n.force.y+=o.y,n.torque+=p.x*o.y-p.y*o.x},t._totalProperties=function(n){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},o=n.parts.length===1?0:1;o<n.parts.length;o++){var p=n.parts[o],h=p.mass!==1/0?p.mass:1;a.mass+=h,a.area+=p.area,a.inertia+=p.inertia,a.centre=d.add(a.centre,d.mult(p.position,h))}return a.centre=d.div(a.centre,a.mass),a}})()},function(r,m,f){var t={};r.exports=t;var s=f(0);(function(){t.on=function(d,l,c){for(var u=l.split(" "),e,i=0;i<u.length;i++)e=u[i],d.events=d.events||{},d.events[e]=d.events[e]||[],d.events[e].push(c);return c},t.off=function(d,l,c){if(!l){d.events={};return}typeof l=="function"&&(c=l,l=s.keys(d.events).join(" "));for(var u=l.split(" "),e=0;e<u.length;e++){var i=d.events[u[e]],n=[];if(c&&i)for(var a=0;a<i.length;a++)i[a]!==c&&n.push(i[a]);d.events[u[e]]=n}},t.trigger=function(d,l,c){var u,e,i,n,a=d.events;if(a&&s.keys(a).length>0){c||(c={}),u=l.split(" ");for(var o=0;o<u.length;o++)if(e=u[o],i=a[e],i){n=s.clone(c,!1),n.name=e,n.source=d;for(var p=0;p<i.length;p++)i[p].apply(d,[n])}}}})()},function(r,m,f){var t={};r.exports=t;var s=f(5),d=f(0),l=f(1),c=f(4);(function(){t.create=function(u){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},u)},t.setModified=function(u,e,i,n){if(u.isModified=e,e&&u.cache&&(u.cache.allBodies=null,u.cache.allConstraints=null,u.cache.allComposites=null),i&&u.parent&&t.setModified(u.parent,e,i,n),n)for(var a=0;a<u.composites.length;a++){var o=u.composites[a];t.setModified(o,e,i,n)}},t.add=function(u,e){var i=[].concat(e);s.trigger(u,"beforeAdd",{object:e});for(var n=0;n<i.length;n++){var a=i[n];switch(a.type){case"body":if(a.parent!==a){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}t.addBody(u,a);break;case"constraint":t.addConstraint(u,a);break;case"composite":t.addComposite(u,a);break;case"mouseConstraint":t.addConstraint(u,a.constraint);break}}return s.trigger(u,"afterAdd",{object:e}),u},t.remove=function(u,e,i){var n=[].concat(e);s.trigger(u,"beforeRemove",{object:e});for(var a=0;a<n.length;a++){var o=n[a];switch(o.type){case"body":t.removeBody(u,o,i);break;case"constraint":t.removeConstraint(u,o,i);break;case"composite":t.removeComposite(u,o,i);break;case"mouseConstraint":t.removeConstraint(u,o.constraint);break}}return s.trigger(u,"afterRemove",{object:e}),u},t.addComposite=function(u,e){return u.composites.push(e),e.parent=u,t.setModified(u,!0,!0,!1),u},t.removeComposite=function(u,e,i){var n=d.indexOf(u.composites,e);if(n!==-1){var a=t.allBodies(e);t.removeCompositeAt(u,n);for(var o=0;o<a.length;o++)a[o].sleepCounter=0}if(i)for(var o=0;o<u.composites.length;o++)t.removeComposite(u.composites[o],e,!0);return u},t.removeCompositeAt=function(u,e){return u.composites.splice(e,1),t.setModified(u,!0,!0,!1),u},t.addBody=function(u,e){return u.bodies.push(e),t.setModified(u,!0,!0,!1),u},t.removeBody=function(u,e,i){var n=d.indexOf(u.bodies,e);if(n!==-1&&(t.removeBodyAt(u,n),e.sleepCounter=0),i)for(var a=0;a<u.composites.length;a++)t.removeBody(u.composites[a],e,!0);return u},t.removeBodyAt=function(u,e){return u.bodies.splice(e,1),t.setModified(u,!0,!0,!1),u},t.addConstraint=function(u,e){return u.constraints.push(e),t.setModified(u,!0,!0,!1),u},t.removeConstraint=function(u,e,i){var n=d.indexOf(u.constraints,e);if(n!==-1&&t.removeConstraintAt(u,n),i)for(var a=0;a<u.composites.length;a++)t.removeConstraint(u.composites[a],e,!0);return u},t.removeConstraintAt=function(u,e){return u.constraints.splice(e,1),t.setModified(u,!0,!0,!1),u},t.clear=function(u,e,i){if(i)for(var n=0;n<u.composites.length;n++)t.clear(u.composites[n],e,!0);return e?u.bodies=u.bodies.filter(function(a){return a.isStatic}):u.bodies.length=0,u.constraints.length=0,u.composites.length=0,t.setModified(u,!0,!0,!1),u},t.allBodies=function(u){if(u.cache&&u.cache.allBodies)return u.cache.allBodies;for(var e=[].concat(u.bodies),i=0;i<u.composites.length;i++)e=e.concat(t.allBodies(u.composites[i]));return u.cache&&(u.cache.allBodies=e),e},t.allConstraints=function(u){if(u.cache&&u.cache.allConstraints)return u.cache.allConstraints;for(var e=[].concat(u.constraints),i=0;i<u.composites.length;i++)e=e.concat(t.allConstraints(u.composites[i]));return u.cache&&(u.cache.allConstraints=e),e},t.allComposites=function(u){if(u.cache&&u.cache.allComposites)return u.cache.allComposites;for(var e=[].concat(u.composites),i=0;i<u.composites.length;i++)e=e.concat(t.allComposites(u.composites[i]));return u.cache&&(u.cache.allComposites=e),e},t.get=function(u,e,i){var n,a;switch(i){case"body":n=t.allBodies(u);break;case"constraint":n=t.allConstraints(u);break;case"composite":n=t.allComposites(u).concat(u);break}return n?(a=n.filter(function(o){return o.id.toString()===e.toString()}),a.length===0?null:a[0]):null},t.move=function(u,e,i){return t.remove(u,e),t.add(i,e),u},t.rebase=function(u){for(var e=t.allBodies(u).concat(t.allConstraints(u)).concat(t.allComposites(u)),i=0;i<e.length;i++)e[i].id=d.nextId();return u},t.translate=function(u,e,i){for(var n=i?t.allBodies(u):u.bodies,a=0;a<n.length;a++)c.translate(n[a],e);return u},t.rotate=function(u,e,i,n){for(var a=Math.cos(e),o=Math.sin(e),p=n?t.allBodies(u):u.bodies,h=0;h<p.length;h++){var w=p[h],T=w.position.x-i.x,C=w.position.y-i.y;c.setPosition(w,{x:i.x+(T*a-C*o),y:i.y+(T*o+C*a)}),c.rotate(w,e)}return u},t.scale=function(u,e,i,n,a){for(var o=a?t.allBodies(u):u.bodies,p=0;p<o.length;p++){var h=o[p],w=h.position.x-n.x,T=h.position.y-n.y;c.setPosition(h,{x:n.x+w*e,y:n.y+T*i}),c.scale(h,e,i)}return u},t.bounds=function(u){for(var e=t.allBodies(u),i=[],n=0;n<e.length;n+=1){var a=e[n];i.push(a.bounds.min,a.bounds.max)}return l.create(i)}})()},function(r,m,f){var t={};r.exports=t;var s=f(4),d=f(5),l=f(0);(function(){t._motionWakeThreshold=.18,t._motionSleepThreshold=.08,t._minBias=.9,t.update=function(c,u){for(var e=u/l._baseDelta,i=t._motionSleepThreshold,n=0;n<c.length;n++){var a=c[n],o=s.getSpeed(a),p=s.getAngularSpeed(a),h=o*o+p*p;if(a.force.x!==0||a.force.y!==0){t.set(a,!1);continue}var w=Math.min(a.motion,h),T=Math.max(a.motion,h);a.motion=t._minBias*w+(1-t._minBias)*T,a.sleepThreshold>0&&a.motion<i?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/e&&t.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}},t.afterCollisions=function(c){for(var u=t._motionSleepThreshold,e=0;e<c.length;e++){var i=c[e];if(i.isActive){var n=i.collision,a=n.bodyA.parent,o=n.bodyB.parent;if(!(a.isSleeping&&o.isSleeping||a.isStatic||o.isStatic)&&(a.isSleeping||o.isSleeping)){var p=a.isSleeping&&!a.isStatic?a:o,h=p===a?o:a;!p.isStatic&&h.motion>u&&t.set(p,!1)}}}},t.set=function(c,u){var e=c.isSleeping;u?(c.isSleeping=!0,c.sleepCounter=c.sleepThreshold,c.positionImpulse.x=0,c.positionImpulse.y=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.speed=0,c.angularSpeed=0,c.motion=0,e||d.trigger(c,"sleepStart")):(c.isSleeping=!1,c.sleepCounter=0,e&&d.trigger(c,"sleepEnd"))}})()},function(r,m,f){var t={};r.exports=t;var s=f(3),d=f(9);(function(){var l=[],c={overlap:0,axis:null},u={overlap:0,axis:null};t.create=function(e,i){return{pair:null,collided:!1,bodyA:e,bodyB:i,parentA:e.parent,parentB:i.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},t.collides=function(e,i,n){if(t._overlapAxes(c,e.vertices,i.vertices,e.axes),c.overlap<=0||(t._overlapAxes(u,i.vertices,e.vertices,i.axes),u.overlap<=0))return null;var a=n&&n.table[d.id(e,i)],o;a?o=a.collision:(o=t.create(e,i),o.collided=!0,o.bodyA=e.id<i.id?e:i,o.bodyB=e.id<i.id?i:e,o.parentA=o.bodyA.parent,o.parentB=o.bodyB.parent),e=o.bodyA,i=o.bodyB;var p;c.overlap<u.overlap?p=c:p=u;var h=o.normal,w=o.tangent,T=o.penetration,C=o.supports,_=p.overlap,S=p.axis,x=S.x,y=S.y,b=i.position.x-e.position.x,A=i.position.y-e.position.y;x*b+y*A>=0&&(x=-x,y=-y),h.x=x,h.y=y,w.x=-y,w.y=x,T.x=x*_,T.y=y*_,o.depth=_;var M=t._findSupports(e,i,h,1),P=0;if(s.contains(e.vertices,M[0])&&(C[P++]=M[0]),s.contains(e.vertices,M[1])&&(C[P++]=M[1]),P<2){var k=t._findSupports(i,e,h,-1);s.contains(i.vertices,k[0])&&(C[P++]=k[0]),P<2&&s.contains(i.vertices,k[1])&&(C[P++]=k[1])}return P===0&&(C[P++]=M[0]),o.supportCount=P,o},t._overlapAxes=function(e,i,n,a){var o=i.length,p=n.length,h=i[0].x,w=i[0].y,T=n[0].x,C=n[0].y,_=a.length,S=Number.MAX_VALUE,x=0,y,b,A,M,P,k;for(P=0;P<_;P++){var I=a[P],E=I.x,H=I.y,O=h*E+w*H,W=T*E+C*H,X=O,U=W;for(k=1;k<o;k+=1)M=i[k].x*E+i[k].y*H,M>X?X=M:M<O&&(O=M);for(k=1;k<p;k+=1)M=n[k].x*E+n[k].y*H,M>U?U=M:M<W&&(W=M);if(b=X-W,A=U-O,y=b<A?b:A,y<S&&(S=y,x=P,y<=0))break}e.axis=a[x],e.overlap=S},t._findSupports=function(e,i,n,a){var o=i.vertices,p=o.length,h=e.position.x,w=e.position.y,T=n.x*a,C=n.y*a,_=o[0],S=_,x=T*(h-S.x)+C*(w-S.y),y,b,A;for(A=1;A<p;A+=1)S=o[A],b=T*(h-S.x)+C*(w-S.y),b<x&&(x=b,_=S);return y=o[(p+_.index-1)%p],x=T*(h-y.x)+C*(w-y.y),S=o[(_.index+1)%p],T*(h-S.x)+C*(w-S.y)<x?(l[0]=_,l[1]=S,l):(l[0]=_,l[1]=y,l)}})()},function(r,m,f){var t={};r.exports=t;var s=f(16);(function(){t.create=function(d,l){var c=d.bodyA,u=d.bodyB,e={id:t.id(c,u),bodyA:c,bodyB:u,collision:d,contacts:[s.create(),s.create()],contactCount:0,separation:0,isActive:!0,isSensor:c.isSensor||u.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(e,d,l),e},t.update=function(d,l,c){var u=l.supports,e=l.supportCount,i=d.contacts,n=l.parentA,a=l.parentB;d.isActive=!0,d.timeUpdated=c,d.collision=l,d.separation=l.depth,d.inverseMass=n.inverseMass+a.inverseMass,d.friction=n.friction<a.friction?n.friction:a.friction,d.frictionStatic=n.frictionStatic>a.frictionStatic?n.frictionStatic:a.frictionStatic,d.restitution=n.restitution>a.restitution?n.restitution:a.restitution,d.slop=n.slop>a.slop?n.slop:a.slop,d.contactCount=e,l.pair=d;var o=u[0],p=i[0],h=u[1],w=i[1];(w.vertex===o||p.vertex===h)&&(i[1]=p,i[0]=p=w,w=i[1]),p.vertex=o,w.vertex=h},t.setActive=function(d,l,c){l?(d.isActive=!0,d.timeUpdated=c):(d.isActive=!1,d.contactCount=0)},t.id=function(d,l){return d.id<l.id?d.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+d.id.toString(36)}})()},function(r,m,f){var t={};r.exports=t;var s=f(3),d=f(2),l=f(7),c=f(1),u=f(11),e=f(0);(function(){t._warming=.4,t._torqueDampen=1,t._minLength=1e-6,t.create=function(i){var n=i;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var a=n.bodyA?d.add(n.bodyA.position,n.pointA):n.pointA,o=n.bodyB?d.add(n.bodyB.position,n.pointB):n.pointB,p=d.magnitude(d.sub(a,o));n.length=typeof n.length<"u"?n.length:p,n.id=n.id||e.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var h={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return n.length===0&&n.stiffness>.1?(h.type="pin",h.anchors=!1):n.stiffness<.9&&(h.type="spring"),n.render=e.extend(h,n.render),n},t.preSolveAll=function(i){for(var n=0;n<i.length;n+=1){var a=i[n],o=a.constraintImpulse;a.isStatic||o.x===0&&o.y===0&&o.angle===0||(a.position.x+=o.x,a.position.y+=o.y,a.angle+=o.angle)}},t.solveAll=function(i,n){for(var a=e.clamp(n/e._baseDelta,0,1),o=0;o<i.length;o+=1){var p=i[o],h=!p.bodyA||p.bodyA&&p.bodyA.isStatic,w=!p.bodyB||p.bodyB&&p.bodyB.isStatic;(h||w)&&t.solve(i[o],a)}for(o=0;o<i.length;o+=1)p=i[o],h=!p.bodyA||p.bodyA&&p.bodyA.isStatic,w=!p.bodyB||p.bodyB&&p.bodyB.isStatic,!h&&!w&&t.solve(i[o],a)},t.solve=function(i,n){var a=i.bodyA,o=i.bodyB,p=i.pointA,h=i.pointB;if(!(!a&&!o)){a&&!a.isStatic&&(d.rotate(p,a.angle-i.angleA,p),i.angleA=a.angle),o&&!o.isStatic&&(d.rotate(h,o.angle-i.angleB,h),i.angleB=o.angle);var w=p,T=h;if(a&&(w=d.add(a.position,p)),o&&(T=d.add(o.position,h)),!(!w||!T)){var C=d.sub(w,T),_=d.magnitude(C);_<t._minLength&&(_=t._minLength);var S=(_-i.length)/_,x=i.stiffness>=1||i.length===0,y=x?i.stiffness*n:i.stiffness*n*n,b=i.damping*n,A=d.mult(C,S*y),M=(a?a.inverseMass:0)+(o?o.inverseMass:0),P=(a?a.inverseInertia:0)+(o?o.inverseInertia:0),k=M+P,I,E,H,O,W;if(b>0){var X=d.create();H=d.div(C,_),W=d.sub(o&&d.sub(o.position,o.positionPrev)||X,a&&d.sub(a.position,a.positionPrev)||X),O=d.dot(H,W)}a&&!a.isStatic&&(E=a.inverseMass/M,a.constraintImpulse.x-=A.x*E,a.constraintImpulse.y-=A.y*E,a.position.x-=A.x*E,a.position.y-=A.y*E,b>0&&(a.positionPrev.x-=b*H.x*O*E,a.positionPrev.y-=b*H.y*O*E),I=d.cross(p,A)/k*t._torqueDampen*a.inverseInertia*(1-i.angularStiffness),a.constraintImpulse.angle-=I,a.angle-=I),o&&!o.isStatic&&(E=o.inverseMass/M,o.constraintImpulse.x+=A.x*E,o.constraintImpulse.y+=A.y*E,o.position.x+=A.x*E,o.position.y+=A.y*E,b>0&&(o.positionPrev.x+=b*H.x*O*E,o.positionPrev.y+=b*H.y*O*E),I=d.cross(h,A)/k*t._torqueDampen*o.inverseInertia*(1-i.angularStiffness),o.constraintImpulse.angle+=I,o.angle+=I)}}},t.postSolveAll=function(i){for(var n=0;n<i.length;n++){var a=i[n],o=a.constraintImpulse;if(!(a.isStatic||o.x===0&&o.y===0&&o.angle===0)){l.set(a,!1);for(var p=0;p<a.parts.length;p++){var h=a.parts[p];s.translate(h.vertices,o),p>0&&(h.position.x+=o.x,h.position.y+=o.y),o.angle!==0&&(s.rotate(h.vertices,o.angle,a.position),u.rotate(h.axes,o.angle),p>0&&d.rotateAbout(h.position,o.angle,a.position,h.position)),c.update(h.bounds,h.vertices,a.velocity)}o.angle*=t._warming,o.x*=t._warming,o.y*=t._warming}}},t.pointAWorld=function(i){return{x:(i.bodyA?i.bodyA.position.x:0)+(i.pointA?i.pointA.x:0),y:(i.bodyA?i.bodyA.position.y:0)+(i.pointA?i.pointA.y:0)}},t.pointBWorld=function(i){return{x:(i.bodyB?i.bodyB.position.x:0)+(i.pointB?i.pointB.x:0),y:(i.bodyB?i.bodyB.position.y:0)+(i.pointB?i.pointB.y:0)}},t.currentLength=function(i){var n=(i.bodyA?i.bodyA.position.x:0)+(i.pointA?i.pointA.x:0),a=(i.bodyA?i.bodyA.position.y:0)+(i.pointA?i.pointA.y:0),o=(i.bodyB?i.bodyB.position.x:0)+(i.pointB?i.pointB.x:0),p=(i.bodyB?i.bodyB.position.y:0)+(i.pointB?i.pointB.y:0),h=n-o,w=a-p;return Math.sqrt(h*h+w*w)}})()},function(r,m,f){var t={};r.exports=t;var s=f(2),d=f(0);(function(){t.fromVertices=function(l){for(var c={},u=0;u<l.length;u++){var e=(u+1)%l.length,i=s.normalise({x:l[e].y-l[u].y,y:l[u].x-l[e].x}),n=i.y===0?1/0:i.x/i.y;n=n.toFixed(3).toString(),c[n]=i}return d.values(c)},t.rotate=function(l,c){if(c!==0)for(var u=Math.cos(c),e=Math.sin(c),i=0;i<l.length;i++){var n=l[i],a;a=n.x*u-n.y*e,n.y=n.x*e+n.y*u,n.x=a}}})()},function(r,m,f){var t={};r.exports=t;var s=f(3),d=f(0),l=f(4),c=f(1),u=f(2);(function(){t.rectangle=function(e,i,n,a,o){o=o||{};var p={label:"Rectangle Body",position:{x:e,y:i},vertices:s.fromPath("L 0 0 L "+n+" 0 L "+n+" "+a+" L 0 "+a)};if(o.chamfer){var h=o.chamfer;p.vertices=s.chamfer(p.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete o.chamfer}return l.create(d.extend({},p,o))},t.trapezoid=function(e,i,n,a,o,p){p=p||{},o>=1&&d.warn("Bodies.trapezoid: slope parameter must be < 1."),o*=.5;var h=(1-o*2)*n,w=n*o,T=w+h,C=T+w,_;o<.5?_="L 0 0 L "+w+" "+-a+" L "+T+" "+-a+" L "+C+" 0":_="L 0 0 L "+T+" "+-a+" L "+C+" 0";var S={label:"Trapezoid Body",position:{x:e,y:i},vertices:s.fromPath(_)};if(p.chamfer){var x=p.chamfer;S.vertices=s.chamfer(S.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete p.chamfer}return l.create(d.extend({},S,p))},t.circle=function(e,i,n,a,o){a=a||{};var p={label:"Circle Body",circleRadius:n};o=o||25;var h=Math.ceil(Math.max(10,Math.min(o,n)));return h%2===1&&(h+=1),t.polygon(e,i,h,n,d.extend({},p,a))},t.polygon=function(e,i,n,a,o){if(o=o||{},n<3)return t.circle(e,i,a,o);for(var p=2*Math.PI/n,h="",w=p*.5,T=0;T<n;T+=1){var C=w+T*p,_=Math.cos(C)*a,S=Math.sin(C)*a;h+="L "+_.toFixed(3)+" "+S.toFixed(3)+" "}var x={label:"Polygon Body",position:{x:e,y:i},vertices:s.fromPath(h)};if(o.chamfer){var y=o.chamfer;x.vertices=s.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete o.chamfer}return l.create(d.extend({},x,o))},t.fromVertices=function(e,i,n,a,o,p,h,w){var T=d.getDecomp(),C,_,S,x,y,b,A,M,P,k,I;for(C=!!(T&&T.quickDecomp),a=a||{},S=[],o=typeof o<"u"?o:!1,p=typeof p<"u"?p:.01,h=typeof h<"u"?h:10,w=typeof w<"u"?w:.01,d.isArray(n[0])||(n=[n]),k=0;k<n.length;k+=1)if(b=n[k],x=s.isConvex(b),y=!x,y&&!C&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),x||!C)x?b=s.clockwiseSort(b):b=s.hull(b),S.push({position:{x:e,y:i},vertices:b});else{var E=b.map(function(j){return[j.x,j.y]});T.makeCCW(E),p!==!1&&T.removeCollinearPoints(E,p),w!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(E,w);var H=T.quickDecomp(E);for(A=0;A<H.length;A++){var O=H[A],W=O.map(function(j){return{x:j[0],y:j[1]}});h>0&&s.area(W)<h||S.push({position:s.centre(W),vertices:W})}}for(A=0;A<S.length;A++)S[A]=l.create(d.extend(S[A],a));if(o){var X=5;for(A=0;A<S.length;A++){var U=S[A];for(M=A+1;M<S.length;M++){var z=S[M];if(c.overlaps(U.bounds,z.bounds)){var ee=U.vertices,ne=z.vertices;for(P=0;P<U.vertices.length;P++)for(I=0;I<z.vertices.length;I++){var ve=u.magnitudeSquared(u.sub(ee[(P+1)%ee.length],ne[I])),oe=u.magnitudeSquared(u.sub(ee[P],ne[(I+1)%ne.length]));ve<X&&oe<X&&(ee[P].isInternal=!0,ne[I].isInternal=!0)}}}}}return S.length>1?(_=l.create(d.extend({parts:S.slice(0)},a)),l.setPosition(_,{x:e,y:i}),_):S[0]}})()},function(r,m,f){var t={};r.exports=t;var s=f(0),d=f(8);(function(){t.create=function(l){var c={bodies:[],collisions:[],pairs:null};return s.extend(c,l)},t.setBodies=function(l,c){l.bodies=c.slice(0)},t.clear=function(l){l.bodies=[],l.collisions=[]},t.collisions=function(l){var c=l.pairs,u=l.bodies,e=u.length,i=t.canCollide,n=d.collides,a=l.collisions,o=0,p,h;for(u.sort(t._compareBoundsX),p=0;p<e;p++){var w=u[p],T=w.bounds,C=w.bounds.max.x,_=w.bounds.max.y,S=w.bounds.min.y,x=w.isStatic||w.isSleeping,y=w.parts.length,b=y===1;for(h=p+1;h<e;h++){var A=u[h],M=A.bounds;if(M.min.x>C)break;if(!(_<M.min.y||S>M.max.y)&&!(x&&(A.isStatic||A.isSleeping))&&i(w.collisionFilter,A.collisionFilter)){var P=A.parts.length;if(b&&P===1){var k=n(w,A,c);k&&(a[o++]=k)}else for(var I=y>1?1:0,E=P>1?1:0,H=I;H<y;H++)for(var O=w.parts[H],T=O.bounds,W=E;W<P;W++){var X=A.parts[W],M=X.bounds;if(!(T.min.x>M.max.x||T.max.x<M.min.x||T.max.y<M.min.y||T.min.y>M.max.y)){var k=n(O,X,c);k&&(a[o++]=k)}}}}}return a.length!==o&&(a.length=o),a},t.canCollide=function(l,c){return l.group===c.group&&l.group!==0?l.group>0:(l.mask&c.category)!==0&&(c.mask&l.category)!==0},t._compareBoundsX=function(l,c){return l.bounds.min.x-c.bounds.min.x}})()},function(r,m,f){var t={};r.exports=t;var s=f(0);(function(){t.create=function(d){var l={};return d||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=d||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(c){var u=t._getRelativeMousePosition(c,l.element,l.pixelRatio),e=c.changedTouches;e&&(l.button=0,c.preventDefault()),l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=c},l.mousedown=function(c){var u=t._getRelativeMousePosition(c,l.element,l.pixelRatio),e=c.changedTouches;e?(l.button=0,c.preventDefault()):l.button=c.button,l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=c},l.mouseup=function(c){var u=t._getRelativeMousePosition(c,l.element,l.pixelRatio),e=c.changedTouches;e&&c.preventDefault(),l.button=-1,l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=c},l.mousewheel=function(c){l.wheelDelta=Math.max(-1,Math.min(1,c.wheelDelta||-c.detail)),c.preventDefault(),l.sourceEvents.mousewheel=c},t.setElement(l,l.element),l},t.setElement=function(d,l){d.element=l,l.addEventListener("mousemove",d.mousemove,{passive:!0}),l.addEventListener("mousedown",d.mousedown,{passive:!0}),l.addEventListener("mouseup",d.mouseup,{passive:!0}),l.addEventListener("wheel",d.mousewheel,{passive:!1}),l.addEventListener("touchmove",d.mousemove,{passive:!1}),l.addEventListener("touchstart",d.mousedown,{passive:!1}),l.addEventListener("touchend",d.mouseup,{passive:!1})},t.clearSourceEvents=function(d){d.sourceEvents.mousemove=null,d.sourceEvents.mousedown=null,d.sourceEvents.mouseup=null,d.sourceEvents.mousewheel=null,d.wheelDelta=0},t.setOffset=function(d,l){d.offset.x=l.x,d.offset.y=l.y,d.position.x=d.absolute.x*d.scale.x+d.offset.x,d.position.y=d.absolute.y*d.scale.y+d.offset.y},t.setScale=function(d,l){d.scale.x=l.x,d.scale.y=l.y,d.position.x=d.absolute.x*d.scale.x+d.offset.x,d.position.y=d.absolute.y*d.scale.y+d.offset.y},t._getRelativeMousePosition=function(d,l,c){var u=l.getBoundingClientRect(),e=document.documentElement||document.body.parentNode||document.body,i=window.pageXOffset!==void 0?window.pageXOffset:e.scrollLeft,n=window.pageYOffset!==void 0?window.pageYOffset:e.scrollTop,a=d.changedTouches,o,p;return a?(o=a[0].pageX-u.left-i,p=a[0].pageY-u.top-n):(o=d.pageX-u.left-i,p=d.pageY-u.top-n),{x:o/(l.clientWidth/(l.width||l.clientWidth)*c),y:p/(l.clientHeight/(l.height||l.clientHeight)*c)}}})()},function(r,m,f){var t={};r.exports=t;var s=f(0);(function(){t._registry={},t.register=function(d){if(t.isPlugin(d)||s.warn("Plugin.register:",t.toString(d),"does not implement all required fields."),d.name in t._registry){var l=t._registry[d.name],c=t.versionParse(d.version).number,u=t.versionParse(l.version).number;c>u?(s.warn("Plugin.register:",t.toString(l),"was upgraded to",t.toString(d)),t._registry[d.name]=d):c<u?s.warn("Plugin.register:",t.toString(l),"can not be downgraded to",t.toString(d)):d!==l&&s.warn("Plugin.register:",t.toString(d),"is already registered to different plugin object")}else t._registry[d.name]=d;return d},t.resolve=function(d){return t._registry[t.dependencyParse(d).name]},t.toString=function(d){return typeof d=="string"?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")},t.isPlugin=function(d){return d&&d.name&&d.version&&d.install},t.isUsed=function(d,l){return d.used.indexOf(l)>-1},t.isFor=function(d,l){var c=d.for&&t.dependencyParse(d.for);return!d.for||l.name===c.name&&t.versionSatisfies(l.version,c.range)},t.use=function(d,l){if(d.uses=(d.uses||[]).concat(l||[]),d.uses.length===0){s.warn("Plugin.use:",t.toString(d),"does not specify any dependencies to install.");return}for(var c=t.dependencies(d),u=s.topologicalSort(c),e=[],i=0;i<u.length;i+=1)if(u[i]!==d.name){var n=t.resolve(u[i]);if(!n){e.push("❌ "+u[i]);continue}t.isUsed(d,n.name)||(t.isFor(n,d)||(s.warn("Plugin.use:",t.toString(n),"is for",n.for,"but installed on",t.toString(d)+"."),n._warned=!0),n.install?n.install(d):(s.warn("Plugin.use:",t.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(e.push("🔶 "+t.toString(n)),delete n._warned):e.push("✅ "+t.toString(n)),d.used.push(n.name))}e.length>0&&s.info(e.join("  "))},t.dependencies=function(d,l){var c=t.dependencyParse(d),u=c.name;if(l=l||{},!(u in l)){d=t.resolve(d)||d,l[u]=s.map(d.uses||[],function(i){t.isPlugin(i)&&t.register(i);var n=t.dependencyParse(i),a=t.resolve(i);return a&&!t.versionSatisfies(a.version,n.range)?(s.warn("Plugin.dependencies:",t.toString(a),"does not satisfy",t.toString(n),"used by",t.toString(c)+"."),a._warned=!0,d._warned=!0):a||(s.warn("Plugin.dependencies:",t.toString(i),"used by",t.toString(c),"could not be resolved."),d._warned=!0),n.name});for(var e=0;e<l[u].length;e+=1)t.dependencies(l[u][e],l);return l}},t.dependencyParse=function(d){if(s.isString(d)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(d)||s.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}}return{name:d.name,range:d.range||d.version}},t.versionParse=function(d){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(d)||s.warn("Plugin.versionParse:",d,"is not a valid version or range.");var c=l.exec(d),u=Number(c[4]),e=Number(c[5]),i=Number(c[6]);return{isRange:!!(c[1]||c[2]),version:c[3],range:d,operator:c[1]||c[2]||"",major:u,minor:e,patch:i,parts:[u,e,i],prerelease:c[7],number:u*1e8+e*1e4+i}},t.versionSatisfies=function(d,l){l=l||"*";var c=t.versionParse(l),u=t.versionParse(d);if(c.isRange){if(c.operator==="*"||d==="*")return!0;if(c.operator===">")return u.number>c.number;if(c.operator===">=")return u.number>=c.number;if(c.operator==="~")return u.major===c.major&&u.minor===c.minor&&u.patch>=c.patch;if(c.operator==="^")return c.major>0?u.major===c.major&&u.number>=c.number:c.minor>0?u.minor===c.minor&&u.patch>=c.patch:u.patch===c.patch}return d===l||d==="*"}})()},function(r,m){var f={};r.exports=f,function(){f.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},function(r,m,f){var t={};r.exports=t;var s=f(7),d=f(18),l=f(13),c=f(19),u=f(5),e=f(6),i=f(10),n=f(0),a=f(4);(function(){t._deltaMax=1e3/60,t.create=function(o){o=o||{};var p={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},h=n.extend(p,o);return h.world=o.world||e.create({label:"World"}),h.pairs=o.pairs||c.create(),h.detector=o.detector||l.create(),h.detector.pairs=h.pairs,h.grid={buckets:[]},h.world.gravity=h.gravity,h.broadphase=h.grid,h.metrics={},h},t.update=function(o,p){var h=n.now(),w=o.world,T=o.detector,C=o.pairs,_=o.timing,S=_.timestamp,x;p>t._deltaMax&&n.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",t._deltaMax.toFixed(3),"ms."),p=typeof p<"u"?p:n._baseDelta,p*=_.timeScale,_.timestamp+=p,_.lastDelta=p;var y={timestamp:_.timestamp,delta:p};u.trigger(o,"beforeUpdate",y);var b=e.allBodies(w),A=e.allConstraints(w);for(w.isModified&&(l.setBodies(T,b),e.setModified(w,!1,!1,!0)),o.enableSleeping&&s.update(b,p),t._bodiesApplyGravity(b,o.gravity),p>0&&t._bodiesUpdate(b,p),u.trigger(o,"beforeSolve",y),i.preSolveAll(b),x=0;x<o.constraintIterations;x++)i.solveAll(A,p);i.postSolveAll(b);var M=l.collisions(T);c.update(C,M,S),o.enableSleeping&&s.afterCollisions(C.list),C.collisionStart.length>0&&u.trigger(o,"collisionStart",{pairs:C.collisionStart,timestamp:_.timestamp,delta:p});var P=n.clamp(20/o.positionIterations,0,1);for(d.preSolvePosition(C.list),x=0;x<o.positionIterations;x++)d.solvePosition(C.list,p,P);for(d.postSolvePosition(b),i.preSolveAll(b),x=0;x<o.constraintIterations;x++)i.solveAll(A,p);for(i.postSolveAll(b),d.preSolveVelocity(C.list),x=0;x<o.velocityIterations;x++)d.solveVelocity(C.list,p);return t._bodiesUpdateVelocities(b),C.collisionActive.length>0&&u.trigger(o,"collisionActive",{pairs:C.collisionActive,timestamp:_.timestamp,delta:p}),C.collisionEnd.length>0&&u.trigger(o,"collisionEnd",{pairs:C.collisionEnd,timestamp:_.timestamp,delta:p}),t._bodiesClearForces(b),u.trigger(o,"afterUpdate",y),o.timing.lastElapsed=n.now()-h,o},t.merge=function(o,p){if(n.extend(o,p),p.world){o.world=p.world,t.clear(o);for(var h=e.allBodies(o.world),w=0;w<h.length;w++){var T=h[w];s.set(T,!1),T.id=n.nextId()}}},t.clear=function(o){c.clear(o.pairs),l.clear(o.detector)},t._bodiesClearForces=function(o){for(var p=o.length,h=0;h<p;h++){var w=o[h];w.force.x=0,w.force.y=0,w.torque=0}},t._bodiesApplyGravity=function(o,p){var h=typeof p.scale<"u"?p.scale:.001,w=o.length;if(!(p.x===0&&p.y===0||h===0))for(var T=0;T<w;T++){var C=o[T];C.isStatic||C.isSleeping||(C.force.y+=C.mass*p.y*h,C.force.x+=C.mass*p.x*h)}},t._bodiesUpdate=function(o,p){for(var h=o.length,w=0;w<h;w++){var T=o[w];T.isStatic||T.isSleeping||a.update(T,p)}},t._bodiesUpdateVelocities=function(o){for(var p=o.length,h=0;h<p;h++)a.updateVelocities(o[h])}})()},function(r,m,f){var t={};r.exports=t;var s=f(3),d=f(0),l=f(1);(function(){t._restingThresh=2,t._restingThreshTangent=Math.sqrt(6),t._positionDampen=.9,t._positionWarming=.8,t._frictionNormalMultiplier=5,t._frictionMaxStatic=Number.MAX_VALUE,t.preSolvePosition=function(c){var u,e,i,n=c.length;for(u=0;u<n;u++)e=c[u],e.isActive&&(i=e.contactCount,e.collision.parentA.totalContacts+=i,e.collision.parentB.totalContacts+=i)},t.solvePosition=function(c,u,e){var i,n,a,o,p,h,w,T,C=t._positionDampen*(e||1),_=d.clamp(u/d._baseDelta,0,1),S=c.length;for(i=0;i<S;i++)n=c[i],!(!n.isActive||n.isSensor)&&(a=n.collision,o=a.parentA,p=a.parentB,h=a.normal,n.separation=a.depth+h.x*(p.positionImpulse.x-o.positionImpulse.x)+h.y*(p.positionImpulse.y-o.positionImpulse.y));for(i=0;i<S;i++)n=c[i],!(!n.isActive||n.isSensor)&&(a=n.collision,o=a.parentA,p=a.parentB,h=a.normal,T=n.separation-n.slop*_,(o.isStatic||p.isStatic)&&(T*=2),o.isStatic||o.isSleeping||(w=C/o.totalContacts,o.positionImpulse.x+=h.x*T*w,o.positionImpulse.y+=h.y*T*w),p.isStatic||p.isSleeping||(w=C/p.totalContacts,p.positionImpulse.x-=h.x*T*w,p.positionImpulse.y-=h.y*T*w))},t.postSolvePosition=function(c){for(var u=t._positionWarming,e=c.length,i=s.translate,n=l.update,a=0;a<e;a++){var o=c[a],p=o.positionImpulse,h=p.x,w=p.y,T=o.velocity;if(o.totalContacts=0,h!==0||w!==0){for(var C=0;C<o.parts.length;C++){var _=o.parts[C];i(_.vertices,p),n(_.bounds,_.vertices,T),_.position.x+=h,_.position.y+=w}o.positionPrev.x+=h,o.positionPrev.y+=w,h*T.x+w*T.y<0?(p.x=0,p.y=0):(p.x*=u,p.y*=u)}}},t.preSolveVelocity=function(c){var u=c.length,e,i;for(e=0;e<u;e++){var n=c[e];if(!(!n.isActive||n.isSensor)){var a=n.contacts,o=n.contactCount,p=n.collision,h=p.parentA,w=p.parentB,T=p.normal,C=p.tangent;for(i=0;i<o;i++){var _=a[i],S=_.vertex,x=_.normalImpulse,y=_.tangentImpulse;if(x!==0||y!==0){var b=T.x*x+C.x*y,A=T.y*x+C.y*y;h.isStatic||h.isSleeping||(h.positionPrev.x+=b*h.inverseMass,h.positionPrev.y+=A*h.inverseMass,h.anglePrev+=h.inverseInertia*((S.x-h.position.x)*A-(S.y-h.position.y)*b)),w.isStatic||w.isSleeping||(w.positionPrev.x-=b*w.inverseMass,w.positionPrev.y-=A*w.inverseMass,w.anglePrev-=w.inverseInertia*((S.x-w.position.x)*A-(S.y-w.position.y)*b))}}}}},t.solveVelocity=function(c,u){var e=u/d._baseDelta,i=e*e,n=i*e,a=-t._restingThresh*e,o=t._restingThreshTangent,p=t._frictionNormalMultiplier*e,h=t._frictionMaxStatic,w=c.length,T,C,_,S;for(_=0;_<w;_++){var x=c[_];if(!(!x.isActive||x.isSensor)){var y=x.collision,b=y.parentA,A=y.parentB,M=y.normal.x,P=y.normal.y,k=y.tangent.x,I=y.tangent.y,E=x.inverseMass,H=x.friction*x.frictionStatic*p,O=x.contacts,W=x.contactCount,X=1/W,U=b.position.x-b.positionPrev.x,z=b.position.y-b.positionPrev.y,ee=b.angle-b.anglePrev,ne=A.position.x-A.positionPrev.x,ve=A.position.y-A.positionPrev.y,oe=A.angle-A.anglePrev;for(S=0;S<W;S++){var j=O[S],D=j.vertex,B=D.x-b.position.x,L=D.y-b.position.y,V=D.x-A.position.x,G=D.y-A.position.y,F=U-L*ee,Z=z+B*ee,Y=ne-G*oe,K=ve+V*oe,J=F-Y,me=Z-K,Ae=M*J+P*me,we=k*J+I*me,Te=x.separation+Ae,ae=Math.min(Te,1);ae=Te<0?0:ae;var We=ae*H;we<-We||we>We?(C=we>0?we:-we,T=x.friction*(we>0?1:-1)*n,T<-C?T=-C:T>C&&(T=C)):(T=we,C=h);var Ue=B*P-L*M,Be=V*P-G*M,pe=X/(E+b.inverseInertia*Ue*Ue+A.inverseInertia*Be*Be),Le=(1+x.restitution)*Ae*pe;if(T*=pe,Ae<a)j.normalImpulse=0;else{var be=j.normalImpulse;j.normalImpulse+=Le,j.normalImpulse>0&&(j.normalImpulse=0),Le=j.normalImpulse-be}if(we<-o||we>o)j.tangentImpulse=0;else{var je=j.tangentImpulse;j.tangentImpulse+=T,j.tangentImpulse<-C&&(j.tangentImpulse=-C),j.tangentImpulse>C&&(j.tangentImpulse=C),T=j.tangentImpulse-je}var he=M*Le+k*T,He=P*Le+I*T;b.isStatic||b.isSleeping||(b.positionPrev.x+=he*b.inverseMass,b.positionPrev.y+=He*b.inverseMass,b.anglePrev+=(B*He-L*he)*b.inverseInertia),A.isStatic||A.isSleeping||(A.positionPrev.x-=he*A.inverseMass,A.positionPrev.y-=He*A.inverseMass,A.anglePrev-=(V*He-G*he)*A.inverseInertia)}}}}})()},function(r,m,f){var t={};r.exports=t;var s=f(9),d=f(0);(function(){t.create=function(l){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},t.update=function(l,c,u){var e=s.update,i=s.create,n=s.setActive,a=l.table,o=l.list,p=o.length,h=p,w=l.collisionStart,T=l.collisionEnd,C=l.collisionActive,_=c.length,S=0,x=0,y=0,b,A,M;for(M=0;M<_;M++)b=c[M],A=b.pair,A?(A.isActive&&(C[y++]=A),e(A,b,u)):(A=i(b,u),a[A.id]=A,w[S++]=A,o[h++]=A);for(h=0,p=o.length,M=0;M<p;M++)A=o[M],A.timeUpdated>=u?o[h++]=A:(n(A,!1,u),A.collision.bodyA.sleepCounter>0&&A.collision.bodyB.sleepCounter>0?o[h++]=A:(T[x++]=A,delete a[A.id]));o.length!==h&&(o.length=h),w.length!==S&&(w.length=S),T.length!==x&&(T.length=x),C.length!==y&&(C.length=y)},t.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(r,m,f){var t=r.exports=f(21);t.Axes=f(11),t.Bodies=f(12),t.Body=f(4),t.Bounds=f(1),t.Collision=f(8),t.Common=f(0),t.Composite=f(6),t.Composites=f(22),t.Constraint=f(10),t.Contact=f(16),t.Detector=f(13),t.Engine=f(17),t.Events=f(5),t.Grid=f(23),t.Mouse=f(14),t.MouseConstraint=f(24),t.Pair=f(9),t.Pairs=f(19),t.Plugin=f(15),t.Query=f(25),t.Render=f(26),t.Resolver=f(18),t.Runner=f(27),t.SAT=f(28),t.Sleeping=f(7),t.Svg=f(29),t.Vector=f(2),t.Vertices=f(3),t.World=f(30),t.Engine.run=t.Runner.run,t.Common.deprecated(t.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(r,m,f){var t={};r.exports=t;var s=f(15),d=f(0);(function(){t.name="matter-js",t.version="0.20.0",t.uses=[],t.used=[],t.use=function(){s.use(t,Array.prototype.slice.call(arguments))},t.before=function(l,c){return l=l.replace(/^Matter./,""),d.chainPathBefore(t,l,c)},t.after=function(l,c){return l=l.replace(/^Matter./,""),d.chainPathAfter(t,l,c)}})()},function(r,m,f){var t={};r.exports=t;var s=f(6),d=f(10),l=f(0),c=f(4),u=f(12),e=l.deprecated;(function(){t.stack=function(i,n,a,o,p,h,w){for(var T=s.create({label:"Stack"}),C=i,_=n,S,x=0,y=0;y<o;y++){for(var b=0,A=0;A<a;A++){var M=w(C,_,A,y,S,x);if(M){var P=M.bounds.max.y-M.bounds.min.y,k=M.bounds.max.x-M.bounds.min.x;P>b&&(b=P),c.translate(M,{x:k*.5,y:P*.5}),C=M.bounds.max.x+p,s.addBody(T,M),S=M,x+=1}else C+=p}_+=b+h,C=i}return T},t.chain=function(i,n,a,o,p,h){for(var w=i.bodies,T=1;T<w.length;T++){var C=w[T-1],_=w[T],S=C.bounds.max.y-C.bounds.min.y,x=C.bounds.max.x-C.bounds.min.x,y=_.bounds.max.y-_.bounds.min.y,b=_.bounds.max.x-_.bounds.min.x,A={bodyA:C,pointA:{x:x*n,y:S*a},bodyB:_,pointB:{x:b*o,y:y*p}},M=l.extend(A,h);s.addConstraint(i,d.create(M))}return i.label+=" Chain",i},t.mesh=function(i,n,a,o,p){var h=i.bodies,w,T,C,_,S;for(w=0;w<a;w++){for(T=1;T<n;T++)C=h[T-1+w*n],_=h[T+w*n],s.addConstraint(i,d.create(l.extend({bodyA:C,bodyB:_},p)));if(w>0)for(T=0;T<n;T++)C=h[T+(w-1)*n],_=h[T+w*n],s.addConstraint(i,d.create(l.extend({bodyA:C,bodyB:_},p))),o&&T>0&&(S=h[T-1+(w-1)*n],s.addConstraint(i,d.create(l.extend({bodyA:S,bodyB:_},p)))),o&&T<n-1&&(S=h[T+1+(w-1)*n],s.addConstraint(i,d.create(l.extend({bodyA:S,bodyB:_},p))))}return i.label+=" Mesh",i},t.pyramid=function(i,n,a,o,p,h,w){return t.stack(i,n,a,o,p,h,function(T,C,_,S,x,y){var b=Math.min(o,Math.ceil(a/2)),A=x?x.bounds.max.x-x.bounds.min.x:0;if(!(S>b)){S=b-S;var M=S,P=a-1-S;if(!(_<M||_>P)){y===1&&c.translate(x,{x:(_+(a%2===1?1:-1))*A,y:0});var k=x?_*A:0;return w(i+k+_*p,C,_,S,x,y)}}})},t.newtonsCradle=function(i,n,a,o,p){for(var h=s.create({label:"Newtons Cradle"}),w=0;w<a;w++){var T=1.9,C=u.circle(i+w*(o*T),n+p,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),_=d.create({pointA:{x:i+w*(o*T),y:n},bodyB:C});s.addBody(h,C),s.addConstraint(h,_)}return h},e(t,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),t.car=function(i,n,a,o,p){var h=c.nextGroup(!0),w=20,T=-a*.5+w,C=a*.5-w,_=0,S=s.create({label:"Car"}),x=u.rectangle(i,n,a,o,{collisionFilter:{group:h},chamfer:{radius:o*.5},density:2e-4}),y=u.circle(i+T,n+_,p,{collisionFilter:{group:h},friction:.8}),b=u.circle(i+C,n+_,p,{collisionFilter:{group:h},friction:.8}),A=d.create({bodyB:x,pointB:{x:T,y:_},bodyA:y,stiffness:1,length:0}),M=d.create({bodyB:x,pointB:{x:C,y:_},bodyA:b,stiffness:1,length:0});return s.addBody(S,x),s.addBody(S,y),s.addBody(S,b),s.addConstraint(S,A),s.addConstraint(S,M),S},e(t,"car","Composites.car ➤ moved to car example"),t.softBody=function(i,n,a,o,p,h,w,T,C,_){C=l.extend({inertia:1/0},C),_=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},_);var S=t.stack(i,n,a,o,p,h,function(x,y){return u.circle(x,y,T,C)});return t.mesh(S,a,o,w,_),S.label="Soft Body",S},e(t,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(r,m,f){var t={};r.exports=t;var s=f(9),d=f(0),l=d.deprecated;(function(){t.create=function(c){var u={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return d.extend(u,c)},t.update=function(c,u,e,i){var n,a,o,p=e.world,h=c.buckets,w,T,C=!1;for(n=0;n<u.length;n++){var _=u[n];if(!(_.isSleeping&&!i)&&!(p.bounds&&(_.bounds.max.x<p.bounds.min.x||_.bounds.min.x>p.bounds.max.x||_.bounds.max.y<p.bounds.min.y||_.bounds.min.y>p.bounds.max.y))){var S=t._getRegion(c,_);if(!_.region||S.id!==_.region.id||i){(!_.region||i)&&(_.region=S);var x=t._regionUnion(S,_.region);for(a=x.startCol;a<=x.endCol;a++)for(o=x.startRow;o<=x.endRow;o++){T=t._getBucketId(a,o),w=h[T];var y=a>=S.startCol&&a<=S.endCol&&o>=S.startRow&&o<=S.endRow,b=a>=_.region.startCol&&a<=_.region.endCol&&o>=_.region.startRow&&o<=_.region.endRow;!y&&b&&b&&w&&t._bucketRemoveBody(c,w,_),(_.region===S||y&&!b||i)&&(w||(w=t._createBucket(h,T)),t._bucketAddBody(c,w,_))}_.region=S,C=!0}}}C&&(c.pairsList=t._createActivePairsList(c))},l(t,"update","Grid.update ➤ replaced by Matter.Detector"),t.clear=function(c){c.buckets={},c.pairs={},c.pairsList=[]},l(t,"clear","Grid.clear ➤ replaced by Matter.Detector"),t._regionUnion=function(c,u){var e=Math.min(c.startCol,u.startCol),i=Math.max(c.endCol,u.endCol),n=Math.min(c.startRow,u.startRow),a=Math.max(c.endRow,u.endRow);return t._createRegion(e,i,n,a)},t._getRegion=function(c,u){var e=u.bounds,i=Math.floor(e.min.x/c.bucketWidth),n=Math.floor(e.max.x/c.bucketWidth),a=Math.floor(e.min.y/c.bucketHeight),o=Math.floor(e.max.y/c.bucketHeight);return t._createRegion(i,n,a,o)},t._createRegion=function(c,u,e,i){return{id:c+","+u+","+e+","+i,startCol:c,endCol:u,startRow:e,endRow:i}},t._getBucketId=function(c,u){return"C"+c+"R"+u},t._createBucket=function(c,u){var e=c[u]=[];return e},t._bucketAddBody=function(c,u,e){var i=c.pairs,n=s.id,a=u.length,o;for(o=0;o<a;o++){var p=u[o];if(!(e.id===p.id||e.isStatic&&p.isStatic)){var h=n(e,p),w=i[h];w?w[2]+=1:i[h]=[e,p,1]}}u.push(e)},t._bucketRemoveBody=function(c,u,e){var i=c.pairs,n=s.id,a;u.splice(d.indexOf(u,e),1);var o=u.length;for(a=0;a<o;a++){var p=i[n(e,u[a])];p&&(p[2]-=1)}},t._createActivePairsList=function(c){var u,e=c.pairs,i=d.keys(e),n=i.length,a=[],o;for(o=0;o<n;o++)u=e[i[o]],u[2]>0?a.push(u):delete e[i[o]];return a}})()},function(r,m,f){var t={};r.exports=t;var s=f(3),d=f(7),l=f(14),c=f(5),u=f(13),e=f(10),i=f(6),n=f(0),a=f(1);(function(){t.create=function(o,p){var h=(o?o.mouse:null)||(p?p.mouse:null);h||(o&&o.render&&o.render.canvas?h=l.create(o.render.canvas):p&&p.element?h=l.create(p.element):(h=l.create(),n.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var w=e.create({label:"Mouse Constraint",pointA:h.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),T={type:"mouseConstraint",mouse:h,element:null,body:null,constraint:w,collisionFilter:{category:1,mask:4294967295,group:0}},C=n.extend(T,p);return c.on(o,"beforeUpdate",function(){var _=i.allBodies(o.world);t.update(C,_),t._triggerEvents(C)}),C},t.update=function(o,p){var h=o.mouse,w=o.constraint,T=o.body;if(h.button===0){if(w.bodyB)d.set(w.bodyB,!1),w.pointA=h.position;else for(var C=0;C<p.length;C++)if(T=p[C],a.contains(T.bounds,h.position)&&u.canCollide(T.collisionFilter,o.collisionFilter))for(var _=T.parts.length>1?1:0;_<T.parts.length;_++){var S=T.parts[_];if(s.contains(S.vertices,h.position)){w.pointA=h.position,w.bodyB=o.body=T,w.pointB={x:h.position.x-T.position.x,y:h.position.y-T.position.y},w.angleB=T.angle,d.set(T,!1),c.trigger(o,"startdrag",{mouse:h,body:T});break}}}else w.bodyB=o.body=null,w.pointB=null,T&&c.trigger(o,"enddrag",{mouse:h,body:T})},t._triggerEvents=function(o){var p=o.mouse,h=p.sourceEvents;h.mousemove&&c.trigger(o,"mousemove",{mouse:p}),h.mousedown&&c.trigger(o,"mousedown",{mouse:p}),h.mouseup&&c.trigger(o,"mouseup",{mouse:p}),l.clearSourceEvents(p)}})()},function(r,m,f){var t={};r.exports=t;var s=f(2),d=f(8),l=f(1),c=f(12),u=f(3);(function(){t.collides=function(e,i){for(var n=[],a=i.length,o=e.bounds,p=d.collides,h=l.overlaps,w=0;w<a;w++){var T=i[w],C=T.parts.length,_=C===1?0:1;if(h(T.bounds,o))for(var S=_;S<C;S++){var x=T.parts[S];if(h(x.bounds,o)){var y=p(x,e);if(y){n.push(y);break}}}}return n},t.ray=function(e,i,n,a){a=a||1e-100;for(var o=s.angle(i,n),p=s.magnitude(s.sub(i,n)),h=(n.x+i.x)*.5,w=(n.y+i.y)*.5,T=c.rectangle(h,w,p,a,{angle:o}),C=t.collides(T,e),_=0;_<C.length;_+=1){var S=C[_];S.body=S.bodyB=S.bodyA}return C},t.region=function(e,i,n){for(var a=[],o=0;o<e.length;o++){var p=e[o],h=l.overlaps(p.bounds,i);(h&&!n||!h&&n)&&a.push(p)}return a},t.point=function(e,i){for(var n=[],a=0;a<e.length;a++){var o=e[a];if(l.contains(o.bounds,i))for(var p=o.parts.length===1?0:1;p<o.parts.length;p++){var h=o.parts[p];if(l.contains(h.bounds,i)&&u.contains(h.vertices,i)){n.push(o);break}}}return n}})()},function(r,m,f){var t={};r.exports=t;var s=f(4),d=f(0),l=f(6),c=f(1),u=f(5),e=f(2),i=f(14);(function(){var n,a;typeof window<"u"&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(_){window.setTimeout(function(){_(d.now())},1e3/60)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),t._goodFps=30,t._goodDelta=1e3/60,t.create=function(_){var S={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!_.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},x=d.extend(S,_);return x.canvas&&(x.canvas.width=x.options.width||x.canvas.width,x.canvas.height=x.options.height||x.canvas.height),x.mouse=_.mouse,x.engine=_.engine,x.canvas=x.canvas||h(x.options.width,x.options.height),x.context=x.canvas.getContext("2d"),x.textures={},x.bounds=x.bounds||{min:{x:0,y:0},max:{x:x.canvas.width,y:x.canvas.height}},x.controller=t,x.options.showBroadphase=!1,x.options.pixelRatio!==1&&t.setPixelRatio(x,x.options.pixelRatio),d.isElement(x.element)&&x.element.appendChild(x.canvas),x},t.run=function(_){(function S(x){_.frameRequestId=n(S),o(_,x),t.world(_,x),_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0),(_.options.showStats||_.options.showDebug)&&t.stats(_,_.context,x),(_.options.showPerformance||_.options.showDebug)&&t.performance(_,_.context,x),_.context.setTransform(1,0,0,1,0,0)})()},t.stop=function(_){a(_.frameRequestId)},t.setPixelRatio=function(_,S){var x=_.options,y=_.canvas;S==="auto"&&(S=w(y)),x.pixelRatio=S,y.setAttribute("data-pixel-ratio",S),y.width=x.width*S,y.height=x.height*S,y.style.width=x.width+"px",y.style.height=x.height+"px"},t.setSize=function(_,S,x){_.options.width=S,_.options.height=x,_.bounds.max.x=_.bounds.min.x+S,_.bounds.max.y=_.bounds.min.y+x,_.options.pixelRatio!==1?t.setPixelRatio(_,_.options.pixelRatio):(_.canvas.width=S,_.canvas.height=x)},t.lookAt=function(_,S,x,y){y=typeof y<"u"?y:!0,S=d.isArray(S)?S:[S],x=x||{x:0,y:0};for(var b={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},A=0;A<S.length;A+=1){var M=S[A],P=M.bounds?M.bounds.min:M.min||M.position||M,k=M.bounds?M.bounds.max:M.max||M.position||M;P&&k&&(P.x<b.min.x&&(b.min.x=P.x),k.x>b.max.x&&(b.max.x=k.x),P.y<b.min.y&&(b.min.y=P.y),k.y>b.max.y&&(b.max.y=k.y))}var I=b.max.x-b.min.x+2*x.x,E=b.max.y-b.min.y+2*x.y,H=_.canvas.height,O=_.canvas.width,W=O/H,X=I/E,U=1,z=1;X>W?z=X/W:U=W/X,_.options.hasBounds=!0,_.bounds.min.x=b.min.x,_.bounds.max.x=b.min.x+I*U,_.bounds.min.y=b.min.y,_.bounds.max.y=b.min.y+E*z,y&&(_.bounds.min.x+=I*.5-I*U*.5,_.bounds.max.x+=I*.5-I*U*.5,_.bounds.min.y+=E*.5-E*z*.5,_.bounds.max.y+=E*.5-E*z*.5),_.bounds.min.x-=x.x,_.bounds.max.x-=x.x,_.bounds.min.y-=x.y,_.bounds.max.y-=x.y,_.mouse&&(i.setScale(_.mouse,{x:(_.bounds.max.x-_.bounds.min.x)/_.canvas.width,y:(_.bounds.max.y-_.bounds.min.y)/_.canvas.height}),i.setOffset(_.mouse,_.bounds.min))},t.startViewTransform=function(_){var S=_.bounds.max.x-_.bounds.min.x,x=_.bounds.max.y-_.bounds.min.y,y=S/_.options.width,b=x/_.options.height;_.context.setTransform(_.options.pixelRatio/y,0,0,_.options.pixelRatio/b,0,0),_.context.translate(-_.bounds.min.x,-_.bounds.min.y)},t.endViewTransform=function(_){_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0)},t.world=function(_,S){var x=d.now(),y=_.engine,b=y.world,A=_.canvas,M=_.context,P=_.options,k=_.timing,I=l.allBodies(b),E=l.allConstraints(b),H=P.wireframes?P.wireframeBackground:P.background,O=[],W=[],X,U={timestamp:y.timing.timestamp};if(u.trigger(_,"beforeRender",U),_.currentBackground!==H&&C(_,H),M.globalCompositeOperation="source-in",M.fillStyle="transparent",M.fillRect(0,0,A.width,A.height),M.globalCompositeOperation="source-over",P.hasBounds){for(X=0;X<I.length;X++){var z=I[X];c.overlaps(z.bounds,_.bounds)&&O.push(z)}for(X=0;X<E.length;X++){var ee=E[X],ne=ee.bodyA,ve=ee.bodyB,oe=ee.pointA,j=ee.pointB;ne&&(oe=e.add(ne.position,ee.pointA)),ve&&(j=e.add(ve.position,ee.pointB)),!(!oe||!j)&&(c.contains(_.bounds,oe)||c.contains(_.bounds,j))&&W.push(ee)}t.startViewTransform(_),_.mouse&&(i.setScale(_.mouse,{x:(_.bounds.max.x-_.bounds.min.x)/_.options.width,y:(_.bounds.max.y-_.bounds.min.y)/_.options.height}),i.setOffset(_.mouse,_.bounds.min))}else W=E,O=I,_.options.pixelRatio!==1&&_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0);!P.wireframes||y.enableSleeping&&P.showSleeping?t.bodies(_,O,M):(P.showConvexHulls&&t.bodyConvexHulls(_,O,M),t.bodyWireframes(_,O,M)),P.showBounds&&t.bodyBounds(_,O,M),(P.showAxes||P.showAngleIndicator)&&t.bodyAxes(_,O,M),P.showPositions&&t.bodyPositions(_,O,M),P.showVelocity&&t.bodyVelocity(_,O,M),P.showIds&&t.bodyIds(_,O,M),P.showSeparations&&t.separations(_,y.pairs.list,M),P.showCollisions&&t.collisions(_,y.pairs.list,M),P.showVertexNumbers&&t.vertexNumbers(_,O,M),P.showMousePosition&&t.mousePosition(_,_.mouse,M),t.constraints(W,M),P.hasBounds&&t.endViewTransform(_),u.trigger(_,"afterRender",U),k.lastElapsed=d.now()-x},t.stats=function(_,S,x){for(var y=_.engine,b=y.world,A=l.allBodies(b),M=0,P=55,k=44,I=0,E=0,H=0;H<A.length;H+=1)M+=A[H].parts.length;var O={Part:M,Body:A.length,Cons:l.allConstraints(b).length,Comp:l.allComposites(b).length,Pair:y.pairs.list.length};S.fillStyle="#0e0f19",S.fillRect(I,E,P*5.5,k),S.font="12px Arial",S.textBaseline="top",S.textAlign="right";for(var W in O){var X=O[W];S.fillStyle="#aaa",S.fillText(W,I+P,E+8),S.fillStyle="#eee",S.fillText(X,I+P,E+26),I+=P}},t.performance=function(_,S){var x=_.engine,y=_.timing,b=y.deltaHistory,A=y.elapsedHistory,M=y.timestampElapsedHistory,P=y.engineDeltaHistory,k=y.engineUpdatesHistory,I=y.engineElapsedHistory,E=x.timing.lastUpdatesPerFrame,H=x.timing.lastDelta,O=p(b),W=p(A),X=p(P),U=p(k),z=p(I),ee=p(M),ne=ee/O||0,ve=Math.round(O/H),oe=1e3/O||0,j=4,D=12,B=60,L=34,V=10,G=69;S.fillStyle="#0e0f19",S.fillRect(0,50,D*5+B*6+22,L),t.status(S,V,G,B,j,b.length,Math.round(oe)+" fps",oe/t._goodFps,function(F){return b[F]/O-1}),t.status(S,V+D+B,G,B,j,P.length,H.toFixed(2)+" dt",t._goodDelta/H,function(F){return P[F]/X-1}),t.status(S,V+(D+B)*2,G,B,j,k.length,E+" upf",Math.pow(d.clamp(U/ve||1,0,1),4),function(F){return k[F]/U-1}),t.status(S,V+(D+B)*3,G,B,j,I.length,z.toFixed(2)+" ut",1-E*z/t._goodFps,function(F){return I[F]/z-1}),t.status(S,V+(D+B)*4,G,B,j,A.length,W.toFixed(2)+" rt",1-W/t._goodFps,function(F){return A[F]/W-1}),t.status(S,V+(D+B)*5,G,B,j,M.length,ne.toFixed(2)+" x",ne*ne*ne,function(F){return(M[F]/b[F]/ne||0)-1})},t.status=function(_,S,x,y,b,A,M,P,k){_.strokeStyle="#888",_.fillStyle="#444",_.lineWidth=1,_.fillRect(S,x+7,y,1),_.beginPath(),_.moveTo(S,x+7-b*d.clamp(.4*k(0),-2,2));for(var I=0;I<y;I+=1)_.lineTo(S+I,x+7-(I<A?b*d.clamp(.4*k(I),-2,2):0));_.stroke(),_.fillStyle="hsl("+d.clamp(25+95*P,0,120)+",100%,60%)",_.fillRect(S,x-7,4,4),_.font="12px Arial",_.textBaseline="middle",_.textAlign="right",_.fillStyle="#eee",_.fillText(M,S+y,x-5)},t.constraints=function(_,S){for(var x=S,y=0;y<_.length;y++){var b=_[y];if(!(!b.render.visible||!b.pointA||!b.pointB)){var A=b.bodyA,M=b.bodyB,P,k;if(A?P=e.add(A.position,b.pointA):P=b.pointA,b.render.type==="pin")x.beginPath(),x.arc(P.x,P.y,3,0,2*Math.PI),x.closePath();else{if(M?k=e.add(M.position,b.pointB):k=b.pointB,x.beginPath(),x.moveTo(P.x,P.y),b.render.type==="spring")for(var I=e.sub(k,P),E=e.perp(e.normalise(I)),H=Math.ceil(d.clamp(b.length/5,12,20)),O,W=1;W<H;W+=1)O=W%2===0?1:-1,x.lineTo(P.x+I.x*(W/H)+E.x*O*4,P.y+I.y*(W/H)+E.y*O*4);x.lineTo(k.x,k.y)}b.render.lineWidth&&(x.lineWidth=b.render.lineWidth,x.strokeStyle=b.render.strokeStyle,x.stroke()),b.render.anchors&&(x.fillStyle=b.render.strokeStyle,x.beginPath(),x.arc(P.x,P.y,3,0,2*Math.PI),x.arc(k.x,k.y,3,0,2*Math.PI),x.closePath(),x.fill())}}},t.bodies=function(_,S,x){var y=x;_.engine;var b=_.options,A=b.showInternalEdges||!b.wireframes,M,P,k,I;for(k=0;k<S.length;k++)if(M=S[k],!!M.render.visible){for(I=M.parts.length>1?1:0;I<M.parts.length;I++)if(P=M.parts[I],!!P.render.visible){if(b.showSleeping&&M.isSleeping?y.globalAlpha=.5*P.render.opacity:P.render.opacity!==1&&(y.globalAlpha=P.render.opacity),P.render.sprite&&P.render.sprite.texture&&!b.wireframes){var E=P.render.sprite,H=T(_,E.texture);y.translate(P.position.x,P.position.y),y.rotate(P.angle),y.drawImage(H,H.width*-E.xOffset*E.xScale,H.height*-E.yOffset*E.yScale,H.width*E.xScale,H.height*E.yScale),y.rotate(-P.angle),y.translate(-P.position.x,-P.position.y)}else{if(P.circleRadius)y.beginPath(),y.arc(P.position.x,P.position.y,P.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(P.vertices[0].x,P.vertices[0].y);for(var O=1;O<P.vertices.length;O++)!P.vertices[O-1].isInternal||A?y.lineTo(P.vertices[O].x,P.vertices[O].y):y.moveTo(P.vertices[O].x,P.vertices[O].y),P.vertices[O].isInternal&&!A&&y.moveTo(P.vertices[(O+1)%P.vertices.length].x,P.vertices[(O+1)%P.vertices.length].y);y.lineTo(P.vertices[0].x,P.vertices[0].y),y.closePath()}b.wireframes?(y.lineWidth=1,y.strokeStyle=_.options.wireframeStrokeStyle,y.stroke()):(y.fillStyle=P.render.fillStyle,P.render.lineWidth&&(y.lineWidth=P.render.lineWidth,y.strokeStyle=P.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},t.bodyWireframes=function(_,S,x){var y=x,b=_.options.showInternalEdges,A,M,P,k,I;for(y.beginPath(),P=0;P<S.length;P++)if(A=S[P],!!A.render.visible)for(I=A.parts.length>1?1:0;I<A.parts.length;I++){for(M=A.parts[I],y.moveTo(M.vertices[0].x,M.vertices[0].y),k=1;k<M.vertices.length;k++)!M.vertices[k-1].isInternal||b?y.lineTo(M.vertices[k].x,M.vertices[k].y):y.moveTo(M.vertices[k].x,M.vertices[k].y),M.vertices[k].isInternal&&!b&&y.moveTo(M.vertices[(k+1)%M.vertices.length].x,M.vertices[(k+1)%M.vertices.length].y);y.lineTo(M.vertices[0].x,M.vertices[0].y)}y.lineWidth=1,y.strokeStyle=_.options.wireframeStrokeStyle,y.stroke()},t.bodyConvexHulls=function(_,S,x){var y=x,b,A,M;for(y.beginPath(),A=0;A<S.length;A++)if(b=S[A],!(!b.render.visible||b.parts.length===1)){for(y.moveTo(b.vertices[0].x,b.vertices[0].y),M=1;M<b.vertices.length;M++)y.lineTo(b.vertices[M].x,b.vertices[M].y);y.lineTo(b.vertices[0].x,b.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},t.vertexNumbers=function(_,S,x){var y=x,b,A,M;for(b=0;b<S.length;b++){var P=S[b].parts;for(M=P.length>1?1:0;M<P.length;M++){var k=P[M];for(A=0;A<k.vertices.length;A++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(b+"_"+A,k.position.x+(k.vertices[A].x-k.position.x)*.8,k.position.y+(k.vertices[A].y-k.position.y)*.8)}}},t.mousePosition=function(_,S,x){var y=x;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(S.position.x+"  "+S.position.y,S.position.x+5,S.position.y-5)},t.bodyBounds=function(_,S,x){var y=x;_.engine;var b=_.options;y.beginPath();for(var A=0;A<S.length;A++){var M=S[A];if(M.render.visible)for(var P=S[A].parts,k=P.length>1?1:0;k<P.length;k++){var I=P[k];y.rect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}b.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},t.bodyAxes=function(_,S,x){var y=x;_.engine;var b=_.options,A,M,P,k;for(y.beginPath(),M=0;M<S.length;M++){var I=S[M],E=I.parts;if(I.render.visible)if(b.showAxes)for(P=E.length>1?1:0;P<E.length;P++)for(A=E[P],k=0;k<A.axes.length;k++){var H=A.axes[k];y.moveTo(A.position.x,A.position.y),y.lineTo(A.position.x+H.x*20,A.position.y+H.y*20)}else for(P=E.length>1?1:0;P<E.length;P++)for(A=E[P],k=0;k<A.axes.length;k++)y.moveTo(A.position.x,A.position.y),y.lineTo((A.vertices[0].x+A.vertices[A.vertices.length-1].x)/2,(A.vertices[0].y+A.vertices[A.vertices.length-1].y)/2)}b.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},t.bodyPositions=function(_,S,x){var y=x;_.engine;var b=_.options,A,M,P,k;for(y.beginPath(),P=0;P<S.length;P++)if(A=S[P],!!A.render.visible)for(k=0;k<A.parts.length;k++)M=A.parts[k],y.arc(M.position.x,M.position.y,3,0,2*Math.PI,!1),y.closePath();for(b.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),P=0;P<S.length;P++)A=S[P],A.render.visible&&(y.arc(A.positionPrev.x,A.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},t.bodyVelocity=function(_,S,x){var y=x;y.beginPath();for(var b=0;b<S.length;b++){var A=S[b];if(A.render.visible){var M=s.getVelocity(A);y.moveTo(A.position.x,A.position.y),y.lineTo(A.position.x+M.x,A.position.y+M.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},t.bodyIds=function(_,S,x){var y=x,b,A;for(b=0;b<S.length;b++)if(S[b].render.visible){var M=S[b].parts;for(A=M.length>1?1:0;A<M.length;A++){var P=M[A];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(P.id,P.position.x+10,P.position.y-10)}}},t.collisions=function(_,S,x){var y=x,b=_.options,A,M,P,k;for(y.beginPath(),P=0;P<S.length;P++)if(A=S[P],!!A.isActive)for(M=A.collision,k=0;k<A.contactCount;k++){var I=A.contacts[k],E=I.vertex;y.rect(E.x-1.5,E.y-1.5,3.5,3.5)}for(b.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),P=0;P<S.length;P++)if(A=S[P],!!A.isActive&&(M=A.collision,A.contactCount>0)){var H=A.contacts[0].vertex.x,O=A.contacts[0].vertex.y;A.contactCount===2&&(H=(A.contacts[0].vertex.x+A.contacts[1].vertex.x)/2,O=(A.contacts[0].vertex.y+A.contacts[1].vertex.y)/2),M.bodyB===M.supports[0].body||M.bodyA.isStatic===!0?y.moveTo(H-M.normal.x*8,O-M.normal.y*8):y.moveTo(H+M.normal.x*8,O+M.normal.y*8),y.lineTo(H,O)}b.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},t.separations=function(_,S,x){var y=x,b=_.options,A,M,P,k,I;for(y.beginPath(),I=0;I<S.length;I++)if(A=S[I],!!A.isActive){M=A.collision,P=M.bodyA,k=M.bodyB;var E=1;!k.isStatic&&!P.isStatic&&(E=.5),k.isStatic&&(E=0),y.moveTo(k.position.x,k.position.y),y.lineTo(k.position.x-M.penetration.x*E,k.position.y-M.penetration.y*E),E=1,!k.isStatic&&!P.isStatic&&(E=.5),P.isStatic&&(E=0),y.moveTo(P.position.x,P.position.y),y.lineTo(P.position.x+M.penetration.x*E,P.position.y+M.penetration.y*E)}b.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},t.inspector=function(_,S){_.engine;var x=_.selected,y=_.render,b=y.options,A;if(b.hasBounds){var M=y.bounds.max.x-y.bounds.min.x,P=y.bounds.max.y-y.bounds.min.y,k=M/y.options.width,I=P/y.options.height;S.scale(1/k,1/I),S.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var E=0;E<x.length;E++){var H=x[E].data;switch(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.9)",S.setLineDash([1,2]),H.type){case"body":A=H.bounds,S.beginPath(),S.rect(Math.floor(A.min.x-3),Math.floor(A.min.y-3),Math.floor(A.max.x-A.min.x+6),Math.floor(A.max.y-A.min.y+6)),S.closePath(),S.stroke();break;case"constraint":var O=H.pointA;H.bodyA&&(O=H.pointB),S.beginPath(),S.arc(O.x,O.y,10,0,2*Math.PI),S.closePath(),S.stroke();break}S.setLineDash([]),S.translate(-.5,-.5)}_.selectStart!==null&&(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.6)",S.fillStyle="rgba(255,165,0,0.1)",A=_.selectBounds,S.beginPath(),S.rect(Math.floor(A.min.x),Math.floor(A.min.y),Math.floor(A.max.x-A.min.x),Math.floor(A.max.y-A.min.y)),S.closePath(),S.stroke(),S.fill(),S.translate(-.5,-.5)),b.hasBounds&&S.setTransform(1,0,0,1,0,0)};var o=function(_,S){var x=_.engine,y=_.timing,b=y.historySize,A=x.timing.timestamp;y.delta=S-y.lastTime||t._goodDelta,y.lastTime=S,y.timestampElapsed=A-y.lastTimestamp||0,y.lastTimestamp=A,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,b),y.engineDeltaHistory.unshift(x.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,b),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,b),y.engineUpdatesHistory.unshift(x.timing.lastUpdatesPerFrame),y.engineUpdatesHistory.length=Math.min(y.engineUpdatesHistory.length,b),y.engineElapsedHistory.unshift(x.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,b),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,b)},p=function(_){for(var S=0,x=0;x<_.length;x+=1)S+=_[x];return S/_.length||0},h=function(_,S){var x=document.createElement("canvas");return x.width=_,x.height=S,x.oncontextmenu=function(){return!1},x.onselectstart=function(){return!1},x},w=function(_){var S=_.getContext("2d"),x=window.devicePixelRatio||1,y=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return x/y},T=function(_,S){var x=_.textures[S];return x||(x=_.textures[S]=new Image,x.src=S,x)},C=function(_,S){var x=S;/(jpg|gif|png)$/.test(S)&&(x="url("+S+")"),_.canvas.style.background=x,_.canvas.style.backgroundSize="contain",_.currentBackground=S}})()},function(r,m,f){var t={};r.exports=t;var s=f(5),d=f(17),l=f(0);(function(){t._maxFrameDelta=1e3/15,t._frameDeltaFallback=1e3/60,t._timeBufferMargin=1.5,t._elapsedNextEstimate=1,t._smoothingLowerBound=.1,t._smoothingUpperBound=.9,t.create=function(u){var e={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},i=l.extend(e,u);return i.fps=0,i},t.run=function(u,e){return u.timeBuffer=t._frameDeltaFallback,function i(n){u.frameRequestId=t._onNextFrame(u,i),n&&u.enabled&&t.tick(u,e,n)}(),u},t.tick=function(u,e,i){var n=l.now(),a=u.delta,o=0,p=i-u.timeLastTick;if((!p||!u.timeLastTick||p>Math.max(t._maxFrameDelta,u.maxFrameTime))&&(p=u.frameDelta||t._frameDeltaFallback),u.frameDeltaSmoothing){u.frameDeltaHistory.push(p),u.frameDeltaHistory=u.frameDeltaHistory.slice(-u.frameDeltaHistorySize);var h=u.frameDeltaHistory.slice(0).sort(),w=u.frameDeltaHistory.slice(h.length*t._smoothingLowerBound,h.length*t._smoothingUpperBound),T=c(w);p=T||p}u.frameDeltaSnapping&&(p=1e3/Math.round(1e3/p)),u.frameDelta=p,u.timeLastTick=i,u.timeBuffer+=u.frameDelta,u.timeBuffer=l.clamp(u.timeBuffer,0,u.frameDelta+a*t._timeBufferMargin),u.lastUpdatesDeferred=0;var C=u.maxUpdates||Math.ceil(u.maxFrameTime/a),_={timestamp:e.timing.timestamp};s.trigger(u,"beforeTick",_),s.trigger(u,"tick",_);for(var S=l.now();a>0&&u.timeBuffer>=a*t._timeBufferMargin;){s.trigger(u,"beforeUpdate",_),d.update(e,a),s.trigger(u,"afterUpdate",_),u.timeBuffer-=a,o+=1;var x=l.now()-n,y=l.now()-S,b=x+t._elapsedNextEstimate*y/o;if(o>=C||b>u.maxFrameTime){u.lastUpdatesDeferred=Math.round(Math.max(0,u.timeBuffer/a-t._timeBufferMargin));break}}e.timing.lastUpdatesPerFrame=o,s.trigger(u,"afterTick",_),u.frameDeltaHistory.length>=100&&(u.lastUpdatesDeferred&&Math.round(u.frameDelta/a)>C?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):u.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof u.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(u.deltaMin||u.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),u.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},t.stop=function(u){t._cancelNextFrame(u)},t._onNextFrame=function(u,e){if(typeof window<"u"&&window.requestAnimationFrame)u.frameRequestId=window.requestAnimationFrame(e);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return u.frameRequestId},t._cancelNextFrame=function(u){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(u.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var c=function(u){for(var e=0,i=u.length,n=0;n<i;n+=1)e+=u[n];return e/i||0}})()},function(r,m,f){var t={};r.exports=t;var s=f(8),d=f(0),l=d.deprecated;(function(){t.collides=function(c,u){return s.collides(c,u)},l(t,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(r,m,f){var t={};r.exports=t,f(1);var s=f(0);(function(){t.pathToVertices=function(d,l){typeof window<"u"&&!("SVGPathSeg"in window)&&s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var c,u,e,i,n,a,o,p,h,w,T=[],C,_,S=0,x=0,y=0;l=l||15;var b=function(M,P,k){var I=k%2===1&&k>1;if(!h||M!=h.x||P!=h.y){h&&I?(C=h.x,_=h.y):(C=0,_=0);var E={x:C+M,y:_+P};(I||!h)&&(h=E),T.push(E),x=C+M,y=_+P}},A=function(M){var P=M.pathSegTypeAsLetter.toUpperCase();if(P!=="Z"){switch(P){case"M":case"L":case"T":case"C":case"S":case"Q":x=M.x,y=M.y;break;case"H":x=M.x;break;case"V":y=M.y;break}b(x,y,M.pathSegType)}};for(t._svgPathToAbsolute(d),e=d.getTotalLength(),a=[],c=0;c<d.pathSegList.numberOfItems;c+=1)a.push(d.pathSegList.getItem(c));for(o=a.concat();S<e;){if(w=d.getPathSegAtLength(S),n=a[w],n!=p){for(;o.length&&o[0]!=n;)A(o.shift());p=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=d.getPointAtLength(S),b(i.x,i.y,0);break}S+=l}for(c=0,u=o.length;c<u;++c)A(o[c]);return T},t._svgPathToAbsolute=function(d){for(var l,c,u,e,i,n,a=d.pathSegList,o=0,p=0,h=a.numberOfItems,w=0;w<h;++w){var T=a.getItem(w),C=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in T&&(o=T.x),"y"in T&&(p=T.y);else switch("x1"in T&&(u=o+T.x1),"x2"in T&&(i=o+T.x2),"y1"in T&&(e=p+T.y1),"y2"in T&&(n=p+T.y2),"x"in T&&(o+=T.x),"y"in T&&(p+=T.y),C){case"m":a.replaceItem(d.createSVGPathSegMovetoAbs(o,p),w);break;case"l":a.replaceItem(d.createSVGPathSegLinetoAbs(o,p),w);break;case"h":a.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(o),w);break;case"v":a.replaceItem(d.createSVGPathSegLinetoVerticalAbs(p),w);break;case"c":a.replaceItem(d.createSVGPathSegCurvetoCubicAbs(o,p,u,e,i,n),w);break;case"s":a.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(o,p,i,n),w);break;case"q":a.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(o,p,u,e),w);break;case"t":a.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(o,p),w);break;case"a":a.replaceItem(d.createSVGPathSegArcAbs(o,p,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),w);break;case"z":case"Z":o=l,p=c;break}(C=="M"||C=="m")&&(l=o,c=p)}}})()},function(r,m,f){var t={};r.exports=t;var s=f(6);f(0),function(){t.create=s.create,t.add=s.add,t.remove=s.remove,t.clear=s.clear,t.addComposite=s.addComposite,t.addBody=s.addBody,t.addConstraint=s.addConstraint}()}])})})(Nn);var ri=Nn.exports;const te=Wn(ri),Gn=8,Ze=381+Gn,Kt=Gn/Ze,St=330/Ze,Un=51/Ze,Lt=St+Un,ot=4.7625/Ze,ut=17.5/Ze,tt=102/Ze,at=203/Ze,nt=305/Ze,Xn=15/Ze,Ge=Object.freeze(Object.defineProperty({__proto__:null,base:Lt,disc:Xn,ditchWidth:Un,fifteen:tt,five:nt,peg:ot,rimWidth:Kt,surface:St,ten:at,twenty:ut},Symbol.toStringTag,{value:"Module"})),oi={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},ai={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)","pink-aa":"#FF24FF","pink-aaa":"#D100D1","teal-aa":"#00A3A3","teal-aaa":"#008080","red-aa":"#FE5F55","red-aaa":"#E91101","purple-aaa":"#564592"},Et={category:oi,color:ai,"":{"11px":"0.7rem","12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}};var Pt={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(g){(function(){var v=function(){this.init()};v.prototype={init:function(){var e=this||r;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var i=this||r;if(e=parseFloat(e),i.ctx||u(),typeof e<"u"&&e>=0&&e<=1){if(i._volume=e,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var a=i._howls[n]._getSoundIds(),o=0;o<a.length;o++){var p=i._howls[n]._soundById(a[o]);p&&p._node&&(p._node.volume=p._volume*e)}return i}return i._volume},mute:function(e){var i=this||r;i.ctx||u(),i._muted=e,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(e?0:i._volume,r.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var a=i._howls[n]._getSoundIds(),o=0;o<a.length;o++){var p=i._howls[n]._soundById(a[o]);p&&p._node&&(p._node.muted=e?!0:p._muted)}return i},stop:function(){for(var e=this||r,i=0;i<e._howls.length;i++)e._howls[i].stop();return e},unload:function(){for(var e=this||r,i=e._howls.length-1;i>=0;i--)e._howls[i].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,u()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var i=new Audio;typeof i.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var i=new Audio;i.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,i=null;try{i=typeof Audio<"u"?new Audio:null}catch{return e}if(!i||typeof i.canPlayType!="function")return e;var n=i.canPlayType("audio/mpeg;").replace(/^no$/,""),a=e._navigator?e._navigator.userAgent:"",o=a.match(/OPR\/(\d+)/g),p=o&&parseInt(o[0].split("/")[1],10)<33,h=a.indexOf("Safari")!==-1&&a.indexOf("Chrome")===-1,w=a.match(/Version\/(.*?) /),T=h&&w&&parseInt(w[1],10)<15;return e._codecs={mp3:!!(!p&&(n||i.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!n,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(i.canPlayType('audio/wav; codecs="1"')||i.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(i.canPlayType("audio/x-m4b;")||i.canPlayType("audio/m4b;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!T&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!T&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||r;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var i=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var a=new Audio;a._unlocked=!0,e._releaseHtml5Audio(a)}catch{e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var p=e._howls[o]._getSoundIds(),h=0;h<p.length;h++){var w=e._howls[o]._soundById(p[h]);w&&w._node&&!w._node._unlocked&&(w._node._unlocked=!0,w._node.load())}e._autoResume();var T=e.ctx.createBufferSource();T.buffer=e._scratchBuffer,T.connect(e.ctx.destination),typeof T.start>"u"?T.noteOn(0):T.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),T.onended=function(){T.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",i,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("click",i,!0),document.removeEventListener("keydown",i,!0);for(var C=0;C<e._howls.length;C++)e._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0),document.addEventListener("keydown",i,!0),e}},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var i=new Audio().play();return i&&typeof Promise<"u"&&(i instanceof Promise||typeof i.then=="function")&&i.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var i=this||r;return e._unlocked&&i._html5AudioPool.push(e),i},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!r.usingWebAudio)){for(var i=0;i<e._howls.length;i++)if(e._howls[i]._webAudio){for(var n=0;n<e._howls[i]._sounds.length;n++)if(!e._howls[i]._sounds[n]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var a=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(a,a)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!r.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var i=0;i<e._howls.length;i++)e._howls[i]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var r=new v,m=function(e){var i=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}i.init(e)};m.prototype={init:function(e){var i=this;return r.ctx||u(),i._autoplay=e.autoplay||!1,i._format=typeof e.format!="string"?e.format:[e.format],i._html5=e.html5||!1,i._muted=e.mute||!1,i._loop=e.loop||!1,i._pool=e.pool||5,i._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,i._rate=e.rate||1,i._sprite=e.sprite||{},i._src=typeof e.src!="string"?e.src:[e.src],i._volume=e.volume!==void 0?e.volume:1,i._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=e.onend?[{fn:e.onend}]:[],i._onfade=e.onfade?[{fn:e.onfade}]:[],i._onload=e.onload?[{fn:e.onload}]:[],i._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],i._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],i._onpause=e.onpause?[{fn:e.onpause}]:[],i._onplay=e.onplay?[{fn:e.onplay}]:[],i._onstop=e.onstop?[{fn:e.onstop}]:[],i._onmute=e.onmute?[{fn:e.onmute}]:[],i._onvolume=e.onvolume?[{fn:e.onvolume}]:[],i._onrate=e.onrate?[{fn:e.onrate}]:[],i._onseek=e.onseek?[{fn:e.onseek}]:[],i._onunlock=e.onunlock?[{fn:e.onunlock}]:[],i._onresume=[],i._webAudio=r.usingWebAudio&&!i._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&i._preload!=="none"&&i.load(),i},load:function(){var e=this,i=null;if(r.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var a,o;if(e._format&&e._format[n])a=e._format[n];else{if(o=e._src[n],typeof o!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}a=/^data:audio\/([^;,]+);/i.exec(o),a||(a=/\.([^.]+)$/.exec(o.split("?",1)[0])),a&&(a=a[1].toLowerCase())}if(a||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),a&&r.codecs(a)){i=e._src[n];break}}if(!i){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=i,e._state="loading",window.location.protocol==="https:"&&i.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new f(e),e._webAudio&&s(e),e},play:function(e,i){var n=this,a=null;if(typeof e=="number")a=e,e=null;else{if(typeof e=="string"&&n._state==="loaded"&&!n._sprite[e])return null;if(typeof e>"u"&&(e="__default",!n._playLock)){for(var o=0,p=0;p<n._sounds.length;p++)n._sounds[p]._paused&&!n._sounds[p]._ended&&(o++,a=n._sounds[p]._id);o===1?e=null:a=null}}var h=a?n._soundById(a):n._inactiveSound();if(!h)return null;if(a&&!e&&(e=h._sprite||"__default"),n._state!=="loaded"){h._sprite=e,h._ended=!1;var w=h._id;return n._queue.push({event:"play",action:function(){n.play(w)}}),w}if(a&&!h._paused)return i||n._loadQueue("play"),h._id;n._webAudio&&r._autoResume();var T=Math.max(0,h._seek>0?h._seek:n._sprite[e][0]/1e3),C=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-T),_=C*1e3/Math.abs(h._rate),S=n._sprite[e][0]/1e3,x=(n._sprite[e][0]+n._sprite[e][1])/1e3;h._sprite=e,h._ended=!1;var y=function(){h._paused=!1,h._seek=T,h._start=S,h._stop=x,h._loop=!!(h._loop||n._sprite[e][2])};if(T>=x){n._ended(h);return}var b=h._node;if(n._webAudio){var A=function(){n._playLock=!1,y(),n._refreshBuffer(h);var I=h._muted||n._muted?0:h._volume;b.gain.setValueAtTime(I,r.ctx.currentTime),h._playStart=r.ctx.currentTime,typeof b.bufferSource.start>"u"?h._loop?b.bufferSource.noteGrainOn(0,T,86400):b.bufferSource.noteGrainOn(0,T,C):h._loop?b.bufferSource.start(0,T,86400):b.bufferSource.start(0,T,C),_!==1/0&&(n._endTimers[h._id]=setTimeout(n._ended.bind(n,h),_)),i||setTimeout(function(){n._emit("play",h._id),n._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?A():(n._playLock=!0,n.once("resume",A),n._clearTimer(h._id))}else{var M=function(){b.currentTime=T,b.muted=h._muted||n._muted||r._muted||b.muted,b.volume=h._volume*r.volume(),b.playbackRate=h._rate;try{var I=b.play();if(I&&typeof Promise<"u"&&(I instanceof Promise||typeof I.then=="function")?(n._playLock=!0,y(),I.then(function(){n._playLock=!1,b._unlocked=!0,i?n._loadQueue():n._emit("play",h._id)}).catch(function(){n._playLock=!1,n._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),h._ended=!0,h._paused=!0})):i||(n._playLock=!1,y(),n._emit("play",h._id)),b.playbackRate=h._rate,b.paused){n._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||h._loop?n._endTimers[h._id]=setTimeout(n._ended.bind(n,h),_):(n._endTimers[h._id]=function(){n._ended(h),b.removeEventListener("ended",n._endTimers[h._id],!1)},b.addEventListener("ended",n._endTimers[h._id],!1))}catch(E){n._emit("playerror",h._id,E)}};b.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(b.src=n._src,b.load());var P=window&&window.ejecta||!b.readyState&&r._navigator.isCocoonJS;if(b.readyState>=3||P)M();else{n._playLock=!0,n._state="loading";var k=function(){n._state="loaded",M(),b.removeEventListener(r._canPlayEvent,k,!1)};b.addEventListener(r._canPlayEvent,k,!1),n._clearTimer(h._id)}}return h._id},pause:function(e){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(e)}}),i;for(var n=i._getSoundIds(e),a=0;a<n.length;a++){i._clearTimer(n[a]);var o=i._soundById(n[a]);if(o&&!o._paused&&(o._seek=i.seek(n[a]),o._rateSeek=0,o._paused=!0,i._stopFade(n[a]),o._node))if(i._webAudio){if(!o._node.bufferSource)continue;typeof o._node.bufferSource.stop>"u"?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),i._cleanBuffer(o._node)}else(!isNaN(o._node.duration)||o._node.duration===1/0)&&o._node.pause();arguments[1]||i._emit("pause",o?o._id:null)}return i},stop:function(e,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var a=n._getSoundIds(e),o=0;o<a.length;o++){n._clearTimer(a[o]);var p=n._soundById(a[o]);p&&(p._seek=p._start||0,p._rateSeek=0,p._paused=!0,p._ended=!0,n._stopFade(a[o]),p._node&&(n._webAudio?p._node.bufferSource&&(typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),n._cleanBuffer(p._node)):(!isNaN(p._node.duration)||p._node.duration===1/0)&&(p._node.currentTime=p._start||0,p._node.pause(),p._node.duration===1/0&&n._clearSound(p._node))),i||n._emit("stop",p._id))}return n},mute:function(e,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,i)}}),n;if(typeof i>"u")if(typeof e=="boolean")n._muted=e;else return n._muted;for(var a=n._getSoundIds(i),o=0;o<a.length;o++){var p=n._soundById(a[o]);p&&(p._muted=e,p._interval&&n._stopFade(p._id),n._webAudio&&p._node?p._node.gain.setValueAtTime(e?0:p._volume,r.ctx.currentTime):p._node&&(p._node.muted=r._muted?!0:e),n._emit("mute",p._id))}return n},volume:function(){var e=this,i=arguments,n,a;if(i.length===0)return e._volume;if(i.length===1||i.length===2&&typeof i[1]>"u"){var o=e._getSoundIds(),p=o.indexOf(i[0]);p>=0?a=parseInt(i[0],10):n=parseFloat(i[0])}else i.length>=2&&(n=parseFloat(i[0]),a=parseInt(i[1],10));var h;if(typeof n<"u"&&n>=0&&n<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,i)}}),e;typeof a>"u"&&(e._volume=n),a=e._getSoundIds(a);for(var w=0;w<a.length;w++)h=e._soundById(a[w]),h&&(h._volume=n,i[2]||e._stopFade(a[w]),e._webAudio&&h._node&&!h._muted?h._node.gain.setValueAtTime(n,r.ctx.currentTime):h._node&&!h._muted&&(h._node.volume=n*r.volume()),e._emit("volume",h._id))}else return h=a?e._soundById(a):e._sounds[0],h?h._volume:0;return e},fade:function(e,i,n,a){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,i,n,a)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),i=Math.min(Math.max(0,parseFloat(i)),1),n=parseFloat(n),o.volume(e,a);for(var p=o._getSoundIds(a),h=0;h<p.length;h++){var w=o._soundById(p[h]);if(w){if(a||o._stopFade(p[h]),o._webAudio&&!w._muted){var T=r.ctx.currentTime,C=T+n/1e3;w._volume=e,w._node.gain.setValueAtTime(e,T),w._node.gain.linearRampToValueAtTime(i,C)}o._startFadeInterval(w,e,i,n,p[h],typeof a>"u")}}return o},_startFadeInterval:function(e,i,n,a,o,p){var h=this,w=i,T=n-i,C=Math.abs(T/.01),_=Math.max(4,C>0?a/C:a),S=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var x=(Date.now()-S)/a;S=Date.now(),w+=T*x,w=Math.round(w*100)/100,T<0?w=Math.max(n,w):w=Math.min(n,w),h._webAudio?e._volume=w:h.volume(w,e._id,!0),p&&(h._volume=w),(n<i&&w<=n||n>i&&w>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,h.volume(n,e._id),h._emit("fade",e._id))},_)},_stopFade:function(e){var i=this,n=i._soundById(e);return n&&n._interval&&(i._webAudio&&n._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(n._interval),n._interval=null,i.volume(n._fadeTo,e),n._fadeTo=null,i._emit("fade",e)),i},loop:function(){var e=this,i=arguments,n,a,o;if(i.length===0)return e._loop;if(i.length===1)if(typeof i[0]=="boolean")n=i[0],e._loop=n;else return o=e._soundById(parseInt(i[0],10)),o?o._loop:!1;else i.length===2&&(n=i[0],a=parseInt(i[1],10));for(var p=e._getSoundIds(a),h=0;h<p.length;h++)o=e._soundById(p[h]),o&&(o._loop=n,e._webAudio&&o._node&&o._node.bufferSource&&(o._node.bufferSource.loop=n,n&&(o._node.bufferSource.loopStart=o._start||0,o._node.bufferSource.loopEnd=o._stop,e.playing(p[h])&&(e.pause(p[h],!0),e.play(p[h],!0)))));return e},rate:function(){var e=this,i=arguments,n,a;if(i.length===0)a=e._sounds[0]._id;else if(i.length===1){var o=e._getSoundIds(),p=o.indexOf(i[0]);p>=0?a=parseInt(i[0],10):n=parseFloat(i[0])}else i.length===2&&(n=parseFloat(i[0]),a=parseInt(i[1],10));var h;if(typeof n=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,i)}}),e;typeof a>"u"&&(e._rate=n),a=e._getSoundIds(a);for(var w=0;w<a.length;w++)if(h=e._soundById(a[w]),h){e.playing(a[w])&&(h._rateSeek=e.seek(a[w]),h._playStart=e._webAudio?r.ctx.currentTime:h._playStart),h._rate=n,e._webAudio&&h._node&&h._node.bufferSource?h._node.bufferSource.playbackRate.setValueAtTime(n,r.ctx.currentTime):h._node&&(h._node.playbackRate=n);var T=e.seek(a[w]),C=(e._sprite[h._sprite][0]+e._sprite[h._sprite][1])/1e3-T,_=C*1e3/Math.abs(h._rate);(e._endTimers[a[w]]||!h._paused)&&(e._clearTimer(a[w]),e._endTimers[a[w]]=setTimeout(e._ended.bind(e,h),_)),e._emit("rate",h._id)}}else return h=e._soundById(a),h?h._rate:e._rate;return e},seek:function(){var e=this,i=arguments,n,a;if(i.length===0)e._sounds.length&&(a=e._sounds[0]._id);else if(i.length===1){var o=e._getSoundIds(),p=o.indexOf(i[0]);p>=0?a=parseInt(i[0],10):e._sounds.length&&(a=e._sounds[0]._id,n=parseFloat(i[0]))}else i.length===2&&(n=parseFloat(i[0]),a=parseInt(i[1],10));if(typeof a>"u")return 0;if(typeof n=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,i)}}),e;var h=e._soundById(a);if(h)if(typeof n=="number"&&n>=0){var w=e.playing(a);w&&e.pause(a,!0),h._seek=n,h._ended=!1,e._clearTimer(a),!e._webAudio&&h._node&&!isNaN(h._node.duration)&&(h._node.currentTime=n);var T=function(){w&&e.play(a,!0),e._emit("seek",a)};if(w&&!e._webAudio){var C=function(){e._playLock?setTimeout(C,0):T()};setTimeout(C,0)}else T()}else if(e._webAudio){var _=e.playing(a)?r.ctx.currentTime-h._playStart:0,S=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(S+_*Math.abs(h._rate))}else return h._node.currentTime;return e},playing:function(e){var i=this;if(typeof e=="number"){var n=i._soundById(e);return n?!n._paused:!1}for(var a=0;a<i._sounds.length;a++)if(!i._sounds[a]._paused)return!0;return!1},duration:function(e){var i=this,n=i._duration,a=i._soundById(e);return a&&(n=i._sprite[a._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,i=e._sounds,n=0;n<i.length;n++)i[n]._paused||e.stop(i[n]._id),e._webAudio||(e._clearSound(i[n]._node),i[n]._node.removeEventListener("error",i[n]._errorFn,!1),i[n]._node.removeEventListener(r._canPlayEvent,i[n]._loadFn,!1),i[n]._node.removeEventListener("ended",i[n]._endFn,!1),r._releaseHtml5Audio(i[n]._node)),delete i[n]._node,e._clearTimer(i[n]._id);var a=r._howls.indexOf(e);a>=0&&r._howls.splice(a,1);var o=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===e._src||e._src.indexOf(r._howls[n]._src)>=0){o=!1;break}return t&&o&&delete t[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,i,n,a){var o=this,p=o["_on"+e];return typeof i=="function"&&p.push(a?{id:n,fn:i,once:a}:{id:n,fn:i}),o},off:function(e,i,n){var a=this,o=a["_on"+e],p=0;if(typeof i=="number"&&(n=i,i=null),i||n)for(p=0;p<o.length;p++){var h=n===o[p].id;if(i===o[p].fn&&h||!i&&h){o.splice(p,1);break}}else if(e)a["_on"+e]=[];else{var w=Object.keys(a);for(p=0;p<w.length;p++)w[p].indexOf("_on")===0&&Array.isArray(a[w[p]])&&(a[w[p]]=[])}return a},once:function(e,i,n){var a=this;return a.on(e,i,n,1),a},_emit:function(e,i,n){for(var a=this,o=a["_on"+e],p=o.length-1;p>=0;p--)(!o[p].id||o[p].id===i||e==="load")&&(setTimeout((function(h){h.call(this,i,n)}).bind(a,o[p].fn),0),o[p].once&&a.off(e,o[p].fn,o[p].id));return a._loadQueue(e),a},_loadQueue:function(e){var i=this;if(i._queue.length>0){var n=i._queue[0];n.event===e&&(i._queue.shift(),i._loadQueue()),e||n.action()}return i},_ended:function(e){var i=this,n=e._sprite;if(!i._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(i._ended.bind(i,e),100),i;var a=!!(e._loop||i._sprite[n][2]);if(i._emit("end",e._id),!i._webAudio&&a&&i.stop(e._id,!0).play(e._id),i._webAudio&&a){i._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var o=(e._stop-e._start)*1e3/Math.abs(e._rate);i._endTimers[e._id]=setTimeout(i._ended.bind(i,e),o)}return i._webAudio&&!a&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,i._clearTimer(e._id),i._cleanBuffer(e._node),r._autoSuspend()),!i._webAudio&&!a&&i.stop(e._id,!0),i},_clearTimer:function(e){var i=this;if(i._endTimers[e]){if(typeof i._endTimers[e]!="function")clearTimeout(i._endTimers[e]);else{var n=i._soundById(e);n&&n._node&&n._node.removeEventListener("ended",i._endTimers[e],!1)}delete i._endTimers[e]}return i},_soundById:function(e){for(var i=this,n=0;n<i._sounds.length;n++)if(e===i._sounds[n]._id)return i._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var i=0;i<e._sounds.length;i++)if(e._sounds[i]._ended)return e._sounds[i].reset();return new f(e)},_drain:function(){var e=this,i=e._pool,n=0,a=0;if(!(e._sounds.length<i)){for(a=0;a<e._sounds.length;a++)e._sounds[a]._ended&&n++;for(a=e._sounds.length-1;a>=0;a--){if(n<=i)return;e._sounds[a]._ended&&(e._webAudio&&e._sounds[a]._node&&e._sounds[a]._node.disconnect(0),e._sounds.splice(a,1),n--)}}},_getSoundIds:function(e){var i=this;if(typeof e>"u"){for(var n=[],a=0;a<i._sounds.length;a++)n.push(i._sounds[a]._id);return n}else return[e]},_refreshBuffer:function(e){var i=this;return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=t[i._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),i},_cleanBuffer:function(e){var i=this,n=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return i;if(r._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),n))try{e.bufferSource.buffer=r._scratchBuffer}catch{}return e.bufferSource=null,i},_clearSound:function(e){var i=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);i||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var f=function(e){this._parent=e,this.init()};f.prototype={init:function(){var e=this,i=e._parent;return e._muted=i._muted,e._loop=i._loop,e._volume=i._volume,e._rate=i._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,i._sounds.push(e),e.create(),e},create:function(){var e=this,i=e._parent,n=r._muted||e._muted||e._parent._muted?0:e._volume;return i._webAudio?(e._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(n,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):r.noAudio||(e._node=r._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=i._src,e._node.preload=i._preload===!0?"auto":i._preload,e._node.volume=n*r.volume(),e._node.load()),e},reset:function(){var e=this,i=e._parent;return e._muted=i._muted,e._loop=i._loop,e._volume=i._volume,e._rate=i._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,i=e._parent;i._duration=Math.ceil(e._node.duration*10)/10,Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue()),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,i=e._parent;i._duration===1/0&&(i._duration=Math.ceil(e._node.duration*10)/10,i._sprite.__default[1]===1/0&&(i._sprite.__default[1]=i._duration*1e3),i._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var t={},s=function(e){var i=e._src;if(t[i]){e._duration=t[i].duration,c(e);return}if(/^data:[^;]+;base64,/.test(i)){for(var n=atob(i.split(",")[1]),a=new Uint8Array(n.length),o=0;o<n.length;++o)a[o]=n.charCodeAt(o);l(a.buffer,e)}else{var p=new XMLHttpRequest;p.open(e._xhr.method,i,!0),p.withCredentials=e._xhr.withCredentials,p.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(h){p.setRequestHeader(h,e._xhr.headers[h])}),p.onload=function(){var h=(p.status+"")[0];if(h!=="0"&&h!=="2"&&h!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+p.status+".");return}l(p.response,e)},p.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete t[i],e.load())},d(p)}},d=function(e){try{e.send()}catch{e.onerror()}},l=function(e,i){var n=function(){i._emit("loaderror",null,"Decoding audio data failed.")},a=function(o){o&&i._sounds.length>0?(t[i._src]=o,c(i,o)):n()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(e).then(a).catch(n):r.ctx.decodeAudioData(e,a,n)},c=function(e,i){i&&!e._duration&&(e._duration=i.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},u=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),i=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=i?parseInt(i[1],10):null;if(e&&n&&n<9){var a=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!a&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};g.Howler=r,g.Howl=m,typeof Fe<"u"?(Fe.HowlerGlobal=v,Fe.Howler=r,Fe.Howl=m,Fe.Sound=f):typeof window<"u"&&(window.HowlerGlobal=v,window.Howler=r,window.Howl=m,window.Sound=f)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var m=this;if(!m.ctx||!m.ctx.listener)return m;for(var f=m._howls.length-1;f>=0;f--)m._howls[f].stereo(r);return m},HowlerGlobal.prototype.pos=function(r,m,f){var t=this;if(!t.ctx||!t.ctx.listener)return t;if(m=typeof m!="number"?t._pos[1]:m,f=typeof f!="number"?t._pos[2]:f,typeof r=="number")t._pos=[r,m,f],typeof t.ctx.listener.positionX<"u"?(t.ctx.listener.positionX.setTargetAtTime(t._pos[0],Howler.ctx.currentTime,.1),t.ctx.listener.positionY.setTargetAtTime(t._pos[1],Howler.ctx.currentTime,.1),t.ctx.listener.positionZ.setTargetAtTime(t._pos[2],Howler.ctx.currentTime,.1)):t.ctx.listener.setPosition(t._pos[0],t._pos[1],t._pos[2]);else return t._pos;return t},HowlerGlobal.prototype.orientation=function(r,m,f,t,s,d){var l=this;if(!l.ctx||!l.ctx.listener)return l;var c=l._orientation;if(m=typeof m!="number"?c[1]:m,f=typeof f!="number"?c[2]:f,t=typeof t!="number"?c[3]:t,s=typeof s!="number"?c[4]:s,d=typeof d!="number"?c[5]:d,typeof r=="number")l._orientation=[r,m,f,t,s,d],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(m,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(f,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(t,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(r,m,f,t,s,d);else return c;return l},Howl.prototype.init=function(r){return function(m){var f=this;return f._orientation=m.orientation||[1,0,0],f._stereo=m.stereo||null,f._pos=m.pos||null,f._pannerAttr={coneInnerAngle:typeof m.coneInnerAngle<"u"?m.coneInnerAngle:360,coneOuterAngle:typeof m.coneOuterAngle<"u"?m.coneOuterAngle:360,coneOuterGain:typeof m.coneOuterGain<"u"?m.coneOuterGain:0,distanceModel:typeof m.distanceModel<"u"?m.distanceModel:"inverse",maxDistance:typeof m.maxDistance<"u"?m.maxDistance:1e4,panningModel:typeof m.panningModel<"u"?m.panningModel:"HRTF",refDistance:typeof m.refDistance<"u"?m.refDistance:1,rolloffFactor:typeof m.rolloffFactor<"u"?m.rolloffFactor:1},f._onstereo=m.onstereo?[{fn:m.onstereo}]:[],f._onpos=m.onpos?[{fn:m.onpos}]:[],f._onorientation=m.onorientation?[{fn:m.onorientation}]:[],r.call(this,m)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,m){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"stereo",action:function(){f.stereo(r,m)}}),f;var t=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof m>"u")if(typeof r=="number")f._stereo=r,f._pos=[r,0,0];else return f._stereo;for(var s=f._getSoundIds(m),d=0;d<s.length;d++){var l=f._soundById(s[d]);if(l)if(typeof r=="number")l._stereo=r,l._pos=[r,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&v(l,t),t==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(r,0,0):l._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),f._emit("stereo",l._id);else return l._stereo}return f},Howl.prototype.pos=function(r,m,f,t){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(r,m,f,t)}}),s;if(m=typeof m!="number"?0:m,f=typeof f!="number"?-.5:f,typeof t>"u")if(typeof r=="number")s._pos=[r,m,f];else return s._pos;for(var d=s._getSoundIds(t),l=0;l<d.length;l++){var c=s._soundById(d[l]);if(c)if(typeof r=="number")c._pos=[r,m,f],c._node&&((!c._panner||c._panner.pan)&&v(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(m,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(f,Howler.ctx.currentTime)):c._panner.setPosition(r,m,f)),s._emit("pos",c._id);else return c._pos}return s},Howl.prototype.orientation=function(r,m,f,t){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(r,m,f,t)}}),s;if(m=typeof m!="number"?s._orientation[1]:m,f=typeof f!="number"?s._orientation[2]:f,typeof t>"u")if(typeof r=="number")s._orientation=[r,m,f];else return s._orientation;for(var d=s._getSoundIds(t),l=0;l<d.length;l++){var c=s._soundById(d[l]);if(c)if(typeof r=="number")c._orientation=[r,m,f],c._node&&(c._panner||(c._pos||(c._pos=s._pos||[0,0,-.5]),v(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(m,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(f,Howler.ctx.currentTime)):c._panner.setOrientation(r,m,f)),s._emit("orientation",c._id);else return c._orientation}return s},Howl.prototype.pannerAttr=function(){var r=this,m=arguments,f,t,s;if(!r._webAudio)return r;if(m.length===0)return r._pannerAttr;if(m.length===1)if(typeof m[0]=="object")f=m[0],typeof t>"u"&&(f.pannerAttr||(f.pannerAttr={coneInnerAngle:f.coneInnerAngle,coneOuterAngle:f.coneOuterAngle,coneOuterGain:f.coneOuterGain,distanceModel:f.distanceModel,maxDistance:f.maxDistance,refDistance:f.refDistance,rolloffFactor:f.rolloffFactor,panningModel:f.panningModel}),r._pannerAttr={coneInnerAngle:typeof f.pannerAttr.coneInnerAngle<"u"?f.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof f.pannerAttr.coneOuterAngle<"u"?f.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof f.pannerAttr.coneOuterGain<"u"?f.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof f.pannerAttr.distanceModel<"u"?f.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof f.pannerAttr.maxDistance<"u"?f.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof f.pannerAttr.refDistance<"u"?f.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof f.pannerAttr.rolloffFactor<"u"?f.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof f.pannerAttr.panningModel<"u"?f.pannerAttr.panningModel:r._panningModel});else return s=r._soundById(parseInt(m[0],10)),s?s._pannerAttr:r._pannerAttr;else m.length===2&&(f=m[0],t=parseInt(m[1],10));for(var d=r._getSoundIds(t),l=0;l<d.length;l++)if(s=r._soundById(d[l]),s){var c=s._pannerAttr;c={coneInnerAngle:typeof f.coneInnerAngle<"u"?f.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof f.coneOuterAngle<"u"?f.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof f.coneOuterGain<"u"?f.coneOuterGain:c.coneOuterGain,distanceModel:typeof f.distanceModel<"u"?f.distanceModel:c.distanceModel,maxDistance:typeof f.maxDistance<"u"?f.maxDistance:c.maxDistance,refDistance:typeof f.refDistance<"u"?f.refDistance:c.refDistance,rolloffFactor:typeof f.rolloffFactor<"u"?f.rolloffFactor:c.rolloffFactor,panningModel:typeof f.panningModel<"u"?f.panningModel:c.panningModel};var u=s._panner;u||(s._pos||(s._pos=r._pos||[0,0,-.5]),v(s,"spatial"),u=s._panner),u.coneInnerAngle=c.coneInnerAngle,u.coneOuterAngle=c.coneOuterAngle,u.coneOuterGain=c.coneOuterGain,u.distanceModel=c.distanceModel,u.maxDistance=c.maxDistance,u.refDistance=c.refDistance,u.rolloffFactor=c.rolloffFactor,u.panningModel=c.panningModel}return r},Sound.prototype.init=function(r){return function(){var m=this,f=m._parent;m._orientation=f._orientation,m._stereo=f._stereo,m._pos=f._pos,m._pannerAttr=f._pannerAttr,r.call(this),m._stereo?f.stereo(m._stereo):m._pos&&f.pos(m._pos[0],m._pos[1],m._pos[2],m._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var m=this,f=m._parent;return m._orientation=f._orientation,m._stereo=f._stereo,m._pos=f._pos,m._pannerAttr=f._pannerAttr,m._stereo?f.stereo(m._stereo):m._pos?f.pos(m._pos[0],m._pos[1],m._pos[2],m._id):m._panner&&(m._panner.disconnect(0),m._panner=void 0,f._refreshBuffer(m)),r.call(this)}}(Sound.prototype.reset);var v=function(r,m){m=m||"spatial",m==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(Pt);const si=et(!1),Ke=1,Dt=2,dn=4,Bt=8,pn=16,li=1,fi=.05,ui=.05,ci=1,di=.2,Xt={player1:Et.color["pink-aa"],player2:Et.color["teal-aa"],active:Et.color.black,vector:Et.color.black};let _t;const pi=new Pt.Howl({src:["assets/audio/disc.mp3"]}),vi=new Pt.Howl({src:["assets/audio/rim.mp3"]}),mi=new Pt.Howl({src:["assets/audio/flick.mp3"]}),hi=new Pt.Howl({src:["assets/audio/center.mp3"]});si.subscribe(g=>{_t=g});class gi{constructor(){this.events={}}on(v,r){this.events[v]||(this.events[v]=[]),this.events[v].push(r)}emit(v,r){this.events[v]&&this.events[v].forEach(m=>m(r))}}function _i(){const g=new gi;let v,r,m,f,t,s,d,l,c,u,e,i,n=[],a,o;function p(){const D=te.Bodies.circle(t,t,t*ut,{isStatic:!0,isSensor:!0,render:{visible:!1},label:"20"},64);te.World.add(r,[D])}function h(){const B=Math.max(2,t*.05),L=ut*t+B/2-1,V=[];for(let G=0;G<16;G++){const F=G/16*2*Math.PI,Z=t+Math.cos(F)*L,Y=t+Math.sin(F)*L,K=2*Math.PI*L/16,J=te.Bodies.rectangle(Z,Y,B,K,{isStatic:!0,isSensor:!1,angle:F,render:{visible:!1},label:"trap 20",collisionFilter:{category:dn,mask:Ke}});V.push(J)}te.World.add(r,V)}function w(){const B=Math.max(8,t*.2),L=Lt*t+B/2-1,V=[];for(let G=0;G<32;G++){const F=G/32*2*Math.PI,Z=t+Math.cos(F)*L,Y=t+Math.sin(F)*L,K=2*Math.PI*L/32,J=te.Bodies.rectangle(Z,Y,B,K,{isStatic:!0,isSensor:!1,angle:F,render:{visible:!1},label:"trap rim",collisionFilter:{category:Bt,mask:Ke}});V.push(J)}te.World.add(r,V)}function T(){const B=Math.max(8,t*.1),L=St*t-B/2+1,V=[];for(let G=0;G<32;G++){const F=G/32*2*Math.PI,Z=t+Math.cos(F)*L,Y=t+Math.sin(F)*L,K=2*Math.PI*L/32,J=te.Bodies.rectangle(Z,Y,B,K,{isStatic:!0,isSensor:!1,angle:F,render:{visible:!1},label:"trap surface",collisionFilter:{category:pn,mask:Ke}});V.push(J)}te.World.add(r,V)}function C(){const D=[],B=ot*t;for(let L=0;L<8;L++){const V=.375+L/8*Math.PI*2,G=t+Math.cos(V)*t*tt,F=t+Math.sin(V)*t*tt,Z=te.Bodies.circle(G,F,B,{isStatic:!0,restitution:ci,render:{visible:!1},collisionFilter:{category:Dt,mask:Ke}});D.push(Z)}te.World.add(r,D)}function _(D,B,L,V,G,F){const Z=Math.atan2(G-L,V-B),Y=V-F*Math.cos(Z-Math.PI/4),K=G-F*Math.sin(Z-Math.PI/4),J=V-F*Math.cos(Z+Math.PI/4),me=G-F*Math.sin(Z+Math.PI/4);D.moveTo(V,G),D.lineTo(Y,K),D.moveTo(V,G),D.lineTo(J,me)}function S(D){if(!o)return;const B=o.circleRadius,L=o.position;if(c&&u){const V=te.Vector.normalise(c),G=L.x+V.x*B*1.25,F=L.y+V.y*B*1.25,Z=L.x+V.x*B*1.5+c.x,Y=L.y+V.y*B*1.5+c.y;D.beginPath(),D.strokeStyle=Xt.vector,D.lineWidth=2,D.moveTo(G,F),D.lineTo(Z,Y),D.stroke();const K=t*.03,J=Math.PI/4,me=Math.atan2(c.y,c.x);D.beginPath(),D.moveTo(Z,Y),D.lineTo(Z-K*Math.cos(me-J),Y-K*Math.sin(me-J)),D.moveTo(Z,Y),D.lineTo(Z-K*Math.cos(me+J),Y-K*Math.sin(me+J)),D.stroke(),D.closePath()}a==="position"&&(D.beginPath(),D.strokeStyle=Xt.vector,D.lineWidth=2,D.moveTo(L.x-B*2.5,L.y),D.lineTo(L.x-B*1.25,L.y),D.moveTo(L.x+B*2.5,L.y),D.lineTo(L.x+B*1.25,L.y),D.stroke(),D.closePath(),D.lineDashOffset=0,D.beginPath(),_(D,L.x-B*1.25,L.y,L.x-B*2.5,L.y,B*.75),_(D,L.x+B*1.25,L.y,L.x+B*2.5,L.y,B*.75),D.stroke(),D.closePath())}function x(){const D=f.context;S(D)}function y(D){D.pairs.forEach(({bodyA:B,bodyB:L})=>{const V=B.label==="disc"?B:L.label==="disc"?L:null,G=B.label==="20"?B:L.label==="20"?L:null;if(V&&G&&!V.in20){const F=te.Vector.magnitude(te.Vector.sub(V.position,G.position)),Y=V.circleRadius*.75,K=10,J=F<Y,me=V.speed<K;J&&me&&(!_t&&!i&&hi.play(),V.in20=!0,V.collisionFilter.mask=Ke|Dt|Bt|dn,V.restitution=.4)}})}function b(D){D.pairs.forEach(({bodyA:B,bodyB:L})=>{const V=B.label==="disc"?B:L.label==="disc"?L:null,G=B.label==="disc"&&B.id!==V.id?B:L.label==="disc"&&L.id!==V.id?L:null,F=B.label==="trap rim"?B:L.label==="trap rim"?L:null;if(V&&F)!_t&&!i&&vi.play(),V.frictionAir=.3,V.collisionFilter.mask=Ke|Dt|Bt|pn;else if(V&&G){!_t&&!i&&pi.play(),V.collided=!0,G.collided=!0;const Z=V.player!==G.player;V.collidedOpp=Z,G.collidedOpp=Z}})}function A({target:D,speed:B}){if(!o)return;const L={x:D.x-o.position.x,y:D.y-o.position.y},V=te.Vector.normalise(L);if(B){const G=B*s;l=te.Vector.mult(V,G)}else{const G=te.Vector.magnitude(L),F=Math.min(G,d),Z=F/d*s;l=te.Vector.mult(V,Z),c=te.Vector.mult(V,F)}}function M(D){const B={x:t,y:t},L=D.circleRadius,V=D.position,G=Math.sqrt(Math.pow(V.x-B.x,2)+Math.pow(V.y-B.y,2)),Z=[{r:t*ut,score:20},{r:t*tt,score:15},{r:t*at,score:10},{r:t*nt,score:5}].find(Y=>G+L<Y.r);return(Z==null?void 0:Z.score)||0}function P(D){const B={x:t,y:t},L=D.circleRadius,V=D.position,G=Math.sqrt(Math.pow(V.x-B.x,2)+Math.pow(V.y-B.y,2)),F=t*tt;if(G-L<F)return!0}function k(){if(n.every(B=>B.isSleeping)){n.forEach(F=>{F.score=M(F),F.intersect15=P(F)});const B=n.some(F=>F.player!==o.player),L=n.some(F=>F.collidedOpp),V=n.filter(F=>F.player===o.player).some(F=>F.intersect15);n.forEach(F=>{B?F.player===o.player?F.id===o.id?F.valid=L:F.valid=F.collided?L:!0:F.valid=!0:F.id===o.id?F.valid=F.collided?V:F.intersect15:F.valid=F.collided?V:!0,(!F.valid||!F.score)&&te.World.remove(r,F)});const G=n.find(F=>F.id===o.id).valid;if(n=n.filter(F=>F.score>0&&F.valid),e)g.emit("shotCompleteManual",{discs:n,valid:G});else{const F=n.map(Z=>({id:Z.id,player:Z.player,score:Z.score}));n.forEach(Z=>{Z.score===20&&te.World.remove(r,Z)}),n=n.filter(Z=>Z.score!==20),g.emit("shotComplete",{discs:F,valid:G}),n.forEach(Z=>{Z.valid=void 0,Z.collided=void 0,Z.collidedOpp=void 0,Z.intersect15=void 0,Z.in20=void 0})}o=null,ne("idle")}}function I(){te.Composite.clear(r,!1),te.Events.off(v),te.Render.stop(f),f.canvas.remove(),f.context=null,f.textures={},te.Runner.stop(m)}function E(D){n.forEach(B=>{const L=t/D,V=B.position.x*L,G=B.position.y*L;te.Body.setPosition(B,{x:V,y:G}),te.Body.scale(B,L,L),te.World.add(r,B)})}function H(){n.forEach(D=>{te.World.remove(r,D)}),n=[],o=null,u=!1,c=void 0,l=void 0}function O(D={}){const B=D.player||"player1",L=D.state||"position",V=D.x?D.x*t*2:t,G=D.y?D.y*t*2:B==="player1"?t+t*nt:t-t*nt,F=t*Xn,Z=fi,Y=li,K=ui,J=te.Bodies.circle(V,G,F,{density:Z,restitution:Y,frictionAir:K,render:{fillStyle:Xt[B],strokeStyle:"#fff",lineWidth:1},label:"disc",collisionFilter:{category:Ke,mask:Ke|Dt|Bt},sleepThreshold:60,isSleeping:!0},64);J.player=B,n.push(J),o=J,te.Events.on(J,"sleepStart",k),te.World.add(r,J),s=o.mass*di,ne(L)}function W(D){if(!o||a!=="position")return;const B=2,L=[45-B,135+B],V=t*nt;let G=D-t;G=Math.max(-V,Math.min(V,G));const F=o.player==="player1",Z=F?-1:1,Y=L[F?0:1]*Z*-1,K=L[F?1:0]*Z*-1,J=t-Math.sqrt(Math.max(0,Math.pow(V,2)-Math.pow(G,2)))*Z,me={x:t+G,y:J},Ae={x:t,y:t},Te=te.Vector.angle(Ae,me)*180/Math.PI;if(Te>Y&&Te<K)te.Body.setPosition(o,me);else if(Te<=Y){const ae=Y*Math.PI/180,We=Math.cos(ae)*V,Ue=Math.sin(ae)*V,Be=t+We,pe=t+Ue;te.Body.setPosition(o,{x:Be,y:pe})}else if(Te>=K){const ae=K*Math.PI/180,We=Math.cos(ae)*V,Ue=Math.sin(ae)*V,Be=t+We,pe=t+Ue;te.Body.setPosition(o,{x:Be,y:pe})}}function X({degrees:D,speed:B}){const L=(D-90)*Math.PI/180,V=o.position.x+Math.cos(L),G=o.position.y+Math.sin(L);return{x:o.position.x+(V-o.position.x)*B,y:o.position.y+(G-o.position.y)*B}}function U({degrees:D,power:B,visible:L}){if(!o||a!=="shoot")return;oe(L===void 0?!0:L);const G=Math.max(.01,B)*d,F=X({degrees:D,speed:G});A({target:F})}function z(){!o||a!=="shoot"||(ne("play"),oe(!1),te.Body.applyForce(o,o.position,l),!_t&&!i&&mi.play())}function ee(){!o||a!=="shoot"||z()}function ne(D){a=D}function ve(D){i=D}function oe(D){u=D}function j({element:D,width:B,tutorial:L}){e=!!L;let V;v?(I(),V=t):ne("idle");const G=B;t=B/2,d=t*.2,v=te.Engine.create({enableSleeping:!0}),r=v.world,v.gravity.y=0,m=te.Runner.create(),f=te.Render.create({element:D,engine:v,options:{width:B,height:G,wireframes:!1,pixelRatio:"auto",background:"transparent",hasBounds:!0,showSleeping:!1}}),E(V),p(),C(),h(),w(),T(),te.Events.on(f,"afterRender",x),te.Runner.run(m,v),te.Render.run(f),te.Events.on(v,"collisionActive",y),te.Events.on(v,"collisionStart",b),n.length||g.emit("ready")}return{removeDiscs:H,addDisc:O,positionDisc:W,aimDisc:U,release:ee,flickDisc:z,setState:ne,setIndicatorVisible:oe,autoMute:ve,init:j,on:(D,B)=>g.on(D,B)}}function Vt(g){return Object.keys(g).reduce((v,r)=>g[r]===void 0?v:v+`${r}:${g[r]};`,"")}function Yt(g){return g?!0:void 0}Vt({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function vn(g){function v(r){return r(g),()=>{}}return{subscribe:v}}function Qt(g){if(!Yn)return null;const v=document.querySelector(`[data-melt-id="${g}"]`);return xt(v)?v:null}const yt=g=>new Proxy(g,{get(v,r,m){return Reflect.get(v,r,m)},ownKeys(v){return Reflect.ownKeys(v).filter(r=>r!=="action")}}),mn=g=>typeof g=="function";qt("empty");function qt(g,v){const{stores:r,action:m,returned:f}=v??{},t=(()=>{if(r&&f)return Ut(r,d=>{const l=f(d);if(mn(l)){const c=(...u)=>yt({...l(...u),[`data-melt-${g}`]:"",action:m??qe});return c.action=m??qe,c}return yt({...l,[`data-melt-${g}`]:"",action:m??qe})});{const d=f,l=d==null?void 0:d();if(mn(l)){const c=(...u)=>yt({...l(...u),[`data-melt-${g}`]:"",action:m??qe});return c.action=m??qe,vn(c)}return vn(yt({...l,[`data-melt-${g}`]:"",action:m??qe}))}})(),s=m??(()=>{});return s.subscribe=t.subscribe,s}function hn(g,v){const{stores:r,returned:m,action:f}=v,{subscribe:t}=Ut(r,d=>m(d).map(l=>yt({...l,[`data-melt-${g}`]:"",action:f??qe}))),s=f??(()=>{});return s.subscribe=t,s}function yi(g){const v=t=>t?`${g}-${t}`:g,r=t=>`data-melt-${g}${t?`-${t}`:""}`,m=t=>`[data-melt-${g}${t?`-${t}`:""}]`;return{name:v,attribute:r,selector:m,getEl:t=>document.querySelector(m(t))}}const Yn=typeof document<"u";function xt(g){return g instanceof HTMLElement}function xi(...g){return(...v)=>{for(const r of g)typeof r=="function"&&r(...v)}}function qe(){}function st(g,v,r,m){const f=Array.isArray(v)?v:[v];return f.forEach(t=>g.addEventListener(t,r,m)),()=>{f.forEach(t=>g.removeEventListener(t,r,m))}}function Si(g,v,r,m){const f=Array.isArray(v)?v:[v];if(typeof r=="function"){const t=bi(s=>r(s));return f.forEach(s=>g.addEventListener(s,t,m)),()=>{f.forEach(s=>g.removeEventListener(s,t,m))}}return()=>void 0}function wi(g){const v=g.currentTarget;if(!xt(v))return null;const r=new CustomEvent(`m-${g.type}`,{detail:{originalEvent:g},cancelable:!0});return v.dispatchEvent(r),r}function bi(g){return v=>{const r=wi(v);if(!(r!=null&&r.defaultPrevented))return g(v)}}const Ai=g=>{try{qn(g)}catch{return g}};function Qn(g,...v){const r={};for(const m of Object.keys(g))v.includes(m)||(r[m]=g[m]);return r}function ze(g){return{...g,get:()=>zn(g)}}ze.writable=function(g){const v=et(g);let r=g;return{subscribe:v.subscribe,set(m){v.set(m),r=m},update(m){const f=m(r);v.set(f),r=f},get(){return r}}};ze.derived=function(g,v){const r=new Map,m=()=>{const t=Array.isArray(g)?g.map(s=>s.get()):g.get();return v(t)};return{get:m,subscribe:t=>{const s=[];return(Array.isArray(g)?g:[g]).forEach(l=>{s.push(l.subscribe(()=>{t(m())}))}),t(m()),r.set(t,s),()=>{const l=r.get(t);if(l)for(const c of l)c();r.delete(t)}}}};const Ti=(g,v)=>{const r=ze(g),m=(t,s)=>{r.update(d=>{const l=t(d);let c=l;return v&&(c=v({curr:d,next:l})),s==null||s(c),c})};return{...r,update:m,set:t=>{m(()=>t)}}};let Pi="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Mi=(g=21)=>{let v="",r=g;for(;r--;)v+=Pi[Math.random()*64|0];return v};function Ci(){return Mi(10)}function ki(g){return g.reduce((v,r)=>(v[r]=Ci(),v),{})}const Oe={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"};function gn(g,v){let r;const m=Ut(g,t=>{r==null||r(),r=v(t)}).subscribe(qe),f=()=>{m(),r==null||r()};return Ai(f),f}function Ii(g){const v={};return Object.keys(g).forEach(r=>{const m=r,f=g[m];v[m]=ze(et(f))}),v}function Zt(g,v,r,m){const f=(g-(isNaN(v)?0:v))%m;let t=Math.abs(f)*2>=m?g+Math.sign(f)*(m-Math.abs(f)):g-f;isNaN(v)?!isNaN(r)&&t>r&&(t=Math.floor(r/m)*m):t<v?t=v:!isNaN(r)&&t>r&&(t=v+Math.floor((r-v)/m)*m);const s=m.toString(),d=s.indexOf("."),l=d>=0?s.length-d:0;if(l>0){const c=Math.pow(10,l);t=Math.round(t*c)/c}return t}ft(void 0,g=>{function v(m){g(m),g(void 0)}return st(document,"pointerup",v,{passive:!1,capture:!0})});ft(void 0,g=>{function v(m){m&&m.key===Oe.ESCAPE&&g(m),g(void 0)}return st(document,"keydown",v,{passive:!1})});ft(!1),ft(!1),ft(void 0);const Ei={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...Qn(Ei,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});const Di={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Ot}=yi("slider"),Bi=g=>{const v={...Di,...g},r=Ii(Qn(v,"value","onValueChange","defaultValue")),{min:m,max:f,step:t,orientation:s,dir:d,disabled:l}=r,c=v.value??et(v.defaultValue),u=Ti(c,v==null?void 0:v.onValueChange),e=ze(et(!1)),i=ze(et(0)),n=ze(et(null)),a=ki(["root"]),o=(x,y)=>{u.update(b=>{if(!b)return[x];if(b[y]===x)return b;const A=[...b],M=A[y]>x?-1:1;function P(){A[y]=A[y+M],A[y+M]=x;const H=p();H&&(H[y+M].focus(),n.set({thumb:H[y+M],index:y+M}))}if(M===-1&&x<A[y-1])return P(),A;if(M===1&&x>A[y+1])return P(),A;const k=m.get(),I=f.get(),E=t.get();return A[y]=Zt(x,k,I,E),A})},p=()=>{const x=Qt(a.root);return x?Array.from(x.querySelectorAll('[data-melt-part="thumb"]')).filter(y=>xt(y)):null},h=Ut([m,f],([x,y])=>b=>(b-x)/(y-x)*100),w=ze.derived([s,d],([x,y])=>x==="horizontal"?y==="rtl"?"rl":"lr":y==="rtl"?"tb":"bt"),T=qt(Ot(),{stores:[l,s,d],returned:([x,y,b])=>({dir:b,disabled:Yt(x),"data-disabled":Yt(x),"data-orientation":y,style:x?void 0:`touch-action: ${y==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":a.root})}),C=qt(Ot("range"),{stores:[u,w,h],returned:([x,y,b])=>{const A=x.length>1?b(Math.min(...x)??0):0,M=100-b(Math.max(...x)??0),P={position:"absolute"};switch(y){case"lr":{P.left=`${A}%`,P.right=`${M}%`;break}case"rl":{P.right=`${A}%`,P.left=`${M}%`;break}case"bt":{P.bottom=`${A}%`,P.top=`${M}%`;break}case"tb":{P.top=`${A}%`,P.bottom=`${M}%`;break}}return{style:Vt(P)}}}),_=hn(Ot("thumb"),{stores:[u,h,m,f,l,s,w],returned:([x,y,b,A,M,P,k])=>Array.from({length:x.length||1},(E,H)=>{i.get()<x.length&&i.update(z=>z+1);const W=x[H],X=`${y(W)}%`,U={position:"absolute"};switch(k){case"lr":{U.left=X,U.translate="-50% 0";break}case"rl":{U.right=X,U.translate="50% 0";break}case"bt":{U.bottom=X,U.translate="0 50%";break}case"tb":{U.top=X,U.translate="0 -50%";break}}return{role:"slider","aria-valuemin":b,"aria-valuemax":A,"aria-valuenow":W,"aria-disabled":Yt(M),"aria-orientation":P,"data-melt-part":"thumb","data-value":W,style:Vt(U),tabindex:M?-1:0}}),action:x=>({destroy:Si(x,"keydown",b=>{if(l.get())return;const A=b.currentTarget;if(!xt(A))return;const M=p();if(!(M!=null&&M.length))return;const P=M.indexOf(A);if(i.set(P),![Oe.ARROW_LEFT,Oe.ARROW_RIGHT,Oe.ARROW_UP,Oe.ARROW_DOWN,Oe.HOME,Oe.END].includes(b.key))return;b.preventDefault();const k=m.get(),I=f.get(),E=t.get(),H=u.get(),O=s.get(),W=w.get(),X=H[P];switch(b.key){case Oe.HOME:{o(k,P);break}case Oe.END:{o(I,P);break}case Oe.ARROW_LEFT:{if(O!=="horizontal")break;b.metaKey?o(W==="rl"?I:k,P):W==="rl"&&X<I?o(X+E,P):W==="lr"&&X>k&&o(X-E,P);break}case Oe.ARROW_RIGHT:{if(O!=="horizontal")break;b.metaKey?o(W==="rl"?k:I,P):W==="rl"&&X>k?o(X-E,P):W==="lr"&&X<I&&o(X+E,P);break}case Oe.ARROW_UP:{b.metaKey?o(W==="tb"?k:I,P):W==="tb"&&X>k?o(X-E,P):W!=="tb"&&X<I&&o(X+E,P);break}case Oe.ARROW_DOWN:{b.metaKey?o(W==="tb"?I:k,P):W==="tb"&&X<I?o(X+E,P):W!=="tb"&&X>k&&o(X-E,P);break}}})})}),S=hn(Ot("tick"),{stores:[u,m,f,t,w],returned:([x,y,b,A,M])=>{const P=b-y;let k=Math.ceil(P/A);return P%A==0&&k++,Array.from({length:k},(I,E)=>{const H=`${E*(A/(b-y))*100}%`,O=E===0,W=E===k-1,X=O?0:W?-100:-50,U={position:"absolute"};switch(M){case"lr":{U.left=H,U.translate=`${X}% 0`;break}case"rl":{U.right=H,U.translate=`${-X}% 0`;break}case"bt":{U.bottom=H,U.translate=`0 ${-X}%`;break}case"tb":{U.top=H,U.translate=`0 ${X}%`;break}}const z=y+E*A;return{"data-bounded":(x.length===1?z<=x[0]:x[0]<=z&&z<=x[x.length-1])?!0:void 0,"data-value":z,style:Vt(U)}})}});return gn([T,m,f,l,s,w,t],([x,y,b,A,M,P,k])=>{if(!Yn||A)return;const I=(U,z,ee,ne)=>{const oe=(U-ee)/(ne-ee)*(b-y)+y;if(oe<y)o(y,z);else if(oe>b)o(b,z);else{const j=k,D=y,B=Math.floor((oe-D)/j),L=D+B*j+j/2,V=D+(B+1)*j+j/2,G=oe>=L&&oe<V?(B+1)*j+D:B*j+D;G<=b&&o(G,z)}},E=U=>{const z=p();if(!z)return;z.forEach(oe=>oe.blur());const ee=z.map(oe=>{if(M==="horizontal"){const{left:j,right:D}=oe.getBoundingClientRect();return Math.abs(U.clientX-(j+D)/2)}else{const{top:j,bottom:D}=oe.getBoundingClientRect();return Math.abs(U.clientY-(j+D)/2)}}),ne=z[ee.indexOf(Math.min(...ee))],ve=z.indexOf(ne);return{thumb:ne,index:ve}},H=U=>{if(!e.get())return;U.preventDefault(),U.stopPropagation();const z=Qt(x["data-melt-id"]),ee=n.get();if(!z||!ee)return;ee.thumb.focus();const{left:ne,right:ve,top:oe,bottom:j}=z.getBoundingClientRect();switch(P){case"lr":{I(U.clientX,ee.index,ne,ve);break}case"rl":{I(U.clientX,ee.index,ve,ne);break}case"bt":{I(U.clientY,ee.index,j,oe);break}case"tb":{I(U.clientY,ee.index,oe,j);break}}},O=U=>{if(U.button!==0)return;const z=Qt(x["data-melt-id"]),ee=E(U);if(!ee||!z)return;const ne=U.target;!xt(ne)||!z.contains(ne)||(U.preventDefault(),n.set(ee),ee.thumb.focus(),e.set(!0),H(U))},W=()=>{e.set(!1)},X=xi(st(document,"pointerdown",O),st(document,"pointerup",W),st(document,"pointerleave",W),st(document,"pointermove",H));return()=>{X()}}),gn([t,m,f,u],function([y,b,A,M]){const P=I=>Zt(I,b,A,y)===I,k=I=>Zt(I,b,A,y);M.some(I=>!P(I))&&u.update(I=>I.map(k))}),{elements:{root:T,thumbs:_,range:C,ticks:S},states:{value:u},options:r}};function Oi(g,v){const r={};return v.forEach(m=>{r[m]={[`data-${g}-${m}`]:""}}),m=>r[m]}function Ri(){const g=Ln();return v=>{const{originalEvent:r}=v.detail,{cancelable:m}=v,f=r.type;g(f,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:m})||v.preventDefault()}}function Fi(g){const v={};for(const r in g){const m=g[r];m!==void 0&&(v[r]=m)}return v}function Vi(g){return function(v,r){if(r===void 0)return;const m=g[v];m&&m.set(r)}}function Zn(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Li(g){const{NAME:v,PARTS:r}=Zn(),m=Oi(v,r),f={...Bi(Fi(g)),getAttrs:m};return Jn(v,f),{...f,updateOption:Vi(f.options)}}function jn(){const{NAME:g}=Zn();return $n(g)}const Hi=g=>({builder:g&4,ticks:g&8,thumbs:g&16}),_n=g=>({builder:g[2],ticks:g[3],thumbs:g[4]}),Wi=g=>({builder:g&4,ticks:g&8,thumbs:g&16}),yn=g=>({builder:g[2],ticks:g[3],thumbs:g[4]});function Ni(g){let v,r,m,f;const t=g[19].default,s=Ht(t,g,g[18],_n);let d=[g[2],g[8]],l={};for(let c=0;c<d.length;c+=1)l=Qe(l,d[c]);return{c(){v=ie("span"),s&&s.c(),this.h()},l(c){v=re(c,"SPAN",{});var u=se(v);s&&s.l(u),u.forEach(Q),this.h()},h(){dt(v,l)},m(c,u){ce(c,v,u),s&&s.m(v,null),g[20](v),r=!0,m||(f=$t(g[2].action(v)),m=!0)},p(c,u){s&&s.p&&(!r||u&262172)&&Wt(s,t,c,c[18],r?Gt(t,c[18],u,Hi):Nt(c[18]),_n),dt(v,l=nn(d,[u&4&&c[2],u&256&&c[8]]))},i(c){r||(ue(s,c),r=!0)},o(c){de(s,c),r=!1},d(c){c&&Q(v),s&&s.d(c),g[20](null),m=!1,f()}}}function Gi(g){let v;const r=g[19].default,m=Ht(r,g,g[18],yn);return{c(){m&&m.c()},l(f){m&&m.l(f)},m(f,t){m&&m.m(f,t),v=!0},p(f,t){m&&m.p&&(!v||t&262172)&&Wt(m,r,f,f[18],v?Gt(r,f[18],t,Wi):Nt(f[18]),yn)},i(f){v||(ue(m,f),v=!0)},o(f){de(m,f),v=!1},d(f){m&&m.d(f)}}}function Ui(g){let v,r,m,f;const t=[Gi,Ni],s=[];function d(l,c){return l[1]?0:1}return v=d(g),r=s[v]=t[v](g),{c(){r.c(),m=Ve()},l(l){r.l(l),m=Ve()},m(l,c){s[v].m(l,c),ce(l,m,c),f=!0},p(l,[c]){let u=v;v=d(l),v===u?s[v].p(l,c):(Je(),de(s[u],1,1,()=>{s[u]=null}),$e(),r=s[v],r?r.p(l,c):(r=s[v]=t[v](l),r.c()),ue(r,1),r.m(m.parentNode,m))},i(l){f||(ue(r),f=!0)},o(l){de(r),f=!1},d(l){l&&Q(m),s[v].d(l)}}}function Xi(g,v,r){let m;const f=["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"];let t=ct(v,f),s,d,l,{$$slots:c={},$$scope:u}=v,{disabled:e=void 0}=v,{min:i=void 0}=v,{max:n=void 0}=v,{step:a=void 0}=v,{orientation:o=void 0}=v,{dir:p=void 0}=v,{value:h=void 0}=v,{onValueChange:w=void 0}=v,{asChild:T=!1}=v,{el:C=void 0}=v;const{elements:{root:_,ticks:S,thumbs:x},states:{value:y},updateOption:b,getAttrs:A}=Li({disabled:e,dir:p,min:i,max:n,step:a,orientation:o,defaultValue:h,onValueChange:({next:k})=>(h!==k&&(w==null||w(k),r(9,h=k)),k)});Rt(g,_,k=>r(17,s=k)),Rt(g,S,k=>r(3,d=k)),Rt(g,x,k=>r(4,l=k));const M=A("root");function P(k){it[k?"unshift":"push"](()=>{C=k,r(0,C)})}return g.$$set=k=>{v=Qe(Qe({},v),Jt(k)),r(8,t=ct(v,f)),"disabled"in k&&r(10,e=k.disabled),"min"in k&&r(11,i=k.min),"max"in k&&r(12,n=k.max),"step"in k&&r(13,a=k.step),"orientation"in k&&r(14,o=k.orientation),"dir"in k&&r(15,p=k.dir),"value"in k&&r(9,h=k.value),"onValueChange"in k&&r(16,w=k.onValueChange),"asChild"in k&&r(1,T=k.asChild),"el"in k&&r(0,C=k.el),"$$scope"in k&&r(18,u=k.$$scope)},g.$$.update=()=>{g.$$.dirty&512&&h!==void 0&&y.set(h),g.$$.dirty&1024&&b("disabled",e),g.$$.dirty&2048&&b("min",i),g.$$.dirty&4096&&b("max",n),g.$$.dirty&8192&&b("step",a),g.$$.dirty&16384&&b("orientation",o),g.$$.dirty&32768&&b("dir",p),g.$$.dirty&131072&&r(2,m=s),g.$$.dirty&4&&Object.assign(m,M)},[C,T,m,d,l,_,S,x,t,h,e,i,n,a,o,p,w,s,u,c,P]}class Yi extends vt{constructor(v){super(),mt(this,v,Xi,Ui,pt,{disabled:10,min:11,max:12,step:13,orientation:14,dir:15,value:9,onValueChange:16,asChild:1,el:0})}}const Qi=g=>({builder:g&4}),xn=g=>({builder:g[2]});function Zi(g){let v,r,m,f=[g[2],g[4]],t={};for(let s=0;s<f.length;s+=1)t=Qe(t,f[s]);return{c(){v=ie("span"),this.h()},l(s){v=re(s,"SPAN",{}),se(v).forEach(Q),this.h()},h(){dt(v,t)},m(s,d){ce(s,v,d),g[8](v),r||(m=$t(g[2].action(v)),r=!0)},p(s,d){dt(v,t=nn(f,[d&4&&s[2],d&16&&s[4]]))},i:Ye,o:Ye,d(s){s&&Q(v),g[8](null),r=!1,m()}}}function ji(g){let v;const r=g[7].default,m=Ht(r,g,g[6],xn);return{c(){m&&m.c()},l(f){m&&m.l(f)},m(f,t){m&&m.m(f,t),v=!0},p(f,t){m&&m.p&&(!v||t&68)&&Wt(m,r,f,f[6],v?Gt(r,f[6],t,Qi):Nt(f[6]),xn)},i(f){v||(ue(m,f),v=!0)},o(f){de(m,f),v=!1},d(f){m&&m.d(f)}}}function Ki(g){let v,r,m,f;const t=[ji,Zi],s=[];function d(l,c){return l[1]?0:1}return v=d(g),r=s[v]=t[v](g),{c(){r.c(),m=Ve()},l(l){r.l(l),m=Ve()},m(l,c){s[v].m(l,c),ce(l,m,c),f=!0},p(l,[c]){let u=v;v=d(l),v===u?s[v].p(l,c):(Je(),de(s[u],1,1,()=>{s[u]=null}),$e(),r=s[v],r?r.p(l,c):(r=s[v]=t[v](l),r.c()),ue(r,1),r.m(m.parentNode,m))},i(l){f||(ue(r),f=!0)},o(l){de(r),f=!1},d(l){l&&Q(m),s[v].d(l)}}}function qi(g,v,r){let m;const f=["asChild","el"];let t=ct(v,f),s,{$$slots:d={},$$scope:l}=v,{asChild:c=!1}=v,{el:u=void 0}=v;const{elements:{range:e},getAttrs:i}=jn();Rt(g,e,o=>r(5,s=o));const n=i("range");function a(o){it[o?"unshift":"push"](()=>{u=o,r(0,u)})}return g.$$set=o=>{v=Qe(Qe({},v),Jt(o)),r(4,t=ct(v,f)),"asChild"in o&&r(1,c=o.asChild),"el"in o&&r(0,u=o.el),"$$scope"in o&&r(6,l=o.$$scope)},g.$$.update=()=>{g.$$.dirty&32&&r(2,m=s),g.$$.dirty&4&&Object.assign(m,n)},[u,c,m,e,t,s,l,d,a]}class zi extends vt{constructor(v){super(),mt(this,v,qi,Ki,pt,{asChild:1,el:0})}}const Ji=g=>({builder:g&4}),Sn=g=>({builder:g[2]});function $i(g){let v,r,m,f=[g[2],g[4]],t={};for(let s=0;s<f.length;s+=1)t=Qe(t,f[s]);return{c(){v=ie("span"),this.h()},l(s){v=re(s,"SPAN",{}),se(v).forEach(Q),this.h()},h(){dt(v,t)},m(s,d){ce(s,v,d),g[8](v),r||(m=[$t(g[2].action(v)),lt(v,"m-keydown",g[3])],r=!0)},p(s,d){dt(v,t=nn(f,[d&4&&s[2],d&16&&s[4]]))},i:Ye,o:Ye,d(s){s&&Q(v),g[8](null),r=!1,Hn(m)}}}function er(g){let v;const r=g[7].default,m=Ht(r,g,g[6],Sn);return{c(){m&&m.c()},l(f){m&&m.l(f)},m(f,t){m&&m.m(f,t),v=!0},p(f,t){m&&m.p&&(!v||t&68)&&Wt(m,r,f,f[6],v?Gt(r,f[6],t,Ji):Nt(f[6]),Sn)},i(f){v||(ue(m,f),v=!0)},o(f){de(m,f),v=!1},d(f){m&&m.d(f)}}}function tr(g){let v,r,m,f;const t=[er,$i],s=[];function d(l,c){return l[1]?0:1}return v=d(g),r=s[v]=t[v](g),{c(){r.c(),m=Ve()},l(l){r.l(l),m=Ve()},m(l,c){s[v].m(l,c),ce(l,m,c),f=!0},p(l,[c]){let u=v;v=d(l),v===u?s[v].p(l,c):(Je(),de(s[u],1,1,()=>{s[u]=null}),$e(),r=s[v],r?r.p(l,c):(r=s[v]=t[v](l),r.c()),ue(r,1),r.m(m.parentNode,m))},i(l){f||(ue(r),f=!0)},o(l){de(r),f=!1},d(l){l&&Q(m),s[v].d(l)}}}function nr(g,v,r){let m;const f=["asChild","el","thumb"];let t=ct(v,f),{$$slots:s={},$$scope:d}=v,{asChild:l=!1}=v,{el:c=void 0}=v,{thumb:u}=v;const{getAttrs:e}=jn(),i=Ri(),n=e("thumb");function a(o){it[o?"unshift":"push"](()=>{c=o,r(0,c)})}return g.$$set=o=>{v=Qe(Qe({},v),Jt(o)),r(4,t=ct(v,f)),"asChild"in o&&r(1,l=o.asChild),"el"in o&&r(0,c=o.el),"thumb"in o&&r(5,u=o.thumb),"$$scope"in o&&r(6,d=o.$$scope)},g.$$.update=()=>{g.$$.dirty&32&&r(2,m=u),g.$$.dirty&4&&Object.assign(m,n)},[c,l,m,i,t,u,d,s,a]}class ir extends vt{constructor(v){super(),mt(this,v,nr,tr,pt,{asChild:1,el:0,thumb:5})}}function wn(g,v,r){const m=g.slice();return m[10]=v[r],m}function bn(g){let v,r;return v=new ir({props:{thumb:g[10],class:g[6]}}),{c(){wt(v.$$.fragment)},l(m){bt(v.$$.fragment,m)},m(m,f){At(v,m,f),r=!0},p(m,f){const t={};f&512&&(t.thumb=m[10]),f&64&&(t.class=m[6]),v.$set(t)},i(m){r||(ue(v.$$.fragment,m),r=!0)},o(m){de(v.$$.fragment,m),r=!1},d(m){Tt(v,m)}}}function rr(g){let v,r,m,f,t;r=new zi({});let s=Ne(g[9]),d=[];for(let c=0;c<s.length;c+=1)d[c]=bn(wn(g,s,c));const l=c=>de(d[c],1,1,()=>{d[c]=null});return{c(){v=ie("span"),wt(r.$$.fragment),m=xe();for(let c=0;c<d.length;c+=1)d[c].c();f=Ve(),this.h()},l(c){v=re(c,"SPAN",{class:!0});var u=se(v);bt(r.$$.fragment,u),u.forEach(Q),m=Se(c);for(let e=0;e<d.length;e+=1)d[e].l(c);f=Ve(),this.h()},h(){fe(v,"class","bg svelte-1svs2df")},m(c,u){ce(c,v,u),At(r,v,null),ce(c,m,u);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(c,u);ce(c,f,u),t=!0},p(c,u){if(u&576){s=Ne(c[9]);let e;for(e=0;e<s.length;e+=1){const i=wn(c,s,e);d[e]?(d[e].p(i,u),ue(d[e],1)):(d[e]=bn(i),d[e].c(),ue(d[e],1),d[e].m(f.parentNode,f))}for(Je(),e=s.length;e<d.length;e+=1)l(e);$e()}},i(c){if(!t){ue(r.$$.fragment,c);for(let u=0;u<s.length;u+=1)ue(d[u]);t=!0}},o(c){de(r.$$.fragment,c),d=d.filter(Boolean);for(let u=0;u<d.length;u+=1)de(d[u]);t=!1},d(c){c&&(Q(v),Q(m),Q(f)),Tt(r),gt(d,c)}}}function or(g){let v,r,m,f,t,s,d;function l(u){g[8](u)}let c={min:g[2],max:g[3],step:g[5],disabled:g[4],$$slots:{default:[rr,({thumbs:u})=>({9:u}),({thumbs:u})=>u?512:0]},$$scope:{ctx:g}};return g[0]!==void 0&&(c.value=g[0]),t=new Yi({props:c}),it.push(()=>tn(t,"value",l)),{c(){v=ie("div"),r=ie("p"),m=ke(g[1]),f=xe(),wt(t.$$.fragment),this.h()},l(u){v=re(u,"DIV",{class:!0});var e=se(v);r=re(e,"P",{class:!0});var i=se(r);m=Ie(i,g[1]),i.forEach(Q),f=Se(e),bt(t.$$.fragment,e),e.forEach(Q),this.h()},h(){fe(r,"class","label svelte-1svs2df"),fe(v,"class","c svelte-1svs2df")},m(u,e){ce(u,v,e),q(v,r),q(r,m),q(v,f),At(t,v,null),d=!0},p(u,[e]){(!d||e&2)&&Xe(m,u[1]);const i={};e&4&&(i.min=u[2]),e&8&&(i.max=u[3]),e&32&&(i.step=u[5]),e&16&&(i.disabled=u[4]),e&8768&&(i.$$scope={dirty:e,ctx:u}),!s&&e&1&&(s=!0,i.value=u[0],en(()=>s=!1)),t.$set(i)},i(u){d||(ue(t.$$.fragment,u),d=!0)},o(u){de(t.$$.fragment,u),d=!1},d(u){u&&Q(v),Tt(t)}}}function ar(g,v,r){let m,{label:f}=v,{value:t}=v,{min:s}=v,{max:d}=v,{disabled:l}=v,{step:c}=v,{animate:u}=v;function e(i){t=i,r(0,t)}return g.$$set=i=>{"label"in i&&r(1,f=i.label),"value"in i&&r(0,t=i.value),"min"in i&&r(2,s=i.min),"max"in i&&r(3,d=i.max),"disabled"in i&&r(4,l=i.disabled),"step"in i&&r(5,c=i.step),"animate"in i&&r(7,u=i.animate)},g.$$.update=()=>{g.$$.dirty&128&&r(6,m=u?"animate":"")},[t,f,s,d,l,c,m,u,e]}class sr extends vt{constructor(v){super(),mt(this,v,ar,or,pt,{label:1,value:0,min:2,max:3,disabled:4,step:5,animate:7})}}function lr(g){let v,r,m,f;return{c(){v=ie("button"),r=ke("Shoot"),this.h()},l(t){v=re(t,"BUTTON",{});var s=se(v);r=Ie(s,"Shoot"),s.forEach(Q),this.h()},h(){v.disabled=g[0]},m(t,s){ce(t,v,s),q(v,r),m||(f=[lt(v,"pointerdown",g[1]),lt(v,"pointerup",g[2]),lt(v,"pointerleave",g[2])],m=!0)},p(t,[s]){s&1&&(v.disabled=t[0])},i:Ye,o:Ye,d(t){t&&Q(v),m=!1,Hn(f)}}}function fr(g,v,r){let{value:m}=v,{disabled:f}=v;const t=Ln();let s,d;function l(){let u=-1;d=!0,s=setInterval(()=>{m>=1?u=-1:m<=0&&(u=1),r(3,m+=.01*u),r(3,m=+m.toFixed(2))},17)}function c(){d&&(clearInterval(s),t("release",m),r(3,m=0),d=!1)}return g.$$set=u=>{"value"in u&&r(3,m=u.value),"disabled"in u&&r(0,f=u.disabled)},[f,l,c,m]}class ur extends vt{constructor(v){super(),mt(this,v,fr,lr,pt,{value:3,disabled:0})}}const cr=[{state:"shoot",player:"player1",random:!0,power:.235,degrees:0}],dr=[{x:.3,y:.6,player:"player1"},{state:"position",player:"player1"}],pr=[{state:"shoot",player:"player2",power:.21,degrees:177}],vr=[{x:.5239184668140235,y:.5643606863100566,player:"player2"},{x:.43462246777163904,y:.8876611418047882,state:"shoot",player:"player1",power:.37,degrees:14.7}],mr=[{x:.5239184668140235,y:.5643606863100566,player:"player2"},{state:"position",player:"player1"}],hr=[{x:.5239184668140235,y:.5643606863100566,player:"player2"},{state:"shoot",player:"player1",power:.14,degrees:-3.5}],gr=[{x:.45,y:.44,player:"player1",score:15,valid:!0},{x:.7,y:.4,player:"player1",score:10,valid:!0},{x:.8,y:.4,player:"player2",score:5,valid:!0},{x:.2,y:.4,player:"player2",score:5,valid:!0},{x:.3,y:.6,player:"player2",score:10,valid:!0,state:"idle"}],_r=[{x:.51,y:.295,player:"player2"},{x:.52,y:.18,player:"player2"},{x:.61,y:.33,player:"player2"},{player:"player1",state:"position"}],yr={open:cr,opentry:dr,fifteen:pr,opponent:vr,opponenttry:mr,invalid:hr,score:gr,tripletry:_r};function An(g,v,r){const m=g.slice();return m[49]=v[r],m}function Tn(g,v,r){const m=g.slice();return m[52]=v[r],m}function Pn(g,v,r){const m=g.slice();m[55]=v[r];const f=m[23][m[55]];return m[56]=f,m}function Mn(g,v,r){const m=g.slice();return m[55]=v[r],m[60]=r,m}function Cn(g){let v;return{c(){v=ie("div"),this.h()},l(r){v=re(r,"DIV",{class:!0,style:!0}),se(v).forEach(Q),this.h()},h(){fe(v,"class",ti(g[55])+" svelte-1ebjqcn"),le(v,"--w",Math.floor(Ge[g[55]]*g[0])+"px"),le(v,"--b",(Ge[g[55]]-Ge[g[22][g[60]+1]])/2*g[0]+"px")},m(r,m){ce(r,v,m)},p(r,m){m[0]&1&&le(v,"--w",Math.floor(Ge[r[55]]*r[0])+"px"),m[0]&1&&le(v,"--b",(Ge[r[55]]-Ge[r[22][r[60]+1]])/2*r[0]+"px")},d(r){r&&Q(v)}}}function kn(g){let v,r=g[56]+"",m;return{c(){v=ie("span"),m=ke(r),this.h()},l(f){v=re(f,"SPAN",{class:!0,style:!0});var t=se(v);m=Ie(t,r),t.forEach(Q),this.h()},h(){fe(v,"class","text text-"+g[55]+" svelte-1ebjqcn"),le(v,"--w",Math.floor(g[0]/2-Ge[g[55]]*g[0]/2)+"px"),le(v,"--d",Ge[g[55]]*g[0]+"px")},m(f,t){ce(f,v,t),q(v,m)},p(f,t){t[0]&1&&le(v,"--w",Math.floor(f[0]/2-Ge[f[55]]*f[0]/2)+"px"),t[0]&1&&le(v,"--d",Ge[f[55]]*f[0]+"px")},d(f){f&&Q(v)}}}function In(g){let v;return{c(){v=ie("div"),this.h()},l(r){v=re(r,"DIV",{class:!0,style:!0}),se(v).forEach(Q),this.h()},h(){fe(v,"class","quadrant-line svelte-1ebjqcn"),le(v,"--w",(nt-at)*g[0]/2+"px"),le(v,"--x",at*g[0]/2+"px"),le(v,"--angle",g[52]+"deg")},m(r,m){ce(r,v,m)},p(r,m){m[0]&1&&le(v,"--w",(nt-at)*r[0]/2+"px"),m[0]&1&&le(v,"--x",at*r[0]/2+"px")},d(r){r&&Q(v)}}}function En(g){let v;return{c(){v=ie("div"),this.h()},l(r){v=re(r,"DIV",{class:!0,style:!0}),se(v).forEach(Q),this.h()},h(){fe(v,"class","peg svelte-1ebjqcn"),le(v,"--w",ot*g[0]+"px"),le(v,"--x",((tt-ot)*g[0]+1)/2+"px"),le(v,"--angle",g[49]+"deg")},m(r,m){ce(r,v,m)},p(r,m){m[0]&1&&le(v,"--w",ot*r[0]+"px"),m[0]&1&&le(v,"--x",((tt-ot)*r[0]+1)/2+"px")},d(r){r&&Q(v)}}}function Dn(g){let v,r,m,f,t;return{c(){v=ie("p"),r=ie("strong"),m=ke(g[18]),this.h()},l(s){v=re(s,"P",{class:!0});var d=se(v);r=re(d,"STRONG",{});var l=se(r);m=Ie(l,g[18]),l.forEach(Q),d.forEach(Q),this.h()},h(){fe(v,"class","text-outline svelte-1ebjqcn")},m(s,d){ce(s,v,d),q(v,r),q(r,m),t=!0},p(s,d){(!t||d[0]&262144)&&Xe(m,s[18])},i(s){t||(s&&ni(()=>{t&&(f||(f=un(v,cn,{},!0)),f.run(1))}),t=!0)},o(s){s&&(f||(f=un(v,cn,{},!1)),f.run(0)),t=!1},d(s){s&&Q(v),s&&f&&f.end()}}}function Bn(g){let v,r,m,f;const t=[Sr,xr],s=[];function d(l,c){return l[11]==="shoot"?0:1}return v=d(g),r=s[v]=t[v](g),{c(){r.c(),m=Ve()},l(l){r.l(l),m=Ve()},m(l,c){s[v].m(l,c),ce(l,m,c),f=!0},p(l,c){let u=v;v=d(l),v===u?s[v].p(l,c):(Je(),de(s[u],1,1,()=>{s[u]=null}),$e(),r=s[v],r?r.p(l,c):(r=s[v]=t[v](l),r.c()),ue(r,1),r.m(m.parentNode,m))},i(l){f||(ue(r),f=!0)},o(l){de(r),f=!1},d(l){l&&Q(m),s[v].d(l)}}}function xr(g){let v,r="Place Disc",m,f;return{c(){v=ie("button"),v.textContent=r},l(t){v=re(t,"BUTTON",{"data-svelte-h":!0}),Ft(v)!=="svelte-18imge0"&&(v.textContent=r)},m(t,s){ce(t,v,s),m||(f=lt(v,"click",g[27]),m=!0)},p:Ye,i:Ye,o:Ye,d(t){t&&Q(v),m=!1,f()}}}function Sr(g){let v,r,m;function f(s){g[30](s)}let t={disabled:g[12]};return g[5]!==void 0&&(t.value=g[5]),v=new ur({props:t}),it.push(()=>tn(v,"value",f)),v.$on("release",g[26]),{c(){wt(v.$$.fragment)},l(s){bt(v.$$.fragment,s)},m(s,d){At(v,s,d),m=!0},p(s,d){const l={};d[0]&4096&&(l.disabled=s[12]),!r&&d[0]&32&&(r=!0,l.value=s[5],en(()=>r=!1)),v.$set(l)},i(s){m||(ue(v.$$.fragment,s),m=!0)},o(s){de(v.$$.fragment,s),m=!1},d(s){Tt(v,s)}}}function On(g){var s,d,l;let v,r,m;function f(c){g[31](c)}let t={label:g[11]==="shoot"?"aim":g[11],min:(s=g[24][g[11]])==null?void 0:s.min,max:(d=g[24][g[11]])==null?void 0:d.max,step:(l=g[24][g[11]])==null?void 0:l.step,animate:g[17],disabled:g[12]};return g[4]!==void 0&&(t.value=g[4]),v=new sr({props:t}),it.push(()=>tn(v,"value",f)),{c(){wt(v.$$.fragment)},l(c){bt(v.$$.fragment,c)},m(c,u){At(v,c,u),m=!0},p(c,u){var i,n,a;const e={};u[0]&2048&&(e.label=c[11]==="shoot"?"aim":c[11]),u[0]&2048&&(e.min=(i=c[24][c[11]])==null?void 0:i.min),u[0]&2048&&(e.max=(n=c[24][c[11]])==null?void 0:n.max),u[0]&2048&&(e.step=(a=c[24][c[11]])==null?void 0:a.step),u[0]&131072&&(e.animate=c[17]),u[0]&4096&&(e.disabled=c[12]),!r&&u[0]&16&&(r=!0,e.value=c[4],en(()=>r=!1)),v.$set(e)},i(c){m||(ue(v.$$.fragment,c),m=!0)},o(c){de(v.$$.fragment,c),m=!1},d(c){Tt(v,c)}}}function Rn(g){let v,r,m=g[4][0]+"",f,t,s,d,l,c,u;return{c(){v=ie("p"),r=ke("slider: "),f=ke(m),t=xe(),s=ie("p"),d=ke("x: "),l=ke(g[9]),c=ke(", y: "),u=ke(g[10]),this.h()},l(e){v=re(e,"P",{class:!0});var i=se(v);r=Ie(i,"slider: "),f=Ie(i,m),i.forEach(Q),t=Se(e),s=re(e,"P",{class:!0});var n=se(s);d=Ie(n,"x: "),l=Ie(n,g[9]),c=Ie(n,", y: "),u=Ie(n,g[10]),n.forEach(Q),this.h()},h(){fe(v,"class","svelte-1ebjqcn"),fe(s,"class","svelte-1ebjqcn")},m(e,i){ce(e,v,i),q(v,r),q(v,f),ce(e,t,i),ce(e,s,i),q(s,d),q(s,l),q(s,c),q(s,u)},p(e,i){i[0]&16&&m!==(m=e[4][0]+"")&&Xe(f,m),i[0]&512&&Xe(l,e[9]),i[0]&1024&&Xe(u,e[10])},d(e){e&&(Q(v),Q(t),Q(s))}}}function wr(g){let v,r,m,f="20s",t,s,d=g[6].player1+"",l,c,u,e,i="POINTS",n,a,o,p=g[7].player1+"",h,w,T,C=g[7].player2+"",_,S,x,y,b="20s",A,M,P=g[6].player2+"",k,I=`${g[0]}px`,E,H,O,W,X,U,z,ee,ne,ve,oe,j,D=`${g[0]}px`,B=`${g[0]}px`,L,V,G,F,Z,Y,K,J,me,Ae,we,Te,ae,We,Ue,Be=Ne(g[22].slice(0,3)),pe=[];for(let R=0;R<Be.length;R+=1)pe[R]=Cn(Mn(g,Be,R));let Le=Ne(g[22]),be=[];for(let R=0;R<Le.length;R+=1)be[R]=kn(Pn(g,Le,R));let je=Ne(g[20]),he=[];for(let R=0;R<je.length;R+=1)he[R]=In(Tn(g,je,R));let He=Ne(g[21]),Pe=[];for(let R=0;R<He.length;R+=1)Pe[R]=En(An(g,He,R));let ge=g[18]&&Dn(g),_e=!g[13]&&Bn(g),ye=!g[13]&&On(g),Me=g[1]&&Rn(g);return{c(){v=ie("div"),r=ie("p"),m=ie("span"),m.textContent=f,t=xe(),s=ie("strong"),l=ke(d),c=xe(),u=ie("p"),e=ie("span"),e.textContent=i,n=xe(),a=ie("strong"),o=ie("span"),h=ke(p),w=ke(` -
			`),T=ie("span"),_=ke(C),S=xe(),x=ie("p"),y=ie("span"),y.textContent=b,A=xe(),M=ie("strong"),k=ke(P),E=xe(),H=ie("div"),O=ie("div"),W=ie("div"),X=xe(),U=ie("div"),z=xe();for(let R=0;R<pe.length;R+=1)pe[R].c();ee=xe(),ne=ie("div"),ve=xe();for(let R=0;R<be.length;R+=1)be[R].c();oe=xe();for(let R=0;R<he.length;R+=1)he[R].c();j=xe();for(let R=0;R<Pe.length;R+=1)Pe[R].c();L=xe(),V=ie("div"),G=xe(),F=ie("div"),ge&&ge.c(),Y=xe(),K=ie("div"),J=ie("div"),_e&&_e.c(),me=xe(),Ae=ie("div"),ye&&ye.c(),we=xe(),Me&&Me.c(),Te=Ve(),this.h()},l(R){v=re(R,"DIV",{class:!0});var $=se(v);r=re($,"P",{class:!0});var N=se(r);m=re(N,"SPAN",{class:!0,"data-svelte-h":!0}),Ft(m)!=="svelte-26pqx6"&&(m.textContent=f),t=Se(N),s=re(N,"STRONG",{});var Ee=se(s);l=Ie(Ee,d),Ee.forEach(Q),N.forEach(Q),c=Se($),u=re($,"P",{class:!0});var Mt=se(u);e=re(Mt,"SPAN",{class:!0,"data-svelte-h":!0}),Ft(e)!=="svelte-8p7j2g"&&(e.textContent=i),n=Se(Mt),a=re(Mt,"STRONG",{});var Ct=se(a);o=re(Ct,"SPAN",{class:!0});var rn=se(o);h=Ie(rn,p),rn.forEach(Q),w=Ie(Ct,` -
			`),T=re(Ct,"SPAN",{class:!0});var on=se(T);_=Ie(on,C),on.forEach(Q),Ct.forEach(Q),Mt.forEach(Q),S=Se($),x=re($,"P",{class:!0});var kt=se(x);y=re(kt,"SPAN",{class:!0,"data-svelte-h":!0}),Ft(y)!=="svelte-26pqx6"&&(y.textContent=b),A=Se(kt),M=re(kt,"STRONG",{});var an=se(M);k=Ie(an,P),an.forEach(Q),kt.forEach(Q),$.forEach(Q),E=Se(R),H=re(R,"DIV",{class:!0});var rt=se(H);O=re(rt,"DIV",{class:!0});var De=se(O);W=re(De,"DIV",{class:!0,style:!0}),se(W).forEach(Q),X=Se(De),U=re(De,"DIV",{class:!0,style:!0}),se(U).forEach(Q),z=Se(De);for(let Ce=0;Ce<pe.length;Ce+=1)pe[Ce].l(De);ee=Se(De),ne=re(De,"DIV",{class:!0,style:!0}),se(ne).forEach(Q),ve=Se(De);for(let Ce=0;Ce<be.length;Ce+=1)be[Ce].l(De);oe=Se(De);for(let Ce=0;Ce<he.length;Ce+=1)he[Ce].l(De);j=Se(De);for(let Ce=0;Ce<Pe.length;Ce+=1)Pe[Ce].l(De);De.forEach(Q),L=Se(rt),V=re(rt,"DIV",{class:!0}),se(V).forEach(Q),G=Se(rt),F=re(rt,"DIV",{class:!0});var sn=se(F);ge&&ge.l(sn),sn.forEach(Q),rt.forEach(Q),Y=Se(R),K=re(R,"DIV",{class:!0});var It=se(K);J=re(It,"DIV",{class:!0});var ln=se(J);_e&&_e.l(ln),ln.forEach(Q),me=Se(It),Ae=re(It,"DIV",{class:!0});var fn=se(Ae);ye&&ye.l(fn),fn.forEach(Q),It.forEach(Q),we=Se(R),Me&&Me.l(R),Te=Ve(),this.h()},h(){fe(m,"class","label svelte-1ebjqcn"),fe(r,"class","holder you svelte-1ebjqcn"),Re(r,"animate",g[8].player1),Re(r,"visible",g[16]),fe(e,"class","label svelte-1ebjqcn"),fe(o,"class","you"),fe(T,"class","opp"),fe(u,"class","points svelte-1ebjqcn"),Re(u,"visible",g[15]),fe(y,"class","label svelte-1ebjqcn"),fe(x,"class","holder opp svelte-1ebjqcn"),Re(x,"animate",g[8].player2),Re(x,"visible",g[16]),fe(v,"class","score svelte-1ebjqcn"),le(v,"width",I),fe(W,"class","base svelte-1ebjqcn"),le(W,"--w",Lt*g[0]+"px"),le(W,"--b",Kt/2*g[0]+"px"),fe(U,"class","surface svelte-1ebjqcn"),le(U,"--w",St*g[0]+"px"),fe(ne,"class","twenty svelte-1ebjqcn"),le(ne,"--w",Math.floor(ut*g[0])+"px"),fe(O,"class","bg svelte-1ebjqcn"),le(O,"width",D),le(O,"height",B),fe(V,"class","fg svelte-1ebjqcn"),fe(F,"class","message svelte-1ebjqcn"),fe(H,"class",Z="c "+g[19]+" svelte-1ebjqcn"),fe(J,"class","top svelte-1ebjqcn"),fe(Ae,"class","bottom svelte-1ebjqcn"),fe(K,"class","ui svelte-1ebjqcn"),Re(K,"visible",g[14]||!g[2])},m(R,$){ce(R,v,$),q(v,r),q(r,m),q(r,t),q(r,s),q(s,l),q(v,c),q(v,u),q(u,e),q(u,n),q(u,a),q(a,o),q(o,h),q(a,w),q(a,T),q(T,_),q(v,S),q(v,x),q(x,y),q(x,A),q(x,M),q(M,k),ce(R,E,$),ce(R,H,$),q(H,O),q(O,W),q(O,X),q(O,U),q(O,z);for(let N=0;N<pe.length;N+=1)pe[N]&&pe[N].m(O,null);q(O,ee),q(O,ne),q(O,ve);for(let N=0;N<be.length;N+=1)be[N]&&be[N].m(O,null);q(O,oe);for(let N=0;N<he.length;N+=1)he[N]&&he[N].m(O,null);q(O,j);for(let N=0;N<Pe.length;N+=1)Pe[N]&&Pe[N].m(O,null);q(H,L),q(H,V),g[29](V),q(H,G),q(H,F),ge&&ge.m(F,null),ce(R,Y,$),ce(R,K,$),q(K,J),_e&&_e.m(J,null),q(K,me),q(K,Ae),ye&&ye.m(Ae,null),ce(R,we,$),Me&&Me.m(R,$),ce(R,Te,$),ae=!0,We||(Ue=lt(V,"click",g[25]),We=!0)},p(R,$){if((!ae||$[0]&64)&&d!==(d=R[6].player1+"")&&Xe(l,d),(!ae||$[0]&256)&&Re(r,"animate",R[8].player1),(!ae||$[0]&65536)&&Re(r,"visible",R[16]),(!ae||$[0]&128)&&p!==(p=R[7].player1+"")&&Xe(h,p),(!ae||$[0]&128)&&C!==(C=R[7].player2+"")&&Xe(_,C),(!ae||$[0]&32768)&&Re(u,"visible",R[15]),(!ae||$[0]&64)&&P!==(P=R[6].player2+"")&&Xe(k,P),(!ae||$[0]&256)&&Re(x,"animate",R[8].player2),(!ae||$[0]&65536)&&Re(x,"visible",R[16]),$[0]&1&&I!==(I=`${R[0]}px`)&&le(v,"width",I),(!ae||$[0]&1)&&le(W,"--w",Lt*R[0]+"px"),(!ae||$[0]&1)&&le(W,"--b",Kt/2*R[0]+"px"),(!ae||$[0]&1)&&le(U,"--w",St*R[0]+"px"),$[0]&4194305){Be=Ne(R[22].slice(0,3));let N;for(N=0;N<Be.length;N+=1){const Ee=Mn(R,Be,N);pe[N]?pe[N].p(Ee,$):(pe[N]=Cn(Ee),pe[N].c(),pe[N].m(O,ee))}for(;N<pe.length;N+=1)pe[N].d(1);pe.length=Be.length}if((!ae||$[0]&1)&&le(ne,"--w",Math.floor(ut*R[0])+"px"),$[0]&12582913){Le=Ne(R[22]);let N;for(N=0;N<Le.length;N+=1){const Ee=Pn(R,Le,N);be[N]?be[N].p(Ee,$):(be[N]=kn(Ee),be[N].c(),be[N].m(O,oe))}for(;N<be.length;N+=1)be[N].d(1);be.length=Le.length}if($[0]&1048577){je=Ne(R[20]);let N;for(N=0;N<je.length;N+=1){const Ee=Tn(R,je,N);he[N]?he[N].p(Ee,$):(he[N]=In(Ee),he[N].c(),he[N].m(O,j))}for(;N<he.length;N+=1)he[N].d(1);he.length=je.length}if($[0]&2097153){He=Ne(R[21]);let N;for(N=0;N<He.length;N+=1){const Ee=An(R,He,N);Pe[N]?Pe[N].p(Ee,$):(Pe[N]=En(Ee),Pe[N].c(),Pe[N].m(O,null))}for(;N<Pe.length;N+=1)Pe[N].d(1);Pe.length=He.length}$[0]&1&&D!==(D=`${R[0]}px`)&&le(O,"width",D),$[0]&1&&B!==(B=`${R[0]}px`)&&le(O,"height",B),R[18]?ge?(ge.p(R,$),$[0]&262144&&ue(ge,1)):(ge=Dn(R),ge.c(),ue(ge,1),ge.m(F,null)):ge&&(Je(),de(ge,1,1,()=>{ge=null}),$e()),(!ae||$[0]&524288&&Z!==(Z="c "+R[19]+" svelte-1ebjqcn"))&&fe(H,"class",Z),R[13]?_e&&(Je(),de(_e,1,1,()=>{_e=null}),$e()):_e?(_e.p(R,$),$[0]&8192&&ue(_e,1)):(_e=Bn(R),_e.c(),ue(_e,1),_e.m(J,null)),R[13]?ye&&(Je(),de(ye,1,1,()=>{ye=null}),$e()):ye?(ye.p(R,$),$[0]&8192&&ue(ye,1)):(ye=On(R),ye.c(),ue(ye,1),ye.m(Ae,null)),(!ae||$[0]&16388)&&Re(K,"visible",R[14]||!R[2]),R[1]?Me?Me.p(R,$):(Me=Rn(R),Me.c(),Me.m(Te.parentNode,Te)):Me&&(Me.d(1),Me=null)},i(R){ae||(ue(ge),ue(_e),ue(ye),ae=!0)},o(R){de(ge),de(_e),de(ye),ae=!1},d(R){R&&(Q(v),Q(E),Q(H),Q(Y),Q(K),Q(we),Q(Te)),gt(pe,R),gt(be,R),gt(he,R),gt(Pe,R),g[29](null),ge&&ge.d(),_e&&_e.d(),ye&&ye.d(),Me&&Me.d(R),We=!1,Ue()}}}const ht=0;function br(g,v,r){let m,{width:f}=v,{dev:t}=v,{tutorial:s}=v,{autoMute:d}=v;const l=_i(),c=[45,135,225,315],u=[15,60,105,150,195,240,285,330],e=["five","ten","fifteen","twenty"],i={five:"5",ten:"10",fifteen:"15",twenty:"20"},n={position:{value:[.5],min:.21,max:.79,step:.01},shoot:{value:[0],min:-90,max:90,step:.2}},a={player1:0,player2:0},o={player1:0,player2:0,leader:""},p={player1:!1,player2:!1};let h,w=0,T=0,C=n.position.value,_=ht,S="position",x,y,b,A,M,P,k,I=!0,E=!0,H,O,W;function X(Y){t&&(r(9,w=Y.offsetX/f),r(10,T=Y.offsetY/f))}function U({discs:Y,valid:K}){r(5,_=ht)}function z({discs:Y,valid:K}){if(K){const J=Y.some(ae=>ae.score===20),me=Y.filter(ae=>ae.player==="player2").every(ae=>ae.score===0),Ae=s.includes("open"),we=s.includes("triple");r(18,W=`Valid shot. ${Ae?J?"Nice 20!":"But not a 20 :(":we?me?"Triple takeout!":"But not a triple takeout :(":"Well done!"}`)}else r(18,W="Invalid shot. Try again.");k=setTimeout(()=>{r(18,W=null),V()},2e3)}function ee(){r(11,S="end"),r(18,W=`${o.player1>o.player2?"You":"Opp."} win the round`)}function ne({discs:Y,valid:K}){Y.forEach(J=>{J.valid&&J.score&&r(7,o[J.player]+=J.score,o),J.valid&&J.score===20&&(r(8,p[J.player]=!0,p),r(6,a[J.player]++,a))})}function ve({discs:Y,valid:K}){ne({discs:Y,valid:K}),r(5,_=ht),s.includes("try")?z({discs:Y,valid:K}):s&&(P=setTimeout(V,2e3))}function oe(){r(8,p.player1=!1,p),r(8,p.player2=!1,p),l.flickDisc(),r(12,y=!0)}function j(){if(O||(O=C[0]!==n.position.value[0],r(17,H=!O)),S==="position")l.positionDisc(C[0]*f);else if(S==="shoot"){const Y=s?s.includes("try"):!0;x=C[0],l.aimDisc({degrees:x,power:.25,visible:Y})}}function D(){const Y=s?s.includes("try"):!0;l.aimDisc({degrees:x,power:_,visible:Y})}function B(){S==="position"&&(r(11,S="shoot"),r(4,C=n.shoot.value),r(5,_=ht),l.setState("shoot"))}function L(){r(6,a.player1=0,a),r(6,a.player2=0,a),r(7,o.player1=0,o),r(7,o.player2=0,o)}async function V(){r(12,y=!1),L(),clearTimeout(M),clearTimeout(P),clearTimeout(k),r(18,W=null),r(13,b=!s.includes("try")),r(14,A=!["regions","score"].includes(s));const Y=s==="score";r(15,I=!["regions","tripletry"].includes(s)),r(16,E=I),r(17,H=s==="opponenttry"&&!O),r(5,_=ht);const K=yr[s];if(l.removeDiscs(),K&&K.forEach(l.addDisc),(b||Y)&&K){const J=K[K.length-1],me=J.random?Math.random()*3-1.5:0,Ae=J.degrees+me,we=J.random?Math.random()*.07-.035:0,Te=J.power+we;Y&&(r(15,I=!0),ne({discs:K,valid:!0})),M=setTimeout(()=>{Y?ee():(r(11,S=K[K.length-1].state),l.aimDisc({degrees:Ae,power:Te}),oe())},2e3)}else M=null,l.removeDiscs(),K&&(K.forEach(l.addDisc),r(11,S=K[K.length-1].state)),S==="shoot"&&l.setIndicatorVisible(!0);await ii(),r(4,C=n[S].value)}ei(()=>{l.on("shotComplete",U),l.on("shotCompleteManual",ve)});function G(Y){it[Y?"unshift":"push"](()=>{h=Y,r(3,h)})}function F(Y){_=Y,r(5,_)}function Z(Y){C=Y,r(4,C)}return g.$$set=Y=>{"width"in Y&&r(0,f=Y.width),"dev"in Y&&r(1,t=Y.dev),"tutorial"in Y&&r(2,s=Y.tutorial),"autoMute"in Y&&r(28,d=Y.autoMute)},g.$$.update=()=>{g.$$.dirty[0]&1&&r(9,w=0),g.$$.dirty[0]&1&&r(10,T=0),g.$$.dirty[0]&13&&f&&l.init({element:h,width:f,tutorial:s}),g.$$.dirty[0]&17&&f&&j(),g.$$.dirty[0]&33&&f&&D(),g.$$.dirty[0]&5&&f&&s&&V(),g.$$.dirty[0]&268435457&&f&&l.autoMute(d),g.$$.dirty[0]&4&&r(19,m=s?`tutorial tutorial-${s}`:"")},[f,t,s,h,C,_,a,o,p,w,T,S,y,b,A,I,E,H,W,m,c,u,e,i,n,X,oe,B,d,G,F,Z]}class Kr extends vt{constructor(v){super(),mt(this,v,br,wr,pt,{width:0,dev:1,tutorial:2,autoMute:28},null,[-1,-1])}}var Ar="Expected a function",Fn=NaN,Tr="[object Symbol]",Pr=/^\s+|\s+$/g,Mr=/^[-+]0x[0-9a-f]+$/i,Cr=/^0b[01]+$/i,kr=/^0o[0-7]+$/i,Ir=parseInt,Er=typeof Fe=="object"&&Fe&&Fe.Object===Object&&Fe,Dr=typeof self=="object"&&self&&self.Object===Object&&self,Br=Er||Dr||Function("return this")(),Or=Object.prototype,Rr=Or.toString,Fr=Math.max,Vr=Math.min,jt=function(){return Br.Date.now()};function Lr(g,v,r){var m,f,t,s,d,l,c=0,u=!1,e=!1,i=!0;if(typeof g!="function")throw new TypeError(Ar);v=Vn(v)||0,zt(r)&&(u=!!r.leading,e="maxWait"in r,t=e?Fr(Vn(r.maxWait)||0,v):t,i="trailing"in r?!!r.trailing:i);function n(S){var x=m,y=f;return m=f=void 0,c=S,s=g.apply(y,x),s}function a(S){return c=S,d=setTimeout(h,v),u?n(S):s}function o(S){var x=S-l,y=S-c,b=v-x;return e?Vr(b,t-y):b}function p(S){var x=S-l,y=S-c;return l===void 0||x>=v||x<0||e&&y>=t}function h(){var S=jt();if(p(S))return w(S);d=setTimeout(h,o(S))}function w(S){return d=void 0,i&&m?n(S):(m=f=void 0,s)}function T(){d!==void 0&&clearTimeout(d),c=0,m=l=f=d=void 0}function C(){return d===void 0?s:w(jt())}function _(){var S=jt(),x=p(S);if(m=arguments,f=this,l=S,x){if(d===void 0)return a(l);if(e)return d=setTimeout(h,v),n(l)}return d===void 0&&(d=setTimeout(h,v)),s}return _.cancel=T,_.flush=C,_}function zt(g){var v=typeof g;return!!g&&(v=="object"||v=="function")}function Hr(g){return!!g&&typeof g=="object"}function Wr(g){return typeof g=="symbol"||Hr(g)&&Rr.call(g)==Tr}function Vn(g){if(typeof g=="number")return g;if(Wr(g))return Fn;if(zt(g)){var v=typeof g.valueOf=="function"?g.valueOf():g;g=zt(v)?v+"":v}if(typeof g!="string")return g===0?g:+g;g=g.replace(Pr,"");var r=Cr.test(g);return r||kr.test(g)?Ir(g.slice(2),r?2:8):Mr.test(g)?Fn:+g}var Nr=Lr;const Gr=Wn(Nr),Ur=()=>{var g;return((g=window==null?void 0:window.visualViewport)==null?void 0:g.width)||document.documentElement.clientWidth},Xr=()=>{var g;return((g=window==null?void 0:window.visualViewport)==null?void 0:g.height)||document.documentElement.clientHeight},qr=ft({width:0,height:0},g=>{const v=()=>g({width:Ur(),height:Xr()});return v(),window.addEventListener("resize",Gr(v,250)),()=>{window.removeEventListener("resize",v)}});export{Kr as C,jr as a,Ne as e,nn as g,si as m,qr as v};
