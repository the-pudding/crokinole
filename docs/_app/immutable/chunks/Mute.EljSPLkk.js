import{s as Se,D as ot,Z as _e,a6 as Rn,w as xe,a7 as On,a as te,d as N,a8 as Ot,i as se,f as Z,E as at,F as st,G as lt,Y as Ke,a9 as qe,$ as We,L as qn,e as q,j as he,c as $,l as me,m as ae,z as oe,n as ge,aa as $n,t as He,b as Ne,k as Bt,a2 as Be,g as ct,ab as ei,ac as ti,ad as Ft,a5 as ni,a4 as ii,h as xt,q as Re,ae as mt,a3 as Kt,a1 as tt,u as Fn,af as nt,ag as Pt,y as Ln,o as ri,B as oi,ah as Jt}from"./scheduler.BLu1fu4S.js";import{S as Me,i as Ce,t as K,b as ee,g as Oe,d as Fe,f as it,c as Ae,a as Te,m as Pe,e as ke,h as jt}from"./index.WKLkCxS-.js";import{w as $e,b as Lt,d as Ht,r as ht}from"./paths.DnlexTFf.js";function ye(m){return(m==null?void 0:m.length)!==void 0?m:Array.from(m)}function ut(m,a){const r={},p={},o={$$scope:1};let e=m.length;for(;e--;){const s=m[e],d=a[e];if(d){for(const l in s)l in d||(p[l]=1);for(const l in d)o[l]||(r[l]=d[l],o[l]=1);m[e]=d}else for(const l in s)o[l]=1}for(const s in p)s in r||(r[s]=void 0);return r}function Hn(m){return typeof m=="object"&&m!==null?m:{}}function kt(m,a,r){m=+m,a=+a,r=(o=arguments.length)<2?(a=m,m=0,1):o<3?1:+r;for(var p=-1,o=Math.max(0,Math.ceil((a-m)/r))|0,e=new Array(o);++p<o;)e[p]=m+p*r;return e}function gt(m,a,r){this.k=m,this.x=a,this.y=r}gt.prototype={constructor:gt,scale:function(m){return m===1?this:new gt(this.k*m,this.x,this.y)},translate:function(m,a){return m===0&a===0?this:new gt(this.k,this.x+this.k*m,this.y+this.k*a)},apply:function(m){return[m[0]*this.k+this.x,m[1]*this.k+this.y]},applyX:function(m){return m*this.k+this.x},applyY:function(m){return m*this.k+this.y},invert:function(m){return[(m[0]-this.x)/this.k,(m[1]-this.y)/this.k]},invertX:function(m){return(m-this.x)/this.k},invertY:function(m){return(m-this.y)/this.k},rescaleX:function(m){return m.copy().domain(m.range().map(this.invertX,this).map(m.invert,m))},rescaleY:function(m){return m.copy().domain(m.range().map(this.invertY,this).map(m.invert,m))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};gt.prototype;/**
 * @license lucide-svelte v0.397.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function $t(m,a,r){const p=m.slice();return p[11]=a[r][0],p[12]=a[r][1],p}function Nt(m){let a,r=[m[12]],p={};for(let o=0;o<r.length;o+=1)p=_e(p,r[o]);return{c(){a=Rn(m[11]),this.h()},l(o){a=On(o,m[11],{}),te(a).forEach(N),this.h()},h(){Ot(a,p)},m(o,e){se(o,a,e)},p(o,e){Ot(a,p=ut(r,[e&32&&o[12]]))},d(o){o&&N(a)}}}function en(m){let a=m[11],r,p=m[11]&&Nt(m);return{c(){p&&p.c(),r=xe()},l(o){p&&p.l(o),r=xe()},m(o,e){p&&p.m(o,e),se(o,r,e)},p(o,e){o[11]?a?Se(a,o[11])?(p.d(1),p=Nt(o),a=o[11],p.c(),p.m(r.parentNode,r)):p.p(o,e):(p=Nt(o),a=o[11],p.c(),p.m(r.parentNode,r)):a&&(p.d(1),p=null,a=o[11])},d(o){o&&N(r),p&&p.d(o)}}}function ai(m){let a,r,p,o,e,s=ye(m[5]),d=[];for(let i=0;i<s.length;i+=1)d[i]=en($t(m,s,i));const l=m[10].default,h=ot(l,m,m[9],null);let c=[qt,m[7],{width:m[2]},{height:m[2]},{stroke:m[1]},{"stroke-width":p=m[4]?Number(m[3])*24/Number(m[2]):m[3]},{class:o=m[6]("lucide-icon","lucide",m[0]?`lucide-${m[0]}`:"",m[8].class)}],t={};for(let i=0;i<c.length;i+=1)t=_e(t,c[i]);return{c(){a=Rn("svg");for(let i=0;i<d.length;i+=1)d[i].c();r=xe(),h&&h.c(),this.h()},l(i){a=On(i,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var n=te(a);for(let u=0;u<d.length;u+=1)d[u].l(n);r=xe(),h&&h.l(n),n.forEach(N),this.h()},h(){Ot(a,t)},m(i,n){se(i,a,n);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(a,null);Z(a,r),h&&h.m(a,null),e=!0},p(i,[n]){if(n&32){s=ye(i[5]);let u;for(u=0;u<s.length;u+=1){const f=$t(i,s,u);d[u]?d[u].p(f,n):(d[u]=en(f),d[u].c(),d[u].m(a,r))}for(;u<d.length;u+=1)d[u].d(1);d.length=s.length}h&&h.p&&(!e||n&512)&&at(h,l,i,i[9],e?lt(l,i[9],n,null):st(i[9]),null),Ot(a,t=ut(c,[qt,n&128&&i[7],(!e||n&4)&&{width:i[2]},(!e||n&4)&&{height:i[2]},(!e||n&2)&&{stroke:i[1]},(!e||n&28&&p!==(p=i[4]?Number(i[3])*24/Number(i[2]):i[3]))&&{"stroke-width":p},(!e||n&257&&o!==(o=i[6]("lucide-icon","lucide",i[0]?`lucide-${i[0]}`:"",i[8].class)))&&{class:o}]))},i(i){e||(K(h,i),e=!0)},o(i){ee(h,i),e=!1},d(i){i&&N(a),Ke(d,i),h&&h.d(i)}}}function si(m,a,r){const p=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=qe(a,p),{$$slots:e={},$$scope:s}=a,{name:d=void 0}=a,{color:l="currentColor"}=a,{size:h=24}=a,{strokeWidth:c=2}=a,{absoluteStrokeWidth:t=!1}=a,{iconNode:i=[]}=a;const n=(...u)=>u.filter((f,v,_)=>!!f&&_.indexOf(f)===v).join(" ");return m.$$set=u=>{r(8,a=_e(_e({},a),We(u))),r(7,o=qe(a,p)),"name"in u&&r(0,d=u.name),"color"in u&&r(1,l=u.color),"size"in u&&r(2,h=u.size),"strokeWidth"in u&&r(3,c=u.strokeWidth),"absoluteStrokeWidth"in u&&r(4,t=u.absoluteStrokeWidth),"iconNode"in u&&r(5,i=u.iconNode),"$$scope"in u&&r(9,s=u.$$scope)},a=We(a),[d,l,h,c,t,i,n,o,a,s,e]}class Nn extends Me{constructor(a){super(),Ce(this,a,si,ai,Se,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function tn(m,{delay:a=0,duration:r=400,easing:p=qn}={}){const o=+getComputedStyle(m).opacity;return{delay:a,duration:r,easing:p,css:e=>`opacity: ${e*o}`}}var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wn(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Gn={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(m,a){(function(p,o){m.exports=o()})(Ve,function(){return function(r){var p={};function o(e){if(p[e])return p[e].exports;var s=p[e]={i:e,l:!1,exports:{}};return r[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=r,o.c=p,o.d=function(e,s,d){o.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:d})},o.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,s){if(s&1&&(e=o(e)),s&8||s&4&&typeof e=="object"&&e&&e.__esModule)return e;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:e}),s&2&&typeof e!="string")for(var l in e)o.d(d,l,(function(h){return e[h]}).bind(null,l));return d},o.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(s,"a",s),s},o.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},o.p="",o(o.s=20)}([function(r,p){var o={};r.exports=o,function(){o._baseDelta=1e3/60,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(s,d){var l,h;typeof d=="boolean"?(l=2,h=d):(l=1,h=!0);for(var c=l;c<arguments.length;c++){var t=arguments[c];if(t)for(var i in t)h&&t[i]&&t[i].constructor===Object&&(!s[i]||s[i].constructor===Object)?(s[i]=s[i]||{},o.extend(s[i],h,t[i])):s[i]=t[i]}return s},o.clone=function(s,d){return o.extend({},d,s)},o.keys=function(s){if(Object.keys)return Object.keys(s);var d=[];for(var l in s)d.push(l);return d},o.values=function(s){var d=[];if(Object.keys){for(var l=Object.keys(s),h=0;h<l.length;h++)d.push(s[l[h]]);return d}for(var c in s)d.push(s[c]);return d},o.get=function(s,d,l,h){d=d.split(".").slice(l,h);for(var c=0;c<d.length;c+=1)s=s[d[c]];return s},o.set=function(s,d,l,h,c){var t=d.split(".").slice(h,c);return o.get(s,d,0,-1)[t[t.length-1]]=l,l},o.shuffle=function(s){for(var d=s.length-1;d>0;d--){var l=Math.floor(o.random()*(d+1)),h=s[d];s[d]=s[l],s[l]=h}return s},o.choose=function(s){return s[Math.floor(o.random()*s.length)]},o.isElement=function(s){return typeof HTMLElement<"u"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},o.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},o.isFunction=function(s){return typeof s=="function"},o.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},o.isString=function(s){return toString.call(s)==="[object String]"},o.clamp=function(s,d,l){return s<d?d:s>l?l:s},o.sign=function(s){return s<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(s,d){return s=typeof s<"u"?s:0,d=typeof d<"u"?d:1,s+e()*(d-s)};var e=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[s]||(o.warn(s),o._warnedOnce[s]=!0)},o.deprecated=function(s,d,l){s[d]=o.chain(function(){o.warnOnce("🔅 deprecated 🔅",l)},s[d])},o.nextId=function(){return o._nextId++},o.indexOf=function(s,d){if(s.indexOf)return s.indexOf(d);for(var l=0;l<s.length;l++)if(s[l]===d)return l;return-1},o.map=function(s,d){if(s.map)return s.map(d);for(var l=[],h=0;h<s.length;h+=1)l.push(d(s[h]));return l},o.topologicalSort=function(s){var d=[],l=[],h=[];for(var c in s)!l[c]&&!h[c]&&o._topologicalSort(c,l,h,s,d);return d},o._topologicalSort=function(s,d,l,h,c){var t=h[s]||[];l[s]=!0;for(var i=0;i<t.length;i+=1){var n=t[i];l[n]||d[n]||o._topologicalSort(n,d,l,h,c)}l[s]=!1,d[s]=!0,c.push(s)},o.chain=function(){for(var s=[],d=0;d<arguments.length;d+=1){var l=arguments[d];l._chained?s.push.apply(s,l._chained):s.push(l)}var h=function(){for(var c,t=new Array(arguments.length),i=0,n=arguments.length;i<n;i++)t[i]=arguments[i];for(i=0;i<s.length;i+=1){var u=s[i].apply(c,t);typeof u<"u"&&(c=u)}return c};return h._chained=s,h},o.chainPathBefore=function(s,d,l){return o.set(s,d,o.chain(l,o.get(s,d)))},o.chainPathAfter=function(s,d,l){return o.set(s,d,o.chain(o.get(s,d),l))},o.setDecomp=function(s){o._decomp=s},o.getDecomp=function(){var s=o._decomp;try{!s&&typeof window<"u"&&(s=window.decomp),!s&&typeof Ve<"u"&&(s=Ve.decomp)}catch{s=null}return s}}()},function(r,p){var o={};r.exports=o,function(){o.create=function(e){var s={min:{x:0,y:0},max:{x:0,y:0}};return e&&o.update(s,e),s},o.update=function(e,s,d){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var l=0;l<s.length;l++){var h=s[l];h.x>e.max.x&&(e.max.x=h.x),h.x<e.min.x&&(e.min.x=h.x),h.y>e.max.y&&(e.max.y=h.y),h.y<e.min.y&&(e.min.y=h.y)}d&&(d.x>0?e.max.x+=d.x:e.min.x+=d.x,d.y>0?e.max.y+=d.y:e.min.y+=d.y)},o.contains=function(e,s){return s.x>=e.min.x&&s.x<=e.max.x&&s.y>=e.min.y&&s.y<=e.max.y},o.overlaps=function(e,s){return e.min.x<=s.max.x&&e.max.x>=s.min.x&&e.max.y>=s.min.y&&e.min.y<=s.max.y},o.translate=function(e,s){e.min.x+=s.x,e.max.x+=s.x,e.min.y+=s.y,e.max.y+=s.y},o.shift=function(e,s){var d=e.max.x-e.min.x,l=e.max.y-e.min.y;e.min.x=s.x,e.max.x=s.x+d,e.min.y=s.y,e.max.y=s.y+l}}()},function(r,p){var o={};r.exports=o,function(){o.create=function(e,s){return{x:e||0,y:s||0}},o.clone=function(e){return{x:e.x,y:e.y}},o.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},o.rotate=function(e,s,d){var l=Math.cos(s),h=Math.sin(s);d||(d={});var c=e.x*l-e.y*h;return d.y=e.x*h+e.y*l,d.x=c,d},o.rotateAbout=function(e,s,d,l){var h=Math.cos(s),c=Math.sin(s);l||(l={});var t=d.x+((e.x-d.x)*h-(e.y-d.y)*c);return l.y=d.y+((e.x-d.x)*c+(e.y-d.y)*h),l.x=t,l},o.normalise=function(e){var s=o.magnitude(e);return s===0?{x:0,y:0}:{x:e.x/s,y:e.y/s}},o.dot=function(e,s){return e.x*s.x+e.y*s.y},o.cross=function(e,s){return e.x*s.y-e.y*s.x},o.cross3=function(e,s,d){return(s.x-e.x)*(d.y-e.y)-(s.y-e.y)*(d.x-e.x)},o.add=function(e,s,d){return d||(d={}),d.x=e.x+s.x,d.y=e.y+s.y,d},o.sub=function(e,s,d){return d||(d={}),d.x=e.x-s.x,d.y=e.y-s.y,d},o.mult=function(e,s){return{x:e.x*s,y:e.y*s}},o.div=function(e,s){return{x:e.x/s,y:e.y/s}},o.perp=function(e,s){return s=s===!0?-1:1,{x:s*-e.y,y:s*e.x}},o.neg=function(e){return{x:-e.x,y:-e.y}},o.angle=function(e,s){return Math.atan2(s.y-e.y,s.x-e.x)},o._temp=[o.create(),o.create(),o.create(),o.create(),o.create(),o.create()]}()},function(r,p,o){var e={};r.exports=e;var s=o(2),d=o(0);(function(){e.create=function(l,h){for(var c=[],t=0;t<l.length;t++){var i=l[t],n={x:i.x,y:i.y,index:t,body:h,isInternal:!1};c.push(n)}return c},e.fromPath=function(l,h){var c=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,t=[];return l.replace(c,function(i,n,u){t.push({x:parseFloat(n),y:parseFloat(u)})}),e.create(t,h)},e.centre=function(l){for(var h=e.area(l,!0),c={x:0,y:0},t,i,n,u=0;u<l.length;u++)n=(u+1)%l.length,t=s.cross(l[u],l[n]),i=s.mult(s.add(l[u],l[n]),t),c=s.add(c,i);return s.div(c,6*h)},e.mean=function(l){for(var h={x:0,y:0},c=0;c<l.length;c++)h.x+=l[c].x,h.y+=l[c].y;return s.div(h,l.length)},e.area=function(l,h){for(var c=0,t=l.length-1,i=0;i<l.length;i++)c+=(l[t].x-l[i].x)*(l[t].y+l[i].y),t=i;return h?c/2:Math.abs(c)/2},e.inertia=function(l,h){for(var c=0,t=0,i=l,n,u,f=0;f<i.length;f++)u=(f+1)%i.length,n=Math.abs(s.cross(i[u],i[f])),c+=n*(s.dot(i[u],i[u])+s.dot(i[u],i[f])+s.dot(i[f],i[f])),t+=n;return h/6*(c/t)},e.translate=function(l,h,c){c=typeof c<"u"?c:1;var t=l.length,i=h.x*c,n=h.y*c,u;for(u=0;u<t;u++)l[u].x+=i,l[u].y+=n;return l},e.rotate=function(l,h,c){if(h!==0){var t=Math.cos(h),i=Math.sin(h),n=c.x,u=c.y,f=l.length,v,_,b,A;for(A=0;A<f;A++)v=l[A],_=v.x-n,b=v.y-u,v.x=n+(_*t-b*i),v.y=u+(_*i+b*t);return l}},e.contains=function(l,h){for(var c=h.x,t=h.y,i=l.length,n=l[i-1],u,f=0;f<i;f++){if(u=l[f],(c-n.x)*(u.y-n.y)+(t-n.y)*(n.x-u.x)>0)return!1;n=u}return!0},e.scale=function(l,h,c,t){if(h===1&&c===1)return l;t=t||e.centre(l);for(var i,n,u=0;u<l.length;u++)i=l[u],n=s.sub(i,t),l[u].x=t.x+n.x*h,l[u].y=t.y+n.y*c;return l},e.chamfer=function(l,h,c,t,i){typeof h=="number"?h=[h]:h=h||[8],c=typeof c<"u"?c:-1,t=t||2,i=i||14;for(var n=[],u=0;u<l.length;u++){var f=l[u-1>=0?u-1:l.length-1],v=l[u],_=l[(u+1)%l.length],b=h[u<h.length?u:h.length-1];if(b===0){n.push(v);continue}var A=s.normalise({x:v.y-f.y,y:f.x-v.x}),P=s.normalise({x:_.y-v.y,y:v.x-_.x}),y=Math.sqrt(2*Math.pow(b,2)),x=s.mult(d.clone(A),b),w=s.normalise(s.mult(s.add(A,P),.5)),g=s.sub(v,s.mult(w,y)),S=c;c===-1&&(S=Math.pow(b,.32)*1.75),S=d.clamp(S,t,i),S%2===1&&(S+=1);for(var T=Math.acos(s.dot(A,P)),M=T/S,k=0;k<S;k++)n.push(s.add(s.rotate(x,M*k),g))}return n},e.clockwiseSort=function(l){var h=e.mean(l);return l.sort(function(c,t){return s.angle(h,c)-s.angle(h,t)}),l},e.isConvex=function(l){var h=0,c=l.length,t,i,n,u;if(c<3)return null;for(t=0;t<c;t++)if(i=(t+1)%c,n=(t+2)%c,u=(l[i].x-l[t].x)*(l[n].y-l[i].y),u-=(l[i].y-l[t].y)*(l[n].x-l[i].x),u<0?h|=1:u>0&&(h|=2),h===3)return!1;return h!==0?!0:null},e.hull=function(l){var h=[],c=[],t,i;for(l=l.slice(0),l.sort(function(n,u){var f=n.x-u.x;return f!==0?f:n.y-u.y}),i=0;i<l.length;i+=1){for(t=l[i];c.length>=2&&s.cross3(c[c.length-2],c[c.length-1],t)<=0;)c.pop();c.push(t)}for(i=l.length-1;i>=0;i-=1){for(t=l[i];h.length>=2&&s.cross3(h[h.length-2],h[h.length-1],t)<=0;)h.pop();h.push(t)}return h.pop(),c.pop(),h.concat(c)}})()},function(r,p,o){var e={};r.exports=e;var s=o(3),d=o(2),l=o(7),h=o(0),c=o(1),t=o(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(n){var u={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},f=h.extend(u,n);return i(f,n),f},e.nextGroup=function(n){return n?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var i=function(n,u){u=u||{},e.set(n,{bounds:n.bounds||c.create(n.vertices),positionPrev:n.positionPrev||d.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),s.rotate(n.vertices,n.angle,n.position),t.rotate(n.axes,n.angle),c.update(n.bounds,n.vertices,n.velocity),e.set(n,{axes:u.axes||n.axes,area:u.area||n.area,mass:u.mass||n.mass,inertia:u.inertia||n.inertia});var f=n.isStatic?"#14151f":h.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),v=n.isStatic?"#555":"#ccc",_=n.isStatic&&n.render.fillStyle===null?1:0;n.render.fillStyle=n.render.fillStyle||f,n.render.strokeStyle=n.render.strokeStyle||v,n.render.lineWidth=n.render.lineWidth||_,n.render.sprite.xOffset+=-(n.bounds.min.x-n.position.x)/(n.bounds.max.x-n.bounds.min.x),n.render.sprite.yOffset+=-(n.bounds.min.y-n.position.y)/(n.bounds.max.y-n.bounds.min.y)};e.set=function(n,u,f){var v;typeof u=="string"&&(v=u,u={},u[v]=f);for(v in u)if(Object.prototype.hasOwnProperty.call(u,v))switch(f=u[v],v){case"isStatic":e.setStatic(n,f);break;case"isSleeping":l.set(n,f);break;case"mass":e.setMass(n,f);break;case"density":e.setDensity(n,f);break;case"inertia":e.setInertia(n,f);break;case"vertices":e.setVertices(n,f);break;case"position":e.setPosition(n,f);break;case"angle":e.setAngle(n,f);break;case"velocity":e.setVelocity(n,f);break;case"angularVelocity":e.setAngularVelocity(n,f);break;case"speed":e.setSpeed(n,f);break;case"angularSpeed":e.setAngularSpeed(n,f);break;case"parts":e.setParts(n,f);break;case"centre":e.setCentre(n,f);break;default:n[v]=f}},e.setStatic=function(n,u){for(var f=0;f<n.parts.length;f++){var v=n.parts[f];u?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=u}},e.setMass=function(n,u){var f=n.inertia/(n.mass/6);n.inertia=f*(u/6),n.inverseInertia=1/n.inertia,n.mass=u,n.inverseMass=1/n.mass,n.density=n.mass/n.area},e.setDensity=function(n,u){e.setMass(n,u*n.area),n.density=u},e.setInertia=function(n,u){n.inertia=u,n.inverseInertia=1/n.inertia},e.setVertices=function(n,u){u[0].body===n?n.vertices=u:n.vertices=s.create(u,n),n.axes=t.fromVertices(n.vertices),n.area=s.area(n.vertices),e.setMass(n,n.density*n.area);var f=s.centre(n.vertices);s.translate(n.vertices,f,-1),e.setInertia(n,e._inertiaScale*s.inertia(n.vertices,n.mass)),s.translate(n.vertices,n.position),c.update(n.bounds,n.vertices,n.velocity)},e.setParts=function(n,u,f){var v;for(u=u.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,v=0;v<u.length;v++){var _=u[v];_!==n&&(_.parent=n,n.parts.push(_))}if(n.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var b=[];for(v=0;v<u.length;v++)b=b.concat(u[v].vertices);s.clockwiseSort(b);var A=s.hull(b),P=s.centre(A);e.setVertices(n,A),s.translate(n.vertices,P)}var y=e._totalProperties(n);n.area=y.area,n.parent=n,n.position.x=y.centre.x,n.position.y=y.centre.y,n.positionPrev.x=y.centre.x,n.positionPrev.y=y.centre.y,e.setMass(n,y.mass),e.setInertia(n,y.inertia),e.setPosition(n,y.centre)}},e.setCentre=function(n,u,f){f?(n.positionPrev.x+=u.x,n.positionPrev.y+=u.y,n.position.x+=u.x,n.position.y+=u.y):(n.positionPrev.x=u.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=u.y-(n.position.y-n.positionPrev.y),n.position.x=u.x,n.position.y=u.y)},e.setPosition=function(n,u,f){var v=d.sub(u,n.position);f?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=v.x,n.velocity.y=v.y,n.speed=d.magnitude(v)):(n.positionPrev.x+=v.x,n.positionPrev.y+=v.y);for(var _=0;_<n.parts.length;_++){var b=n.parts[_];b.position.x+=v.x,b.position.y+=v.y,s.translate(b.vertices,v),c.update(b.bounds,b.vertices,n.velocity)}},e.setAngle=function(n,u,f){var v=u-n.angle;f?(n.anglePrev=n.angle,n.angularVelocity=v,n.angularSpeed=Math.abs(v)):n.anglePrev+=v;for(var _=0;_<n.parts.length;_++){var b=n.parts[_];b.angle+=v,s.rotate(b.vertices,v,n.position),t.rotate(b.axes,v),c.update(b.bounds,b.vertices,n.velocity),_>0&&d.rotateAbout(b.position,v,n.position,b.position)}},e.setVelocity=function(n,u){var f=n.deltaTime/e._baseDelta;n.positionPrev.x=n.position.x-u.x*f,n.positionPrev.y=n.position.y-u.y*f,n.velocity.x=(n.position.x-n.positionPrev.x)/f,n.velocity.y=(n.position.y-n.positionPrev.y)/f,n.speed=d.magnitude(n.velocity)},e.getVelocity=function(n){var u=e._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*u,y:(n.position.y-n.positionPrev.y)*u}},e.getSpeed=function(n){return d.magnitude(e.getVelocity(n))},e.setSpeed=function(n,u){e.setVelocity(n,d.mult(d.normalise(e.getVelocity(n)),u))},e.setAngularVelocity=function(n,u){var f=n.deltaTime/e._baseDelta;n.anglePrev=n.angle-u*f,n.angularVelocity=(n.angle-n.anglePrev)/f,n.angularSpeed=Math.abs(n.angularVelocity)},e.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*e._baseDelta/n.deltaTime},e.getAngularSpeed=function(n){return Math.abs(e.getAngularVelocity(n))},e.setAngularSpeed=function(n,u){e.setAngularVelocity(n,h.sign(e.getAngularVelocity(n))*u)},e.translate=function(n,u,f){e.setPosition(n,d.add(n.position,u),f)},e.rotate=function(n,u,f,v){if(!f)e.setAngle(n,n.angle+u,v);else{var _=Math.cos(u),b=Math.sin(u),A=n.position.x-f.x,P=n.position.y-f.y;e.setPosition(n,{x:f.x+(A*_-P*b),y:f.y+(A*b+P*_)},v),e.setAngle(n,n.angle+u,v)}},e.scale=function(n,u,f,v){var _=0,b=0;v=v||n.position;for(var A=0;A<n.parts.length;A++){var P=n.parts[A];s.scale(P.vertices,u,f,v),P.axes=t.fromVertices(P.vertices),P.area=s.area(P.vertices),e.setMass(P,n.density*P.area),s.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),e.setInertia(P,e._inertiaScale*s.inertia(P.vertices,P.mass)),s.translate(P.vertices,{x:P.position.x,y:P.position.y}),A>0&&(_+=P.area,b+=P.inertia),P.position.x=v.x+(P.position.x-v.x)*u,P.position.y=v.y+(P.position.y-v.y)*f,c.update(P.bounds,P.vertices,n.velocity)}n.parts.length>1&&(n.area=_,n.isStatic||(e.setMass(n,n.density*_),e.setInertia(n,b))),n.circleRadius&&(u===f?n.circleRadius*=u:n.circleRadius=null)},e.update=function(n,u){u=(typeof u<"u"?u:1e3/60)*n.timeScale;var f=u*u,v=e._timeCorrection?u/(n.deltaTime||u):1,_=1-n.frictionAir*(u/h._baseDelta),b=(n.position.x-n.positionPrev.x)*v,A=(n.position.y-n.positionPrev.y)*v;n.velocity.x=b*_+n.force.x/n.mass*f,n.velocity.y=A*_+n.force.y/n.mass*f,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=u,n.angularVelocity=(n.angle-n.anglePrev)*_*v+n.torque/n.inertia*f,n.anglePrev=n.angle,n.angle+=n.angularVelocity;for(var P=0;P<n.parts.length;P++){var y=n.parts[P];s.translate(y.vertices,n.velocity),P>0&&(y.position.x+=n.velocity.x,y.position.y+=n.velocity.y),n.angularVelocity!==0&&(s.rotate(y.vertices,n.angularVelocity,n.position),t.rotate(y.axes,n.angularVelocity),P>0&&d.rotateAbout(y.position,n.angularVelocity,n.position,y.position)),c.update(y.bounds,y.vertices,n.velocity)}},e.updateVelocities=function(n){var u=e._baseDelta/n.deltaTime,f=n.velocity;f.x=(n.position.x-n.positionPrev.x)*u,f.y=(n.position.y-n.positionPrev.y)*u,n.speed=Math.sqrt(f.x*f.x+f.y*f.y),n.angularVelocity=(n.angle-n.anglePrev)*u,n.angularSpeed=Math.abs(n.angularVelocity)},e.applyForce=function(n,u,f){var v={x:u.x-n.position.x,y:u.y-n.position.y};n.force.x+=f.x,n.force.y+=f.y,n.torque+=v.x*f.y-v.y*f.x},e._totalProperties=function(n){for(var u={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=n.parts.length===1?0:1;f<n.parts.length;f++){var v=n.parts[f],_=v.mass!==1/0?v.mass:1;u.mass+=_,u.area+=v.area,u.inertia+=v.inertia,u.centre=d.add(u.centre,d.mult(v.position,_))}return u.centre=d.div(u.centre,u.mass),u}})()},function(r,p,o){var e={};r.exports=e;var s=o(0);(function(){e.on=function(d,l,h){for(var c=l.split(" "),t,i=0;i<c.length;i++)t=c[i],d.events=d.events||{},d.events[t]=d.events[t]||[],d.events[t].push(h);return h},e.off=function(d,l,h){if(!l){d.events={};return}typeof l=="function"&&(h=l,l=s.keys(d.events).join(" "));for(var c=l.split(" "),t=0;t<c.length;t++){var i=d.events[c[t]],n=[];if(h&&i)for(var u=0;u<i.length;u++)i[u]!==h&&n.push(i[u]);d.events[c[t]]=n}},e.trigger=function(d,l,h){var c,t,i,n,u=d.events;if(u&&s.keys(u).length>0){h||(h={}),c=l.split(" ");for(var f=0;f<c.length;f++)if(t=c[f],i=u[t],i){n=s.clone(h,!1),n.name=t,n.source=d;for(var v=0;v<i.length;v++)i[v].apply(d,[n])}}}})()},function(r,p,o){var e={};r.exports=e;var s=o(5),d=o(0),l=o(1),h=o(4);(function(){e.create=function(c){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},c)},e.setModified=function(c,t,i,n){if(c.isModified=t,t&&c.cache&&(c.cache.allBodies=null,c.cache.allConstraints=null,c.cache.allComposites=null),i&&c.parent&&e.setModified(c.parent,t,i,n),n)for(var u=0;u<c.composites.length;u++){var f=c.composites[u];e.setModified(f,t,i,n)}},e.add=function(c,t){var i=[].concat(t);s.trigger(c,"beforeAdd",{object:t});for(var n=0;n<i.length;n++){var u=i[n];switch(u.type){case"body":if(u.parent!==u){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(c,u);break;case"constraint":e.addConstraint(c,u);break;case"composite":e.addComposite(c,u);break;case"mouseConstraint":e.addConstraint(c,u.constraint);break}}return s.trigger(c,"afterAdd",{object:t}),c},e.remove=function(c,t,i){var n=[].concat(t);s.trigger(c,"beforeRemove",{object:t});for(var u=0;u<n.length;u++){var f=n[u];switch(f.type){case"body":e.removeBody(c,f,i);break;case"constraint":e.removeConstraint(c,f,i);break;case"composite":e.removeComposite(c,f,i);break;case"mouseConstraint":e.removeConstraint(c,f.constraint);break}}return s.trigger(c,"afterRemove",{object:t}),c},e.addComposite=function(c,t){return c.composites.push(t),t.parent=c,e.setModified(c,!0,!0,!1),c},e.removeComposite=function(c,t,i){var n=d.indexOf(c.composites,t);if(n!==-1){var u=e.allBodies(t);e.removeCompositeAt(c,n);for(var f=0;f<u.length;f++)u[f].sleepCounter=0}if(i)for(var f=0;f<c.composites.length;f++)e.removeComposite(c.composites[f],t,!0);return c},e.removeCompositeAt=function(c,t){return c.composites.splice(t,1),e.setModified(c,!0,!0,!1),c},e.addBody=function(c,t){return c.bodies.push(t),e.setModified(c,!0,!0,!1),c},e.removeBody=function(c,t,i){var n=d.indexOf(c.bodies,t);if(n!==-1&&(e.removeBodyAt(c,n),t.sleepCounter=0),i)for(var u=0;u<c.composites.length;u++)e.removeBody(c.composites[u],t,!0);return c},e.removeBodyAt=function(c,t){return c.bodies.splice(t,1),e.setModified(c,!0,!0,!1),c},e.addConstraint=function(c,t){return c.constraints.push(t),e.setModified(c,!0,!0,!1),c},e.removeConstraint=function(c,t,i){var n=d.indexOf(c.constraints,t);if(n!==-1&&e.removeConstraintAt(c,n),i)for(var u=0;u<c.composites.length;u++)e.removeConstraint(c.composites[u],t,!0);return c},e.removeConstraintAt=function(c,t){return c.constraints.splice(t,1),e.setModified(c,!0,!0,!1),c},e.clear=function(c,t,i){if(i)for(var n=0;n<c.composites.length;n++)e.clear(c.composites[n],t,!0);return t?c.bodies=c.bodies.filter(function(u){return u.isStatic}):c.bodies.length=0,c.constraints.length=0,c.composites.length=0,e.setModified(c,!0,!0,!1),c},e.allBodies=function(c){if(c.cache&&c.cache.allBodies)return c.cache.allBodies;for(var t=[].concat(c.bodies),i=0;i<c.composites.length;i++)t=t.concat(e.allBodies(c.composites[i]));return c.cache&&(c.cache.allBodies=t),t},e.allConstraints=function(c){if(c.cache&&c.cache.allConstraints)return c.cache.allConstraints;for(var t=[].concat(c.constraints),i=0;i<c.composites.length;i++)t=t.concat(e.allConstraints(c.composites[i]));return c.cache&&(c.cache.allConstraints=t),t},e.allComposites=function(c){if(c.cache&&c.cache.allComposites)return c.cache.allComposites;for(var t=[].concat(c.composites),i=0;i<c.composites.length;i++)t=t.concat(e.allComposites(c.composites[i]));return c.cache&&(c.cache.allComposites=t),t},e.get=function(c,t,i){var n,u;switch(i){case"body":n=e.allBodies(c);break;case"constraint":n=e.allConstraints(c);break;case"composite":n=e.allComposites(c).concat(c);break}return n?(u=n.filter(function(f){return f.id.toString()===t.toString()}),u.length===0?null:u[0]):null},e.move=function(c,t,i){return e.remove(c,t),e.add(i,t),c},e.rebase=function(c){for(var t=e.allBodies(c).concat(e.allConstraints(c)).concat(e.allComposites(c)),i=0;i<t.length;i++)t[i].id=d.nextId();return c},e.translate=function(c,t,i){for(var n=i?e.allBodies(c):c.bodies,u=0;u<n.length;u++)h.translate(n[u],t);return c},e.rotate=function(c,t,i,n){for(var u=Math.cos(t),f=Math.sin(t),v=n?e.allBodies(c):c.bodies,_=0;_<v.length;_++){var b=v[_],A=b.position.x-i.x,P=b.position.y-i.y;h.setPosition(b,{x:i.x+(A*u-P*f),y:i.y+(A*f+P*u)}),h.rotate(b,t)}return c},e.scale=function(c,t,i,n,u){for(var f=u?e.allBodies(c):c.bodies,v=0;v<f.length;v++){var _=f[v],b=_.position.x-n.x,A=_.position.y-n.y;h.setPosition(_,{x:n.x+b*t,y:n.y+A*i}),h.scale(_,t,i)}return c},e.bounds=function(c){for(var t=e.allBodies(c),i=[],n=0;n<t.length;n+=1){var u=t[n];i.push(u.bounds.min,u.bounds.max)}return l.create(i)}})()},function(r,p,o){var e={};r.exports=e;var s=o(4),d=o(5),l=o(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(h,c){for(var t=c/l._baseDelta,i=e._motionSleepThreshold,n=0;n<h.length;n++){var u=h[n],f=s.getSpeed(u),v=s.getAngularSpeed(u),_=f*f+v*v;if(u.force.x!==0||u.force.y!==0){e.set(u,!1);continue}var b=Math.min(u.motion,_),A=Math.max(u.motion,_);u.motion=e._minBias*b+(1-e._minBias)*A,u.sleepThreshold>0&&u.motion<i?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/t&&e.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}},e.afterCollisions=function(h){for(var c=e._motionSleepThreshold,t=0;t<h.length;t++){var i=h[t];if(i.isActive){var n=i.collision,u=n.bodyA.parent,f=n.bodyB.parent;if(!(u.isSleeping&&f.isSleeping||u.isStatic||f.isStatic)&&(u.isSleeping||f.isSleeping)){var v=u.isSleeping&&!u.isStatic?u:f,_=v===u?f:u;!v.isStatic&&_.motion>c&&e.set(v,!1)}}}},e.set=function(h,c){var t=h.isSleeping;c?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,t||d.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,t&&d.trigger(h,"sleepEnd"))}})()},function(r,p,o){var e={};r.exports=e;var s=o(3),d=o(9);(function(){var l=[],h={overlap:0,axis:null},c={overlap:0,axis:null};e.create=function(t,i){return{pair:null,collided:!1,bodyA:t,bodyB:i,parentA:t.parent,parentB:i.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(t,i,n){if(e._overlapAxes(h,t.vertices,i.vertices,t.axes),h.overlap<=0||(e._overlapAxes(c,i.vertices,t.vertices,i.axes),c.overlap<=0))return null;var u=n&&n.table[d.id(t,i)],f;u?f=u.collision:(f=e.create(t,i),f.collided=!0,f.bodyA=t.id<i.id?t:i,f.bodyB=t.id<i.id?i:t,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),t=f.bodyA,i=f.bodyB;var v;h.overlap<c.overlap?v=h:v=c;var _=f.normal,b=f.tangent,A=f.penetration,P=f.supports,y=v.overlap,x=v.axis,w=x.x,g=x.y,S=i.position.x-t.position.x,T=i.position.y-t.position.y;w*S+g*T>=0&&(w=-w,g=-g),_.x=w,_.y=g,b.x=-g,b.y=w,A.x=w*y,A.y=g*y,f.depth=y;var M=e._findSupports(t,i,_,1),k=0;if(s.contains(t.vertices,M[0])&&(P[k++]=M[0]),s.contains(t.vertices,M[1])&&(P[k++]=M[1]),k<2){var C=e._findSupports(i,t,_,-1);s.contains(i.vertices,C[0])&&(P[k++]=C[0]),k<2&&s.contains(i.vertices,C[1])&&(P[k++]=C[1])}return k===0&&(P[k++]=M[0]),f.supportCount=k,f},e._overlapAxes=function(t,i,n,u){var f=i.length,v=n.length,_=i[0].x,b=i[0].y,A=n[0].x,P=n[0].y,y=u.length,x=Number.MAX_VALUE,w=0,g,S,T,M,k,C;for(k=0;k<y;k++){var E=u[k],D=E.x,V=E.y,L=_*D+b*V,U=A*D+P*V,G=L,W=U;for(C=1;C<f;C+=1)M=i[C].x*D+i[C].y*V,M>G?G=M:M<L&&(L=M);for(C=1;C<v;C+=1)M=n[C].x*D+n[C].y*V,M>W?W=M:M<U&&(U=M);if(S=G-U,T=W-L,g=S<T?S:T,g<x&&(x=g,w=k,g<=0))break}t.axis=u[w],t.overlap=x},e._findSupports=function(t,i,n,u){var f=i.vertices,v=f.length,_=t.position.x,b=t.position.y,A=n.x*u,P=n.y*u,y=f[0],x=y,w=A*(_-x.x)+P*(b-x.y),g,S,T;for(T=1;T<v;T+=1)x=f[T],S=A*(_-x.x)+P*(b-x.y),S<w&&(w=S,y=x);return g=f[(v+y.index-1)%v],w=A*(_-g.x)+P*(b-g.y),x=f[(y.index+1)%v],A*(_-x.x)+P*(b-x.y)<w?(l[0]=y,l[1]=x,l):(l[0]=y,l[1]=g,l)}})()},function(r,p,o){var e={};r.exports=e;var s=o(16);(function(){e.create=function(d,l){var h=d.bodyA,c=d.bodyB,t={id:e.id(h,c),bodyA:h,bodyB:c,collision:d,contacts:[s.create(),s.create()],contactCount:0,separation:0,isActive:!0,isSensor:h.isSensor||c.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(t,d,l),t},e.update=function(d,l,h){var c=l.supports,t=l.supportCount,i=d.contacts,n=l.parentA,u=l.parentB;d.isActive=!0,d.timeUpdated=h,d.collision=l,d.separation=l.depth,d.inverseMass=n.inverseMass+u.inverseMass,d.friction=n.friction<u.friction?n.friction:u.friction,d.frictionStatic=n.frictionStatic>u.frictionStatic?n.frictionStatic:u.frictionStatic,d.restitution=n.restitution>u.restitution?n.restitution:u.restitution,d.slop=n.slop>u.slop?n.slop:u.slop,d.contactCount=t,l.pair=d;var f=c[0],v=i[0],_=c[1],b=i[1];(b.vertex===f||v.vertex===_)&&(i[1]=v,i[0]=v=b,b=i[1]),v.vertex=f,b.vertex=_},e.setActive=function(d,l,h){l?(d.isActive=!0,d.timeUpdated=h):(d.isActive=!1,d.contactCount=0)},e.id=function(d,l){return d.id<l.id?d.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+d.id.toString(36)}})()},function(r,p,o){var e={};r.exports=e;var s=o(3),d=o(2),l=o(7),h=o(1),c=o(11),t=o(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(i){var n=i;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var u=n.bodyA?d.add(n.bodyA.position,n.pointA):n.pointA,f=n.bodyB?d.add(n.bodyB.position,n.pointB):n.pointB,v=d.magnitude(d.sub(u,f));n.length=typeof n.length<"u"?n.length:v,n.id=n.id||t.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var _={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return n.length===0&&n.stiffness>.1?(_.type="pin",_.anchors=!1):n.stiffness<.9&&(_.type="spring"),n.render=t.extend(_,n.render),n},e.preSolveAll=function(i){for(var n=0;n<i.length;n+=1){var u=i[n],f=u.constraintImpulse;u.isStatic||f.x===0&&f.y===0&&f.angle===0||(u.position.x+=f.x,u.position.y+=f.y,u.angle+=f.angle)}},e.solveAll=function(i,n){for(var u=t.clamp(n/t._baseDelta,0,1),f=0;f<i.length;f+=1){var v=i[f],_=!v.bodyA||v.bodyA&&v.bodyA.isStatic,b=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(_||b)&&e.solve(i[f],u)}for(f=0;f<i.length;f+=1)v=i[f],_=!v.bodyA||v.bodyA&&v.bodyA.isStatic,b=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!_&&!b&&e.solve(i[f],u)},e.solve=function(i,n){var u=i.bodyA,f=i.bodyB,v=i.pointA,_=i.pointB;if(!(!u&&!f)){u&&!u.isStatic&&(d.rotate(v,u.angle-i.angleA,v),i.angleA=u.angle),f&&!f.isStatic&&(d.rotate(_,f.angle-i.angleB,_),i.angleB=f.angle);var b=v,A=_;if(u&&(b=d.add(u.position,v)),f&&(A=d.add(f.position,_)),!(!b||!A)){var P=d.sub(b,A),y=d.magnitude(P);y<e._minLength&&(y=e._minLength);var x=(y-i.length)/y,w=i.stiffness>=1||i.length===0,g=w?i.stiffness*n:i.stiffness*n*n,S=i.damping*n,T=d.mult(P,x*g),M=(u?u.inverseMass:0)+(f?f.inverseMass:0),k=(u?u.inverseInertia:0)+(f?f.inverseInertia:0),C=M+k,E,D,V,L,U;if(S>0){var G=d.create();V=d.div(P,y),U=d.sub(f&&d.sub(f.position,f.positionPrev)||G,u&&d.sub(u.position,u.positionPrev)||G),L=d.dot(V,U)}u&&!u.isStatic&&(D=u.inverseMass/M,u.constraintImpulse.x-=T.x*D,u.constraintImpulse.y-=T.y*D,u.position.x-=T.x*D,u.position.y-=T.y*D,S>0&&(u.positionPrev.x-=S*V.x*L*D,u.positionPrev.y-=S*V.y*L*D),E=d.cross(v,T)/C*e._torqueDampen*u.inverseInertia*(1-i.angularStiffness),u.constraintImpulse.angle-=E,u.angle-=E),f&&!f.isStatic&&(D=f.inverseMass/M,f.constraintImpulse.x+=T.x*D,f.constraintImpulse.y+=T.y*D,f.position.x+=T.x*D,f.position.y+=T.y*D,S>0&&(f.positionPrev.x+=S*V.x*L*D,f.positionPrev.y+=S*V.y*L*D),E=d.cross(_,T)/C*e._torqueDampen*f.inverseInertia*(1-i.angularStiffness),f.constraintImpulse.angle+=E,f.angle+=E)}}},e.postSolveAll=function(i){for(var n=0;n<i.length;n++){var u=i[n],f=u.constraintImpulse;if(!(u.isStatic||f.x===0&&f.y===0&&f.angle===0)){l.set(u,!1);for(var v=0;v<u.parts.length;v++){var _=u.parts[v];s.translate(_.vertices,f),v>0&&(_.position.x+=f.x,_.position.y+=f.y),f.angle!==0&&(s.rotate(_.vertices,f.angle,u.position),c.rotate(_.axes,f.angle),v>0&&d.rotateAbout(_.position,f.angle,u.position,_.position)),h.update(_.bounds,_.vertices,u.velocity)}f.angle*=e._warming,f.x*=e._warming,f.y*=e._warming}}},e.pointAWorld=function(i){return{x:(i.bodyA?i.bodyA.position.x:0)+(i.pointA?i.pointA.x:0),y:(i.bodyA?i.bodyA.position.y:0)+(i.pointA?i.pointA.y:0)}},e.pointBWorld=function(i){return{x:(i.bodyB?i.bodyB.position.x:0)+(i.pointB?i.pointB.x:0),y:(i.bodyB?i.bodyB.position.y:0)+(i.pointB?i.pointB.y:0)}},e.currentLength=function(i){var n=(i.bodyA?i.bodyA.position.x:0)+(i.pointA?i.pointA.x:0),u=(i.bodyA?i.bodyA.position.y:0)+(i.pointA?i.pointA.y:0),f=(i.bodyB?i.bodyB.position.x:0)+(i.pointB?i.pointB.x:0),v=(i.bodyB?i.bodyB.position.y:0)+(i.pointB?i.pointB.y:0),_=n-f,b=u-v;return Math.sqrt(_*_+b*b)}})()},function(r,p,o){var e={};r.exports=e;var s=o(2),d=o(0);(function(){e.fromVertices=function(l){for(var h={},c=0;c<l.length;c++){var t=(c+1)%l.length,i=s.normalise({x:l[t].y-l[c].y,y:l[c].x-l[t].x}),n=i.y===0?1/0:i.x/i.y;n=n.toFixed(3).toString(),h[n]=i}return d.values(h)},e.rotate=function(l,h){if(h!==0)for(var c=Math.cos(h),t=Math.sin(h),i=0;i<l.length;i++){var n=l[i],u;u=n.x*c-n.y*t,n.y=n.x*t+n.y*c,n.x=u}}})()},function(r,p,o){var e={};r.exports=e;var s=o(3),d=o(0),l=o(4),h=o(1),c=o(2);(function(){e.rectangle=function(t,i,n,u,f){f=f||{};var v={label:"Rectangle Body",position:{x:t,y:i},vertices:s.fromPath("L 0 0 L "+n+" 0 L "+n+" "+u+" L 0 "+u)};if(f.chamfer){var _=f.chamfer;v.vertices=s.chamfer(v.vertices,_.radius,_.quality,_.qualityMin,_.qualityMax),delete f.chamfer}return l.create(d.extend({},v,f))},e.trapezoid=function(t,i,n,u,f,v){v=v||{},f>=1&&d.warn("Bodies.trapezoid: slope parameter must be < 1."),f*=.5;var _=(1-f*2)*n,b=n*f,A=b+_,P=A+b,y;f<.5?y="L 0 0 L "+b+" "+-u+" L "+A+" "+-u+" L "+P+" 0":y="L 0 0 L "+A+" "+-u+" L "+P+" 0";var x={label:"Trapezoid Body",position:{x:t,y:i},vertices:s.fromPath(y)};if(v.chamfer){var w=v.chamfer;x.vertices=s.chamfer(x.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete v.chamfer}return l.create(d.extend({},x,v))},e.circle=function(t,i,n,u,f){u=u||{};var v={label:"Circle Body",circleRadius:n};f=f||25;var _=Math.ceil(Math.max(10,Math.min(f,n)));return _%2===1&&(_+=1),e.polygon(t,i,_,n,d.extend({},v,u))},e.polygon=function(t,i,n,u,f){if(f=f||{},n<3)return e.circle(t,i,u,f);for(var v=2*Math.PI/n,_="",b=v*.5,A=0;A<n;A+=1){var P=b+A*v,y=Math.cos(P)*u,x=Math.sin(P)*u;_+="L "+y.toFixed(3)+" "+x.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:t,y:i},vertices:s.fromPath(_)};if(f.chamfer){var g=f.chamfer;w.vertices=s.chamfer(w.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete f.chamfer}return l.create(d.extend({},w,f))},e.fromVertices=function(t,i,n,u,f,v,_,b){var A=d.getDecomp(),P,y,x,w,g,S,T,M,k,C,E;for(P=!!(A&&A.quickDecomp),u=u||{},x=[],f=typeof f<"u"?f:!1,v=typeof v<"u"?v:.01,_=typeof _<"u"?_:10,b=typeof b<"u"?b:.01,d.isArray(n[0])||(n=[n]),C=0;C<n.length;C+=1)if(S=n[C],w=s.isConvex(S),g=!w,g&&!P&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!P)w?S=s.clockwiseSort(S):S=s.hull(S),x.push({position:{x:t,y:i},vertices:S});else{var D=S.map(function(Y){return[Y.x,Y.y]});A.makeCCW(D),v!==!1&&A.removeCollinearPoints(D,v),b!==!1&&A.removeDuplicatePoints&&A.removeDuplicatePoints(D,b);var V=A.quickDecomp(D);for(T=0;T<V.length;T++){var L=V[T],U=L.map(function(Y){return{x:Y[0],y:Y[1]}});_>0&&s.area(U)<_||x.push({position:s.centre(U),vertices:U})}}for(T=0;T<x.length;T++)x[T]=l.create(d.extend(x[T],u));if(f){var G=5;for(T=0;T<x.length;T++){var W=x[T];for(M=T+1;M<x.length;M++){var J=x[M];if(h.overlaps(W.bounds,J.bounds)){var j=W.vertices,re=J.vertices;for(k=0;k<W.vertices.length;k++)for(E=0;E<J.vertices.length;E++){var pe=c.magnitudeSquared(c.sub(j[(k+1)%j.length],re[E])),fe=c.magnitudeSquared(c.sub(j[k],re[(E+1)%re.length]));pe<G&&fe<G&&(j[k].isInternal=!0,re[E].isInternal=!0)}}}}}return x.length>1?(y=l.create(d.extend({parts:x.slice(0)},u)),l.setPosition(y,{x:t,y:i}),y):x[0]}})()},function(r,p,o){var e={};r.exports=e;var s=o(0),d=o(8);(function(){e.create=function(l){var h={bodies:[],collisions:[],pairs:null};return s.extend(h,l)},e.setBodies=function(l,h){l.bodies=h.slice(0)},e.clear=function(l){l.bodies=[],l.collisions=[]},e.collisions=function(l){var h=l.pairs,c=l.bodies,t=c.length,i=e.canCollide,n=d.collides,u=l.collisions,f=0,v,_;for(c.sort(e._compareBoundsX),v=0;v<t;v++){var b=c[v],A=b.bounds,P=b.bounds.max.x,y=b.bounds.max.y,x=b.bounds.min.y,w=b.isStatic||b.isSleeping,g=b.parts.length,S=g===1;for(_=v+1;_<t;_++){var T=c[_],M=T.bounds;if(M.min.x>P)break;if(!(y<M.min.y||x>M.max.y)&&!(w&&(T.isStatic||T.isSleeping))&&i(b.collisionFilter,T.collisionFilter)){var k=T.parts.length;if(S&&k===1){var C=n(b,T,h);C&&(u[f++]=C)}else for(var E=g>1?1:0,D=k>1?1:0,V=E;V<g;V++)for(var L=b.parts[V],A=L.bounds,U=D;U<k;U++){var G=T.parts[U],M=G.bounds;if(!(A.min.x>M.max.x||A.max.x<M.min.x||A.max.y<M.min.y||A.min.y>M.max.y)){var C=n(L,G,h);C&&(u[f++]=C)}}}}}return u.length!==f&&(u.length=f),u},e.canCollide=function(l,h){return l.group===h.group&&l.group!==0?l.group>0:(l.mask&h.category)!==0&&(h.mask&l.category)!==0},e._compareBoundsX=function(l,h){return l.bounds.min.x-h.bounds.min.x}})()},function(r,p,o){var e={};r.exports=e;var s=o(0);(function(){e.create=function(d){var l={};return d||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=d||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(h){var c=e._getRelativeMousePosition(h,l.element,l.pixelRatio),t=h.changedTouches;t&&(l.button=0,h.preventDefault()),l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=h},l.mousedown=function(h){var c=e._getRelativeMousePosition(h,l.element,l.pixelRatio),t=h.changedTouches;t?(l.button=0,h.preventDefault()):l.button=h.button,l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=h},l.mouseup=function(h){var c=e._getRelativeMousePosition(h,l.element,l.pixelRatio),t=h.changedTouches;t&&h.preventDefault(),l.button=-1,l.absolute.x=c.x,l.absolute.y=c.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=h},l.mousewheel=function(h){l.wheelDelta=Math.max(-1,Math.min(1,h.wheelDelta||-h.detail)),h.preventDefault(),l.sourceEvents.mousewheel=h},e.setElement(l,l.element),l},e.setElement=function(d,l){d.element=l,l.addEventListener("mousemove",d.mousemove,{passive:!0}),l.addEventListener("mousedown",d.mousedown,{passive:!0}),l.addEventListener("mouseup",d.mouseup,{passive:!0}),l.addEventListener("wheel",d.mousewheel,{passive:!1}),l.addEventListener("touchmove",d.mousemove,{passive:!1}),l.addEventListener("touchstart",d.mousedown,{passive:!1}),l.addEventListener("touchend",d.mouseup,{passive:!1})},e.clearSourceEvents=function(d){d.sourceEvents.mousemove=null,d.sourceEvents.mousedown=null,d.sourceEvents.mouseup=null,d.sourceEvents.mousewheel=null,d.wheelDelta=0},e.setOffset=function(d,l){d.offset.x=l.x,d.offset.y=l.y,d.position.x=d.absolute.x*d.scale.x+d.offset.x,d.position.y=d.absolute.y*d.scale.y+d.offset.y},e.setScale=function(d,l){d.scale.x=l.x,d.scale.y=l.y,d.position.x=d.absolute.x*d.scale.x+d.offset.x,d.position.y=d.absolute.y*d.scale.y+d.offset.y},e._getRelativeMousePosition=function(d,l,h){var c=l.getBoundingClientRect(),t=document.documentElement||document.body.parentNode||document.body,i=window.pageXOffset!==void 0?window.pageXOffset:t.scrollLeft,n=window.pageYOffset!==void 0?window.pageYOffset:t.scrollTop,u=d.changedTouches,f,v;return u?(f=u[0].pageX-c.left-i,v=u[0].pageY-c.top-n):(f=d.pageX-c.left-i,v=d.pageY-c.top-n),{x:f/(l.clientWidth/(l.width||l.clientWidth)*h),y:v/(l.clientHeight/(l.height||l.clientHeight)*h)}}})()},function(r,p,o){var e={};r.exports=e;var s=o(0);(function(){e._registry={},e.register=function(d){if(e.isPlugin(d)||s.warn("Plugin.register:",e.toString(d),"does not implement all required fields."),d.name in e._registry){var l=e._registry[d.name],h=e.versionParse(d.version).number,c=e.versionParse(l.version).number;h>c?(s.warn("Plugin.register:",e.toString(l),"was upgraded to",e.toString(d)),e._registry[d.name]=d):h<c?s.warn("Plugin.register:",e.toString(l),"can not be downgraded to",e.toString(d)):d!==l&&s.warn("Plugin.register:",e.toString(d),"is already registered to different plugin object")}else e._registry[d.name]=d;return d},e.resolve=function(d){return e._registry[e.dependencyParse(d).name]},e.toString=function(d){return typeof d=="string"?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")},e.isPlugin=function(d){return d&&d.name&&d.version&&d.install},e.isUsed=function(d,l){return d.used.indexOf(l)>-1},e.isFor=function(d,l){var h=d.for&&e.dependencyParse(d.for);return!d.for||l.name===h.name&&e.versionSatisfies(l.version,h.range)},e.use=function(d,l){if(d.uses=(d.uses||[]).concat(l||[]),d.uses.length===0){s.warn("Plugin.use:",e.toString(d),"does not specify any dependencies to install.");return}for(var h=e.dependencies(d),c=s.topologicalSort(h),t=[],i=0;i<c.length;i+=1)if(c[i]!==d.name){var n=e.resolve(c[i]);if(!n){t.push("❌ "+c[i]);continue}e.isUsed(d,n.name)||(e.isFor(n,d)||(s.warn("Plugin.use:",e.toString(n),"is for",n.for,"but installed on",e.toString(d)+"."),n._warned=!0),n.install?n.install(d):(s.warn("Plugin.use:",e.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(t.push("🔶 "+e.toString(n)),delete n._warned):t.push("✅ "+e.toString(n)),d.used.push(n.name))}t.length>0&&s.info(t.join("  "))},e.dependencies=function(d,l){var h=e.dependencyParse(d),c=h.name;if(l=l||{},!(c in l)){d=e.resolve(d)||d,l[c]=s.map(d.uses||[],function(i){e.isPlugin(i)&&e.register(i);var n=e.dependencyParse(i),u=e.resolve(i);return u&&!e.versionSatisfies(u.version,n.range)?(s.warn("Plugin.dependencies:",e.toString(u),"does not satisfy",e.toString(n),"used by",e.toString(h)+"."),u._warned=!0,d._warned=!0):u||(s.warn("Plugin.dependencies:",e.toString(i),"used by",e.toString(h),"could not be resolved."),d._warned=!0),n.name});for(var t=0;t<l[c].length;t+=1)e.dependencies(l[c][t],l);return l}},e.dependencyParse=function(d){if(s.isString(d)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(d)||s.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}}return{name:d.name,range:d.range||d.version}},e.versionParse=function(d){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(d)||s.warn("Plugin.versionParse:",d,"is not a valid version or range.");var h=l.exec(d),c=Number(h[4]),t=Number(h[5]),i=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:d,operator:h[1]||h[2]||"",major:c,minor:t,patch:i,parts:[c,t,i],prerelease:h[7],number:c*1e8+t*1e4+i}},e.versionSatisfies=function(d,l){l=l||"*";var h=e.versionParse(l),c=e.versionParse(d);if(h.isRange){if(h.operator==="*"||d==="*")return!0;if(h.operator===">")return c.number>h.number;if(h.operator===">=")return c.number>=h.number;if(h.operator==="~")return c.major===h.major&&c.minor===h.minor&&c.patch>=h.patch;if(h.operator==="^")return h.major>0?c.major===h.major&&c.number>=h.number:h.minor>0?c.minor===h.minor&&c.patch>=h.patch:c.patch===h.patch}return d===l||d==="*"}})()},function(r,p){var o={};r.exports=o,function(){o.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(r,p,o){var e={};r.exports=e;var s=o(7),d=o(18),l=o(13),h=o(19),c=o(5),t=o(6),i=o(10),n=o(0),u=o(4);(function(){e._deltaMax=1e3/60,e.create=function(f){f=f||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},_=n.extend(v,f);return _.world=f.world||t.create({label:"World"}),_.pairs=f.pairs||h.create(),_.detector=f.detector||l.create(),_.detector.pairs=_.pairs,_.grid={buckets:[]},_.world.gravity=_.gravity,_.broadphase=_.grid,_.metrics={},_},e.update=function(f,v){var _=n.now(),b=f.world,A=f.detector,P=f.pairs,y=f.timing,x=y.timestamp,w;v>e._deltaMax&&n.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),v=typeof v<"u"?v:n._baseDelta,v*=y.timeScale,y.timestamp+=v,y.lastDelta=v;var g={timestamp:y.timestamp,delta:v};c.trigger(f,"beforeUpdate",g);var S=t.allBodies(b),T=t.allConstraints(b);for(b.isModified&&(l.setBodies(A,S),t.setModified(b,!1,!1,!0)),f.enableSleeping&&s.update(S,v),e._bodiesApplyGravity(S,f.gravity),v>0&&e._bodiesUpdate(S,v),c.trigger(f,"beforeSolve",g),i.preSolveAll(S),w=0;w<f.constraintIterations;w++)i.solveAll(T,v);i.postSolveAll(S);var M=l.collisions(A);h.update(P,M,x),f.enableSleeping&&s.afterCollisions(P.list),P.collisionStart.length>0&&c.trigger(f,"collisionStart",{pairs:P.collisionStart,timestamp:y.timestamp,delta:v});var k=n.clamp(20/f.positionIterations,0,1);for(d.preSolvePosition(P.list),w=0;w<f.positionIterations;w++)d.solvePosition(P.list,v,k);for(d.postSolvePosition(S),i.preSolveAll(S),w=0;w<f.constraintIterations;w++)i.solveAll(T,v);for(i.postSolveAll(S),d.preSolveVelocity(P.list),w=0;w<f.velocityIterations;w++)d.solveVelocity(P.list,v);return e._bodiesUpdateVelocities(S),P.collisionActive.length>0&&c.trigger(f,"collisionActive",{pairs:P.collisionActive,timestamp:y.timestamp,delta:v}),P.collisionEnd.length>0&&c.trigger(f,"collisionEnd",{pairs:P.collisionEnd,timestamp:y.timestamp,delta:v}),e._bodiesClearForces(S),c.trigger(f,"afterUpdate",g),f.timing.lastElapsed=n.now()-_,f},e.merge=function(f,v){if(n.extend(f,v),v.world){f.world=v.world,e.clear(f);for(var _=t.allBodies(f.world),b=0;b<_.length;b++){var A=_[b];s.set(A,!1),A.id=n.nextId()}}},e.clear=function(f){h.clear(f.pairs),l.clear(f.detector)},e._bodiesClearForces=function(f){for(var v=f.length,_=0;_<v;_++){var b=f[_];b.force.x=0,b.force.y=0,b.torque=0}},e._bodiesApplyGravity=function(f,v){var _=typeof v.scale<"u"?v.scale:.001,b=f.length;if(!(v.x===0&&v.y===0||_===0))for(var A=0;A<b;A++){var P=f[A];P.isStatic||P.isSleeping||(P.force.y+=P.mass*v.y*_,P.force.x+=P.mass*v.x*_)}},e._bodiesUpdate=function(f,v){for(var _=f.length,b=0;b<_;b++){var A=f[b];A.isStatic||A.isSleeping||u.update(A,v)}},e._bodiesUpdateVelocities=function(f){for(var v=f.length,_=0;_<v;_++)u.updateVelocities(f[_])}})()},function(r,p,o){var e={};r.exports=e;var s=o(3),d=o(0),l=o(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(h){var c,t,i,n=h.length;for(c=0;c<n;c++)t=h[c],t.isActive&&(i=t.contactCount,t.collision.parentA.totalContacts+=i,t.collision.parentB.totalContacts+=i)},e.solvePosition=function(h,c,t){var i,n,u,f,v,_,b,A,P=e._positionDampen*(t||1),y=d.clamp(c/d._baseDelta,0,1),x=h.length;for(i=0;i<x;i++)n=h[i],!(!n.isActive||n.isSensor)&&(u=n.collision,f=u.parentA,v=u.parentB,_=u.normal,n.separation=u.depth+_.x*(v.positionImpulse.x-f.positionImpulse.x)+_.y*(v.positionImpulse.y-f.positionImpulse.y));for(i=0;i<x;i++)n=h[i],!(!n.isActive||n.isSensor)&&(u=n.collision,f=u.parentA,v=u.parentB,_=u.normal,A=n.separation-n.slop*y,(f.isStatic||v.isStatic)&&(A*=2),f.isStatic||f.isSleeping||(b=P/f.totalContacts,f.positionImpulse.x+=_.x*A*b,f.positionImpulse.y+=_.y*A*b),v.isStatic||v.isSleeping||(b=P/v.totalContacts,v.positionImpulse.x-=_.x*A*b,v.positionImpulse.y-=_.y*A*b))},e.postSolvePosition=function(h){for(var c=e._positionWarming,t=h.length,i=s.translate,n=l.update,u=0;u<t;u++){var f=h[u],v=f.positionImpulse,_=v.x,b=v.y,A=f.velocity;if(f.totalContacts=0,_!==0||b!==0){for(var P=0;P<f.parts.length;P++){var y=f.parts[P];i(y.vertices,v),n(y.bounds,y.vertices,A),y.position.x+=_,y.position.y+=b}f.positionPrev.x+=_,f.positionPrev.y+=b,_*A.x+b*A.y<0?(v.x=0,v.y=0):(v.x*=c,v.y*=c)}}},e.preSolveVelocity=function(h){var c=h.length,t,i;for(t=0;t<c;t++){var n=h[t];if(!(!n.isActive||n.isSensor)){var u=n.contacts,f=n.contactCount,v=n.collision,_=v.parentA,b=v.parentB,A=v.normal,P=v.tangent;for(i=0;i<f;i++){var y=u[i],x=y.vertex,w=y.normalImpulse,g=y.tangentImpulse;if(w!==0||g!==0){var S=A.x*w+P.x*g,T=A.y*w+P.y*g;_.isStatic||_.isSleeping||(_.positionPrev.x+=S*_.inverseMass,_.positionPrev.y+=T*_.inverseMass,_.anglePrev+=_.inverseInertia*((x.x-_.position.x)*T-(x.y-_.position.y)*S)),b.isStatic||b.isSleeping||(b.positionPrev.x-=S*b.inverseMass,b.positionPrev.y-=T*b.inverseMass,b.anglePrev-=b.inverseInertia*((x.x-b.position.x)*T-(x.y-b.position.y)*S))}}}}},e.solveVelocity=function(h,c){var t=c/d._baseDelta,i=t*t,n=i*t,u=-e._restingThresh*t,f=e._restingThreshTangent,v=e._frictionNormalMultiplier*t,_=e._frictionMaxStatic,b=h.length,A,P,y,x;for(y=0;y<b;y++){var w=h[y];if(!(!w.isActive||w.isSensor)){var g=w.collision,S=g.parentA,T=g.parentB,M=g.normal.x,k=g.normal.y,C=g.tangent.x,E=g.tangent.y,D=w.inverseMass,V=w.friction*w.frictionStatic*v,L=w.contacts,U=w.contactCount,G=1/U,W=S.position.x-S.positionPrev.x,J=S.position.y-S.positionPrev.y,j=S.angle-S.anglePrev,re=T.position.x-T.positionPrev.x,pe=T.position.y-T.positionPrev.y,fe=T.angle-T.anglePrev;for(x=0;x<U;x++){var Y=L[x],de=Y.vertex,ce=de.x-S.position.x,Ie=de.y-S.position.y,B=de.x-T.position.x,R=de.y-T.position.y,F=W-Ie*j,H=J+ce*j,X=re-R*fe,I=pe+B*fe,O=F-X,z=H-I,le=M*O+k*z,ie=C*O+E*z,we=w.separation+le,ve=Math.min(we,1);ve=we<0?0:ve;var De=ve*V;ie<-De||ie>De?(P=ie>0?ie:-ie,A=w.friction*(ie>0?1:-1)*n,A<-P?A=-P:A>P&&(A=P)):(A=ie,P=_);var Ge=ce*k-Ie*M,Ue=B*k-R*M,ft=G/(D+S.inverseInertia*Ge*Ge+T.inverseInertia*Ue*Ue),Xe=(1+w.restitution)*le*ft;if(A*=ft,le<u)Y.normalImpulse=0;else{var Jn=Y.normalImpulse;Y.normalImpulse+=Xe,Y.normalImpulse>0&&(Y.normalImpulse=0),Xe=Y.normalImpulse-Jn}if(ie<-f||ie>f)Y.tangentImpulse=0;else{var jn=Y.tangentImpulse;Y.tangentImpulse+=A,Y.tangentImpulse<-P&&(Y.tangentImpulse=-P),Y.tangentImpulse>P&&(Y.tangentImpulse=P),A=Y.tangentImpulse-jn}var At=M*Xe+C*A,Tt=k*Xe+E*A;S.isStatic||S.isSleeping||(S.positionPrev.x+=At*S.inverseMass,S.positionPrev.y+=Tt*S.inverseMass,S.anglePrev+=(ce*Tt-Ie*At)*S.inverseInertia),T.isStatic||T.isSleeping||(T.positionPrev.x-=At*T.inverseMass,T.positionPrev.y-=Tt*T.inverseMass,T.anglePrev-=(B*Tt-R*At)*T.inverseInertia)}}}}})()},function(r,p,o){var e={};r.exports=e;var s=o(9),d=o(0);(function(){e.create=function(l){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},e.update=function(l,h,c){var t=s.update,i=s.create,n=s.setActive,u=l.table,f=l.list,v=f.length,_=v,b=l.collisionStart,A=l.collisionEnd,P=l.collisionActive,y=h.length,x=0,w=0,g=0,S,T,M;for(M=0;M<y;M++)S=h[M],T=S.pair,T?(T.isActive&&(P[g++]=T),t(T,S,c)):(T=i(S,c),u[T.id]=T,b[x++]=T,f[_++]=T);for(_=0,v=f.length,M=0;M<v;M++)T=f[M],T.timeUpdated>=c?f[_++]=T:(n(T,!1,c),T.collision.bodyA.sleepCounter>0&&T.collision.bodyB.sleepCounter>0?f[_++]=T:(A[w++]=T,delete u[T.id]));f.length!==_&&(f.length=_),b.length!==x&&(b.length=x),A.length!==w&&(A.length=w),P.length!==g&&(P.length=g)},e.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(r,p,o){var e=r.exports=o(21);e.Axes=o(11),e.Bodies=o(12),e.Body=o(4),e.Bounds=o(1),e.Collision=o(8),e.Common=o(0),e.Composite=o(6),e.Composites=o(22),e.Constraint=o(10),e.Contact=o(16),e.Detector=o(13),e.Engine=o(17),e.Events=o(5),e.Grid=o(23),e.Mouse=o(14),e.MouseConstraint=o(24),e.Pair=o(9),e.Pairs=o(19),e.Plugin=o(15),e.Query=o(25),e.Render=o(26),e.Resolver=o(18),e.Runner=o(27),e.SAT=o(28),e.Sleeping=o(7),e.Svg=o(29),e.Vector=o(2),e.Vertices=o(3),e.World=o(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(r,p,o){var e={};r.exports=e;var s=o(15),d=o(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){s.use(e,Array.prototype.slice.call(arguments))},e.before=function(l,h){return l=l.replace(/^Matter./,""),d.chainPathBefore(e,l,h)},e.after=function(l,h){return l=l.replace(/^Matter./,""),d.chainPathAfter(e,l,h)}})()},function(r,p,o){var e={};r.exports=e;var s=o(6),d=o(10),l=o(0),h=o(4),c=o(12),t=l.deprecated;(function(){e.stack=function(i,n,u,f,v,_,b){for(var A=s.create({label:"Stack"}),P=i,y=n,x,w=0,g=0;g<f;g++){for(var S=0,T=0;T<u;T++){var M=b(P,y,T,g,x,w);if(M){var k=M.bounds.max.y-M.bounds.min.y,C=M.bounds.max.x-M.bounds.min.x;k>S&&(S=k),h.translate(M,{x:C*.5,y:k*.5}),P=M.bounds.max.x+v,s.addBody(A,M),x=M,w+=1}else P+=v}y+=S+_,P=i}return A},e.chain=function(i,n,u,f,v,_){for(var b=i.bodies,A=1;A<b.length;A++){var P=b[A-1],y=b[A],x=P.bounds.max.y-P.bounds.min.y,w=P.bounds.max.x-P.bounds.min.x,g=y.bounds.max.y-y.bounds.min.y,S=y.bounds.max.x-y.bounds.min.x,T={bodyA:P,pointA:{x:w*n,y:x*u},bodyB:y,pointB:{x:S*f,y:g*v}},M=l.extend(T,_);s.addConstraint(i,d.create(M))}return i.label+=" Chain",i},e.mesh=function(i,n,u,f,v){var _=i.bodies,b,A,P,y,x;for(b=0;b<u;b++){for(A=1;A<n;A++)P=_[A-1+b*n],y=_[A+b*n],s.addConstraint(i,d.create(l.extend({bodyA:P,bodyB:y},v)));if(b>0)for(A=0;A<n;A++)P=_[A+(b-1)*n],y=_[A+b*n],s.addConstraint(i,d.create(l.extend({bodyA:P,bodyB:y},v))),f&&A>0&&(x=_[A-1+(b-1)*n],s.addConstraint(i,d.create(l.extend({bodyA:x,bodyB:y},v)))),f&&A<n-1&&(x=_[A+1+(b-1)*n],s.addConstraint(i,d.create(l.extend({bodyA:x,bodyB:y},v))))}return i.label+=" Mesh",i},e.pyramid=function(i,n,u,f,v,_,b){return e.stack(i,n,u,f,v,_,function(A,P,y,x,w,g){var S=Math.min(f,Math.ceil(u/2)),T=w?w.bounds.max.x-w.bounds.min.x:0;if(!(x>S)){x=S-x;var M=x,k=u-1-x;if(!(y<M||y>k)){g===1&&h.translate(w,{x:(y+(u%2===1?1:-1))*T,y:0});var C=w?y*T:0;return b(i+C+y*v,P,y,x,w,g)}}})},e.newtonsCradle=function(i,n,u,f,v){for(var _=s.create({label:"Newtons Cradle"}),b=0;b<u;b++){var A=1.9,P=c.circle(i+b*(f*A),n+v,f,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),y=d.create({pointA:{x:i+b*(f*A),y:n},bodyB:P});s.addBody(_,P),s.addConstraint(_,y)}return _},t(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(i,n,u,f,v){var _=h.nextGroup(!0),b=20,A=-u*.5+b,P=u*.5-b,y=0,x=s.create({label:"Car"}),w=c.rectangle(i,n,u,f,{collisionFilter:{group:_},chamfer:{radius:f*.5},density:2e-4}),g=c.circle(i+A,n+y,v,{collisionFilter:{group:_},friction:.8}),S=c.circle(i+P,n+y,v,{collisionFilter:{group:_},friction:.8}),T=d.create({bodyB:w,pointB:{x:A,y},bodyA:g,stiffness:1,length:0}),M=d.create({bodyB:w,pointB:{x:P,y},bodyA:S,stiffness:1,length:0});return s.addBody(x,w),s.addBody(x,g),s.addBody(x,S),s.addConstraint(x,T),s.addConstraint(x,M),x},t(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(i,n,u,f,v,_,b,A,P,y){P=l.extend({inertia:1/0},P),y=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},y);var x=e.stack(i,n,u,f,v,_,function(w,g){return c.circle(w,g,A,P)});return e.mesh(x,u,f,b,y),x.label="Soft Body",x},t(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(r,p,o){var e={};r.exports=e;var s=o(9),d=o(0),l=d.deprecated;(function(){e.create=function(h){var c={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return d.extend(c,h)},e.update=function(h,c,t,i){var n,u,f,v=t.world,_=h.buckets,b,A,P=!1;for(n=0;n<c.length;n++){var y=c[n];if(!(y.isSleeping&&!i)&&!(v.bounds&&(y.bounds.max.x<v.bounds.min.x||y.bounds.min.x>v.bounds.max.x||y.bounds.max.y<v.bounds.min.y||y.bounds.min.y>v.bounds.max.y))){var x=e._getRegion(h,y);if(!y.region||x.id!==y.region.id||i){(!y.region||i)&&(y.region=x);var w=e._regionUnion(x,y.region);for(u=w.startCol;u<=w.endCol;u++)for(f=w.startRow;f<=w.endRow;f++){A=e._getBucketId(u,f),b=_[A];var g=u>=x.startCol&&u<=x.endCol&&f>=x.startRow&&f<=x.endRow,S=u>=y.region.startCol&&u<=y.region.endCol&&f>=y.region.startRow&&f<=y.region.endRow;!g&&S&&S&&b&&e._bucketRemoveBody(h,b,y),(y.region===x||g&&!S||i)&&(b||(b=e._createBucket(_,A)),e._bucketAddBody(h,b,y))}y.region=x,P=!0}}}P&&(h.pairsList=e._createActivePairsList(h))},l(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(h){h.buckets={},h.pairs={},h.pairsList=[]},l(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(h,c){var t=Math.min(h.startCol,c.startCol),i=Math.max(h.endCol,c.endCol),n=Math.min(h.startRow,c.startRow),u=Math.max(h.endRow,c.endRow);return e._createRegion(t,i,n,u)},e._getRegion=function(h,c){var t=c.bounds,i=Math.floor(t.min.x/h.bucketWidth),n=Math.floor(t.max.x/h.bucketWidth),u=Math.floor(t.min.y/h.bucketHeight),f=Math.floor(t.max.y/h.bucketHeight);return e._createRegion(i,n,u,f)},e._createRegion=function(h,c,t,i){return{id:h+","+c+","+t+","+i,startCol:h,endCol:c,startRow:t,endRow:i}},e._getBucketId=function(h,c){return"C"+h+"R"+c},e._createBucket=function(h,c){var t=h[c]=[];return t},e._bucketAddBody=function(h,c,t){var i=h.pairs,n=s.id,u=c.length,f;for(f=0;f<u;f++){var v=c[f];if(!(t.id===v.id||t.isStatic&&v.isStatic)){var _=n(t,v),b=i[_];b?b[2]+=1:i[_]=[t,v,1]}}c.push(t)},e._bucketRemoveBody=function(h,c,t){var i=h.pairs,n=s.id,u;c.splice(d.indexOf(c,t),1);var f=c.length;for(u=0;u<f;u++){var v=i[n(t,c[u])];v&&(v[2]-=1)}},e._createActivePairsList=function(h){var c,t=h.pairs,i=d.keys(t),n=i.length,u=[],f;for(f=0;f<n;f++)c=t[i[f]],c[2]>0?u.push(c):delete t[i[f]];return u}})()},function(r,p,o){var e={};r.exports=e;var s=o(3),d=o(7),l=o(14),h=o(5),c=o(13),t=o(10),i=o(6),n=o(0),u=o(1);(function(){e.create=function(f,v){var _=(f?f.mouse:null)||(v?v.mouse:null);_||(f&&f.render&&f.render.canvas?_=l.create(f.render.canvas):v&&v.element?_=l.create(v.element):(_=l.create(),n.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var b=t.create({label:"Mouse Constraint",pointA:_.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),A={type:"mouseConstraint",mouse:_,element:null,body:null,constraint:b,collisionFilter:{category:1,mask:4294967295,group:0}},P=n.extend(A,v);return h.on(f,"beforeUpdate",function(){var y=i.allBodies(f.world);e.update(P,y),e._triggerEvents(P)}),P},e.update=function(f,v){var _=f.mouse,b=f.constraint,A=f.body;if(_.button===0){if(b.bodyB)d.set(b.bodyB,!1),b.pointA=_.position;else for(var P=0;P<v.length;P++)if(A=v[P],u.contains(A.bounds,_.position)&&c.canCollide(A.collisionFilter,f.collisionFilter))for(var y=A.parts.length>1?1:0;y<A.parts.length;y++){var x=A.parts[y];if(s.contains(x.vertices,_.position)){b.pointA=_.position,b.bodyB=f.body=A,b.pointB={x:_.position.x-A.position.x,y:_.position.y-A.position.y},b.angleB=A.angle,d.set(A,!1),h.trigger(f,"startdrag",{mouse:_,body:A});break}}}else b.bodyB=f.body=null,b.pointB=null,A&&h.trigger(f,"enddrag",{mouse:_,body:A})},e._triggerEvents=function(f){var v=f.mouse,_=v.sourceEvents;_.mousemove&&h.trigger(f,"mousemove",{mouse:v}),_.mousedown&&h.trigger(f,"mousedown",{mouse:v}),_.mouseup&&h.trigger(f,"mouseup",{mouse:v}),l.clearSourceEvents(v)}})()},function(r,p,o){var e={};r.exports=e;var s=o(2),d=o(8),l=o(1),h=o(12),c=o(3);(function(){e.collides=function(t,i){for(var n=[],u=i.length,f=t.bounds,v=d.collides,_=l.overlaps,b=0;b<u;b++){var A=i[b],P=A.parts.length,y=P===1?0:1;if(_(A.bounds,f))for(var x=y;x<P;x++){var w=A.parts[x];if(_(w.bounds,f)){var g=v(w,t);if(g){n.push(g);break}}}}return n},e.ray=function(t,i,n,u){u=u||1e-100;for(var f=s.angle(i,n),v=s.magnitude(s.sub(i,n)),_=(n.x+i.x)*.5,b=(n.y+i.y)*.5,A=h.rectangle(_,b,v,u,{angle:f}),P=e.collides(A,t),y=0;y<P.length;y+=1){var x=P[y];x.body=x.bodyB=x.bodyA}return P},e.region=function(t,i,n){for(var u=[],f=0;f<t.length;f++){var v=t[f],_=l.overlaps(v.bounds,i);(_&&!n||!_&&n)&&u.push(v)}return u},e.point=function(t,i){for(var n=[],u=0;u<t.length;u++){var f=t[u];if(l.contains(f.bounds,i))for(var v=f.parts.length===1?0:1;v<f.parts.length;v++){var _=f.parts[v];if(l.contains(_.bounds,i)&&c.contains(_.vertices,i)){n.push(f);break}}}return n}})()},function(r,p,o){var e={};r.exports=e;var s=o(4),d=o(0),l=o(6),h=o(1),c=o(5),t=o(2),i=o(14);(function(){var n,u;typeof window<"u"&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(y){window.setTimeout(function(){y(d.now())},1e3/60)},u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(y){var x={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!y.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},w=d.extend(x,y);return w.canvas&&(w.canvas.width=w.options.width||w.canvas.width,w.canvas.height=w.options.height||w.canvas.height),w.mouse=y.mouse,w.engine=y.engine,w.canvas=w.canvas||_(w.options.width,w.options.height),w.context=w.canvas.getContext("2d"),w.textures={},w.bounds=w.bounds||{min:{x:0,y:0},max:{x:w.canvas.width,y:w.canvas.height}},w.controller=e,w.options.showBroadphase=!1,w.options.pixelRatio!==1&&e.setPixelRatio(w,w.options.pixelRatio),d.isElement(w.element)&&w.element.appendChild(w.canvas),w},e.run=function(y){(function x(w){y.frameRequestId=n(x),f(y,w),e.world(y,w),y.context.setTransform(y.options.pixelRatio,0,0,y.options.pixelRatio,0,0),(y.options.showStats||y.options.showDebug)&&e.stats(y,y.context,w),(y.options.showPerformance||y.options.showDebug)&&e.performance(y,y.context,w),y.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(y){u(y.frameRequestId)},e.setPixelRatio=function(y,x){var w=y.options,g=y.canvas;x==="auto"&&(x=b(g)),w.pixelRatio=x,g.setAttribute("data-pixel-ratio",x),g.width=w.width*x,g.height=w.height*x,g.style.width=w.width+"px",g.style.height=w.height+"px"},e.setSize=function(y,x,w){y.options.width=x,y.options.height=w,y.bounds.max.x=y.bounds.min.x+x,y.bounds.max.y=y.bounds.min.y+w,y.options.pixelRatio!==1?e.setPixelRatio(y,y.options.pixelRatio):(y.canvas.width=x,y.canvas.height=w)},e.lookAt=function(y,x,w,g){g=typeof g<"u"?g:!0,x=d.isArray(x)?x:[x],w=w||{x:0,y:0};for(var S={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},T=0;T<x.length;T+=1){var M=x[T],k=M.bounds?M.bounds.min:M.min||M.position||M,C=M.bounds?M.bounds.max:M.max||M.position||M;k&&C&&(k.x<S.min.x&&(S.min.x=k.x),C.x>S.max.x&&(S.max.x=C.x),k.y<S.min.y&&(S.min.y=k.y),C.y>S.max.y&&(S.max.y=C.y))}var E=S.max.x-S.min.x+2*w.x,D=S.max.y-S.min.y+2*w.y,V=y.canvas.height,L=y.canvas.width,U=L/V,G=E/D,W=1,J=1;G>U?J=G/U:W=U/G,y.options.hasBounds=!0,y.bounds.min.x=S.min.x,y.bounds.max.x=S.min.x+E*W,y.bounds.min.y=S.min.y,y.bounds.max.y=S.min.y+D*J,g&&(y.bounds.min.x+=E*.5-E*W*.5,y.bounds.max.x+=E*.5-E*W*.5,y.bounds.min.y+=D*.5-D*J*.5,y.bounds.max.y+=D*.5-D*J*.5),y.bounds.min.x-=w.x,y.bounds.max.x-=w.x,y.bounds.min.y-=w.y,y.bounds.max.y-=w.y,y.mouse&&(i.setScale(y.mouse,{x:(y.bounds.max.x-y.bounds.min.x)/y.canvas.width,y:(y.bounds.max.y-y.bounds.min.y)/y.canvas.height}),i.setOffset(y.mouse,y.bounds.min))},e.startViewTransform=function(y){var x=y.bounds.max.x-y.bounds.min.x,w=y.bounds.max.y-y.bounds.min.y,g=x/y.options.width,S=w/y.options.height;y.context.setTransform(y.options.pixelRatio/g,0,0,y.options.pixelRatio/S,0,0),y.context.translate(-y.bounds.min.x,-y.bounds.min.y)},e.endViewTransform=function(y){y.context.setTransform(y.options.pixelRatio,0,0,y.options.pixelRatio,0,0)},e.world=function(y,x){var w=d.now(),g=y.engine,S=g.world,T=y.canvas,M=y.context,k=y.options,C=y.timing,E=l.allBodies(S),D=l.allConstraints(S),V=k.wireframes?k.wireframeBackground:k.background,L=[],U=[],G,W={timestamp:g.timing.timestamp};if(c.trigger(y,"beforeRender",W),y.currentBackground!==V&&P(y,V),M.globalCompositeOperation="source-in",M.fillStyle="transparent",M.fillRect(0,0,T.width,T.height),M.globalCompositeOperation="source-over",k.hasBounds){for(G=0;G<E.length;G++){var J=E[G];h.overlaps(J.bounds,y.bounds)&&L.push(J)}for(G=0;G<D.length;G++){var j=D[G],re=j.bodyA,pe=j.bodyB,fe=j.pointA,Y=j.pointB;re&&(fe=t.add(re.position,j.pointA)),pe&&(Y=t.add(pe.position,j.pointB)),!(!fe||!Y)&&(h.contains(y.bounds,fe)||h.contains(y.bounds,Y))&&U.push(j)}e.startViewTransform(y),y.mouse&&(i.setScale(y.mouse,{x:(y.bounds.max.x-y.bounds.min.x)/y.options.width,y:(y.bounds.max.y-y.bounds.min.y)/y.options.height}),i.setOffset(y.mouse,y.bounds.min))}else U=D,L=E,y.options.pixelRatio!==1&&y.context.setTransform(y.options.pixelRatio,0,0,y.options.pixelRatio,0,0);!k.wireframes||g.enableSleeping&&k.showSleeping?e.bodies(y,L,M):(k.showConvexHulls&&e.bodyConvexHulls(y,L,M),e.bodyWireframes(y,L,M)),k.showBounds&&e.bodyBounds(y,L,M),(k.showAxes||k.showAngleIndicator)&&e.bodyAxes(y,L,M),k.showPositions&&e.bodyPositions(y,L,M),k.showVelocity&&e.bodyVelocity(y,L,M),k.showIds&&e.bodyIds(y,L,M),k.showSeparations&&e.separations(y,g.pairs.list,M),k.showCollisions&&e.collisions(y,g.pairs.list,M),k.showVertexNumbers&&e.vertexNumbers(y,L,M),k.showMousePosition&&e.mousePosition(y,y.mouse,M),e.constraints(U,M),k.hasBounds&&e.endViewTransform(y),c.trigger(y,"afterRender",W),C.lastElapsed=d.now()-w},e.stats=function(y,x,w){for(var g=y.engine,S=g.world,T=l.allBodies(S),M=0,k=55,C=44,E=0,D=0,V=0;V<T.length;V+=1)M+=T[V].parts.length;var L={Part:M,Body:T.length,Cons:l.allConstraints(S).length,Comp:l.allComposites(S).length,Pair:g.pairs.list.length};x.fillStyle="#0e0f19",x.fillRect(E,D,k*5.5,C),x.font="12px Arial",x.textBaseline="top",x.textAlign="right";for(var U in L){var G=L[U];x.fillStyle="#aaa",x.fillText(U,E+k,D+8),x.fillStyle="#eee",x.fillText(G,E+k,D+26),E+=k}},e.performance=function(y,x){var w=y.engine,g=y.timing,S=g.deltaHistory,T=g.elapsedHistory,M=g.timestampElapsedHistory,k=g.engineDeltaHistory,C=g.engineUpdatesHistory,E=g.engineElapsedHistory,D=w.timing.lastUpdatesPerFrame,V=w.timing.lastDelta,L=v(S),U=v(T),G=v(k),W=v(C),J=v(E),j=v(M),re=j/L||0,pe=Math.round(L/V),fe=1e3/L||0,Y=4,de=12,ce=60,Ie=34,B=10,R=69;x.fillStyle="#0e0f19",x.fillRect(0,50,de*5+ce*6+22,Ie),e.status(x,B,R,ce,Y,S.length,Math.round(fe)+" fps",fe/e._goodFps,function(F){return S[F]/L-1}),e.status(x,B+de+ce,R,ce,Y,k.length,V.toFixed(2)+" dt",e._goodDelta/V,function(F){return k[F]/G-1}),e.status(x,B+(de+ce)*2,R,ce,Y,C.length,D+" upf",Math.pow(d.clamp(W/pe||1,0,1),4),function(F){return C[F]/W-1}),e.status(x,B+(de+ce)*3,R,ce,Y,E.length,J.toFixed(2)+" ut",1-D*J/e._goodFps,function(F){return E[F]/J-1}),e.status(x,B+(de+ce)*4,R,ce,Y,T.length,U.toFixed(2)+" rt",1-U/e._goodFps,function(F){return T[F]/U-1}),e.status(x,B+(de+ce)*5,R,ce,Y,M.length,re.toFixed(2)+" x",re*re*re,function(F){return(M[F]/S[F]/re||0)-1})},e.status=function(y,x,w,g,S,T,M,k,C){y.strokeStyle="#888",y.fillStyle="#444",y.lineWidth=1,y.fillRect(x,w+7,g,1),y.beginPath(),y.moveTo(x,w+7-S*d.clamp(.4*C(0),-2,2));for(var E=0;E<g;E+=1)y.lineTo(x+E,w+7-(E<T?S*d.clamp(.4*C(E),-2,2):0));y.stroke(),y.fillStyle="hsl("+d.clamp(25+95*k,0,120)+",100%,60%)",y.fillRect(x,w-7,4,4),y.font="12px Arial",y.textBaseline="middle",y.textAlign="right",y.fillStyle="#eee",y.fillText(M,x+g,w-5)},e.constraints=function(y,x){for(var w=x,g=0;g<y.length;g++){var S=y[g];if(!(!S.render.visible||!S.pointA||!S.pointB)){var T=S.bodyA,M=S.bodyB,k,C;if(T?k=t.add(T.position,S.pointA):k=S.pointA,S.render.type==="pin")w.beginPath(),w.arc(k.x,k.y,3,0,2*Math.PI),w.closePath();else{if(M?C=t.add(M.position,S.pointB):C=S.pointB,w.beginPath(),w.moveTo(k.x,k.y),S.render.type==="spring")for(var E=t.sub(C,k),D=t.perp(t.normalise(E)),V=Math.ceil(d.clamp(S.length/5,12,20)),L,U=1;U<V;U+=1)L=U%2===0?1:-1,w.lineTo(k.x+E.x*(U/V)+D.x*L*4,k.y+E.y*(U/V)+D.y*L*4);w.lineTo(C.x,C.y)}S.render.lineWidth&&(w.lineWidth=S.render.lineWidth,w.strokeStyle=S.render.strokeStyle,w.stroke()),S.render.anchors&&(w.fillStyle=S.render.strokeStyle,w.beginPath(),w.arc(k.x,k.y,3,0,2*Math.PI),w.arc(C.x,C.y,3,0,2*Math.PI),w.closePath(),w.fill())}}},e.bodies=function(y,x,w){var g=w;y.engine;var S=y.options,T=S.showInternalEdges||!S.wireframes,M,k,C,E;for(C=0;C<x.length;C++)if(M=x[C],!!M.render.visible){for(E=M.parts.length>1?1:0;E<M.parts.length;E++)if(k=M.parts[E],!!k.render.visible){if(S.showSleeping&&M.isSleeping?g.globalAlpha=.5*k.render.opacity:k.render.opacity!==1&&(g.globalAlpha=k.render.opacity),k.render.sprite&&k.render.sprite.texture&&!S.wireframes){var D=k.render.sprite,V=A(y,D.texture);g.translate(k.position.x,k.position.y),g.rotate(k.angle),g.drawImage(V,V.width*-D.xOffset*D.xScale,V.height*-D.yOffset*D.yScale,V.width*D.xScale,V.height*D.yScale),g.rotate(-k.angle),g.translate(-k.position.x,-k.position.y)}else{if(k.circleRadius)g.beginPath(),g.arc(k.position.x,k.position.y,k.circleRadius,0,2*Math.PI);else{g.beginPath(),g.moveTo(k.vertices[0].x,k.vertices[0].y);for(var L=1;L<k.vertices.length;L++)!k.vertices[L-1].isInternal||T?g.lineTo(k.vertices[L].x,k.vertices[L].y):g.moveTo(k.vertices[L].x,k.vertices[L].y),k.vertices[L].isInternal&&!T&&g.moveTo(k.vertices[(L+1)%k.vertices.length].x,k.vertices[(L+1)%k.vertices.length].y);g.lineTo(k.vertices[0].x,k.vertices[0].y),g.closePath()}S.wireframes?(g.lineWidth=1,g.strokeStyle=y.options.wireframeStrokeStyle,g.stroke()):(g.fillStyle=k.render.fillStyle,k.render.lineWidth&&(g.lineWidth=k.render.lineWidth,g.strokeStyle=k.render.strokeStyle,g.stroke()),g.fill())}g.globalAlpha=1}}},e.bodyWireframes=function(y,x,w){var g=w,S=y.options.showInternalEdges,T,M,k,C,E;for(g.beginPath(),k=0;k<x.length;k++)if(T=x[k],!!T.render.visible)for(E=T.parts.length>1?1:0;E<T.parts.length;E++){for(M=T.parts[E],g.moveTo(M.vertices[0].x,M.vertices[0].y),C=1;C<M.vertices.length;C++)!M.vertices[C-1].isInternal||S?g.lineTo(M.vertices[C].x,M.vertices[C].y):g.moveTo(M.vertices[C].x,M.vertices[C].y),M.vertices[C].isInternal&&!S&&g.moveTo(M.vertices[(C+1)%M.vertices.length].x,M.vertices[(C+1)%M.vertices.length].y);g.lineTo(M.vertices[0].x,M.vertices[0].y)}g.lineWidth=1,g.strokeStyle=y.options.wireframeStrokeStyle,g.stroke()},e.bodyConvexHulls=function(y,x,w){var g=w,S,T,M;for(g.beginPath(),T=0;T<x.length;T++)if(S=x[T],!(!S.render.visible||S.parts.length===1)){for(g.moveTo(S.vertices[0].x,S.vertices[0].y),M=1;M<S.vertices.length;M++)g.lineTo(S.vertices[M].x,S.vertices[M].y);g.lineTo(S.vertices[0].x,S.vertices[0].y)}g.lineWidth=1,g.strokeStyle="rgba(255,255,255,0.2)",g.stroke()},e.vertexNumbers=function(y,x,w){var g=w,S,T,M;for(S=0;S<x.length;S++){var k=x[S].parts;for(M=k.length>1?1:0;M<k.length;M++){var C=k[M];for(T=0;T<C.vertices.length;T++)g.fillStyle="rgba(255,255,255,0.2)",g.fillText(S+"_"+T,C.position.x+(C.vertices[T].x-C.position.x)*.8,C.position.y+(C.vertices[T].y-C.position.y)*.8)}}},e.mousePosition=function(y,x,w){var g=w;g.fillStyle="rgba(255,255,255,0.8)",g.fillText(x.position.x+"  "+x.position.y,x.position.x+5,x.position.y-5)},e.bodyBounds=function(y,x,w){var g=w;y.engine;var S=y.options;g.beginPath();for(var T=0;T<x.length;T++){var M=x[T];if(M.render.visible)for(var k=x[T].parts,C=k.length>1?1:0;C<k.length;C++){var E=k[C];g.rect(E.bounds.min.x,E.bounds.min.y,E.bounds.max.x-E.bounds.min.x,E.bounds.max.y-E.bounds.min.y)}}S.wireframes?g.strokeStyle="rgba(255,255,255,0.08)":g.strokeStyle="rgba(0,0,0,0.1)",g.lineWidth=1,g.stroke()},e.bodyAxes=function(y,x,w){var g=w;y.engine;var S=y.options,T,M,k,C;for(g.beginPath(),M=0;M<x.length;M++){var E=x[M],D=E.parts;if(E.render.visible)if(S.showAxes)for(k=D.length>1?1:0;k<D.length;k++)for(T=D[k],C=0;C<T.axes.length;C++){var V=T.axes[C];g.moveTo(T.position.x,T.position.y),g.lineTo(T.position.x+V.x*20,T.position.y+V.y*20)}else for(k=D.length>1?1:0;k<D.length;k++)for(T=D[k],C=0;C<T.axes.length;C++)g.moveTo(T.position.x,T.position.y),g.lineTo((T.vertices[0].x+T.vertices[T.vertices.length-1].x)/2,(T.vertices[0].y+T.vertices[T.vertices.length-1].y)/2)}S.wireframes?(g.strokeStyle="indianred",g.lineWidth=1):(g.strokeStyle="rgba(255, 255, 255, 0.4)",g.globalCompositeOperation="overlay",g.lineWidth=2),g.stroke(),g.globalCompositeOperation="source-over"},e.bodyPositions=function(y,x,w){var g=w;y.engine;var S=y.options,T,M,k,C;for(g.beginPath(),k=0;k<x.length;k++)if(T=x[k],!!T.render.visible)for(C=0;C<T.parts.length;C++)M=T.parts[C],g.arc(M.position.x,M.position.y,3,0,2*Math.PI,!1),g.closePath();for(S.wireframes?g.fillStyle="indianred":g.fillStyle="rgba(0,0,0,0.5)",g.fill(),g.beginPath(),k=0;k<x.length;k++)T=x[k],T.render.visible&&(g.arc(T.positionPrev.x,T.positionPrev.y,2,0,2*Math.PI,!1),g.closePath());g.fillStyle="rgba(255,165,0,0.8)",g.fill()},e.bodyVelocity=function(y,x,w){var g=w;g.beginPath();for(var S=0;S<x.length;S++){var T=x[S];if(T.render.visible){var M=s.getVelocity(T);g.moveTo(T.position.x,T.position.y),g.lineTo(T.position.x+M.x,T.position.y+M.y)}}g.lineWidth=3,g.strokeStyle="cornflowerblue",g.stroke()},e.bodyIds=function(y,x,w){var g=w,S,T;for(S=0;S<x.length;S++)if(x[S].render.visible){var M=x[S].parts;for(T=M.length>1?1:0;T<M.length;T++){var k=M[T];g.font="12px Arial",g.fillStyle="rgba(255,255,255,0.5)",g.fillText(k.id,k.position.x+10,k.position.y-10)}}},e.collisions=function(y,x,w){var g=w,S=y.options,T,M,k,C;for(g.beginPath(),k=0;k<x.length;k++)if(T=x[k],!!T.isActive)for(M=T.collision,C=0;C<T.contactCount;C++){var E=T.contacts[C],D=E.vertex;g.rect(D.x-1.5,D.y-1.5,3.5,3.5)}for(S.wireframes?g.fillStyle="rgba(255,255,255,0.7)":g.fillStyle="orange",g.fill(),g.beginPath(),k=0;k<x.length;k++)if(T=x[k],!!T.isActive&&(M=T.collision,T.contactCount>0)){var V=T.contacts[0].vertex.x,L=T.contacts[0].vertex.y;T.contactCount===2&&(V=(T.contacts[0].vertex.x+T.contacts[1].vertex.x)/2,L=(T.contacts[0].vertex.y+T.contacts[1].vertex.y)/2),M.bodyB===M.supports[0].body||M.bodyA.isStatic===!0?g.moveTo(V-M.normal.x*8,L-M.normal.y*8):g.moveTo(V+M.normal.x*8,L+M.normal.y*8),g.lineTo(V,L)}S.wireframes?g.strokeStyle="rgba(255,165,0,0.7)":g.strokeStyle="orange",g.lineWidth=1,g.stroke()},e.separations=function(y,x,w){var g=w,S=y.options,T,M,k,C,E;for(g.beginPath(),E=0;E<x.length;E++)if(T=x[E],!!T.isActive){M=T.collision,k=M.bodyA,C=M.bodyB;var D=1;!C.isStatic&&!k.isStatic&&(D=.5),C.isStatic&&(D=0),g.moveTo(C.position.x,C.position.y),g.lineTo(C.position.x-M.penetration.x*D,C.position.y-M.penetration.y*D),D=1,!C.isStatic&&!k.isStatic&&(D=.5),k.isStatic&&(D=0),g.moveTo(k.position.x,k.position.y),g.lineTo(k.position.x+M.penetration.x*D,k.position.y+M.penetration.y*D)}S.wireframes?g.strokeStyle="rgba(255,165,0,0.5)":g.strokeStyle="orange",g.stroke()},e.inspector=function(y,x){y.engine;var w=y.selected,g=y.render,S=g.options,T;if(S.hasBounds){var M=g.bounds.max.x-g.bounds.min.x,k=g.bounds.max.y-g.bounds.min.y,C=M/g.options.width,E=k/g.options.height;x.scale(1/C,1/E),x.translate(-g.bounds.min.x,-g.bounds.min.y)}for(var D=0;D<w.length;D++){var V=w[D].data;switch(x.translate(.5,.5),x.lineWidth=1,x.strokeStyle="rgba(255,165,0,0.9)",x.setLineDash([1,2]),V.type){case"body":T=V.bounds,x.beginPath(),x.rect(Math.floor(T.min.x-3),Math.floor(T.min.y-3),Math.floor(T.max.x-T.min.x+6),Math.floor(T.max.y-T.min.y+6)),x.closePath(),x.stroke();break;case"constraint":var L=V.pointA;V.bodyA&&(L=V.pointB),x.beginPath(),x.arc(L.x,L.y,10,0,2*Math.PI),x.closePath(),x.stroke();break}x.setLineDash([]),x.translate(-.5,-.5)}y.selectStart!==null&&(x.translate(.5,.5),x.lineWidth=1,x.strokeStyle="rgba(255,165,0,0.6)",x.fillStyle="rgba(255,165,0,0.1)",T=y.selectBounds,x.beginPath(),x.rect(Math.floor(T.min.x),Math.floor(T.min.y),Math.floor(T.max.x-T.min.x),Math.floor(T.max.y-T.min.y)),x.closePath(),x.stroke(),x.fill(),x.translate(-.5,-.5)),S.hasBounds&&x.setTransform(1,0,0,1,0,0)};var f=function(y,x){var w=y.engine,g=y.timing,S=g.historySize,T=w.timing.timestamp;g.delta=x-g.lastTime||e._goodDelta,g.lastTime=x,g.timestampElapsed=T-g.lastTimestamp||0,g.lastTimestamp=T,g.deltaHistory.unshift(g.delta),g.deltaHistory.length=Math.min(g.deltaHistory.length,S),g.engineDeltaHistory.unshift(w.timing.lastDelta),g.engineDeltaHistory.length=Math.min(g.engineDeltaHistory.length,S),g.timestampElapsedHistory.unshift(g.timestampElapsed),g.timestampElapsedHistory.length=Math.min(g.timestampElapsedHistory.length,S),g.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame),g.engineUpdatesHistory.length=Math.min(g.engineUpdatesHistory.length,S),g.engineElapsedHistory.unshift(w.timing.lastElapsed),g.engineElapsedHistory.length=Math.min(g.engineElapsedHistory.length,S),g.elapsedHistory.unshift(g.lastElapsed),g.elapsedHistory.length=Math.min(g.elapsedHistory.length,S)},v=function(y){for(var x=0,w=0;w<y.length;w+=1)x+=y[w];return x/y.length||0},_=function(y,x){var w=document.createElement("canvas");return w.width=y,w.height=x,w.oncontextmenu=function(){return!1},w.onselectstart=function(){return!1},w},b=function(y){var x=y.getContext("2d"),w=window.devicePixelRatio||1,g=x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1;return w/g},A=function(y,x){var w=y.textures[x];return w||(w=y.textures[x]=new Image,w.src=x,w)},P=function(y,x){var w=x;/(jpg|gif|png)$/.test(x)&&(w="url("+x+")"),y.canvas.style.background=w,y.canvas.style.backgroundSize="contain",y.currentBackground=x}})()},function(r,p,o){var e={};r.exports=e;var s=o(5),d=o(17),l=o(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(c){var t={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},i=l.extend(t,c);return i.fps=0,i},e.run=function(c,t){return c.timeBuffer=e._frameDeltaFallback,function i(n){c.frameRequestId=e._onNextFrame(c,i),n&&c.enabled&&e.tick(c,t,n)}(),c},e.tick=function(c,t,i){var n=l.now(),u=c.delta,f=0,v=i-c.timeLastTick;if((!v||!c.timeLastTick||v>Math.max(e._maxFrameDelta,c.maxFrameTime))&&(v=c.frameDelta||e._frameDeltaFallback),c.frameDeltaSmoothing){c.frameDeltaHistory.push(v),c.frameDeltaHistory=c.frameDeltaHistory.slice(-c.frameDeltaHistorySize);var _=c.frameDeltaHistory.slice(0).sort(),b=c.frameDeltaHistory.slice(_.length*e._smoothingLowerBound,_.length*e._smoothingUpperBound),A=h(b);v=A||v}c.frameDeltaSnapping&&(v=1e3/Math.round(1e3/v)),c.frameDelta=v,c.timeLastTick=i,c.timeBuffer+=c.frameDelta,c.timeBuffer=l.clamp(c.timeBuffer,0,c.frameDelta+u*e._timeBufferMargin),c.lastUpdatesDeferred=0;var P=c.maxUpdates||Math.ceil(c.maxFrameTime/u),y={timestamp:t.timing.timestamp};s.trigger(c,"beforeTick",y),s.trigger(c,"tick",y);for(var x=l.now();u>0&&c.timeBuffer>=u*e._timeBufferMargin;){s.trigger(c,"beforeUpdate",y),d.update(t,u),s.trigger(c,"afterUpdate",y),c.timeBuffer-=u,f+=1;var w=l.now()-n,g=l.now()-x,S=w+e._elapsedNextEstimate*g/f;if(f>=P||S>c.maxFrameTime){c.lastUpdatesDeferred=Math.round(Math.max(0,c.timeBuffer/u-e._timeBufferMargin));break}}t.timing.lastUpdatesPerFrame=f,s.trigger(c,"afterTick",y),c.frameDeltaHistory.length>=100&&(c.lastUpdatesDeferred&&Math.round(c.frameDelta/u)>P?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):c.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof c.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(c.deltaMin||c.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),c.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(c){e._cancelNextFrame(c)},e._onNextFrame=function(c,t){if(typeof window<"u"&&window.requestAnimationFrame)c.frameRequestId=window.requestAnimationFrame(t);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return c.frameRequestId},e._cancelNextFrame=function(c){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(c.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var h=function(c){for(var t=0,i=c.length,n=0;n<i;n+=1)t+=c[n];return t/i||0}})()},function(r,p,o){var e={};r.exports=e;var s=o(8),d=o(0),l=d.deprecated;(function(){e.collides=function(h,c){return s.collides(h,c)},l(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(r,p,o){var e={};r.exports=e,o(1);var s=o(0);(function(){e.pathToVertices=function(d,l){typeof window<"u"&&!("SVGPathSeg"in window)&&s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,c,t,i,n,u,f,v,_,b,A=[],P,y,x=0,w=0,g=0;l=l||15;var S=function(M,k,C){var E=C%2===1&&C>1;if(!_||M!=_.x||k!=_.y){_&&E?(P=_.x,y=_.y):(P=0,y=0);var D={x:P+M,y:y+k};(E||!_)&&(_=D),A.push(D),w=P+M,g=y+k}},T=function(M){var k=M.pathSegTypeAsLetter.toUpperCase();if(k!=="Z"){switch(k){case"M":case"L":case"T":case"C":case"S":case"Q":w=M.x,g=M.y;break;case"H":w=M.x;break;case"V":g=M.y;break}S(w,g,M.pathSegType)}};for(e._svgPathToAbsolute(d),t=d.getTotalLength(),u=[],h=0;h<d.pathSegList.numberOfItems;h+=1)u.push(d.pathSegList.getItem(h));for(f=u.concat();x<t;){if(b=d.getPathSegAtLength(x),n=u[b],n!=v){for(;f.length&&f[0]!=n;)T(f.shift());v=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=d.getPointAtLength(x),S(i.x,i.y,0);break}x+=l}for(h=0,c=f.length;h<c;++h)T(f[h]);return A},e._svgPathToAbsolute=function(d){for(var l,h,c,t,i,n,u=d.pathSegList,f=0,v=0,_=u.numberOfItems,b=0;b<_;++b){var A=u.getItem(b),P=A.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(P))"x"in A&&(f=A.x),"y"in A&&(v=A.y);else switch("x1"in A&&(c=f+A.x1),"x2"in A&&(i=f+A.x2),"y1"in A&&(t=v+A.y1),"y2"in A&&(n=v+A.y2),"x"in A&&(f+=A.x),"y"in A&&(v+=A.y),P){case"m":u.replaceItem(d.createSVGPathSegMovetoAbs(f,v),b);break;case"l":u.replaceItem(d.createSVGPathSegLinetoAbs(f,v),b);break;case"h":u.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(f),b);break;case"v":u.replaceItem(d.createSVGPathSegLinetoVerticalAbs(v),b);break;case"c":u.replaceItem(d.createSVGPathSegCurvetoCubicAbs(f,v,c,t,i,n),b);break;case"s":u.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(f,v,i,n),b);break;case"q":u.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(f,v,c,t),b);break;case"t":u.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(f,v),b);break;case"a":u.replaceItem(d.createSVGPathSegArcAbs(f,v,A.r1,A.r2,A.angle,A.largeArcFlag,A.sweepFlag),b);break;case"z":case"Z":f=l,v=h;break}(P=="M"||P=="m")&&(l=f,h=v)}}})()},function(r,p,o){var e={};r.exports=e;var s=o(6);o(0),function(){e.create=s.create,e.add=s.add,e.remove=s.remove,e.clear=s.clear,e.addComposite=s.addComposite,e.addBody=s.addBody,e.addConstraint=s.addConstraint}()}])})})(Gn);var li=Gn.exports;const Q=Wn(li),Je=6,rt=330,Un=51,dt=4.7625,Le=17.5,ze=102,et=203,be=305,Xn=15,St=rt+Un,ue=St+Je,ne=ue,ui=96,fi=39,ci=32,di=32,pi=0,Qt=Object.freeze(Object.defineProperty({__proto__:null,baseR:St,boardR:ue,center:ne,discR:Xn,ditchW:Un,fifteenR:ze,fiveR:be,marginBottom:ci,marginSide:pi,pegR:dt,rimW:Je,scoreHeight:fi,stepperPadding:di,surfaceR:rt,tenR:et,twentyR:Le,uiHeight:ui},Symbol.toStringTag,{value:"Module"})),hi={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},mi={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)","pink-aa":"#FF24FF","pink-aaa":"#D100D1","teal-aa":"#00A3A3","teal-aaa":"#008080","red-aa":"#FE5F55","red-aaa":"#E91101","purple-aaa":"#564592"},Mt={category:hi,color:mi,"":{"11px":"0.7rem","12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}};var bt={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(m){(function(){var a=function(){this.init()};a.prototype={init:function(){var t=this||r;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator=typeof window<"u"&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var i=this||r;if(t=parseFloat(t),i.ctx||c(),typeof t<"u"&&t>=0&&t<=1){if(i._volume=t,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(t,r.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var u=i._howls[n]._getSoundIds(),f=0;f<u.length;f++){var v=i._howls[n]._soundById(u[f]);v&&v._node&&(v._node.volume=v._volume*t)}return i}return i._volume},mute:function(t){var i=this||r;i.ctx||c(),i._muted=t,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(t?0:i._volume,r.ctx.currentTime);for(var n=0;n<i._howls.length;n++)if(!i._howls[n]._webAudio)for(var u=i._howls[n]._getSoundIds(),f=0;f<u.length;f++){var v=i._howls[n]._soundById(u[f]);v&&v._node&&(v._node.muted=t?!0:v._muted)}return i},stop:function(){for(var t=this||r,i=0;i<t._howls.length;i++)t._howls[i].stop();return t},unload:function(){for(var t=this||r,i=t._howls.length-1;i>=0;i--)t._howls[i].unload();return t.usingWebAudio&&t.ctx&&typeof t.ctx.close<"u"&&(t.ctx.close(),t.ctx=null,c()),t},codecs:function(t){return(this||r)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||r;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if(typeof Audio<"u")try{var i=new Audio;typeof i.oncanplaythrough>"u"&&(t._canPlayEvent="canplay")}catch{t.noAudio=!0}else t.noAudio=!0;try{var i=new Audio;i.muted&&(t.noAudio=!0)}catch{}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||r,i=null;try{i=typeof Audio<"u"?new Audio:null}catch{return t}if(!i||typeof i.canPlayType!="function")return t;var n=i.canPlayType("audio/mpeg;").replace(/^no$/,""),u=t._navigator?t._navigator.userAgent:"",f=u.match(/OPR\/(\d+)/g),v=f&&parseInt(f[0].split("/")[1],10)<33,_=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,b=u.match(/Version\/(.*?) /),A=_&&b&&parseInt(b[1],10)<15;return t._codecs={mp3:!!(!v&&(n||i.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!n,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(i.canPlayType('audio/wav; codecs="1"')||i.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(i.canPlayType("audio/x-m4b;")||i.canPlayType("audio/m4b;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!A&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!A&&i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||r;if(!(t._audioUnlocked||!t.ctx)){t._audioUnlocked=!1,t.autoUnlock=!1,!t._mobileUnloaded&&t.ctx.sampleRate!==44100&&(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var i=function(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,t._releaseHtml5Audio(u)}catch{t.noAudio=!0;break}for(var f=0;f<t._howls.length;f++)if(!t._howls[f]._webAudio)for(var v=t._howls[f]._getSoundIds(),_=0;_<v.length;_++){var b=t._howls[f]._soundById(v[_]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}t._autoResume();var A=t.ctx.createBufferSource();A.buffer=t._scratchBuffer,A.connect(t.ctx.destination),typeof A.start>"u"?A.noteOn(0):A.start(0),typeof t.ctx.resume=="function"&&t.ctx.resume(),A.onended=function(){A.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",i,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("click",i,!0),document.removeEventListener("keydown",i,!0);for(var P=0;P<t._howls.length;P++)t._howls[P]._emit("unlock")}};return document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0),document.addEventListener("keydown",i,!0),t}},_obtainHtml5Audio:function(){var t=this||r;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var i=new Audio().play();return i&&typeof Promise<"u"&&(i instanceof Promise||typeof i.then=="function")&&i.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(t){var i=this||r;return t._unlocked&&i._html5AudioPool.push(t),i},_autoSuspend:function(){var t=this;if(!(!t.autoSuspend||!t.ctx||typeof t.ctx.suspend>"u"||!r.usingWebAudio)){for(var i=0;i<t._howls.length;i++)if(t._howls[i]._webAudio){for(var n=0;n<t._howls[i]._sounds.length;n++)if(!t._howls[i]._sounds[n]._paused)return t}return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var u=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(u,u)}},3e4),t}},_autoResume:function(){var t=this;if(!(!t.ctx||typeof t.ctx.resume>"u"||!r.usingWebAudio))return t.state==="running"&&t.ctx.state!=="interrupted"&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):t.state==="suspended"||t.state==="running"&&t.ctx.state==="interrupted"?(t.ctx.resume().then(function(){t.state="running";for(var i=0;i<t._howls.length;i++)t._howls[i]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):t.state==="suspending"&&(t._resumeAfterSuspend=!0),t}};var r=new a,p=function(t){var i=this;if(!t.src||t.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}i.init(t)};p.prototype={init:function(t){var i=this;return r.ctx||c(),i._autoplay=t.autoplay||!1,i._format=typeof t.format!="string"?t.format:[t.format],i._html5=t.html5||!1,i._muted=t.mute||!1,i._loop=t.loop||!1,i._pool=t.pool||5,i._preload=typeof t.preload=="boolean"||t.preload==="metadata"?t.preload:!0,i._rate=t.rate||1,i._sprite=t.sprite||{},i._src=typeof t.src!="string"?t.src:[t.src],i._volume=t.volume!==void 0?t.volume:1,i._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:t.xhr&&t.xhr.withCredentials?t.xhr.withCredentials:!1},i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=t.onend?[{fn:t.onend}]:[],i._onfade=t.onfade?[{fn:t.onfade}]:[],i._onload=t.onload?[{fn:t.onload}]:[],i._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],i._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],i._onpause=t.onpause?[{fn:t.onpause}]:[],i._onplay=t.onplay?[{fn:t.onplay}]:[],i._onstop=t.onstop?[{fn:t.onstop}]:[],i._onmute=t.onmute?[{fn:t.onmute}]:[],i._onvolume=t.onvolume?[{fn:t.onvolume}]:[],i._onrate=t.onrate?[{fn:t.onrate}]:[],i._onseek=t.onseek?[{fn:t.onseek}]:[],i._onunlock=t.onunlock?[{fn:t.onunlock}]:[],i._onresume=[],i._webAudio=r.usingWebAudio&&!i._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&i._preload!=="none"&&i.load(),i},load:function(){var t=this,i=null;if(r.noAudio){t._emit("loaderror",null,"No audio support.");return}typeof t._src=="string"&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var u,f;if(t._format&&t._format[n])u=t._format[n];else{if(f=t._src[n],typeof f!="string"){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(f),u||(u=/\.([^.]+)$/.exec(f.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&r.codecs(u)){i=t._src[n];break}}if(!i){t._emit("loaderror",null,"No codec support for selected audio sources.");return}return t._src=i,t._state="loading",window.location.protocol==="https:"&&i.slice(0,5)==="http:"&&(t._html5=!0,t._webAudio=!1),new o(t),t._webAudio&&s(t),t},play:function(t,i){var n=this,u=null;if(typeof t=="number")u=t,t=null;else{if(typeof t=="string"&&n._state==="loaded"&&!n._sprite[t])return null;if(typeof t>"u"&&(t="__default",!n._playLock)){for(var f=0,v=0;v<n._sounds.length;v++)n._sounds[v]._paused&&!n._sounds[v]._ended&&(f++,u=n._sounds[v]._id);f===1?t=null:u=null}}var _=u?n._soundById(u):n._inactiveSound();if(!_)return null;if(u&&!t&&(t=_._sprite||"__default"),n._state!=="loaded"){_._sprite=t,_._ended=!1;var b=_._id;return n._queue.push({event:"play",action:function(){n.play(b)}}),b}if(u&&!_._paused)return i||n._loadQueue("play"),_._id;n._webAudio&&r._autoResume();var A=Math.max(0,_._seek>0?_._seek:n._sprite[t][0]/1e3),P=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-A),y=P*1e3/Math.abs(_._rate),x=n._sprite[t][0]/1e3,w=(n._sprite[t][0]+n._sprite[t][1])/1e3;_._sprite=t,_._ended=!1;var g=function(){_._paused=!1,_._seek=A,_._start=x,_._stop=w,_._loop=!!(_._loop||n._sprite[t][2])};if(A>=w){n._ended(_);return}var S=_._node;if(n._webAudio){var T=function(){n._playLock=!1,g(),n._refreshBuffer(_);var E=_._muted||n._muted?0:_._volume;S.gain.setValueAtTime(E,r.ctx.currentTime),_._playStart=r.ctx.currentTime,typeof S.bufferSource.start>"u"?_._loop?S.bufferSource.noteGrainOn(0,A,86400):S.bufferSource.noteGrainOn(0,A,P):_._loop?S.bufferSource.start(0,A,86400):S.bufferSource.start(0,A,P),y!==1/0&&(n._endTimers[_._id]=setTimeout(n._ended.bind(n,_),y)),i||setTimeout(function(){n._emit("play",_._id),n._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?T():(n._playLock=!0,n.once("resume",T),n._clearTimer(_._id))}else{var M=function(){S.currentTime=A,S.muted=_._muted||n._muted||r._muted||S.muted,S.volume=_._volume*r.volume(),S.playbackRate=_._rate;try{var E=S.play();if(E&&typeof Promise<"u"&&(E instanceof Promise||typeof E.then=="function")?(n._playLock=!0,g(),E.then(function(){n._playLock=!1,S._unlocked=!0,i?n._loadQueue():n._emit("play",_._id)}).catch(function(){n._playLock=!1,n._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):i||(n._playLock=!1,g(),n._emit("play",_._id)),S.playbackRate=_._rate,S.paused){n._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}t!=="__default"||_._loop?n._endTimers[_._id]=setTimeout(n._ended.bind(n,_),y):(n._endTimers[_._id]=function(){n._ended(_),S.removeEventListener("ended",n._endTimers[_._id],!1)},S.addEventListener("ended",n._endTimers[_._id],!1))}catch(D){n._emit("playerror",_._id,D)}};S.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(S.src=n._src,S.load());var k=window&&window.ejecta||!S.readyState&&r._navigator.isCocoonJS;if(S.readyState>=3||k)M();else{n._playLock=!0,n._state="loading";var C=function(){n._state="loaded",M(),S.removeEventListener(r._canPlayEvent,C,!1)};S.addEventListener(r._canPlayEvent,C,!1),n._clearTimer(_._id)}}return _._id},pause:function(t){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(t)}}),i;for(var n=i._getSoundIds(t),u=0;u<n.length;u++){i._clearTimer(n[u]);var f=i._soundById(n[u]);if(f&&!f._paused&&(f._seek=i.seek(n[u]),f._rateSeek=0,f._paused=!0,i._stopFade(n[u]),f._node))if(i._webAudio){if(!f._node.bufferSource)continue;typeof f._node.bufferSource.stop>"u"?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),i._cleanBuffer(f._node)}else(!isNaN(f._node.duration)||f._node.duration===1/0)&&f._node.pause();arguments[1]||i._emit("pause",f?f._id:null)}return i},stop:function(t,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var u=n._getSoundIds(t),f=0;f<u.length;f++){n._clearTimer(u[f]);var v=n._soundById(u[f]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,n._stopFade(u[f]),v._node&&(n._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),n._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&n._clearSound(v._node))),i||n._emit("stop",v._id))}return n},mute:function(t,i){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,i)}}),n;if(typeof i>"u")if(typeof t=="boolean")n._muted=t;else return n._muted;for(var u=n._getSoundIds(i),f=0;f<u.length;f++){var v=n._soundById(u[f]);v&&(v._muted=t,v._interval&&n._stopFade(v._id),n._webAudio&&v._node?v._node.gain.setValueAtTime(t?0:v._volume,r.ctx.currentTime):v._node&&(v._node.muted=r._muted?!0:t),n._emit("mute",v._id))}return n},volume:function(){var t=this,i=arguments,n,u;if(i.length===0)return t._volume;if(i.length===1||i.length===2&&typeof i[1]>"u"){var f=t._getSoundIds(),v=f.indexOf(i[0]);v>=0?u=parseInt(i[0],10):n=parseFloat(i[0])}else i.length>=2&&(n=parseFloat(i[0]),u=parseInt(i[1],10));var _;if(typeof n<"u"&&n>=0&&n<=1){if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"volume",action:function(){t.volume.apply(t,i)}}),t;typeof u>"u"&&(t._volume=n),u=t._getSoundIds(u);for(var b=0;b<u.length;b++)_=t._soundById(u[b]),_&&(_._volume=n,i[2]||t._stopFade(u[b]),t._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(n,r.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=n*r.volume()),t._emit("volume",_._id))}else return _=u?t._soundById(u):t._sounds[0],_?_._volume:0;return t},fade:function(t,i,n,u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"fade",action:function(){f.fade(t,i,n,u)}}),f;t=Math.min(Math.max(0,parseFloat(t)),1),i=Math.min(Math.max(0,parseFloat(i)),1),n=parseFloat(n),f.volume(t,u);for(var v=f._getSoundIds(u),_=0;_<v.length;_++){var b=f._soundById(v[_]);if(b){if(u||f._stopFade(v[_]),f._webAudio&&!b._muted){var A=r.ctx.currentTime,P=A+n/1e3;b._volume=t,b._node.gain.setValueAtTime(t,A),b._node.gain.linearRampToValueAtTime(i,P)}f._startFadeInterval(b,t,i,n,v[_],typeof u>"u")}}return f},_startFadeInterval:function(t,i,n,u,f,v){var _=this,b=i,A=n-i,P=Math.abs(A/.01),y=Math.max(4,P>0?u/P:u),x=Date.now();t._fadeTo=n,t._interval=setInterval(function(){var w=(Date.now()-x)/u;x=Date.now(),b+=A*w,b=Math.round(b*100)/100,A<0?b=Math.max(n,b):b=Math.min(n,b),_._webAudio?t._volume=b:_.volume(b,t._id,!0),v&&(_._volume=b),(n<i&&b<=n||n>i&&b>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,_.volume(n,t._id),_._emit("fade",t._id))},y)},_stopFade:function(t){var i=this,n=i._soundById(t);return n&&n._interval&&(i._webAudio&&n._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(n._interval),n._interval=null,i.volume(n._fadeTo,t),n._fadeTo=null,i._emit("fade",t)),i},loop:function(){var t=this,i=arguments,n,u,f;if(i.length===0)return t._loop;if(i.length===1)if(typeof i[0]=="boolean")n=i[0],t._loop=n;else return f=t._soundById(parseInt(i[0],10)),f?f._loop:!1;else i.length===2&&(n=i[0],u=parseInt(i[1],10));for(var v=t._getSoundIds(u),_=0;_<v.length;_++)f=t._soundById(v[_]),f&&(f._loop=n,t._webAudio&&f._node&&f._node.bufferSource&&(f._node.bufferSource.loop=n,n&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop,t.playing(v[_])&&(t.pause(v[_],!0),t.play(v[_],!0)))));return t},rate:function(){var t=this,i=arguments,n,u;if(i.length===0)u=t._sounds[0]._id;else if(i.length===1){var f=t._getSoundIds(),v=f.indexOf(i[0]);v>=0?u=parseInt(i[0],10):n=parseFloat(i[0])}else i.length===2&&(n=parseFloat(i[0]),u=parseInt(i[1],10));var _;if(typeof n=="number"){if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"rate",action:function(){t.rate.apply(t,i)}}),t;typeof u>"u"&&(t._rate=n),u=t._getSoundIds(u);for(var b=0;b<u.length;b++)if(_=t._soundById(u[b]),_){t.playing(u[b])&&(_._rateSeek=t.seek(u[b]),_._playStart=t._webAudio?r.ctx.currentTime:_._playStart),_._rate=n,t._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(n,r.ctx.currentTime):_._node&&(_._node.playbackRate=n);var A=t.seek(u[b]),P=(t._sprite[_._sprite][0]+t._sprite[_._sprite][1])/1e3-A,y=P*1e3/Math.abs(_._rate);(t._endTimers[u[b]]||!_._paused)&&(t._clearTimer(u[b]),t._endTimers[u[b]]=setTimeout(t._ended.bind(t,_),y)),t._emit("rate",_._id)}}else return _=t._soundById(u),_?_._rate:t._rate;return t},seek:function(){var t=this,i=arguments,n,u;if(i.length===0)t._sounds.length&&(u=t._sounds[0]._id);else if(i.length===1){var f=t._getSoundIds(),v=f.indexOf(i[0]);v>=0?u=parseInt(i[0],10):t._sounds.length&&(u=t._sounds[0]._id,n=parseFloat(i[0]))}else i.length===2&&(n=parseFloat(i[0]),u=parseInt(i[1],10));if(typeof u>"u")return 0;if(typeof n=="number"&&(t._state!=="loaded"||t._playLock))return t._queue.push({event:"seek",action:function(){t.seek.apply(t,i)}}),t;var _=t._soundById(u);if(_)if(typeof n=="number"&&n>=0){var b=t.playing(u);b&&t.pause(u,!0),_._seek=n,_._ended=!1,t._clearTimer(u),!t._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=n);var A=function(){b&&t.play(u,!0),t._emit("seek",u)};if(b&&!t._webAudio){var P=function(){t._playLock?setTimeout(P,0):A()};setTimeout(P,0)}else A()}else if(t._webAudio){var y=t.playing(u)?r.ctx.currentTime-_._playStart:0,x=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(x+y*Math.abs(_._rate))}else return _._node.currentTime;return t},playing:function(t){var i=this;if(typeof t=="number"){var n=i._soundById(t);return n?!n._paused:!1}for(var u=0;u<i._sounds.length;u++)if(!i._sounds[u]._paused)return!0;return!1},duration:function(t){var i=this,n=i._duration,u=i._soundById(t);return u&&(n=i._sprite[u._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,i=t._sounds,n=0;n<i.length;n++)i[n]._paused||t.stop(i[n]._id),t._webAudio||(t._clearSound(i[n]._node),i[n]._node.removeEventListener("error",i[n]._errorFn,!1),i[n]._node.removeEventListener(r._canPlayEvent,i[n]._loadFn,!1),i[n]._node.removeEventListener("ended",i[n]._endFn,!1),r._releaseHtml5Audio(i[n]._node)),delete i[n]._node,t._clearTimer(i[n]._id);var u=r._howls.indexOf(t);u>=0&&r._howls.splice(u,1);var f=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===t._src||t._src.indexOf(r._howls[n]._src)>=0){f=!1;break}return e&&f&&delete e[t._src],r.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,i,n,u){var f=this,v=f["_on"+t];return typeof i=="function"&&v.push(u?{id:n,fn:i,once:u}:{id:n,fn:i}),f},off:function(t,i,n){var u=this,f=u["_on"+t],v=0;if(typeof i=="number"&&(n=i,i=null),i||n)for(v=0;v<f.length;v++){var _=n===f[v].id;if(i===f[v].fn&&_||!i&&_){f.splice(v,1);break}}else if(t)u["_on"+t]=[];else{var b=Object.keys(u);for(v=0;v<b.length;v++)b[v].indexOf("_on")===0&&Array.isArray(u[b[v]])&&(u[b[v]]=[])}return u},once:function(t,i,n){var u=this;return u.on(t,i,n,1),u},_emit:function(t,i,n){for(var u=this,f=u["_on"+t],v=f.length-1;v>=0;v--)(!f[v].id||f[v].id===i||t==="load")&&(setTimeout((function(_){_.call(this,i,n)}).bind(u,f[v].fn),0),f[v].once&&u.off(t,f[v].fn,f[v].id));return u._loadQueue(t),u},_loadQueue:function(t){var i=this;if(i._queue.length>0){var n=i._queue[0];n.event===t&&(i._queue.shift(),i._loadQueue()),t||n.action()}return i},_ended:function(t){var i=this,n=t._sprite;if(!i._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(i._ended.bind(i,t),100),i;var u=!!(t._loop||i._sprite[n][2]);if(i._emit("end",t._id),!i._webAudio&&u&&i.stop(t._id,!0).play(t._id),i._webAudio&&u){i._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=r.ctx.currentTime;var f=(t._stop-t._start)*1e3/Math.abs(t._rate);i._endTimers[t._id]=setTimeout(i._ended.bind(i,t),f)}return i._webAudio&&!u&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,i._clearTimer(t._id),i._cleanBuffer(t._node),r._autoSuspend()),!i._webAudio&&!u&&i.stop(t._id,!0),i},_clearTimer:function(t){var i=this;if(i._endTimers[t]){if(typeof i._endTimers[t]!="function")clearTimeout(i._endTimers[t]);else{var n=i._soundById(t);n&&n._node&&n._node.removeEventListener("ended",i._endTimers[t],!1)}delete i._endTimers[t]}return i},_soundById:function(t){for(var i=this,n=0;n<i._sounds.length;n++)if(t===i._sounds[n]._id)return i._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var i=0;i<t._sounds.length;i++)if(t._sounds[i]._ended)return t._sounds[i].reset();return new o(t)},_drain:function(){var t=this,i=t._pool,n=0,u=0;if(!(t._sounds.length<i)){for(u=0;u<t._sounds.length;u++)t._sounds[u]._ended&&n++;for(u=t._sounds.length-1;u>=0;u--){if(n<=i)return;t._sounds[u]._ended&&(t._webAudio&&t._sounds[u]._node&&t._sounds[u]._node.disconnect(0),t._sounds.splice(u,1),n--)}}},_getSoundIds:function(t){var i=this;if(typeof t>"u"){for(var n=[],u=0;u<i._sounds.length;u++)n.push(i._sounds[u]._id);return n}else return[t]},_refreshBuffer:function(t){var i=this;return t._node.bufferSource=r.ctx.createBufferSource(),t._node.bufferSource.buffer=e[i._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,r.ctx.currentTime),i},_cleanBuffer:function(t){var i=this,n=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!t.bufferSource)return i;if(r._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),n))try{t.bufferSource.buffer=r._scratchBuffer}catch{}return t.bufferSource=null,i},_clearSound:function(t){var i=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);i||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(t){this._parent=t,this.init()};o.prototype={init:function(){var t=this,i=t._parent;return t._muted=i._muted,t._loop=i._loop,t._volume=i._volume,t._rate=i._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++r._counter,i._sounds.push(t),t.create(),t},create:function(){var t=this,i=t._parent,n=r._muted||t._muted||t._parent._muted?0:t._volume;return i._webAudio?(t._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),t._node.gain.setValueAtTime(n,r.ctx.currentTime),t._node.paused=!0,t._node.connect(r.masterGain)):r.noAudio||(t._node=r._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(r._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=i._src,t._node.preload=i._preload===!0?"auto":i._preload,t._node.volume=n*r.volume(),t._node.load()),t},reset:function(){var t=this,i=t._parent;return t._muted=i._muted,t._loop=i._loop,t._volume=i._volume,t._rate=i._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++r._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,i=t._parent;i._duration=Math.ceil(t._node.duration*10)/10,Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue()),t._node.removeEventListener(r._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,i=t._parent;i._duration===1/0&&(i._duration=Math.ceil(t._node.duration*10)/10,i._sprite.__default[1]===1/0&&(i._sprite.__default[1]=i._duration*1e3),i._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var e={},s=function(t){var i=t._src;if(e[i]){t._duration=e[i].duration,h(t);return}if(/^data:[^;]+;base64,/.test(i)){for(var n=atob(i.split(",")[1]),u=new Uint8Array(n.length),f=0;f<n.length;++f)u[f]=n.charCodeAt(f);l(u.buffer,t)}else{var v=new XMLHttpRequest;v.open(t._xhr.method,i,!0),v.withCredentials=t._xhr.withCredentials,v.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach(function(_){v.setRequestHeader(_,t._xhr.headers[_])}),v.onload=function(){var _=(v.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){t._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}l(v.response,t)},v.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete e[i],t.load())},d(v)}},d=function(t){try{t.send()}catch{t.onerror()}},l=function(t,i){var n=function(){i._emit("loaderror",null,"Decoding audio data failed.")},u=function(f){f&&i._sounds.length>0?(e[i._src]=f,h(i,f)):n()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(t).then(u).catch(n):r.ctx.decodeAudioData(t,u,n)},h=function(t,i){i&&!t._duration&&(t._duration=i.duration),Object.keys(t._sprite).length===0&&(t._sprite={__default:[0,t._duration*1e3]}),t._state!=="loaded"&&(t._state="loaded",t._emit("load"),t._loadQueue())},c=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),i=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=i?parseInt(i[1],10):null;if(t&&n&&n<9){var u=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!u&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};m.Howler=r,m.Howl=p,typeof Ve<"u"?(Ve.HowlerGlobal=a,Ve.Howler=r,Ve.Howl=p,Ve.Sound=o):typeof window<"u"&&(window.HowlerGlobal=a,window.Howler=r,window.Howl=p,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var p=this;if(!p.ctx||!p.ctx.listener)return p;for(var o=p._howls.length-1;o>=0;o--)p._howls[o].stereo(r);return p},HowlerGlobal.prototype.pos=function(r,p,o){var e=this;if(!e.ctx||!e.ctx.listener)return e;if(p=typeof p!="number"?e._pos[1]:p,o=typeof o!="number"?e._pos[2]:o,typeof r=="number")e._pos=[r,p,o],typeof e.ctx.listener.positionX<"u"?(e.ctx.listener.positionX.setTargetAtTime(e._pos[0],Howler.ctx.currentTime,.1),e.ctx.listener.positionY.setTargetAtTime(e._pos[1],Howler.ctx.currentTime,.1),e.ctx.listener.positionZ.setTargetAtTime(e._pos[2],Howler.ctx.currentTime,.1)):e.ctx.listener.setPosition(e._pos[0],e._pos[1],e._pos[2]);else return e._pos;return e},HowlerGlobal.prototype.orientation=function(r,p,o,e,s,d){var l=this;if(!l.ctx||!l.ctx.listener)return l;var h=l._orientation;if(p=typeof p!="number"?h[1]:p,o=typeof o!="number"?h[2]:o,e=typeof e!="number"?h[3]:e,s=typeof s!="number"?h[4]:s,d=typeof d!="number"?h[5]:d,typeof r=="number")l._orientation=[r,p,o,e,s,d],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(p,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(r,p,o,e,s,d);else return h;return l},Howl.prototype.init=function(r){return function(p){var o=this;return o._orientation=p.orientation||[1,0,0],o._stereo=p.stereo||null,o._pos=p.pos||null,o._pannerAttr={coneInnerAngle:typeof p.coneInnerAngle<"u"?p.coneInnerAngle:360,coneOuterAngle:typeof p.coneOuterAngle<"u"?p.coneOuterAngle:360,coneOuterGain:typeof p.coneOuterGain<"u"?p.coneOuterGain:0,distanceModel:typeof p.distanceModel<"u"?p.distanceModel:"inverse",maxDistance:typeof p.maxDistance<"u"?p.maxDistance:1e4,panningModel:typeof p.panningModel<"u"?p.panningModel:"HRTF",refDistance:typeof p.refDistance<"u"?p.refDistance:1,rolloffFactor:typeof p.rolloffFactor<"u"?p.rolloffFactor:1},o._onstereo=p.onstereo?[{fn:p.onstereo}]:[],o._onpos=p.onpos?[{fn:p.onpos}]:[],o._onorientation=p.onorientation?[{fn:p.onorientation}]:[],r.call(this,p)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,p){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(r,p)}}),o;var e=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof p>"u")if(typeof r=="number")o._stereo=r,o._pos=[r,0,0];else return o._stereo;for(var s=o._getSoundIds(p),d=0;d<s.length;d++){var l=o._soundById(s[d]);if(l)if(typeof r=="number")l._stereo=r,l._pos=[r,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&a(l,e),e==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(r,0,0):l._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),o._emit("stereo",l._id);else return l._stereo}return o},Howl.prototype.pos=function(r,p,o,e){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(r,p,o,e)}}),s;if(p=typeof p!="number"?0:p,o=typeof o!="number"?-.5:o,typeof e>"u")if(typeof r=="number")s._pos=[r,p,o];else return s._pos;for(var d=s._getSoundIds(e),l=0;l<d.length;l++){var h=s._soundById(d[l]);if(h)if(typeof r=="number")h._pos=[r,p,o],h._node&&((!h._panner||h._panner.pan)&&a(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(p,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setPosition(r,p,o)),s._emit("pos",h._id);else return h._pos}return s},Howl.prototype.orientation=function(r,p,o,e){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(r,p,o,e)}}),s;if(p=typeof p!="number"?s._orientation[1]:p,o=typeof o!="number"?s._orientation[2]:o,typeof e>"u")if(typeof r=="number")s._orientation=[r,p,o];else return s._orientation;for(var d=s._getSoundIds(e),l=0;l<d.length;l++){var h=s._soundById(d[l]);if(h)if(typeof r=="number")h._orientation=[r,p,o],h._node&&(h._panner||(h._pos||(h._pos=s._pos||[0,0,-.5]),a(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(p,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):h._panner.setOrientation(r,p,o)),s._emit("orientation",h._id);else return h._orientation}return s},Howl.prototype.pannerAttr=function(){var r=this,p=arguments,o,e,s;if(!r._webAudio)return r;if(p.length===0)return r._pannerAttr;if(p.length===1)if(typeof p[0]=="object")o=p[0],typeof e>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),r._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:r._panningModel});else return s=r._soundById(parseInt(p[0],10)),s?s._pannerAttr:r._pannerAttr;else p.length===2&&(o=p[0],e=parseInt(p[1],10));for(var d=r._getSoundIds(e),l=0;l<d.length;l++)if(s=r._soundById(d[l]),s){var h=s._pannerAttr;h={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:h.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:h.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:h.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:h.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:h.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:h.panningModel};var c=s._panner;c||(s._pos||(s._pos=r._pos||[0,0,-.5]),a(s,"spatial"),c=s._panner),c.coneInnerAngle=h.coneInnerAngle,c.coneOuterAngle=h.coneOuterAngle,c.coneOuterGain=h.coneOuterGain,c.distanceModel=h.distanceModel,c.maxDistance=h.maxDistance,c.refDistance=h.refDistance,c.rolloffFactor=h.rolloffFactor,c.panningModel=h.panningModel}return r},Sound.prototype.init=function(r){return function(){var p=this,o=p._parent;p._orientation=o._orientation,p._stereo=o._stereo,p._pos=o._pos,p._pannerAttr=o._pannerAttr,r.call(this),p._stereo?o.stereo(p._stereo):p._pos&&o.pos(p._pos[0],p._pos[1],p._pos[2],p._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var p=this,o=p._parent;return p._orientation=o._orientation,p._stereo=o._stereo,p._pos=o._pos,p._pannerAttr=o._pannerAttr,p._stereo?o.stereo(p._stereo):p._pos?o.pos(p._pos[0],p._pos[1],p._pos[2],p._id):p._panner&&(p._panner.disconnect(0),p._panner=void 0,o._refreshBuffer(p)),r.call(this)}}(Sound.prototype.reset);var a=function(r,p){p=p||"spatial",p==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(bt);const Vt=$e(!1),Ye=1,Ct=2,nn=4,It=8,rn=16,vi=1,gi=.05,_i=.05,yi=1,xi=.2,Et={player1:Mt.color["pink-aa"],player2:Mt.color["teal-aa"],active:Mt.color.black,vector:Mt.color.black};let Qe=!1,_t;const wi=new bt.Howl({src:[`${Lt}/assets/audio/disc.mp3`]}),Wt=new bt.Howl({src:[`${Lt}/assets/audio/rim.mp3`]}),on=new bt.Howl({src:[`${Lt}/assets/audio/flick.mp3`]}),an=new bt.Howl({src:[`${Lt}/assets/audio/hole.mp3`]});Vt.subscribe(m=>{_t=m});class Si{constructor(){this.events={}}on(a,r){this.events[a]||(this.events[a]=[]),this.events[a].push(r)}emit(a,r){this.events[a]&&this.events[a].forEach(p=>p(r))}}function bi(){const m=new Si;let a,r,p,o,e,s,d,l,h,c,t,i,n=[],u,f;function v(B){const R=i/(ue*2);return B*R}function _(){const B=Q.Bodies.circle(ne,ne,ue,{isStatic:!0,isSensor:!0,render:{visible:Qe,fillStyle:"rgba(0,0,0,0)",lineWidth:1},label:"surface"},64),R=Q.Bodies.circle(ne,ne,ue-Je,{isStatic:!0,isSensor:!0,render:{visible:Qe,fillStyle:"rgba(0,0,0,0)",lineWidth:1},label:"surface"},64),F=Q.Bodies.circle(ne,ne,rt,{isStatic:!0,isSensor:!0,render:{visible:Qe,fillStyle:"rgba(0,0,0,0)",lineWidth:1},label:"surface"},64),H=Q.Bodies.circle(ne,ne,Le,{isStatic:!0,isSensor:!0,render:{visible:Qe,fillStyle:"rgba(0,0,0,0)",lineWidth:1},label:"20"},64),X=Q.Bodies.circle(ne,ne,ze,{isStatic:!0,isSensor:!0,render:{visible:Qe,fillStyle:"rgba(0,0,0,0)",lineWidth:1},label:"15"},64),I=Q.Bodies.circle(ne,ne,et,{isStatic:!0,isSensor:!0,render:{visible:Qe,fillStyle:"rgba(0,0,0,0)",lineWidth:1},label:"10"},64),O=Q.Bodies.circle(ne,ne,be,{isStatic:!0,isSensor:!0,render:{visible:Qe,fillStyle:"rgba(0,0,0,0)",lineWidth:1},label:"5"},64);Q.Composite.add(r,[R,B,F,H,X,I,O])}function b(){const R=Math.max(2,Le),F=Le+R/2-1,H=[];for(let X=0;X<16;X++){const I=X/16*2*Math.PI,O=ne+Math.cos(I)*F,z=ne+Math.sin(I)*F,le=2*Math.PI*F/16,ie=Q.Bodies.rectangle(O,z,R,le,{isStatic:!0,isSensor:!1,angle:I,render:{visible:!1},label:"trap 20",collisionFilter:{category:nn,mask:Ye}});H.push(ie)}Q.Composite.add(r,H)}function A(){const R=Le*4,F=St-Je+R/2-1,H=[];for(let X=0;X<32;X++){const I=X/32*2*Math.PI,O=ne+Math.cos(I)*F,z=ne+Math.sin(I)*F,le=2*Math.PI*F/32,ie=Q.Bodies.rectangle(O,z,R,le,{isStatic:!0,isSensor:!1,angle:I,render:{visible:!1},label:"trap rim",collisionFilter:{category:It,mask:Ye}});H.push(ie)}Q.Composite.add(r,H)}function P(){const R=Le,F=rt-R/2+1,H=[];for(let X=0;X<32;X++){const I=X/32*2*Math.PI,O=ne+Math.cos(I)*F,z=ne+Math.sin(I)*F,le=2*Math.PI*F/32,ie=Q.Bodies.rectangle(O,z,R,le,{isStatic:!0,isSensor:!1,angle:I,render:{visible:!1},label:"trap surface",collisionFilter:{category:rn,mask:Ye}});H.push(ie)}Q.Composite.add(r,H)}function y(){const B=[],R=dt;for(let F=0;F<8;F++){const H=.375+F/8*Math.PI*2,X=ne+Math.cos(H)*ze,I=ne+Math.sin(H)*ze,O=Q.Bodies.circle(X,I,R,{isStatic:!0,restitution:yi,render:{visible:Qe},collisionFilter:{category:Ct,mask:Ye}},32);B.push(O)}Q.Composite.add(r,B)}function x(B,R,F,H,X,I){const O=Math.atan2(X-F,H-R),z=H-I*Math.cos(O-Math.PI/4),le=X-I*Math.sin(O-Math.PI/4),ie=H-I*Math.cos(O+Math.PI/4),we=X-I*Math.sin(O+Math.PI/4);B.moveTo(H,X),B.lineTo(z,le),B.moveTo(H,X),B.lineTo(ie,we)}function w(B){if(!f)return;const R=f.circleRadius,F=f.position;if(u==="shoot"&&l&&h){const H=Q.Vector.normalise(l),X=v(F.x+H.x*R*1.25),I=v(F.y+H.y*R*1.25),O=v(F.x+H.x*R*1.5+l.x),z=v(F.y+H.y*R*1.5+l.y);B.beginPath(),B.strokeStyle=Et.vector,B.lineWidth=i<480?1:2,B.moveTo(X,I),B.lineTo(O,z),B.stroke();const le=v(R*.75),ie=Math.PI/4,we=Math.atan2(l.y,l.x),ve=O-le*Math.cos(we-ie),De=z-le*Math.sin(we-ie),Ge=O-le*Math.cos(we+ie),Ue=z-le*Math.sin(we+ie);B.beginPath(),B.moveTo(O,z),B.lineTo(ve,De),B.moveTo(O,z),B.lineTo(Ge,Ue),B.stroke(),B.closePath()}else if(u==="position"&&h){B.beginPath(),B.strokeStyle=Et.vector,B.stroke(),B.beginPath(),B.strokeStyle=Et.vector,B.lineWidth=i<480?1:2;const H=v(F.x-R*2.5),X=v(F.x-R*1.25),I=v(F.x+R*2.5),O=v(F.x+R*1.25),z=v(F.y),le=v(R*.75);B.moveTo(H,z),B.lineTo(X,z),B.moveTo(I,z),B.lineTo(O,z),B.stroke(),B.closePath(),B.beginPath(),x(B,X,z,H,z,le),x(B,O,z,I,z,le),B.stroke(),B.closePath()}}function g(){const B=o.context;w(B)}function S(B){B.pairs.forEach(({bodyA:R,bodyB:F})=>{const H=R.label==="disc"?R:F.label==="disc"?F:null,X=R.label==="20"?R:F.label==="20"?F:null;if(H&&X&&!H.in20){const I=Q.Vector.magnitude(Q.Vector.sub(H.position,X.position)),z=H.circleRadius*.75,le=10,ie=I<z,we=H.speed<le;if(ie&&we){if(!_t&&!t){const De=Math.min(1,H.speed*.05);an.volume(De),an.play()}H.in20=!0,H.collisionFilter.mask=Ye|Ct|It|nn,H.restitution=.4}}})}function T(B){B.pairs.forEach(({bodyA:R,bodyB:F})=>{const H=R.label==="disc"?R:F.label==="disc"?F:null,X=R.label==="disc"&&R.id!==H.id?R:F.label==="disc"&&F.id!==H.id?F:null,I=R.label==="trap rim"?R:F.label==="trap rim"?F:null;if(H&&I){if(!_t&&!t){const O=Math.min(1,H.speed*.05);Wt.volume(O),Wt.play()}H.frictionAir=.3,H.collisionFilter.mask=Ye|Ct|It|rn}else if(H&&X){if(!_t&&!t){const z=Math.min(1,H.speed*.05);Wt.volume(z),wi.play()}H.collided=!0,X.collided=!0;const O=H.player!==X.player;H.collidedOpp=O,X.collidedOpp=O}})}function M(B){if(!f)return;const R={x:B.x-f.position.x,y:B.y-f.position.y},F=Q.Vector.normalise(R),H=Q.Vector.magnitude(R),X=Math.min(H,s),I=X/s*e;d=Q.Vector.mult(F,I),l=Q.Vector.mult(F,X)}function k(B){const R=B.circleRadius,F=B.position,H=Math.sqrt(Math.pow(F.x-ne,2)+Math.pow(F.y-ne,2)),I=[{r:Le,score:20},{r:ze,score:15},{r:et,score:10},{r:be,score:5}].find(O=>H+R<O.r);return(I==null?void 0:I.score)||0}function C(B){const R=B.circleRadius,F=B.position,H=Math.sqrt(Math.pow(F.x-ne,2)+Math.pow(F.y-ne,2)),X=ze;if(H-R<X)return!0}function E(){if(n.every(R=>R.isSleeping)){n.forEach(I=>{I.score=k(I),I.intersect15=C(I)});const R=n.some(I=>I.player!==f.player),F=n.some(I=>I.collidedOpp),H=n.filter(I=>I.player===f.player).some(I=>I.intersect15);n.forEach(I=>{R?I.player===f.player?I.id===f.id?I.valid=F:I.valid=I.collided?F:!0:I.valid=!0:I.id===f.id?I.valid=I.collided?H:I.intersect15:I.valid=I.collided?H:!0,(!I.valid||!I.score)&&Q.Composite.remove(r,I)});const X=n.find(I=>I.id===f.id).valid;if(n=n.filter(I=>I.score>0&&I.valid),c)m.emit("shotCompleteManual",{discs:n,valid:X});else{const I=n.map(O=>({id:O.id,player:O.player,score:O.score,valid:O.valid}));n.forEach(O=>{O.score===20&&Q.Composite.remove(r,O)}),n=n.filter(O=>O.score!==20),f=null,m.emit("shotComplete",{discs:I,valid:X}),n.forEach(O=>{O.valid=void 0,O.collided=void 0,O.collidedOpp=void 0,O.intersect15=void 0,O.in20=void 0})}}}function D(){n.forEach(B=>{Q.Composite.remove(r,B)}),n=[],f=null,h=!1,l=void 0,d=void 0}function V(B={}){const R=B.player||"player1",F=B.state||"position",H=B.x?B.x:ne,X=B.y?B.y:R==="player1"?ne+be:ne-be,I=Xn,O=gi,z=vi,le=_i,ie=Q.Bodies.circle(H,X,I,{density:O,restitution:z,frictionAir:le,render:{fillStyle:Et[R]},label:"disc",collisionFilter:{category:Ye,mask:Ye|Ct|It},sleepThreshold:60,isSleeping:!0},64);ie.player=R,n.push(ie),f=ie,Q.Events.on(ie,"sleepStart",E),Q.Composite.add(r,ie),e=f.mass*xi,fe(F),B.bot&&G()}function L(B){if(B){const R=n.find(X=>X.player==="player1");return Q.Vector.angle(f.position,R.position)*180/Math.PI+90}else return 180}function U(B){if(B){const R=n.find(I=>I.player==="player1"),F=Q.Vector.magnitude(Q.Vector.sub(f.position,R.position)),H=rt*2;return Math.max(.01,Math.random()*.05+1-F/H-.05)}else return .15+Math.random()*.3}function G(){const B=n.some(X=>X.player==="player1"),R=B?.21+Math.random()*(.79-.21):.5;W(R*ue*2);const F=L(B),H=U(B);fe("shoot"),re({degrees:F,power:H,visible:!1,random:!0}),setTimeout(()=>{pe()},2e3)}function W(B){if(!f||u!=="position")return;const R=2,F=[45-R,135+R],H=Math.max(-be,Math.min(be,B-ne)),X=f.player==="player1",I=X?-1:1,O=F[X?0:1]*I*-1,z=F[X?1:0]*I*-1,le=ne-Math.sqrt(Math.max(0,Math.pow(be,2)-Math.pow(H,2)))*I,ie={x:ne+H,y:le},ve=Q.Vector.angle({x:ne,y:ne},ie)*180/Math.PI;if(ve>O&&ve<z)Q.Body.setPosition(f,ie);else if(ve<=O){const De=O*Math.PI/180,Ge=Math.cos(De)*be,Ue=Math.sin(De)*be,ft=ne+Ge,Xe=ne+Ue;Q.Body.setPosition(f,{x:ft,y:Xe})}else if(ve>=z){const De=z*Math.PI/180,Ge=Math.cos(De)*be,Ue=Math.sin(De)*be,ft=ne+Ge,Xe=ne+Ue;Q.Body.setPosition(f,{x:ft,y:Xe})}}function J(B){const R=n.some(O=>O.player!==f.player),F=Date.now(),H=R?2:3,X=F/Math.pow(10,13)*B*H;return(R?2:4)*Math.sin(X)}function j({degrees:B,speed:R,random:F}){const H=F?J(R):0,X=(B+H-90)*Math.PI/180,I=f.position.x+Math.cos(X),O=f.position.y+Math.sin(X);return{x:f.position.x+(I-f.position.x)*R,y:f.position.y+(O-f.position.y)*R}}function re({degrees:B,power:R,visible:F,random:H}){if(!f||u!=="shoot")return;de(F===void 0?!0:F);const I=Math.max(.01,R)*s,O=j({degrees:B,speed:I,random:H});M(O)}function pe(){if(!(!f||u!=="shoot")&&(fe("play"),de(!1),Q.Body.applyForce(f,f.position,d),!_t&&!t)){const B=Math.min(1,Q.Vector.magnitude(d)*.4);on.volume(B),on.play()}}function fe(B){u=B}function Y(B){t=B}function de(B){h=B}function ce(B){o&&(i=B,o.canvas.width=B,o.canvas.height=B,Q.Render.setSize(o,B,B),Q.Render,Q.Render.lookAt(o,{min:{x:0,y:0},max:{x:ue*2,y:ue*2}}))}function Ie({element:B,width:R,tutorial:F}){c=!!F,s=ne*.2,a=Q.Engine.create({enableSleeping:!0}),r=a.world,a.gravity.y=0,p=Q.Runner.create(),o=Q.Render.create({element:B,engine:a,options:{width:ue*2,height:ue*2,wireframes:!1,pixelRatio:"auto",background:"transparent",showSleeping:!1,hasBounds:!0}}),_(),y(),b(),A(),P(),Q.Runner.run(p,a),Q.Render.run(o),ce(R),Q.Events.on(o,"afterRender",g),Q.Events.on(a,"collisionActive",S),Q.Events.on(a,"collisionStart",T),m.emit("ready")}return{removeDiscs:D,addDisc:V,positionDisc:W,aimDisc:re,flickDisc:pe,setState:fe,setIndicatorVisible:de,autoMute:Y,resize:ce,init:Ie,on:(B,R)=>m.on(B,R)}}function sn(m,a,r){const p=m.slice();return p[6]=a[r],p}function ln(m,a,r){const p=m.slice();return p[9]=a[r],p}function un(m,a,r){const p=m.slice();p[12]=a[r];const o=p[5][p[12]];p[13]=o;const e=(p[0]-Qt[`${p[12]}R`]/ue*p[0])/2;p[14]=e;const s=p[12]==="twenty"?Le/ue*p[0]:0;return p[15]=s,p}function fn(m,a,r){const p=m.slice();p[12]=a[r],p[23]=r;const o=Qt[`${p[12]}R`];p[18]=o;const e=Qt[`${p[4][p[23]+1]}R`];p[19]=e;const s=p[18]/ue*p[0];p[20]=s;const d=p[19]/ue*p[0];return p[21]=d,p}function cn(m){let a;return{c(){a=q("div"),this.h()},l(r){a=$(r,"DIV",{class:!0,style:!0}),te(a).forEach(N),this.h()},h(){ae(a,"class",$n(m[12])+" svelte-10gu2kg"),oe(a,"--w",m[20]+"px"),oe(a,"--b",(m[20]-m[21])/2+"px")},m(r,p){se(r,a,p)},p(r,p){p&1&&oe(a,"--w",r[20]+"px"),p&1&&oe(a,"--b",(r[20]-r[21])/2+"px")},d(r){r&&N(a)}}}function dn(m){let a,r=m[13]+"",p;return{c(){a=q("span"),p=He(r),this.h()},l(o){a=$(o,"SPAN",{class:!0,style:!0});var e=te(a);p=Ne(e,r),e.forEach(N),this.h()},h(){ae(a,"class","text text-"+m[12]+" svelte-10gu2kg"),oe(a,"--y",m[14]+m[15]+"px")},m(o,e){se(o,a,e),Z(a,p)},p(o,e){e&1&&oe(a,"--y",o[14]+o[15]+"px")},d(o){o&&N(a)}}}function pn(m){let a;return{c(){a=q("div"),this.h()},l(r){a=$(r,"DIV",{class:!0,style:!0}),te(a).forEach(N),this.h()},h(){ae(a,"class","quadrant-line svelte-10gu2kg"),oe(a,"--w",(be-et)/ue*m[0]/2+"px"),oe(a,"--x",et/ue*m[0]/2+"px"),oe(a,"--angle",m[9]+"deg")},m(r,p){se(r,a,p)},p(r,p){p&1&&oe(a,"--w",(be-et)/ue*r[0]/2+"px"),p&1&&oe(a,"--x",et/ue*r[0]/2+"px")},d(r){r&&N(a)}}}function hn(m){let a;return{c(){a=q("div"),this.h()},l(r){a=$(r,"DIV",{class:!0,style:!0}),te(a).forEach(N),this.h()},h(){ae(a,"class","peg svelte-10gu2kg"),oe(a,"--w",dt/ue*m[0]+"px"),oe(a,"--x",(ze-dt)/ue*m[0]/2+"px"),oe(a,"--angle",m[6]-1+"deg")},m(r,p){se(r,a,p)},p(r,p){p&1&&oe(a,"--w",dt/ue*r[0]+"px"),p&1&&oe(a,"--x",(ze-dt)/ue*r[0]/2+"px")},d(r){r&&N(a)}}}function Ai(m){let a,r,p,o,e,s,d,l,h,c,t,i=`${m[0]}px`,n=`${m[0]}px`,u=ye(m[4].slice(0,3)),f=[];for(let x=0;x<u.length;x+=1)f[x]=cn(fn(m,u,x));let v=ye(m[4]),_=[];for(let x=0;x<v.length;x+=1)_[x]=dn(un(m,v,x));let b=ye(m[2]),A=[];for(let x=0;x<b.length;x+=1)A[x]=pn(ln(m,b,x));let P=ye(m[3]),y=[];for(let x=0;x<P.length;x+=1)y[x]=hn(sn(m,P,x));return{c(){a=q("div"),r=q("div"),p=he(),o=q("div"),e=he();for(let x=0;x<f.length;x+=1)f[x].c();s=he(),d=q("div"),l=he();for(let x=0;x<_.length;x+=1)_[x].c();h=he();for(let x=0;x<A.length;x+=1)A[x].c();c=he();for(let x=0;x<y.length;x+=1)y[x].c();this.h()},l(x){a=$(x,"DIV",{class:!0});var w=te(a);r=$(w,"DIV",{class:!0,style:!0}),te(r).forEach(N),p=me(w),o=$(w,"DIV",{class:!0,style:!0}),te(o).forEach(N),e=me(w);for(let g=0;g<f.length;g+=1)f[g].l(w);s=me(w),d=$(w,"DIV",{class:!0,style:!0}),te(d).forEach(N),l=me(w);for(let g=0;g<_.length;g+=1)_[g].l(w);h=me(w);for(let g=0;g<A.length;g+=1)A[g].l(w);c=me(w);for(let g=0;g<y.length;g+=1)y[g].l(w);w.forEach(N),this.h()},h(){ae(r,"class","base svelte-10gu2kg"),oe(r,"--w",(St-Je)/ue*m[0]+"px"),oe(r,"--b",Je/ue*m[0]+"px"),ae(o,"class","surface svelte-10gu2kg"),oe(o,"--w",rt/ue*m[0]+"px"),ae(d,"class","twenty svelte-10gu2kg"),oe(d,"--w",Le/ue*m[0]+"px"),ae(a,"class",t="bg "+m[1]+" svelte-10gu2kg"),oe(a,"width",i),oe(a,"height",n)},m(x,w){se(x,a,w),Z(a,r),Z(a,p),Z(a,o),Z(a,e);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(a,null);Z(a,s),Z(a,d),Z(a,l);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(a,null);Z(a,h);for(let g=0;g<A.length;g+=1)A[g]&&A[g].m(a,null);Z(a,c);for(let g=0;g<y.length;g+=1)y[g]&&y[g].m(a,null)},p(x,[w]){if(w&1&&oe(r,"--w",(St-Je)/ue*x[0]+"px"),w&1&&oe(r,"--b",Je/ue*x[0]+"px"),w&1&&oe(o,"--w",rt/ue*x[0]+"px"),w&17){u=ye(x[4].slice(0,3));let g;for(g=0;g<u.length;g+=1){const S=fn(x,u,g);f[g]?f[g].p(S,w):(f[g]=cn(S),f[g].c(),f[g].m(a,s))}for(;g<f.length;g+=1)f[g].d(1);f.length=u.length}if(w&1&&oe(d,"--w",Le/ue*x[0]+"px"),w&49){v=ye(x[4]);let g;for(g=0;g<v.length;g+=1){const S=un(x,v,g);_[g]?_[g].p(S,w):(_[g]=dn(S),_[g].c(),_[g].m(a,h))}for(;g<_.length;g+=1)_[g].d(1);_.length=v.length}if(w&5){b=ye(x[2]);let g;for(g=0;g<b.length;g+=1){const S=ln(x,b,g);A[g]?A[g].p(S,w):(A[g]=pn(S),A[g].c(),A[g].m(a,c))}for(;g<A.length;g+=1)A[g].d(1);A.length=b.length}if(w&9){P=ye(x[3]);let g;for(g=0;g<P.length;g+=1){const S=sn(x,P,g);y[g]?y[g].p(S,w):(y[g]=hn(S),y[g].c(),y[g].m(a,null))}for(;g<y.length;g+=1)y[g].d(1);y.length=P.length}w&2&&t!==(t="bg "+x[1]+" svelte-10gu2kg")&&ae(a,"class",t),w&1&&i!==(i=`${x[0]}px`)&&oe(a,"width",i),w&1&&n!==(n=`${x[0]}px`)&&oe(a,"height",n)},i:ge,o:ge,d(x){x&&N(a),Ke(f,x),Ke(_,x),Ke(A,x),Ke(y,x)}}}function Ti(m,a,r){let{width:p}=a,{tutorialClass:o}=a;const e=[45,135,225,315],s=[15,60,105,150,195,240,285,330],d=["five","ten","fifteen","twenty"],l={five:"5",ten:"10",fifteen:"15",twenty:"20"};return m.$$set=h=>{"width"in h&&r(0,p=h.width),"tutorialClass"in h&&r(1,o=h.tutorialClass)},[p,o,e,s,d,l]}class Pi extends Me{constructor(a){super(),Ce(this,a,Ti,Ai,Se,{width:0,tutorialClass:1})}}function ki(m){let a,r,p,o="20s",e,s,d=m[3].player1+"",l,h,c,t,i="POINTS",n,u,f,v=m[4].player1+"",_,b,A,P=m[4].player2+"",y,x,w,g,S="20s",T,M,k=m[3].player2+"",C,E=`${m[5]}px`;return{c(){a=q("div"),r=q("p"),p=q("span"),p.textContent=o,e=he(),s=q("strong"),l=He(d),h=he(),c=q("p"),t=q("span"),t.textContent=i,n=he(),u=q("strong"),f=q("span"),_=He(v),b=He(` -
			`),A=q("span"),y=He(P),x=he(),w=q("p"),g=q("span"),g.textContent=S,T=he(),M=q("strong"),C=He(k),this.h()},l(D){a=$(D,"DIV",{class:!0});var V=te(a);r=$(V,"P",{class:!0});var L=te(r);p=$(L,"SPAN",{class:!0,"data-svelte-h":!0}),Bt(p)!=="svelte-26pqx6"&&(p.textContent=o),e=me(L),s=$(L,"STRONG",{});var U=te(s);l=Ne(U,d),U.forEach(N),L.forEach(N),h=me(V),c=$(V,"P",{class:!0});var G=te(c);t=$(G,"SPAN",{class:!0,"data-svelte-h":!0}),Bt(t)!=="svelte-8p7j2g"&&(t.textContent=i),n=me(G),u=$(G,"STRONG",{});var W=te(u);f=$(W,"SPAN",{class:!0});var J=te(f);_=Ne(J,v),J.forEach(N),b=Ne(W,` -
			`),A=$(W,"SPAN",{class:!0});var j=te(A);y=Ne(j,P),j.forEach(N),W.forEach(N),G.forEach(N),x=me(V),w=$(V,"P",{class:!0});var re=te(w);g=$(re,"SPAN",{class:!0,"data-svelte-h":!0}),Bt(g)!=="svelte-26pqx6"&&(g.textContent=S),T=me(re),M=$(re,"STRONG",{});var pe=te(M);C=Ne(pe,k),pe.forEach(N),re.forEach(N),V.forEach(N),this.h()},h(){ae(p,"class","label svelte-1gx8g9m"),ae(r,"class","holder you svelte-1gx8g9m"),Be(r,"animate",m[2].player1),Be(r,"visible",m[0]),ae(t,"class","label svelte-1gx8g9m"),ae(f,"class","you svelte-1gx8g9m"),ae(A,"class","opp svelte-1gx8g9m"),ae(c,"class","points svelte-1gx8g9m"),Be(c,"visible",m[1]),ae(g,"class","label svelte-1gx8g9m"),ae(w,"class","holder opp svelte-1gx8g9m"),Be(w,"animate",m[2].player2),Be(w,"visible",m[0]),ae(a,"class","score svelte-1gx8g9m"),oe(a,"width",E)},m(D,V){se(D,a,V),Z(a,r),Z(r,p),Z(r,e),Z(r,s),Z(s,l),Z(a,h),Z(a,c),Z(c,t),Z(c,n),Z(c,u),Z(u,f),Z(f,_),Z(u,b),Z(u,A),Z(A,y),Z(a,x),Z(a,w),Z(w,g),Z(w,T),Z(w,M),Z(M,C)},p(D,[V]){V&8&&d!==(d=D[3].player1+"")&&ct(l,d),V&4&&Be(r,"animate",D[2].player1),V&1&&Be(r,"visible",D[0]),V&16&&v!==(v=D[4].player1+"")&&ct(_,v),V&16&&P!==(P=D[4].player2+"")&&ct(y,P),V&2&&Be(c,"visible",D[1]),V&8&&k!==(k=D[3].player2+"")&&ct(C,k),V&4&&Be(w,"animate",D[2].player2),V&1&&Be(w,"visible",D[0]),V&32&&E!==(E=`${D[5]}px`)&&oe(a,"width",E)},i:ge,o:ge,d(D){D&&N(a)}}}function Mi(m,a,r){let{holderVisible:p}=a,{pointsVisible:o}=a,{animate:e}=a,{holder:s}=a,{score:d}=a,{width:l}=a;return m.$$set=h=>{"holderVisible"in h&&r(0,p=h.holderVisible),"pointsVisible"in h&&r(1,o=h.pointsVisible),"animate"in h&&r(2,e=h.animate),"holder"in h&&r(3,s=h.holder),"score"in h&&r(4,d=h.score),"width"in h&&r(5,l=h.width)},[p,o,e,s,d,l]}class Ci extends Me{constructor(a){super(),Ce(this,a,Mi,ki,Se,{holderVisible:0,pointsVisible:1,animate:2,holder:3,score:4,width:5})}}function Rt(m){return Object.keys(m).reduce((a,r)=>m[r]===void 0?a:a+`${r}:${m[r]};`,"")}function Gt(m){return m?!0:void 0}Rt({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function mn(m){function a(r){return r(m),()=>{}}return{subscribe:a}}function Ut(m){if(!Yn)return null;const a=document.querySelector(`[data-melt-id="${m}"]`);return wt(a)?a:null}const yt=m=>new Proxy(m,{get(a,r,p){return Reflect.get(a,r,p)},ownKeys(a){return Reflect.ownKeys(a).filter(r=>r!=="action")}}),vn=m=>typeof m=="function";Zt("empty");function Zt(m,a){const{stores:r,action:p,returned:o}=a??{},e=(()=>{if(r&&o)return Ht(r,d=>{const l=o(d);if(vn(l)){const h=(...c)=>yt({...l(...c),[`data-melt-${m}`]:"",action:p??Ze});return h.action=p??Ze,h}return yt({...l,[`data-melt-${m}`]:"",action:p??Ze})});{const d=o,l=d==null?void 0:d();if(vn(l)){const h=(...c)=>yt({...l(...c),[`data-melt-${m}`]:"",action:p??Ze});return h.action=p??Ze,mn(h)}return mn(yt({...l,[`data-melt-${m}`]:"",action:p??Ze}))}})(),s=p??(()=>{});return s.subscribe=e.subscribe,s}function gn(m,a){const{stores:r,returned:p,action:o}=a,{subscribe:e}=Ht(r,d=>p(d).map(l=>yt({...l,[`data-melt-${m}`]:"",action:o??Ze}))),s=o??(()=>{});return s.subscribe=e,s}function Ii(m){const a=e=>e?`${m}-${e}`:m,r=e=>`data-melt-${m}${e?`-${e}`:""}`,p=e=>`[data-melt-${m}${e?`-${e}`:""}]`;return{name:a,attribute:r,selector:p,getEl:e=>document.querySelector(p(e))}}const Yn=typeof document<"u";function wt(m){return m instanceof HTMLElement}function Ei(...m){return(...a)=>{for(const r of m)typeof r=="function"&&r(...a)}}function Ze(){}function pt(m,a,r,p){const o=Array.isArray(a)?a:[a];return o.forEach(e=>m.addEventListener(e,r,p)),()=>{o.forEach(e=>m.removeEventListener(e,r,p))}}function Di(m,a,r,p){const o=Array.isArray(a)?a:[a];if(typeof r=="function"){const e=Vi(s=>r(s));return o.forEach(s=>m.addEventListener(s,e,p)),()=>{o.forEach(s=>m.removeEventListener(s,e,p))}}return()=>void 0}function Bi(m){const a=m.currentTarget;if(!wt(a))return null;const r=new CustomEvent(`m-${m.type}`,{detail:{originalEvent:m},cancelable:!0});return a.dispatchEvent(r),r}function Vi(m){return a=>{const r=Bi(a);if(!(r!=null&&r.defaultPrevented))return m(a)}}const Ri=m=>{try{ei(m)}catch{return m}};function Qn(m,...a){const r={};for(const p of Object.keys(m))a.includes(p)||(r[p]=m[p]);return r}function je(m){return{...m,get:()=>ti(m)}}je.writable=function(m){const a=$e(m);let r=m;return{subscribe:a.subscribe,set(p){a.set(p),r=p},update(p){const o=p(r);a.set(o),r=o},get(){return r}}};je.derived=function(m,a){const r=new Map,p=()=>{const e=Array.isArray(m)?m.map(s=>s.get()):m.get();return a(e)};return{get:p,subscribe:e=>{const s=[];return(Array.isArray(m)?m:[m]).forEach(l=>{s.push(l.subscribe(()=>{e(p())}))}),e(p()),r.set(e,s),()=>{const l=r.get(e);if(l)for(const h of l)h();r.delete(e)}}}};const Oi=(m,a)=>{const r=je(m),p=(e,s)=>{r.update(d=>{const l=e(d);let h=l;return a&&(h=a({curr:d,next:l})),s==null||s(h),h})};return{...r,update:p,set:e=>{p(()=>e)}}};let Fi="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Li=(m=21)=>{let a="",r=m;for(;r--;)a+=Fi[Math.random()*64|0];return a};function Hi(){return Li(10)}function Ni(m){return m.reduce((a,r)=>(a[r]=Hi(),a),{})}const Ee={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"};function _n(m,a){let r;const p=Ht(m,e=>{r==null||r(),r=a(e)}).subscribe(Ze),o=()=>{p(),r==null||r()};return Ri(o),o}function Wi(m){const a={};return Object.keys(m).forEach(r=>{const p=r,o=m[p];a[p]=je($e(o))}),a}function Xt(m,a,r,p){const o=(m-(isNaN(a)?0:a))%p;let e=Math.abs(o)*2>=p?m+Math.sign(o)*(p-Math.abs(o)):m-o;isNaN(a)?!isNaN(r)&&e>r&&(e=Math.floor(r/p)*p):e<a?e=a:!isNaN(r)&&e>r&&(e=a+Math.floor((r-a)/p)*p);const s=p.toString(),d=s.indexOf("."),l=d>=0?s.length-d:0;if(l>0){const h=Math.pow(10,l);e=Math.round(e*h)/h}return e}ht(void 0,m=>{function a(p){m(p),m(void 0)}return pt(document,"pointerup",a,{passive:!1,capture:!0})});ht(void 0,m=>{function a(p){p&&p.key===Ee.ESCAPE&&m(p),m(void 0)}return pt(document,"keydown",a,{passive:!1})});ht(!1),ht(!1),ht(void 0);const Gi={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...Qn(Gi,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});const Ui={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Dt}=Ii("slider"),Xi=m=>{const a={...Ui,...m},r=Wi(Qn(a,"value","onValueChange","defaultValue")),{min:p,max:o,step:e,orientation:s,dir:d,disabled:l}=r,h=a.value??$e(a.defaultValue),c=Oi(h,a==null?void 0:a.onValueChange),t=je($e(!1)),i=je($e(0)),n=je($e(null)),u=Ni(["root"]),f=(w,g)=>{c.update(S=>{if(!S)return[w];if(S[g]===w)return S;const T=[...S],M=T[g]>w?-1:1;function k(){T[g]=T[g+M],T[g+M]=w;const V=v();V&&(V[g+M].focus(),n.set({thumb:V[g+M],index:g+M}))}if(M===-1&&w<T[g-1])return k(),T;if(M===1&&w>T[g+1])return k(),T;const C=p.get(),E=o.get(),D=e.get();return T[g]=Xt(w,C,E,D),T})},v=()=>{const w=Ut(u.root);return w?Array.from(w.querySelectorAll('[data-melt-part="thumb"]')).filter(g=>wt(g)):null},_=Ht([p,o],([w,g])=>S=>(S-w)/(g-w)*100),b=je.derived([s,d],([w,g])=>w==="horizontal"?g==="rtl"?"rl":"lr":g==="rtl"?"tb":"bt"),A=Zt(Dt(),{stores:[l,s,d],returned:([w,g,S])=>({dir:S,disabled:Gt(w),"data-disabled":Gt(w),"data-orientation":g,style:w?void 0:`touch-action: ${g==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":u.root})}),P=Zt(Dt("range"),{stores:[c,b,_],returned:([w,g,S])=>{const T=w.length>1?S(Math.min(...w)??0):0,M=100-S(Math.max(...w)??0),k={position:"absolute"};switch(g){case"lr":{k.left=`${T}%`,k.right=`${M}%`;break}case"rl":{k.right=`${T}%`,k.left=`${M}%`;break}case"bt":{k.bottom=`${T}%`,k.top=`${M}%`;break}case"tb":{k.top=`${T}%`,k.bottom=`${M}%`;break}}return{style:Rt(k)}}}),y=gn(Dt("thumb"),{stores:[c,_,p,o,l,s,b],returned:([w,g,S,T,M,k,C])=>Array.from({length:w.length||1},(D,V)=>{i.get()<w.length&&i.update(J=>J+1);const U=w[V],G=`${g(U)}%`,W={position:"absolute"};switch(C){case"lr":{W.left=G,W.translate="-50% 0";break}case"rl":{W.right=G,W.translate="50% 0";break}case"bt":{W.bottom=G,W.translate="0 50%";break}case"tb":{W.top=G,W.translate="0 -50%";break}}return{role:"slider","aria-valuemin":S,"aria-valuemax":T,"aria-valuenow":U,"aria-disabled":Gt(M),"aria-orientation":k,"data-melt-part":"thumb","data-value":U,style:Rt(W),tabindex:M?-1:0}}),action:w=>({destroy:Di(w,"keydown",S=>{if(l.get())return;const T=S.currentTarget;if(!wt(T))return;const M=v();if(!(M!=null&&M.length))return;const k=M.indexOf(T);if(i.set(k),![Ee.ARROW_LEFT,Ee.ARROW_RIGHT,Ee.ARROW_UP,Ee.ARROW_DOWN,Ee.HOME,Ee.END].includes(S.key))return;S.preventDefault();const C=p.get(),E=o.get(),D=e.get(),V=c.get(),L=s.get(),U=b.get(),G=V[k];switch(S.key){case Ee.HOME:{f(C,k);break}case Ee.END:{f(E,k);break}case Ee.ARROW_LEFT:{if(L!=="horizontal")break;S.metaKey?f(U==="rl"?E:C,k):U==="rl"&&G<E?f(G+D,k):U==="lr"&&G>C&&f(G-D,k);break}case Ee.ARROW_RIGHT:{if(L!=="horizontal")break;S.metaKey?f(U==="rl"?C:E,k):U==="rl"&&G>C?f(G-D,k):U==="lr"&&G<E&&f(G+D,k);break}case Ee.ARROW_UP:{S.metaKey?f(U==="tb"?C:E,k):U==="tb"&&G>C?f(G-D,k):U!=="tb"&&G<E&&f(G+D,k);break}case Ee.ARROW_DOWN:{S.metaKey?f(U==="tb"?E:C,k):U==="tb"&&G<E?f(G+D,k):U!=="tb"&&G>C&&f(G-D,k);break}}})})}),x=gn(Dt("tick"),{stores:[c,p,o,e,b],returned:([w,g,S,T,M])=>{const k=S-g;let C=Math.ceil(k/T);return k%T==0&&C++,Array.from({length:C},(E,D)=>{const V=`${D*(T/(S-g))*100}%`,L=D===0,U=D===C-1,G=L?0:U?-100:-50,W={position:"absolute"};switch(M){case"lr":{W.left=V,W.translate=`${G}% 0`;break}case"rl":{W.right=V,W.translate=`${-G}% 0`;break}case"bt":{W.bottom=V,W.translate=`0 ${-G}%`;break}case"tb":{W.top=V,W.translate=`0 ${G}%`;break}}const J=g+D*T;return{"data-bounded":(w.length===1?J<=w[0]:w[0]<=J&&J<=w[w.length-1])?!0:void 0,"data-value":J,style:Rt(W)}})}});return _n([A,p,o,l,s,b,e],([w,g,S,T,M,k,C])=>{if(!Yn||T)return;const E=(W,J,j,re)=>{const fe=(W-j)/(re-j)*(S-g)+g;if(fe<g)f(g,J);else if(fe>S)f(S,J);else{const Y=C,de=g,ce=Math.floor((fe-de)/Y),Ie=de+ce*Y+Y/2,B=de+(ce+1)*Y+Y/2,R=fe>=Ie&&fe<B?(ce+1)*Y+de:ce*Y+de;R<=S&&f(R,J)}},D=W=>{const J=v();if(!J)return;J.forEach(fe=>fe.blur());const j=J.map(fe=>{if(M==="horizontal"){const{left:Y,right:de}=fe.getBoundingClientRect();return Math.abs(W.clientX-(Y+de)/2)}else{const{top:Y,bottom:de}=fe.getBoundingClientRect();return Math.abs(W.clientY-(Y+de)/2)}}),re=J[j.indexOf(Math.min(...j))],pe=J.indexOf(re);return{thumb:re,index:pe}},V=W=>{if(!t.get())return;W.preventDefault(),W.stopPropagation();const J=Ut(w["data-melt-id"]),j=n.get();if(!J||!j)return;j.thumb.focus();const{left:re,right:pe,top:fe,bottom:Y}=J.getBoundingClientRect();switch(k){case"lr":{E(W.clientX,j.index,re,pe);break}case"rl":{E(W.clientX,j.index,pe,re);break}case"bt":{E(W.clientY,j.index,Y,fe);break}case"tb":{E(W.clientY,j.index,fe,Y);break}}},L=W=>{if(W.button!==0)return;const J=Ut(w["data-melt-id"]),j=D(W);if(!j||!J)return;const re=W.target;!wt(re)||!J.contains(re)||(W.preventDefault(),n.set(j),j.thumb.focus(),t.set(!0),V(W))},U=()=>{t.set(!1)},G=Ei(pt(document,"pointerdown",L),pt(document,"pointerup",U),pt(document,"pointerleave",U),pt(document,"pointermove",V));return()=>{G()}}),_n([e,p,o,c],function([g,S,T,M]){const k=E=>Xt(E,S,T,g)===E,C=E=>Xt(E,S,T,g);M.some(E=>!k(E))&&c.update(E=>E.map(C))}),{elements:{root:A,thumbs:y,range:P,ticks:x},states:{value:c},options:r}};function Yi(m,a){const r={};return a.forEach(p=>{r[p]={[`data-${m}-${p}`]:""}}),p=>r[p]}function Qi(){const m=Ft();return a=>{const{originalEvent:r}=a.detail,{cancelable:p}=a,o=r.type;m(o,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:p})||a.preventDefault()}}function Zi(m){const a={};for(const r in m){const p=m[r];p!==void 0&&(a[r]=p)}return a}function zi(m){return function(a,r){if(r===void 0)return;const p=m[a];p&&p.set(r)}}function Zn(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Ki(m){const{NAME:a,PARTS:r}=Zn(),p=Yi(a,r),o={...Xi(Zi(m)),getAttrs:p};return ni(a,o),{...o,updateOption:zi(o.options)}}function zn(){const{NAME:m}=Zn();return ii(m)}const Ji=m=>({builder:m&4,ticks:m&8,thumbs:m&16}),yn=m=>({builder:m[2],ticks:m[3],thumbs:m[4]}),ji=m=>({builder:m&4,ticks:m&8,thumbs:m&16}),xn=m=>({builder:m[2],ticks:m[3],thumbs:m[4]});function qi(m){let a,r,p,o;const e=m[19].default,s=ot(e,m,m[18],yn);let d=[m[2],m[8]],l={};for(let h=0;h<d.length;h+=1)l=_e(l,d[h]);return{c(){a=q("span"),s&&s.c(),this.h()},l(h){a=$(h,"SPAN",{});var c=te(a);s&&s.l(c),c.forEach(N),this.h()},h(){mt(a,l)},m(h,c){se(h,a,c),s&&s.m(a,null),m[20](a),r=!0,p||(o=Kt(m[2].action(a)),p=!0)},p(h,c){s&&s.p&&(!r||c&262172)&&at(s,e,h,h[18],r?lt(e,h[18],c,Ji):st(h[18]),yn),mt(a,l=ut(d,[c&4&&h[2],c&256&&h[8]]))},i(h){r||(K(s,h),r=!0)},o(h){ee(s,h),r=!1},d(h){h&&N(a),s&&s.d(h),m[20](null),p=!1,o()}}}function $i(m){let a;const r=m[19].default,p=ot(r,m,m[18],xn);return{c(){p&&p.c()},l(o){p&&p.l(o)},m(o,e){p&&p.m(o,e),a=!0},p(o,e){p&&p.p&&(!a||e&262172)&&at(p,r,o,o[18],a?lt(r,o[18],e,ji):st(o[18]),xn)},i(o){a||(K(p,o),a=!0)},o(o){ee(p,o),a=!1},d(o){p&&p.d(o)}}}function er(m){let a,r,p,o;const e=[$i,qi],s=[];function d(l,h){return l[1]?0:1}return a=d(m),r=s[a]=e[a](m),{c(){r.c(),p=xe()},l(l){r.l(l),p=xe()},m(l,h){s[a].m(l,h),se(l,p,h),o=!0},p(l,[h]){let c=a;a=d(l),a===c?s[a].p(l,h):(Oe(),ee(s[c],1,1,()=>{s[c]=null}),Fe(),r=s[a],r?r.p(l,h):(r=s[a]=e[a](l),r.c()),K(r,1),r.m(p.parentNode,p))},i(l){o||(K(r),o=!0)},o(l){ee(r),o=!1},d(l){l&&N(p),s[a].d(l)}}}function tr(m,a,r){let p;const o=["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"];let e=qe(a,o),s,d,l,{$$slots:h={},$$scope:c}=a,{disabled:t=void 0}=a,{min:i=void 0}=a,{max:n=void 0}=a,{step:u=void 0}=a,{orientation:f=void 0}=a,{dir:v=void 0}=a,{value:_=void 0}=a,{onValueChange:b=void 0}=a,{asChild:A=!1}=a,{el:P=void 0}=a;const{elements:{root:y,ticks:x,thumbs:w},states:{value:g},updateOption:S,getAttrs:T}=Ki({disabled:t,dir:v,min:i,max:n,step:u,orientation:f,defaultValue:_,onValueChange:({next:C})=>(_!==C&&(b==null||b(C),r(9,_=C)),C)});xt(m,y,C=>r(17,s=C)),xt(m,x,C=>r(3,d=C)),xt(m,w,C=>r(4,l=C));const M=T("root");function k(C){Re[C?"unshift":"push"](()=>{P=C,r(0,P)})}return m.$$set=C=>{a=_e(_e({},a),We(C)),r(8,e=qe(a,o)),"disabled"in C&&r(10,t=C.disabled),"min"in C&&r(11,i=C.min),"max"in C&&r(12,n=C.max),"step"in C&&r(13,u=C.step),"orientation"in C&&r(14,f=C.orientation),"dir"in C&&r(15,v=C.dir),"value"in C&&r(9,_=C.value),"onValueChange"in C&&r(16,b=C.onValueChange),"asChild"in C&&r(1,A=C.asChild),"el"in C&&r(0,P=C.el),"$$scope"in C&&r(18,c=C.$$scope)},m.$$.update=()=>{m.$$.dirty&512&&_!==void 0&&g.set(_),m.$$.dirty&1024&&S("disabled",t),m.$$.dirty&2048&&S("min",i),m.$$.dirty&4096&&S("max",n),m.$$.dirty&8192&&S("step",u),m.$$.dirty&16384&&S("orientation",f),m.$$.dirty&32768&&S("dir",v),m.$$.dirty&131072&&r(2,p=s),m.$$.dirty&4&&Object.assign(p,M)},[P,A,p,d,l,y,x,w,e,_,t,i,n,u,f,v,b,s,c,h,k]}class nr extends Me{constructor(a){super(),Ce(this,a,tr,er,Se,{disabled:10,min:11,max:12,step:13,orientation:14,dir:15,value:9,onValueChange:16,asChild:1,el:0})}}const ir=m=>({builder:m&4}),wn=m=>({builder:m[2]});function rr(m){let a,r,p,o=[m[2],m[4]],e={};for(let s=0;s<o.length;s+=1)e=_e(e,o[s]);return{c(){a=q("span"),this.h()},l(s){a=$(s,"SPAN",{}),te(a).forEach(N),this.h()},h(){mt(a,e)},m(s,d){se(s,a,d),m[8](a),r||(p=Kt(m[2].action(a)),r=!0)},p(s,d){mt(a,e=ut(o,[d&4&&s[2],d&16&&s[4]]))},i:ge,o:ge,d(s){s&&N(a),m[8](null),r=!1,p()}}}function or(m){let a;const r=m[7].default,p=ot(r,m,m[6],wn);return{c(){p&&p.c()},l(o){p&&p.l(o)},m(o,e){p&&p.m(o,e),a=!0},p(o,e){p&&p.p&&(!a||e&68)&&at(p,r,o,o[6],a?lt(r,o[6],e,ir):st(o[6]),wn)},i(o){a||(K(p,o),a=!0)},o(o){ee(p,o),a=!1},d(o){p&&p.d(o)}}}function ar(m){let a,r,p,o;const e=[or,rr],s=[];function d(l,h){return l[1]?0:1}return a=d(m),r=s[a]=e[a](m),{c(){r.c(),p=xe()},l(l){r.l(l),p=xe()},m(l,h){s[a].m(l,h),se(l,p,h),o=!0},p(l,[h]){let c=a;a=d(l),a===c?s[a].p(l,h):(Oe(),ee(s[c],1,1,()=>{s[c]=null}),Fe(),r=s[a],r?r.p(l,h):(r=s[a]=e[a](l),r.c()),K(r,1),r.m(p.parentNode,p))},i(l){o||(K(r),o=!0)},o(l){ee(r),o=!1},d(l){l&&N(p),s[a].d(l)}}}function sr(m,a,r){let p;const o=["asChild","el"];let e=qe(a,o),s,{$$slots:d={},$$scope:l}=a,{asChild:h=!1}=a,{el:c=void 0}=a;const{elements:{range:t},getAttrs:i}=zn();xt(m,t,f=>r(5,s=f));const n=i("range");function u(f){Re[f?"unshift":"push"](()=>{c=f,r(0,c)})}return m.$$set=f=>{a=_e(_e({},a),We(f)),r(4,e=qe(a,o)),"asChild"in f&&r(1,h=f.asChild),"el"in f&&r(0,c=f.el),"$$scope"in f&&r(6,l=f.$$scope)},m.$$.update=()=>{m.$$.dirty&32&&r(2,p=s),m.$$.dirty&4&&Object.assign(p,n)},[c,h,p,t,e,s,l,d,u]}class lr extends Me{constructor(a){super(),Ce(this,a,sr,ar,Se,{asChild:1,el:0})}}const ur=m=>({builder:m&4}),Sn=m=>({builder:m[2]});function fr(m){let a,r,p,o=[m[2],m[4]],e={};for(let s=0;s<o.length;s+=1)e=_e(e,o[s]);return{c(){a=q("span"),this.h()},l(s){a=$(s,"SPAN",{}),te(a).forEach(N),this.h()},h(){mt(a,e)},m(s,d){se(s,a,d),m[8](a),r||(p=[Kt(m[2].action(a)),tt(a,"m-keydown",m[3])],r=!0)},p(s,d){mt(a,e=ut(o,[d&4&&s[2],d&16&&s[4]]))},i:ge,o:ge,d(s){s&&N(a),m[8](null),r=!1,Fn(p)}}}function cr(m){let a;const r=m[7].default,p=ot(r,m,m[6],Sn);return{c(){p&&p.c()},l(o){p&&p.l(o)},m(o,e){p&&p.m(o,e),a=!0},p(o,e){p&&p.p&&(!a||e&68)&&at(p,r,o,o[6],a?lt(r,o[6],e,ur):st(o[6]),Sn)},i(o){a||(K(p,o),a=!0)},o(o){ee(p,o),a=!1},d(o){p&&p.d(o)}}}function dr(m){let a,r,p,o;const e=[cr,fr],s=[];function d(l,h){return l[1]?0:1}return a=d(m),r=s[a]=e[a](m),{c(){r.c(),p=xe()},l(l){r.l(l),p=xe()},m(l,h){s[a].m(l,h),se(l,p,h),o=!0},p(l,[h]){let c=a;a=d(l),a===c?s[a].p(l,h):(Oe(),ee(s[c],1,1,()=>{s[c]=null}),Fe(),r=s[a],r?r.p(l,h):(r=s[a]=e[a](l),r.c()),K(r,1),r.m(p.parentNode,p))},i(l){o||(K(r),o=!0)},o(l){ee(r),o=!1},d(l){l&&N(p),s[a].d(l)}}}function pr(m,a,r){let p;const o=["asChild","el","thumb"];let e=qe(a,o),{$$slots:s={},$$scope:d}=a,{asChild:l=!1}=a,{el:h=void 0}=a,{thumb:c}=a;const{getAttrs:t}=zn(),i=Qi(),n=t("thumb");function u(f){Re[f?"unshift":"push"](()=>{h=f,r(0,h)})}return m.$$set=f=>{a=_e(_e({},a),We(f)),r(4,e=qe(a,o)),"asChild"in f&&r(1,l=f.asChild),"el"in f&&r(0,h=f.el),"thumb"in f&&r(5,c=f.thumb),"$$scope"in f&&r(6,d=f.$$scope)},m.$$.update=()=>{m.$$.dirty&32&&r(2,p=c),m.$$.dirty&4&&Object.assign(p,n)},[h,l,p,i,e,c,d,s,u]}class hr extends Me{constructor(a){super(),Ce(this,a,pr,dr,Se,{asChild:1,el:0,thumb:5})}}function bn(m,a,r){const p=m.slice();return p[12]=a[r],p}function An(m){let a,r;return a=new hr({props:{thumb:m[12],class:m[6]}}),{c(){Ae(a.$$.fragment)},l(p){Te(a.$$.fragment,p)},m(p,o){Pe(a,p,o),r=!0},p(p,o){const e={};o&2048&&(e.thumb=p[12]),o&64&&(e.class=p[6]),a.$set(e)},i(p){r||(K(a.$$.fragment,p),r=!0)},o(p){ee(a.$$.fragment,p),r=!1},d(p){ke(a,p)}}}function mr(m){let a,r,p,o,e;r=new lr({});let s=ye(m[11]),d=[];for(let h=0;h<s.length;h+=1)d[h]=An(bn(m,s,h));const l=h=>ee(d[h],1,1,()=>{d[h]=null});return{c(){a=q("span"),Ae(r.$$.fragment),p=he();for(let h=0;h<d.length;h+=1)d[h].c();o=xe(),this.h()},l(h){a=$(h,"SPAN",{class:!0});var c=te(a);Te(r.$$.fragment,c),c.forEach(N),p=me(h);for(let t=0;t<d.length;t+=1)d[t].l(h);o=xe(),this.h()},h(){ae(a,"class","bg svelte-q9ia7x")},m(h,c){se(h,a,c),Pe(r,a,null),se(h,p,c);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(h,c);se(h,o,c),e=!0},p(h,c){if(c&2112){s=ye(h[11]);let t;for(t=0;t<s.length;t+=1){const i=bn(h,s,t);d[t]?(d[t].p(i,c),K(d[t],1)):(d[t]=An(i),d[t].c(),K(d[t],1),d[t].m(o.parentNode,o))}for(Oe(),t=s.length;t<d.length;t+=1)l(t);Fe()}},i(h){if(!e){K(r.$$.fragment,h);for(let c=0;c<s.length;c+=1)K(d[c]);e=!0}},o(h){ee(r.$$.fragment,h),d=d.filter(Boolean);for(let c=0;c<d.length;c+=1)ee(d[c]);e=!1},d(h){h&&(N(a),N(p),N(o)),ke(r),Ke(d,h)}}}function vr(m){let a,r,p,o,e,s,d;function l(c){m[9](c)}let h={min:m[2],max:m[3],step:m[5],disabled:m[4],onValueChange:m[7],$$slots:{default:[mr,({thumbs:c})=>({11:c}),({thumbs:c})=>c?2048:0]},$$scope:{ctx:m}};return m[0]!==void 0&&(h.value=m[0]),e=new nr({props:h}),Re.push(()=>it(e,"value",l)),{c(){a=q("div"),r=q("p"),p=He(m[1]),o=he(),Ae(e.$$.fragment),this.h()},l(c){a=$(c,"DIV",{class:!0});var t=te(a);r=$(t,"P",{class:!0});var i=te(r);p=Ne(i,m[1]),i.forEach(N),o=me(t),Te(e.$$.fragment,t),t.forEach(N),this.h()},h(){ae(r,"class","label svelte-q9ia7x"),ae(a,"class","c svelte-q9ia7x")},m(c,t){se(c,a,t),Z(a,r),Z(r,p),Z(a,o),Pe(e,a,null),d=!0},p(c,[t]){(!d||t&2)&&ct(p,c[1]);const i={};t&4&&(i.min=c[2]),t&8&&(i.max=c[3]),t&32&&(i.step=c[5]),t&16&&(i.disabled=c[4]),t&34880&&(i.$$scope={dirty:t,ctx:c}),!s&&t&1&&(s=!0,i.value=c[0],nt(()=>s=!1)),e.$set(i)},i(c){d||(K(e.$$.fragment,c),d=!0)},o(c){ee(e.$$.fragment,c),d=!1},d(c){c&&N(a),ke(e)}}}function gr(m,a,r){let p,{label:o}=a,{value:e}=a,{min:s}=a,{max:d}=a,{disabled:l}=a,{step:h}=a,{animate:c}=a;const t=Ft();function i(){t("change",e)}function n(u){e=u,r(0,e)}return m.$$set=u=>{"label"in u&&r(1,o=u.label),"value"in u&&r(0,e=u.value),"min"in u&&r(2,s=u.min),"max"in u&&r(3,d=u.max),"disabled"in u&&r(4,l=u.disabled),"step"in u&&r(5,h=u.step),"animate"in u&&r(8,c=u.animate)},m.$$.update=()=>{m.$$.dirty&256&&r(6,p=c?"animate":"")},[e,o,s,d,l,h,p,i,c,n]}class Kn extends Me{constructor(a){super(),Ce(this,a,gr,vr,Se,{label:1,value:0,min:2,max:3,disabled:4,step:5,animate:8})}}function _r(m){let a,r,p,o;return{c(){a=q("button"),r=He("Hold to Shoot"),this.h()},l(e){a=$(e,"BUTTON",{});var s=te(a);r=Ne(s,"Hold to Shoot"),s.forEach(N),this.h()},h(){a.disabled=m[0]},m(e,s){se(e,a,s),Z(a,r),p||(o=[tt(a,"pointerdown",m[1]),tt(a,"pointerup",m[2]),tt(a,"pointerleave",m[2])],p=!0)},p(e,[s]){s&1&&(a.disabled=e[0])},i:ge,o:ge,d(e){e&&N(a),p=!1,Fn(o)}}}function yr(m,a,r){let{value:p}=a,{disabled:o}=a;const e=Ft();let s,d;function l(){let c=-1;d=!0,s=setInterval(()=>{p>=1?c=-1:p<=0&&(c=1),r(3,p+=.01*c),r(3,p=+p.toFixed(2))},17)}function h(){d&&(clearInterval(s),e("release",p),r(3,p=0),d=!1)}return m.$$set=c=>{"value"in c&&r(3,p=c.value),"disabled"in c&&r(0,o=c.disabled)},[o,l,h,p]}class xr extends Me{constructor(a){super(),Ce(this,a,yr,_r,Se,{value:3,disabled:0})}}function Tn(m){let a,r,p,o;const e=[br,Sr,wr],s=[];function d(l,h){return l[6]==="shoot"?0:l[6]==="position"?1:2}return a=d(m),r=s[a]=e[a](m),{c(){r.c(),p=xe()},l(l){r.l(l),p=xe()},m(l,h){s[a].m(l,h),se(l,p,h),o=!0},p(l,h){let c=a;a=d(l),a===c?s[a].p(l,h):(Oe(),ee(s[c],1,1,()=>{s[c]=null}),Fe(),r=s[a],r?r.p(l,h):(r=s[a]=e[a](l),r.c()),K(r,1),r.m(p.parentNode,p))},i(l){o||(K(r),o=!0)},o(l){ee(r),o=!1},d(l){l&&N(p),s[a].d(l)}}}function wr(m){let a,r="Play Again",p,o;return{c(){a=q("button"),a.textContent=r},l(e){a=$(e,"BUTTON",{"data-svelte-h":!0}),Bt(a)!=="svelte-f7mjdn"&&(a.textContent=r)},m(e,s){se(e,a,s),p||(o=tt(a,"click",m[11]),p=!0)},p:ge,i:ge,o:ge,d(e){e&&N(a),p=!1,o()}}}function Sr(m){let a,r,p,o;return{c(){a=q("button"),r=He("Place Disc"),this.h()},l(e){a=$(e,"BUTTON",{});var s=te(a);r=Ne(s,"Place Disc"),s.forEach(N),this.h()},h(){a.disabled=m[7]},m(e,s){se(e,a,s),Z(a,r),p||(o=tt(a,"click",m[10]),p=!0)},p(e,s){s&128&&(a.disabled=e[7])},i:ge,o:ge,d(e){e&&N(a),p=!1,o()}}}function br(m){let a,r,p;function o(s){m[12](s)}let e={disabled:m[7]};return m[0]!==void 0&&(e.value=m[0]),a=new xr({props:e}),Re.push(()=>it(a,"value",o)),a.$on("release",m[13]),{c(){Ae(a.$$.fragment)},l(s){Te(a.$$.fragment,s)},m(s,d){Pe(a,s,d),p=!0},p(s,d){const l={};d&128&&(l.disabled=s[7]),!r&&d&1&&(r=!0,l.value=s[0],nt(()=>r=!1)),a.$set(l)},i(s){p||(K(a.$$.fragment,s),p=!0)},o(s){ee(a.$$.fragment,s),p=!1},d(s){ke(a,s)}}}function Pn(m){let a,r,p,o;const e=[Tr,Ar],s=[];function d(l,h){return l[6]==="position"?0:l[6]==="shoot"?1:-1}return~(a=d(m))&&(r=s[a]=e[a](m)),{c(){r&&r.c(),p=xe()},l(l){r&&r.l(l),p=xe()},m(l,h){~a&&s[a].m(l,h),se(l,p,h),o=!0},p(l,h){let c=a;a=d(l),a===c?~a&&s[a].p(l,h):(r&&(Oe(),ee(s[c],1,1,()=>{s[c]=null}),Fe()),~a?(r=s[a],r?r.p(l,h):(r=s[a]=e[a](l),r.c()),K(r,1),r.m(p.parentNode,p)):r=null)},i(l){o||(K(r),o=!0)},o(l){ee(r),o=!1},d(l){l&&N(p),~a&&s[a].d(l)}}}function Ar(m){let a,r,p;function o(s){m[16](s)}let e={label:"aim",min:m[8].shoot.min,max:m[8].shoot.max,step:m[8].shoot.step,disabled:m[7]};return m[2]!==void 0&&(e.value=m[2]),a=new Kn({props:e}),Re.push(()=>it(a,"value",o)),{c(){Ae(a.$$.fragment)},l(s){Te(a.$$.fragment,s)},m(s,d){Pe(a,s,d),p=!0},p(s,d){const l={};d&256&&(l.min=s[8].shoot.min),d&256&&(l.max=s[8].shoot.max),d&256&&(l.step=s[8].shoot.step),d&128&&(l.disabled=s[7]),!r&&d&4&&(r=!0,l.value=s[2],nt(()=>r=!1)),a.$set(l)},i(s){p||(K(a.$$.fragment,s),p=!0)},o(s){ee(a.$$.fragment,s),p=!1},d(s){ke(a,s)}}}function Tr(m){let a,r,p;function o(s){m[14](s)}let e={label:"position",min:m[8].position.min,max:m[8].position.max,step:m[8].position.step,disabled:m[7],animate:m[9]};return m[1]!==void 0&&(e.value=m[1]),a=new Kn({props:e}),Re.push(()=>it(a,"value",o)),a.$on("change",m[15]),{c(){Ae(a.$$.fragment)},l(s){Te(a.$$.fragment,s)},m(s,d){Pe(a,s,d),p=!0},p(s,d){const l={};d&256&&(l.min=s[8].position.min),d&256&&(l.max=s[8].position.max),d&256&&(l.step=s[8].position.step),d&128&&(l.disabled=s[7]),d&512&&(l.animate=s[9]),!r&&d&2&&(r=!0,l.value=s[1],nt(()=>r=!1)),a.$set(l)},i(s){p||(K(a.$$.fragment,s),p=!0)},o(s){ee(a.$$.fragment,s),p=!1},d(s){ke(a,s)}}}function Pr(m){let a,r,p,o,e=`${m[4]}px`,s,d=!m[5]&&Tn(m),l=!m[5]&&Pn(m);return{c(){a=q("div"),r=q("div"),d&&d.c(),p=he(),o=q("div"),l&&l.c(),this.h()},l(h){a=$(h,"DIV",{class:!0});var c=te(a);r=$(c,"DIV",{class:!0});var t=te(r);d&&d.l(t),t.forEach(N),p=me(c),o=$(c,"DIV",{class:!0});var i=te(o);l&&l.l(i),i.forEach(N),c.forEach(N),this.h()},h(){ae(r,"class","top svelte-orenv4"),ae(o,"class","bottom svelte-orenv4"),ae(a,"class","ui svelte-orenv4"),Be(a,"visible",m[3]),oe(a,"width",e)},m(h,c){se(h,a,c),Z(a,r),d&&d.m(r,null),Z(a,p),Z(a,o),l&&l.m(o,null),s=!0},p(h,[c]){h[5]?d&&(Oe(),ee(d,1,1,()=>{d=null}),Fe()):d?(d.p(h,c),c&32&&K(d,1)):(d=Tn(h),d.c(),K(d,1),d.m(r,null)),h[5]?l&&(Oe(),ee(l,1,1,()=>{l=null}),Fe()):l?(l.p(h,c),c&32&&K(l,1)):(l=Pn(h),l.c(),K(l,1),l.m(o,null)),(!s||c&8)&&Be(a,"visible",h[3]),c&16&&e!==(e=`${h[4]}px`)&&oe(a,"width",e)},i(h){s||(K(d),K(l),s=!0)},o(h){ee(d),ee(l),s=!1},d(h){h&&N(a),d&&d.d(),l&&l.d()}}}function kr(m,a,r){let{visible:p}=a,{width:o}=a,{power:e}=a,{replay:s}=a,{phase:d}=a,{disabled:l}=a,{rangeValuePosition:h}=a,{rangeValueShoot:c}=a,{rangeDefault:t}=a,{animate:i}=a;Ft();function n(P){Pt.call(this,m,P)}function u(P){Pt.call(this,m,P)}function f(P){e=P,r(0,e)}function v(P){Pt.call(this,m,P)}function _(P){h=P,r(1,h)}function b(P){Pt.call(this,m,P)}function A(P){c=P,r(2,c)}return m.$$set=P=>{"visible"in P&&r(3,p=P.visible),"width"in P&&r(4,o=P.width),"power"in P&&r(0,e=P.power),"replay"in P&&r(5,s=P.replay),"phase"in P&&r(6,d=P.phase),"disabled"in P&&r(7,l=P.disabled),"rangeValuePosition"in P&&r(1,h=P.rangeValuePosition),"rangeValueShoot"in P&&r(2,c=P.rangeValueShoot),"rangeDefault"in P&&r(8,t=P.rangeDefault),"animate"in P&&r(9,i=P.animate)},[e,h,c,p,o,s,d,l,t,i,n,u,f,v,_,b,A]}class Mr extends Me{constructor(a){super(),Ce(this,a,kr,Pr,Se,{visible:3,width:4,power:0,replay:5,phase:6,disabled:7,rangeValuePosition:1,rangeValueShoot:2,rangeDefault:8,animate:9})}}function kn(m,a,r){const p=m.slice();return p[2]=a[r],p}function Mn(m,a,r){const p=m.slice();return p[2]=a[r],p}function Cn(m){let a;return{c(){a=q("span"),this.h()},l(r){a=$(r,"SPAN",{class:!0}),te(a).forEach(N),this.h()},h(){ae(a,"class","disc svelte-xpck0r")},m(r,p){se(r,a,p)},p:ge,d(r){r&&N(a)}}}function In(m){let a;return{c(){a=q("span"),this.h()},l(r){a=$(r,"SPAN",{class:!0}),te(a).forEach(N),this.h()},h(){ae(a,"class","disc svelte-xpck0r")},m(r,p){se(r,a,p)},p:ge,d(r){r&&N(a)}}}function Cr(m){let a,r,p,o,e=`${m[1]}px`,s=ye(kt(m[0].player1)),d=[];for(let c=0;c<s.length;c+=1)d[c]=Cn(Mn(m,s,c));let l=ye(kt(m[0].player2)),h=[];for(let c=0;c<l.length;c+=1)h[c]=In(kn(m,l,c));return{c(){a=q("div"),r=q("p");for(let c=0;c<d.length;c+=1)d[c].c();p=he(),o=q("p");for(let c=0;c<h.length;c+=1)h[c].c();this.h()},l(c){a=$(c,"DIV",{class:!0});var t=te(a);r=$(t,"P",{class:!0});var i=te(r);for(let u=0;u<d.length;u+=1)d[u].l(i);i.forEach(N),p=me(t),o=$(t,"P",{class:!0});var n=te(o);for(let u=0;u<h.length;u+=1)h[u].l(n);n.forEach(N),t.forEach(N),this.h()},h(){ae(r,"class","shots you svelte-xpck0r"),ae(o,"class","shots opp svelte-xpck0r"),ae(a,"class","game svelte-xpck0r"),oe(a,"width",e)},m(c,t){se(c,a,t),Z(a,r);for(let i=0;i<d.length;i+=1)d[i]&&d[i].m(r,null);Z(a,p),Z(a,o);for(let i=0;i<h.length;i+=1)h[i]&&h[i].m(o,null)},p(c,[t]){if(t&1){s=ye(kt(c[0].player1));let i;for(i=0;i<s.length;i+=1){const n=Mn(c,s,i);d[i]?d[i].p(n,t):(d[i]=Cn(),d[i].c(),d[i].m(r,null))}for(;i<d.length;i+=1)d[i].d(1);d.length=s.length}if(t&1){l=ye(kt(c[0].player2));let i;for(i=0;i<l.length;i+=1){const n=kn(c,l,i);h[i]?h[i].p(n,t):(h[i]=In(),h[i].c(),h[i].m(o,null))}for(;i<h.length;i+=1)h[i].d(1);h.length=l.length}t&2&&e!==(e=`${c[1]}px`)&&oe(a,"width",e)},i:ge,o:ge,d(c){c&&N(a),Ke(d,c),Ke(h,c)}}}function Ir(m,a,r){let{shots:p}=a,{width:o}=a;return m.$$set=e=>{"shots"in e&&r(0,p=e.shots),"width"in e&&r(1,o=e.width)},[p,o]}class Er extends Me{constructor(a){super(),Ce(this,a,Ir,Cr,Se,{shots:0,width:1})}}const Dr=[{state:"shoot",player:"player2",power:.32,degrees:176}],Br=[{x:411.7843742508332,y:436.43306454273926,player:"player2",score:15},{x:341.53999999999996,y:688.5930841382143,state:"shoot",player:"player1",power:.38,degrees:15}],Vr=[{x:411.7843742508332,y:436.43306454273926,player:"player2",score:15},{state:"position",player:"player1"}],Rr=[{x:150,y:300,player:"player2",score:5},{state:"shoot",player:"player1",power:.21,degrees:1}],Or=[{state:"shoot",player:"player1",random:!0,power:.3,degrees:0}],Fr=[{x:480,y:250,player:"player1",score:10},{state:"position",player:"player1"}],Lr=[{x:350,y:342,player:"player1",score:15,valid:!0},{x:545,y:311,player:"player1",score:10,valid:!0},{x:622,y:310,player:"player2",score:5,valid:!0},{x:150,y:305,player:"player2",score:5,valid:!0},{x:233,y:466,player:"player2",score:10,valid:!0,state:"idle"}],Hr=[{x:420,y:460,player:"player2"},{player:"player1",state:"position"}],Nr={fifteen:Dr,opponent:Br,opponenttry:Vr,invalid:Rr,open:Or,opentry:Fr,score:Lr,ricochettry:Hr};function En(m){let a,r;return a=new Er({props:{width:m[0],shots:m[9]}}),{c(){Ae(a.$$.fragment)},l(p){Te(a.$$.fragment,p)},m(p,o){Pe(a,p,o),r=!0},p(p,o){const e={};o[0]&1&&(e.width=p[0]),o[0]&512&&(e.shots=p[9]),a.$set(e)},i(p){r||(K(a.$$.fragment,p),r=!0)},o(p){ee(a.$$.fragment,p),r=!1},d(p){ke(a,p)}}}function Dn(m){let a,r,p,o,e;return{c(){a=q("p"),r=q("strong"),p=He(m[12]),this.h()},l(s){a=$(s,"P",{class:!0});var d=te(a);r=$(d,"STRONG",{});var l=te(r);p=Ne(l,m[12]),l.forEach(N),d.forEach(N),this.h()},h(){ae(a,"class","text-outline svelte-vy6suv")},m(s,d){se(s,a,d),Z(a,r),Z(r,p),e=!0},p(s,d){(!e||d[0]&4096)&&ct(p,s[12])},i(s){e||(s&&ri(()=>{e&&(o||(o=jt(a,tn,{},!0)),o.run(1))}),e=!0)},o(s){s&&(o||(o=jt(a,tn,{},!1)),o.run(0)),e=!1},d(s){s&&N(a),s&&o&&o.end()}}}function Wr(m){let a,r,p,o,e,s,d,l=`${m[0]}px`,h=`${m[0]}px`,c,t,i,n,u,f,v,_,b=m[2]&&En(m);r=new Ci({props:{pointsVisible:m[16],holderVisible:m[17],animate:m[8],holder:m[6],score:m[7],width:m[0]}}),e=new Pi({props:{tutorialClass:m[18],width:m[0]}});let A=m[12]&&Dn(m);function P(g){m[26](g)}function y(g){m[27](g)}function x(g){m[28](g)}let w={visible:!m[14]||!m[1]||m[11]==="end",width:m[0],phase:m[11],disabled:m[13],rangeDefault:m[19],animate:m[15]};return m[3]!==void 0&&(w.rangeValuePosition=m[3]),m[4]!==void 0&&(w.rangeValueShoot=m[4]),m[5]!==void 0&&(w.power=m[5]),n=new Mr({props:w}),Re.push(()=>it(n,"rangeValuePosition",P)),Re.push(()=>it(n,"rangeValueShoot",y)),Re.push(()=>it(n,"power",x)),n.$on("release",m[21]),n.$on("click",m[22]),n.$on("change",m[20]),{c(){b&&b.c(),a=he(),Ae(r.$$.fragment),p=he(),o=q("div"),Ae(e.$$.fragment),s=he(),d=q("div"),c=he(),t=q("div"),A&&A.c(),i=he(),Ae(n.$$.fragment),this.h()},l(g){b&&b.l(g),a=me(g),Te(r.$$.fragment,g),p=me(g),o=$(g,"DIV",{class:!0});var S=te(o);Te(e.$$.fragment,S),s=me(S),d=$(S,"DIV",{class:!0}),te(d).forEach(N),c=me(S),t=$(S,"DIV",{class:!0});var T=te(t);A&&A.l(T),T.forEach(N),S.forEach(N),i=me(g),Te(n.$$.fragment,g),this.h()},h(){ae(d,"class","fg svelte-vy6suv"),oe(d,"width",l),oe(d,"height",h),ae(t,"class","message svelte-vy6suv"),ae(o,"class","c svelte-vy6suv")},m(g,S){b&&b.m(g,S),se(g,a,S),Pe(r,g,S),se(g,p,S),se(g,o,S),Pe(e,o,null),Z(o,s),Z(o,d),m[25](d),Z(o,c),Z(o,t),A&&A.m(t,null),se(g,i,S),Pe(n,g,S),_=!0},p(g,S){g[2]?b?(b.p(g,S),S[0]&4&&K(b,1)):(b=En(g),b.c(),K(b,1),b.m(a.parentNode,a)):b&&(Oe(),ee(b,1,1,()=>{b=null}),Fe());const T={};S[0]&65536&&(T.pointsVisible=g[16]),S[0]&131072&&(T.holderVisible=g[17]),S[0]&256&&(T.animate=g[8]),S[0]&64&&(T.holder=g[6]),S[0]&128&&(T.score=g[7]),S[0]&1&&(T.width=g[0]),r.$set(T);const M={};S[0]&262144&&(M.tutorialClass=g[18]),S[0]&1&&(M.width=g[0]),e.$set(M),S[0]&1&&l!==(l=`${g[0]}px`)&&oe(d,"width",l),S[0]&1&&h!==(h=`${g[0]}px`)&&oe(d,"height",h),g[12]?A?(A.p(g,S),S[0]&4096&&K(A,1)):(A=Dn(g),A.c(),K(A,1),A.m(t,null)):A&&(Oe(),ee(A,1,1,()=>{A=null}),Fe());const k={};S[0]&18434&&(k.visible=!g[14]||!g[1]||g[11]==="end"),S[0]&1&&(k.width=g[0]),S[0]&2048&&(k.phase=g[11]),S[0]&8192&&(k.disabled=g[13]),S[0]&32768&&(k.animate=g[15]),!u&&S[0]&8&&(u=!0,k.rangeValuePosition=g[3],nt(()=>u=!1)),!f&&S[0]&16&&(f=!0,k.rangeValueShoot=g[4],nt(()=>f=!1)),!v&&S[0]&32&&(v=!0,k.power=g[5],nt(()=>v=!1)),n.$set(k)},i(g){_||(K(b),K(r.$$.fragment,g),K(e.$$.fragment,g),K(A),K(n.$$.fragment,g),_=!0)},o(g){ee(b),ee(r.$$.fragment,g),ee(e.$$.fragment,g),ee(A),ee(n.$$.fragment,g),_=!1},d(g){g&&(N(a),N(p),N(o),N(i)),b&&b.d(g),ke(r,g),ke(e),m[25](null),A&&A.d(),ke(n,g)}}}const vt=0;function Gr(m,a,r){let p,{width:o}=a,{tutorial:e}=a,{autoMute:s}=a,{game:d}=a;const l=bi(),h={position:{value:[.5*ue*2],min:.21*ue*2,max:.79*ue*2,step:1},shoot:{value:[0],min:-90,max:90,step:.25}},c={player1:0,player2:0},t={player1:0,player2:0},i={player1:!1,player2:!1},n={player1:8,player2:8};let u,f=!1,v=0,_=h.position.value,b=h.shoot.value,A=vt,P="position",y=0,x="",w=!1,g=!1,S,T,M,k=!1,C=!1,E=!0,D=!0;function V({detail:I}){C||I[0]!==h.position.value&&(C=!0,r(15,k=!C))}async function L({discs:I,valid:O}){r(5,A=vt),re(),r(13,w=!1),ce(!0),W(I),v+=1;const z=v%2===0?"player2":"player1",le=v%2===0?"player1":"player2";if(r(9,n[z]-=1,n),v===16)G();else{await oi(),r(13,w=le==="player2"),r(11,P="position");const ie=d&&le==="player2";l.addDisc({player:le,mode:"position",bot:ie})}}function U({discs:I,valid:O}){if(O){const z=I.some(ve=>ve.score===20);I.filter(ve=>ve.player==="player2").every(ve=>ve.score===0);const le=e.includes("open"),ie=e.includes("ricochet");r(12,x=`Valid shot. ${le||ie?z?"Nice 20!":"But not a 20 :(":"Well done!"}`)}else r(12,x="Invalid shot. Try again.");clearTimeout(M),M=setTimeout(()=>{r(12,x=null),Ie()},2e3)}function G(){r(11,P="end");const I=t.player1>t.player2,O=t.player1===t.player2;r(12,x=O?"You tied the round":`${t.player1>t.player2?"You":"Bot"} win${I?"":"s"} the round`)}function W(I){I.forEach(O=>{O.valid&&O.score&&O.score!==20&&r(7,t[O.player]+=O.score,t),O.valid&&O.score===20&&(r(8,i[O.player]=!0,i),r(6,c[O.player]++,c))}),r(7,t.player1+=c.player1*20,t),r(7,t.player2+=c.player2*20,t)}function J({discs:I,valid:O}){ce(),W(I),r(5,A=vt),e.includes("try")?U({discs:I,valid:O}):e&&(T=setTimeout(Ie,2e3))}function j(){r(8,i.player1=!1,i),r(8,i.player2=!1,i),l.flickDisc(),r(13,w=!0)}function re(){r(3,_=h.position.value),r(4,b=h.shoot.value)}function pe(){P==="position"&&l.positionDisc(_[0])}function fe(){if(P!=="shoot")return;const I=e?e.includes("try"):!0;y=b[0],l.aimDisc({degrees:y,power:.25,visible:I})}function Y(){const I=e?e.includes("try"):!0;l.aimDisc({degrees:y,power:A,visible:I,random:d})}async function de(){P==="position"?(r(11,P="shoot"),r(5,A=vt),re(),l.setState("shoot")):P==="end"&&B()}function ce(I){r(6,c.player1=I?c.player1:0,c),r(6,c.player2=I?c.player2:0,c),r(7,t.player1=0,t),r(7,t.player2=0,t),r(9,n.player1=I?n.player1:8,n),r(9,n.player2=I?n.player2:8,n)}async function Ie(){if(!e)return;ce(),clearTimeout(S),clearTimeout(T),clearTimeout(M),r(12,x=null),r(14,g=!e.includes("try"));const I=e==="score";r(16,E=!["regions","ricochettry"].includes(e)),r(17,D=E),r(15,k=e==="opponenttry"&&!C),r(5,A=vt);const O=Nr[e];if(l.removeDiscs(),O&&(O.forEach(l.addDisc),O.forEach(z=>z.valid=!0),W(O)),(g||I)&&O){const z=O[O.length-1],le=z.random?Math.random()*3-1.5:0,ie=z.degrees+le,we=z.random?Math.random()*.07-.035:0,ve=z.power+we;S=setTimeout(()=>{I?G():(r(11,P=O[O.length-1].state),l.aimDisc({degrees:ie,power:ve}),j())},2e3)}else S=null,O&&r(11,P=O[O.length-1].state),P==="shoot"&&l.setIndicatorVisible(!0);re(),r(13,w=!1)}function B(){r(11,P="position"),l.removeDiscs(),l.addDisc(),v=0,ce()}Ln(async()=>{l.on("shotComplete",L),l.on("shotCompleteManual",J),l.on("ready",()=>r(24,f=!0)),l.init({element:u,width:o,tutorial:e}),d&&B()});function R(I){Re[I?"unshift":"push"](()=>{u=I,r(10,u)})}function F(I){_=I,r(3,_)}function H(I){b=I,r(4,b)}function X(I){A=I,r(5,A)}return m.$$set=I=>{"width"in I&&r(0,o=I.width),"tutorial"in I&&r(1,e=I.tutorial),"autoMute"in I&&r(23,s=I.autoMute),"game"in I&&r(2,d=I.game)},m.$$.update=()=>{m.$$.dirty[0]&2&&r(18,p=e?`tutorial tutorial-${e}`:""),m.$$.dirty[0]&16777217&&f&&l.resize(o),m.$$.dirty[0]&16777225&&f&&pe(),m.$$.dirty[0]&16777233&&f&&fe(),m.$$.dirty[0]&16777249&&f&&Y(),m.$$.dirty[0]&16777218&&f&&Ie(),m.$$.dirty[0]&8388608&&l.autoMute(s)},[o,e,d,_,b,A,c,t,i,n,u,P,x,w,g,k,E,D,p,h,V,j,de,s,f,R,F,H,X]}class Po extends Me{constructor(a){super(),Ce(this,a,Gr,Wr,Se,{width:0,tutorial:1,autoMute:23,game:2},null,[-1,-1])}}var Ur="Expected a function",Bn=NaN,Xr="[object Symbol]",Yr=/^\s+|\s+$/g,Qr=/^[-+]0x[0-9a-f]+$/i,Zr=/^0b[01]+$/i,zr=/^0o[0-7]+$/i,Kr=parseInt,Jr=typeof Ve=="object"&&Ve&&Ve.Object===Object&&Ve,jr=typeof self=="object"&&self&&self.Object===Object&&self,qr=Jr||jr||Function("return this")(),$r=Object.prototype,eo=$r.toString,to=Math.max,no=Math.min,Yt=function(){return qr.Date.now()};function io(m,a,r){var p,o,e,s,d,l,h=0,c=!1,t=!1,i=!0;if(typeof m!="function")throw new TypeError(Ur);a=Vn(a)||0,zt(r)&&(c=!!r.leading,t="maxWait"in r,e=t?to(Vn(r.maxWait)||0,a):e,i="trailing"in r?!!r.trailing:i);function n(x){var w=p,g=o;return p=o=void 0,h=x,s=m.apply(g,w),s}function u(x){return h=x,d=setTimeout(_,a),c?n(x):s}function f(x){var w=x-l,g=x-h,S=a-w;return t?no(S,e-g):S}function v(x){var w=x-l,g=x-h;return l===void 0||w>=a||w<0||t&&g>=e}function _(){var x=Yt();if(v(x))return b(x);d=setTimeout(_,f(x))}function b(x){return d=void 0,i&&p?n(x):(p=o=void 0,s)}function A(){d!==void 0&&clearTimeout(d),h=0,p=l=o=d=void 0}function P(){return d===void 0?s:b(Yt())}function y(){var x=Yt(),w=v(x);if(p=arguments,o=this,l=x,w){if(d===void 0)return u(l);if(t)return d=setTimeout(_,a),n(l)}return d===void 0&&(d=setTimeout(_,a)),s}return y.cancel=A,y.flush=P,y}function zt(m){var a=typeof m;return!!m&&(a=="object"||a=="function")}function ro(m){return!!m&&typeof m=="object"}function oo(m){return typeof m=="symbol"||ro(m)&&eo.call(m)==Xr}function Vn(m){if(typeof m=="number")return m;if(oo(m))return Bn;if(zt(m)){var a=typeof m.valueOf=="function"?m.valueOf():m;m=zt(a)?a+"":a}if(typeof m!="string")return m===0?m:+m;m=m.replace(Yr,"");var r=Zr.test(m);return r||zr.test(m)?Kr(m.slice(2),r?2:8):Qr.test(m)?Bn:+m}var ao=io;const so=Wn(ao),lo=()=>{var m;return((m=window==null?void 0:window.visualViewport)==null?void 0:m.width)||document.documentElement.clientWidth},uo=()=>{var m;return((m=window==null?void 0:window.visualViewport)==null?void 0:m.height)||document.documentElement.clientHeight},ko=ht({width:0,height:0},m=>{const a=()=>m({width:lo(),height:uo()});return a(),window.addEventListener("resize",so(a,250)),()=>{window.removeEventListener("resize",a)}});function fo(m){let a;const r=m[2].default,p=ot(r,m,m[3],null);return{c(){p&&p.c()},l(o){p&&p.l(o)},m(o,e){p&&p.m(o,e),a=!0},p(o,e){p&&p.p&&(!a||e&8)&&at(p,r,o,o[3],a?lt(r,o[3],e,null):st(o[3]),null)},i(o){a||(K(p,o),a=!0)},o(o){ee(p,o),a=!1},d(o){p&&p.d(o)}}}function co(m){let a,r;const p=[{name:"volume-2"},m[1],{iconNode:m[0]}];let o={$$slots:{default:[fo]},$$scope:{ctx:m}};for(let e=0;e<p.length;e+=1)o=_e(o,p[e]);return a=new Nn({props:o}),{c(){Ae(a.$$.fragment)},l(e){Te(a.$$.fragment,e)},m(e,s){Pe(a,e,s),r=!0},p(e,[s]){const d=s&3?ut(p,[p[0],s&2&&Hn(e[1]),s&1&&{iconNode:e[0]}]):{};s&8&&(d.$$scope={dirty:s,ctx:e}),a.$set(d)},i(e){r||(K(a.$$.fragment,e),r=!0)},o(e){ee(a.$$.fragment,e),r=!1},d(e){ke(a,e)}}}function po(m,a,r){let{$$slots:p={},$$scope:o}=a;const e=[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"}]];return m.$$set=s=>{r(1,a=_e(_e({},a),We(s))),"$$scope"in s&&r(3,o=s.$$scope)},a=We(a),[e,a,p,o]}class ho extends Me{constructor(a){super(),Ce(this,a,po,co,Se,{})}}function mo(m){let a;const r=m[2].default,p=ot(r,m,m[3],null);return{c(){p&&p.c()},l(o){p&&p.l(o)},m(o,e){p&&p.m(o,e),a=!0},p(o,e){p&&p.p&&(!a||e&8)&&at(p,r,o,o[3],a?lt(r,o[3],e,null):st(o[3]),null)},i(o){a||(K(p,o),a=!0)},o(o){ee(p,o),a=!1},d(o){p&&p.d(o)}}}function vo(m){let a,r;const p=[{name:"volume-x"},m[1],{iconNode:m[0]}];let o={$$slots:{default:[mo]},$$scope:{ctx:m}};for(let e=0;e<p.length;e+=1)o=_e(o,p[e]);return a=new Nn({props:o}),{c(){Ae(a.$$.fragment)},l(e){Te(a.$$.fragment,e)},m(e,s){Pe(a,e,s),r=!0},p(e,[s]){const d=s&3?ut(p,[p[0],s&2&&Hn(e[1]),s&1&&{iconNode:e[0]}]):{};s&8&&(d.$$scope={dirty:s,ctx:e}),a.$set(d)},i(e){r||(K(a.$$.fragment,e),r=!0)},o(e){ee(a.$$.fragment,e),r=!1},d(e){ke(a,e)}}}function go(m,a,r){let{$$slots:p={},$$scope:o}=a;const e=[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]];return m.$$set=s=>{r(1,a=_e(_e({},a),We(s))),"$$scope"in s&&r(3,o=s.$$scope)},a=We(a),[e,a,p,o]}class _o extends Me{constructor(a){super(),Ce(this,a,go,vo,Se,{})}}function yo(m){let a,r;return a=new ho({}),{c(){Ae(a.$$.fragment)},l(p){Te(a.$$.fragment,p)},m(p,o){Pe(a,p,o),r=!0},i(p){r||(K(a.$$.fragment,p),r=!0)},o(p){ee(a.$$.fragment,p),r=!1},d(p){ke(a,p)}}}function xo(m){let a,r;return a=new _o({}),{c(){Ae(a.$$.fragment)},l(p){Te(a.$$.fragment,p)},m(p,o){Pe(a,p,o),r=!0},i(p){r||(K(a.$$.fragment,p),r=!0)},o(p){ee(a.$$.fragment,p),r=!1},d(p){ke(a,p)}}}function wo(m){let a,r,p,o,e,s;const d=[xo,yo],l=[];function h(c,t){return c[0]?0:1}return r=h(m),p=l[r]=d[r](m),{c(){a=q("button"),p.c(),this.h()},l(c){a=$(c,"BUTTON",{class:!0});var t=te(a);p.l(t),t.forEach(N),this.h()},h(){ae(a,"class","svelte-67gyr7")},m(c,t){se(c,a,t),l[r].m(a,null),o=!0,e||(s=tt(a,"click",m[1]),e=!0)},p(c,[t]){let i=r;r=h(c),r!==i&&(Oe(),ee(l[i],1,1,()=>{l[i]=null}),Fe(),p=l[r],p||(p=l[r]=d[r](c),p.c()),K(p,1),p.m(a,null))},i(c){o||(K(p),o=!0)},o(c){ee(p),o=!1},d(c){c&&N(a),l[r].d(),e=!1,s()}}}function So(m,a,r){let p;return xt(m,Vt,e=>r(0,p=e)),Ln(()=>{document.addEventListener("visibilitychange",()=>{const e=document.hidden;e&&(globalMute=p),Jt(Vt,p=globalMute||e,p)})}),[p,()=>Jt(Vt,p=!p,p)]}class Mo extends Me{constructor(a){super(),Ce(this,a,So,wo,Se,{})}}export{Po as C,Nn as I,Mo as M,pi as a,Hn as b,di as c,ye as e,ut as g,ci as m,fi as s,ui as u,ko as v};
