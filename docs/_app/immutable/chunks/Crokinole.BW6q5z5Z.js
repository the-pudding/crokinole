import{K as Fn,a9 as On,aa as Ln,ab as bn,a8 as Wn,a7 as Hn,a as nt,m as Be,g as ue,f as Y,a1 as et,k as Ct,Y as Le,a2 as Wt,w as Qe,C as bt,e as ee,c as te,b as ne,ac as tt,ad as Ht,D as At,E as Et,F as Tt,n as Oe,a4 as lt,r as An,t as Ce,l as Se,d as Pe,o as we,u as fe,h as J,j as Ue,ae as Nt,X as at,a5 as Re,v as ae,q as Nn,af as Un,z as _n,y as Gn,a6 as zn}from"./scheduler.BU5WYA1d.js";import{S as it,i as st,g as Ge,t as ve,c as ze,a as le,f as Ut,b as dt,d as ht,m as vt,e as pt,h as qt}from"./index.BW9uYJzu.js";import{d as kt,w as Ze,r as ft}from"./index.D59OW35Y.js";function Ve(g){return(g==null?void 0:g.length)!==void 0?g:Array.from(g)}function _t(g,d){const u={},m={},f={$$scope:1};let e=g.length;for(;e--;){const i=g[e],r=d[e];if(r){for(const s in i)s in r||(m[s]=1);for(const s in r)f[s]||(u[s]=r[s],f[s]=1);g[e]=r}else for(const s in i)f[s]=1}for(const i in m)i in u||(u[i]=void 0);return u}function os(g){return typeof g=="object"&&g!==null?g:{}}function $t(g,{delay:d=0,duration:u=400,easing:m=Fn}={}){const f=+getComputedStyle(g).opacity;return{delay:d,duration:u,easing:m,css:e=>`opacity: ${e*f}`}}var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kn(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var En={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(g,d){(function(m,f){g.exports=f()})(Dt,function(){return function(u){var m={};function f(e){if(m[e])return m[e].exports;var i=m[e]={i:e,l:!1,exports:{}};return u[e].call(i.exports,i,i.exports,f),i.l=!0,i.exports}return f.m=u,f.c=m,f.d=function(e,i,r){f.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},f.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(e,i){if(i&1&&(e=f(e)),i&8||i&4&&typeof e=="object"&&e&&e.__esModule)return e;var r=Object.create(null);if(f.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),i&2&&typeof e!="string")for(var s in e)f.d(r,s,(function(o){return e[o]}).bind(null,s));return r},f.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(i,"a",i),i},f.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},f.p="",f(f.s=20)}([function(u,m){var f={};u.exports=f,function(){f._baseDelta=1e3/60,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(i,r){var s,o;typeof r=="boolean"?(s=2,o=r):(s=1,o=!0);for(var n=s;n<arguments.length;n++){var h=arguments[n];if(h)for(var c in h)o&&h[c]&&h[c].constructor===Object&&(!i[c]||i[c].constructor===Object)?(i[c]=i[c]||{},f.extend(i[c],o,h[c])):i[c]=h[c]}return i},f.clone=function(i,r){return f.extend({},r,i)},f.keys=function(i){if(Object.keys)return Object.keys(i);var r=[];for(var s in i)r.push(s);return r},f.values=function(i){var r=[];if(Object.keys){for(var s=Object.keys(i),o=0;o<s.length;o++)r.push(i[s[o]]);return r}for(var n in i)r.push(i[n]);return r},f.get=function(i,r,s,o){r=r.split(".").slice(s,o);for(var n=0;n<r.length;n+=1)i=i[r[n]];return i},f.set=function(i,r,s,o,n){var h=r.split(".").slice(o,n);return f.get(i,r,0,-1)[h[h.length-1]]=s,s},f.shuffle=function(i){for(var r=i.length-1;r>0;r--){var s=Math.floor(f.random()*(r+1)),o=i[r];i[r]=i[s],i[s]=o}return i},f.choose=function(i){return i[Math.floor(f.random()*i.length)]},f.isElement=function(i){return typeof HTMLElement<"u"?i instanceof HTMLElement:!!(i&&i.nodeType&&i.nodeName)},f.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"},f.isFunction=function(i){return typeof i=="function"},f.isPlainObject=function(i){return typeof i=="object"&&i.constructor===Object},f.isString=function(i){return toString.call(i)==="[object String]"},f.clamp=function(i,r,s){return i<r?r:i>s?s:i},f.sign=function(i){return i<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(i,r){return i=typeof i<"u"?i:0,r=typeof r<"u"?r:1,i+e()*(r-i)};var e=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(i){return i=i.replace("#",""),i.length==3&&(i=i.charAt(0)+i.charAt(0)+i.charAt(1)+i.charAt(1)+i.charAt(2)+i.charAt(2)),parseInt(i,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var i=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[i]||(f.warn(i),f._warnedOnce[i]=!0)},f.deprecated=function(i,r,s){i[r]=f.chain(function(){f.warnOnce("🔅 deprecated 🔅",s)},i[r])},f.nextId=function(){return f._nextId++},f.indexOf=function(i,r){if(i.indexOf)return i.indexOf(r);for(var s=0;s<i.length;s++)if(i[s]===r)return s;return-1},f.map=function(i,r){if(i.map)return i.map(r);for(var s=[],o=0;o<i.length;o+=1)s.push(r(i[o]));return s},f.topologicalSort=function(i){var r=[],s=[],o=[];for(var n in i)!s[n]&&!o[n]&&f._topologicalSort(n,s,o,i,r);return r},f._topologicalSort=function(i,r,s,o,n){var h=o[i]||[];s[i]=!0;for(var c=0;c<h.length;c+=1){var t=h[c];s[t]||r[t]||f._topologicalSort(t,r,s,o,n)}s[i]=!1,r[i]=!0,n.push(i)},f.chain=function(){for(var i=[],r=0;r<arguments.length;r+=1){var s=arguments[r];s._chained?i.push.apply(i,s._chained):i.push(s)}var o=function(){for(var n,h=new Array(arguments.length),c=0,t=arguments.length;c<t;c++)h[c]=arguments[c];for(c=0;c<i.length;c+=1){var l=i[c].apply(n,h);typeof l<"u"&&(n=l)}return n};return o._chained=i,o},f.chainPathBefore=function(i,r,s){return f.set(i,r,f.chain(s,f.get(i,r)))},f.chainPathAfter=function(i,r,s){return f.set(i,r,f.chain(f.get(i,r),s))},f.setDecomp=function(i){f._decomp=i},f.getDecomp=function(){var i=f._decomp;try{!i&&typeof window<"u"&&(i=window.decomp),!i&&typeof Dt<"u"&&(i=Dt.decomp)}catch{i=null}return i}}()},function(u,m){var f={};u.exports=f,function(){f.create=function(e){var i={min:{x:0,y:0},max:{x:0,y:0}};return e&&f.update(i,e),i},f.update=function(e,i,r){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var s=0;s<i.length;s++){var o=i[s];o.x>e.max.x&&(e.max.x=o.x),o.x<e.min.x&&(e.min.x=o.x),o.y>e.max.y&&(e.max.y=o.y),o.y<e.min.y&&(e.min.y=o.y)}r&&(r.x>0?e.max.x+=r.x:e.min.x+=r.x,r.y>0?e.max.y+=r.y:e.min.y+=r.y)},f.contains=function(e,i){return i.x>=e.min.x&&i.x<=e.max.x&&i.y>=e.min.y&&i.y<=e.max.y},f.overlaps=function(e,i){return e.min.x<=i.max.x&&e.max.x>=i.min.x&&e.max.y>=i.min.y&&e.min.y<=i.max.y},f.translate=function(e,i){e.min.x+=i.x,e.max.x+=i.x,e.min.y+=i.y,e.max.y+=i.y},f.shift=function(e,i){var r=e.max.x-e.min.x,s=e.max.y-e.min.y;e.min.x=i.x,e.max.x=i.x+r,e.min.y=i.y,e.max.y=i.y+s}}()},function(u,m){var f={};u.exports=f,function(){f.create=function(e,i){return{x:e||0,y:i||0}},f.clone=function(e){return{x:e.x,y:e.y}},f.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},f.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},f.rotate=function(e,i,r){var s=Math.cos(i),o=Math.sin(i);r||(r={});var n=e.x*s-e.y*o;return r.y=e.x*o+e.y*s,r.x=n,r},f.rotateAbout=function(e,i,r,s){var o=Math.cos(i),n=Math.sin(i);s||(s={});var h=r.x+((e.x-r.x)*o-(e.y-r.y)*n);return s.y=r.y+((e.x-r.x)*n+(e.y-r.y)*o),s.x=h,s},f.normalise=function(e){var i=f.magnitude(e);return i===0?{x:0,y:0}:{x:e.x/i,y:e.y/i}},f.dot=function(e,i){return e.x*i.x+e.y*i.y},f.cross=function(e,i){return e.x*i.y-e.y*i.x},f.cross3=function(e,i,r){return(i.x-e.x)*(r.y-e.y)-(i.y-e.y)*(r.x-e.x)},f.add=function(e,i,r){return r||(r={}),r.x=e.x+i.x,r.y=e.y+i.y,r},f.sub=function(e,i,r){return r||(r={}),r.x=e.x-i.x,r.y=e.y-i.y,r},f.mult=function(e,i){return{x:e.x*i,y:e.y*i}},f.div=function(e,i){return{x:e.x/i,y:e.y/i}},f.perp=function(e,i){return i=i===!0?-1:1,{x:i*-e.y,y:i*e.x}},f.neg=function(e){return{x:-e.x,y:-e.y}},f.angle=function(e,i){return Math.atan2(i.y-e.y,i.x-e.x)},f._temp=[f.create(),f.create(),f.create(),f.create(),f.create(),f.create()]}()},function(u,m,f){var e={};u.exports=e;var i=f(2),r=f(0);(function(){e.create=function(s,o){for(var n=[],h=0;h<s.length;h++){var c=s[h],t={x:c.x,y:c.y,index:h,body:o,isInternal:!1};n.push(t)}return n},e.fromPath=function(s,o){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,h=[];return s.replace(n,function(c,t,l){h.push({x:parseFloat(t),y:parseFloat(l)})}),e.create(h,o)},e.centre=function(s){for(var o=e.area(s,!0),n={x:0,y:0},h,c,t,l=0;l<s.length;l++)t=(l+1)%s.length,h=i.cross(s[l],s[t]),c=i.mult(i.add(s[l],s[t]),h),n=i.add(n,c);return i.div(n,6*o)},e.mean=function(s){for(var o={x:0,y:0},n=0;n<s.length;n++)o.x+=s[n].x,o.y+=s[n].y;return i.div(o,s.length)},e.area=function(s,o){for(var n=0,h=s.length-1,c=0;c<s.length;c++)n+=(s[h].x-s[c].x)*(s[h].y+s[c].y),h=c;return o?n/2:Math.abs(n)/2},e.inertia=function(s,o){for(var n=0,h=0,c=s,t,l,a=0;a<c.length;a++)l=(a+1)%c.length,t=Math.abs(i.cross(c[l],c[a])),n+=t*(i.dot(c[l],c[l])+i.dot(c[l],c[a])+i.dot(c[a],c[a])),h+=t;return o/6*(n/h)},e.translate=function(s,o,n){n=typeof n<"u"?n:1;var h=s.length,c=o.x*n,t=o.y*n,l;for(l=0;l<h;l++)s[l].x+=c,s[l].y+=t;return s},e.rotate=function(s,o,n){if(o!==0){var h=Math.cos(o),c=Math.sin(o),t=n.x,l=n.y,a=s.length,v,C,A,E;for(E=0;E<a;E++)v=s[E],C=v.x-t,A=v.y-l,v.x=t+(C*h-A*c),v.y=l+(C*c+A*h);return s}},e.contains=function(s,o){for(var n=o.x,h=o.y,c=s.length,t=s[c-1],l,a=0;a<c;a++){if(l=s[a],(n-t.x)*(l.y-t.y)+(h-t.y)*(t.x-l.x)>0)return!1;t=l}return!0},e.scale=function(s,o,n,h){if(o===1&&n===1)return s;h=h||e.centre(s);for(var c,t,l=0;l<s.length;l++)c=s[l],t=i.sub(c,h),s[l].x=h.x+t.x*o,s[l].y=h.y+t.y*n;return s},e.chamfer=function(s,o,n,h,c){typeof o=="number"?o=[o]:o=o||[8],n=typeof n<"u"?n:-1,h=h||2,c=c||14;for(var t=[],l=0;l<s.length;l++){var a=s[l-1>=0?l-1:s.length-1],v=s[l],C=s[(l+1)%s.length],A=o[l<o.length?l:o.length-1];if(A===0){t.push(v);continue}var E=i.normalise({x:v.y-a.y,y:a.x-v.x}),T=i.normalise({x:C.y-v.y,y:v.x-C.x}),p=Math.sqrt(2*Math.pow(A,2)),w=i.mult(r.clone(E),A),y=i.normalise(i.mult(i.add(E,T),.5)),x=i.sub(v,i.mult(y,p)),P=n;n===-1&&(P=Math.pow(A,.32)*1.75),P=r.clamp(P,h,c),P%2===1&&(P+=1);for(var S=Math.acos(i.dot(E,T)),M=S/P,b=0;b<P;b++)t.push(i.add(i.rotate(w,M*b),x))}return t},e.clockwiseSort=function(s){var o=e.mean(s);return s.sort(function(n,h){return i.angle(o,n)-i.angle(o,h)}),s},e.isConvex=function(s){var o=0,n=s.length,h,c,t,l;if(n<3)return null;for(h=0;h<n;h++)if(c=(h+1)%n,t=(h+2)%n,l=(s[c].x-s[h].x)*(s[t].y-s[c].y),l-=(s[c].y-s[h].y)*(s[t].x-s[c].x),l<0?o|=1:l>0&&(o|=2),o===3)return!1;return o!==0?!0:null},e.hull=function(s){var o=[],n=[],h,c;for(s=s.slice(0),s.sort(function(t,l){var a=t.x-l.x;return a!==0?a:t.y-l.y}),c=0;c<s.length;c+=1){for(h=s[c];n.length>=2&&i.cross3(n[n.length-2],n[n.length-1],h)<=0;)n.pop();n.push(h)}for(c=s.length-1;c>=0;c-=1){for(h=s[c];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],h)<=0;)o.pop();o.push(h)}return o.pop(),n.pop(),o.concat(n)}})()},function(u,m,f){var e={};u.exports=e;var i=f(3),r=f(2),s=f(7),o=f(0),n=f(1),h=f(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var l={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},a=o.extend(l,t);return c(a,t),a},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var c=function(t,l){l=l||{},e.set(t,{bounds:t.bounds||n.create(t.vertices),positionPrev:t.positionPrev||r.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),i.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),n.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:l.axes||t.axes,area:l.area||t.area,mass:l.mass||t.mass,inertia:l.inertia||t.inertia});var a=t.isStatic?"#14151f":o.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),v=t.isStatic?"#555":"#ccc",C=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||a,t.render.strokeStyle=t.render.strokeStyle||v,t.render.lineWidth=t.render.lineWidth||C,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,l,a){var v;typeof l=="string"&&(v=l,l={},l[v]=a);for(v in l)if(Object.prototype.hasOwnProperty.call(l,v))switch(a=l[v],v){case"isStatic":e.setStatic(t,a);break;case"isSleeping":s.set(t,a);break;case"mass":e.setMass(t,a);break;case"density":e.setDensity(t,a);break;case"inertia":e.setInertia(t,a);break;case"vertices":e.setVertices(t,a);break;case"position":e.setPosition(t,a);break;case"angle":e.setAngle(t,a);break;case"velocity":e.setVelocity(t,a);break;case"angularVelocity":e.setAngularVelocity(t,a);break;case"speed":e.setSpeed(t,a);break;case"angularSpeed":e.setAngularSpeed(t,a);break;case"parts":e.setParts(t,a);break;case"centre":e.setCentre(t,a);break;default:t[v]=a}},e.setStatic=function(t,l){for(var a=0;a<t.parts.length;a++){var v=t.parts[a];l?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=l}},e.setMass=function(t,l){var a=t.inertia/(t.mass/6);t.inertia=a*(l/6),t.inverseInertia=1/t.inertia,t.mass=l,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,l){e.setMass(t,l*t.area),t.density=l},e.setInertia=function(t,l){t.inertia=l,t.inverseInertia=1/t.inertia},e.setVertices=function(t,l){l[0].body===t?t.vertices=l:t.vertices=i.create(l,t),t.axes=h.fromVertices(t.vertices),t.area=i.area(t.vertices),e.setMass(t,t.density*t.area);var a=i.centre(t.vertices);i.translate(t.vertices,a,-1),e.setInertia(t,e._inertiaScale*i.inertia(t.vertices,t.mass)),i.translate(t.vertices,t.position),n.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,l,a){var v;for(l=l.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,v=0;v<l.length;v++){var C=l[v];C!==t&&(C.parent=t,t.parts.push(C))}if(t.parts.length!==1){if(a=typeof a<"u"?a:!0,a){var A=[];for(v=0;v<l.length;v++)A=A.concat(l[v].vertices);i.clockwiseSort(A);var E=i.hull(A),T=i.centre(E);e.setVertices(t,E),i.translate(t.vertices,T)}var p=e._totalProperties(t);t.area=p.area,t.parent=t,t.position.x=p.centre.x,t.position.y=p.centre.y,t.positionPrev.x=p.centre.x,t.positionPrev.y=p.centre.y,e.setMass(t,p.mass),e.setInertia(t,p.inertia),e.setPosition(t,p.centre)}},e.setCentre=function(t,l,a){a?(t.positionPrev.x+=l.x,t.positionPrev.y+=l.y,t.position.x+=l.x,t.position.y+=l.y):(t.positionPrev.x=l.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=l.y-(t.position.y-t.positionPrev.y),t.position.x=l.x,t.position.y=l.y)},e.setPosition=function(t,l,a){var v=r.sub(l,t.position);a?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=v.x,t.velocity.y=v.y,t.speed=r.magnitude(v)):(t.positionPrev.x+=v.x,t.positionPrev.y+=v.y);for(var C=0;C<t.parts.length;C++){var A=t.parts[C];A.position.x+=v.x,A.position.y+=v.y,i.translate(A.vertices,v),n.update(A.bounds,A.vertices,t.velocity)}},e.setAngle=function(t,l,a){var v=l-t.angle;a?(t.anglePrev=t.angle,t.angularVelocity=v,t.angularSpeed=Math.abs(v)):t.anglePrev+=v;for(var C=0;C<t.parts.length;C++){var A=t.parts[C];A.angle+=v,i.rotate(A.vertices,v,t.position),h.rotate(A.axes,v),n.update(A.bounds,A.vertices,t.velocity),C>0&&r.rotateAbout(A.position,v,t.position,A.position)}},e.setVelocity=function(t,l){var a=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-l.x*a,t.positionPrev.y=t.position.y-l.y*a,t.velocity.x=(t.position.x-t.positionPrev.x)/a,t.velocity.y=(t.position.y-t.positionPrev.y)/a,t.speed=r.magnitude(t.velocity)},e.getVelocity=function(t){var l=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*l,y:(t.position.y-t.positionPrev.y)*l}},e.getSpeed=function(t){return r.magnitude(e.getVelocity(t))},e.setSpeed=function(t,l){e.setVelocity(t,r.mult(r.normalise(e.getVelocity(t)),l))},e.setAngularVelocity=function(t,l){var a=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-l*a,t.angularVelocity=(t.angle-t.anglePrev)/a,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,l){e.setAngularVelocity(t,o.sign(e.getAngularVelocity(t))*l)},e.translate=function(t,l,a){e.setPosition(t,r.add(t.position,l),a)},e.rotate=function(t,l,a,v){if(!a)e.setAngle(t,t.angle+l,v);else{var C=Math.cos(l),A=Math.sin(l),E=t.position.x-a.x,T=t.position.y-a.y;e.setPosition(t,{x:a.x+(E*C-T*A),y:a.y+(E*A+T*C)},v),e.setAngle(t,t.angle+l,v)}},e.scale=function(t,l,a,v){var C=0,A=0;v=v||t.position;for(var E=0;E<t.parts.length;E++){var T=t.parts[E];i.scale(T.vertices,l,a,v),T.axes=h.fromVertices(T.vertices),T.area=i.area(T.vertices),e.setMass(T,t.density*T.area),i.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),e.setInertia(T,e._inertiaScale*i.inertia(T.vertices,T.mass)),i.translate(T.vertices,{x:T.position.x,y:T.position.y}),E>0&&(C+=T.area,A+=T.inertia),T.position.x=v.x+(T.position.x-v.x)*l,T.position.y=v.y+(T.position.y-v.y)*a,n.update(T.bounds,T.vertices,t.velocity)}t.parts.length>1&&(t.area=C,t.isStatic||(e.setMass(t,t.density*C),e.setInertia(t,A))),t.circleRadius&&(l===a?t.circleRadius*=l:t.circleRadius=null)},e.update=function(t,l){l=(typeof l<"u"?l:1e3/60)*t.timeScale;var a=l*l,v=e._timeCorrection?l/(t.deltaTime||l):1,C=1-t.frictionAir*(l/o._baseDelta),A=(t.position.x-t.positionPrev.x)*v,E=(t.position.y-t.positionPrev.y)*v;t.velocity.x=A*C+t.force.x/t.mass*a,t.velocity.y=E*C+t.force.y/t.mass*a,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=l,t.angularVelocity=(t.angle-t.anglePrev)*C*v+t.torque/t.inertia*a,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var T=0;T<t.parts.length;T++){var p=t.parts[T];i.translate(p.vertices,t.velocity),T>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),t.angularVelocity!==0&&(i.rotate(p.vertices,t.angularVelocity,t.position),h.rotate(p.axes,t.angularVelocity),T>0&&r.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),n.update(p.bounds,p.vertices,t.velocity)}},e.updateVelocities=function(t){var l=e._baseDelta/t.deltaTime,a=t.velocity;a.x=(t.position.x-t.positionPrev.x)*l,a.y=(t.position.y-t.positionPrev.y)*l,t.speed=Math.sqrt(a.x*a.x+a.y*a.y),t.angularVelocity=(t.angle-t.anglePrev)*l,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,l,a){var v={x:l.x-t.position.x,y:l.y-t.position.y};t.force.x+=a.x,t.force.y+=a.y,t.torque+=v.x*a.y-v.y*a.x},e._totalProperties=function(t){for(var l={mass:0,area:0,inertia:0,centre:{x:0,y:0}},a=t.parts.length===1?0:1;a<t.parts.length;a++){var v=t.parts[a],C=v.mass!==1/0?v.mass:1;l.mass+=C,l.area+=v.area,l.inertia+=v.inertia,l.centre=r.add(l.centre,r.mult(v.position,C))}return l.centre=r.div(l.centre,l.mass),l}})()},function(u,m,f){var e={};u.exports=e;var i=f(0);(function(){e.on=function(r,s,o){for(var n=s.split(" "),h,c=0;c<n.length;c++)h=n[c],r.events=r.events||{},r.events[h]=r.events[h]||[],r.events[h].push(o);return o},e.off=function(r,s,o){if(!s){r.events={};return}typeof s=="function"&&(o=s,s=i.keys(r.events).join(" "));for(var n=s.split(" "),h=0;h<n.length;h++){var c=r.events[n[h]],t=[];if(o&&c)for(var l=0;l<c.length;l++)c[l]!==o&&t.push(c[l]);r.events[n[h]]=t}},e.trigger=function(r,s,o){var n,h,c,t,l=r.events;if(l&&i.keys(l).length>0){o||(o={}),n=s.split(" ");for(var a=0;a<n.length;a++)if(h=n[a],c=l[h],c){t=i.clone(o,!1),t.name=h,t.source=r;for(var v=0;v<c.length;v++)c[v].apply(r,[t])}}}})()},function(u,m,f){var e={};u.exports=e;var i=f(5),r=f(0),s=f(1),o=f(4);(function(){e.create=function(n){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},e.setModified=function(n,h,c,t){if(n.isModified=h,h&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),c&&n.parent&&e.setModified(n.parent,h,c,t),t)for(var l=0;l<n.composites.length;l++){var a=n.composites[l];e.setModified(a,h,c,t)}},e.add=function(n,h){var c=[].concat(h);i.trigger(n,"beforeAdd",{object:h});for(var t=0;t<c.length;t++){var l=c[t];switch(l.type){case"body":if(l.parent!==l){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,l);break;case"constraint":e.addConstraint(n,l);break;case"composite":e.addComposite(n,l);break;case"mouseConstraint":e.addConstraint(n,l.constraint);break}}return i.trigger(n,"afterAdd",{object:h}),n},e.remove=function(n,h,c){var t=[].concat(h);i.trigger(n,"beforeRemove",{object:h});for(var l=0;l<t.length;l++){var a=t[l];switch(a.type){case"body":e.removeBody(n,a,c);break;case"constraint":e.removeConstraint(n,a,c);break;case"composite":e.removeComposite(n,a,c);break;case"mouseConstraint":e.removeConstraint(n,a.constraint);break}}return i.trigger(n,"afterRemove",{object:h}),n},e.addComposite=function(n,h){return n.composites.push(h),h.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,h,c){var t=r.indexOf(n.composites,h);if(t!==-1){var l=e.allBodies(h);e.removeCompositeAt(n,t);for(var a=0;a<l.length;a++)l[a].sleepCounter=0}if(c)for(var a=0;a<n.composites.length;a++)e.removeComposite(n.composites[a],h,!0);return n},e.removeCompositeAt=function(n,h){return n.composites.splice(h,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,h){return n.bodies.push(h),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,h,c){var t=r.indexOf(n.bodies,h);if(t!==-1&&(e.removeBodyAt(n,t),h.sleepCounter=0),c)for(var l=0;l<n.composites.length;l++)e.removeBody(n.composites[l],h,!0);return n},e.removeBodyAt=function(n,h){return n.bodies.splice(h,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,h){return n.constraints.push(h),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,h,c){var t=r.indexOf(n.constraints,h);if(t!==-1&&e.removeConstraintAt(n,t),c)for(var l=0;l<n.composites.length;l++)e.removeConstraint(n.composites[l],h,!0);return n},e.removeConstraintAt=function(n,h){return n.constraints.splice(h,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,h,c){if(c)for(var t=0;t<n.composites.length;t++)e.clear(n.composites[t],h,!0);return h?n.bodies=n.bodies.filter(function(l){return l.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var h=[].concat(n.bodies),c=0;c<n.composites.length;c++)h=h.concat(e.allBodies(n.composites[c]));return n.cache&&(n.cache.allBodies=h),h},e.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var h=[].concat(n.constraints),c=0;c<n.composites.length;c++)h=h.concat(e.allConstraints(n.composites[c]));return n.cache&&(n.cache.allConstraints=h),h},e.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var h=[].concat(n.composites),c=0;c<n.composites.length;c++)h=h.concat(e.allComposites(n.composites[c]));return n.cache&&(n.cache.allComposites=h),h},e.get=function(n,h,c){var t,l;switch(c){case"body":t=e.allBodies(n);break;case"constraint":t=e.allConstraints(n);break;case"composite":t=e.allComposites(n).concat(n);break}return t?(l=t.filter(function(a){return a.id.toString()===h.toString()}),l.length===0?null:l[0]):null},e.move=function(n,h,c){return e.remove(n,h),e.add(c,h),n},e.rebase=function(n){for(var h=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),c=0;c<h.length;c++)h[c].id=r.nextId();return n},e.translate=function(n,h,c){for(var t=c?e.allBodies(n):n.bodies,l=0;l<t.length;l++)o.translate(t[l],h);return n},e.rotate=function(n,h,c,t){for(var l=Math.cos(h),a=Math.sin(h),v=t?e.allBodies(n):n.bodies,C=0;C<v.length;C++){var A=v[C],E=A.position.x-c.x,T=A.position.y-c.y;o.setPosition(A,{x:c.x+(E*l-T*a),y:c.y+(E*a+T*l)}),o.rotate(A,h)}return n},e.scale=function(n,h,c,t,l){for(var a=l?e.allBodies(n):n.bodies,v=0;v<a.length;v++){var C=a[v],A=C.position.x-t.x,E=C.position.y-t.y;o.setPosition(C,{x:t.x+A*h,y:t.y+E*c}),o.scale(C,h,c)}return n},e.bounds=function(n){for(var h=e.allBodies(n),c=[],t=0;t<h.length;t+=1){var l=h[t];c.push(l.bounds.min,l.bounds.max)}return s.create(c)}})()},function(u,m,f){var e={};u.exports=e;var i=f(4),r=f(5),s=f(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(o,n){for(var h=n/s._baseDelta,c=e._motionSleepThreshold,t=0;t<o.length;t++){var l=o[t],a=i.getSpeed(l),v=i.getAngularSpeed(l),C=a*a+v*v;if(l.force.x!==0||l.force.y!==0){e.set(l,!1);continue}var A=Math.min(l.motion,C),E=Math.max(l.motion,C);l.motion=e._minBias*A+(1-e._minBias)*E,l.sleepThreshold>0&&l.motion<c?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/h&&e.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}},e.afterCollisions=function(o){for(var n=e._motionSleepThreshold,h=0;h<o.length;h++){var c=o[h];if(c.isActive){var t=c.collision,l=t.bodyA.parent,a=t.bodyB.parent;if(!(l.isSleeping&&a.isSleeping||l.isStatic||a.isStatic)&&(l.isSleeping||a.isSleeping)){var v=l.isSleeping&&!l.isStatic?l:a,C=v===l?a:l;!v.isStatic&&C.motion>n&&e.set(v,!1)}}}},e.set=function(o,n){var h=o.isSleeping;n?(o.isSleeping=!0,o.sleepCounter=o.sleepThreshold,o.positionImpulse.x=0,o.positionImpulse.y=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.speed=0,o.angularSpeed=0,o.motion=0,h||r.trigger(o,"sleepStart")):(o.isSleeping=!1,o.sleepCounter=0,h&&r.trigger(o,"sleepEnd"))}})()},function(u,m,f){var e={};u.exports=e;var i=f(3),r=f(9);(function(){var s=[],o={overlap:0,axis:null},n={overlap:0,axis:null};e.create=function(h,c){return{pair:null,collided:!1,bodyA:h,bodyB:c,parentA:h.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(h,c,t){if(e._overlapAxes(o,h.vertices,c.vertices,h.axes),o.overlap<=0||(e._overlapAxes(n,c.vertices,h.vertices,c.axes),n.overlap<=0))return null;var l=t&&t.table[r.id(h,c)],a;l?a=l.collision:(a=e.create(h,c),a.collided=!0,a.bodyA=h.id<c.id?h:c,a.bodyB=h.id<c.id?c:h,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent),h=a.bodyA,c=a.bodyB;var v;o.overlap<n.overlap?v=o:v=n;var C=a.normal,A=a.tangent,E=a.penetration,T=a.supports,p=v.overlap,w=v.axis,y=w.x,x=w.y,P=c.position.x-h.position.x,S=c.position.y-h.position.y;y*P+x*S>=0&&(y=-y,x=-x),C.x=y,C.y=x,A.x=-x,A.y=y,E.x=y*p,E.y=x*p,a.depth=p;var M=e._findSupports(h,c,C,1),b=0;if(i.contains(h.vertices,M[0])&&(T[b++]=M[0]),i.contains(h.vertices,M[1])&&(T[b++]=M[1]),b<2){var k=e._findSupports(c,h,C,-1);i.contains(c.vertices,k[0])&&(T[b++]=k[0]),b<2&&i.contains(c.vertices,k[1])&&(T[b++]=k[1])}return b===0&&(T[b++]=M[0]),a.supportCount=b,a},e._overlapAxes=function(h,c,t,l){var a=c.length,v=t.length,C=c[0].x,A=c[0].y,E=t[0].x,T=t[0].y,p=l.length,w=Number.MAX_VALUE,y=0,x,P,S,M,b,k;for(b=0;b<p;b++){var D=l[b],V=D.x,N=D.y,H=C*V+A*N,K=E*V+T*N,G=H,_=K;for(k=1;k<a;k+=1)M=c[k].x*V+c[k].y*N,M>G?G=M:M<H&&(H=M);for(k=1;k<v;k+=1)M=t[k].x*V+t[k].y*N,M>_?_=M:M<K&&(K=M);if(P=G-K,S=_-H,x=P<S?P:S,x<w&&(w=x,y=b,x<=0))break}h.axis=l[y],h.overlap=w},e._findSupports=function(h,c,t,l){var a=c.vertices,v=a.length,C=h.position.x,A=h.position.y,E=t.x*l,T=t.y*l,p=a[0],w=p,y=E*(C-w.x)+T*(A-w.y),x,P,S;for(S=1;S<v;S+=1)w=a[S],P=E*(C-w.x)+T*(A-w.y),P<y&&(y=P,p=w);return x=a[(v+p.index-1)%v],y=E*(C-x.x)+T*(A-x.y),w=a[(p.index+1)%v],E*(C-w.x)+T*(A-w.y)<y?(s[0]=p,s[1]=w,s):(s[0]=p,s[1]=x,s)}})()},function(u,m,f){var e={};u.exports=e;var i=f(16);(function(){e.create=function(r,s){var o=r.bodyA,n=r.bodyB,h={id:e.id(o,n),bodyA:o,bodyB:n,collision:r,contacts:[i.create(),i.create()],contactCount:0,separation:0,isActive:!0,isSensor:o.isSensor||n.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(h,r,s),h},e.update=function(r,s,o){var n=s.supports,h=s.supportCount,c=r.contacts,t=s.parentA,l=s.parentB;r.isActive=!0,r.timeUpdated=o,r.collision=s,r.separation=s.depth,r.inverseMass=t.inverseMass+l.inverseMass,r.friction=t.friction<l.friction?t.friction:l.friction,r.frictionStatic=t.frictionStatic>l.frictionStatic?t.frictionStatic:l.frictionStatic,r.restitution=t.restitution>l.restitution?t.restitution:l.restitution,r.slop=t.slop>l.slop?t.slop:l.slop,r.contactCount=h,s.pair=r;var a=n[0],v=c[0],C=n[1],A=c[1];(A.vertex===a||v.vertex===C)&&(c[1]=v,c[0]=v=A,A=c[1]),v.vertex=a,A.vertex=C},e.setActive=function(r,s,o){s?(r.isActive=!0,r.timeUpdated=o):(r.isActive=!1,r.contactCount=0)},e.id=function(r,s){return r.id<s.id?r.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+r.id.toString(36)}})()},function(u,m,f){var e={};u.exports=e;var i=f(3),r=f(2),s=f(7),o=f(1),n=f(11),h=f(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(c){var t=c;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var l=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,a=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,v=r.magnitude(r.sub(l,a));t.length=typeof t.length<"u"?t.length:v,t.id=t.id||h.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var C={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(C.type="pin",C.anchors=!1):t.stiffness<.9&&(C.type="spring"),t.render=h.extend(C,t.render),t},e.preSolveAll=function(c){for(var t=0;t<c.length;t+=1){var l=c[t],a=l.constraintImpulse;l.isStatic||a.x===0&&a.y===0&&a.angle===0||(l.position.x+=a.x,l.position.y+=a.y,l.angle+=a.angle)}},e.solveAll=function(c,t){for(var l=h.clamp(t/h._baseDelta,0,1),a=0;a<c.length;a+=1){var v=c[a],C=!v.bodyA||v.bodyA&&v.bodyA.isStatic,A=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(C||A)&&e.solve(c[a],l)}for(a=0;a<c.length;a+=1)v=c[a],C=!v.bodyA||v.bodyA&&v.bodyA.isStatic,A=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!C&&!A&&e.solve(c[a],l)},e.solve=function(c,t){var l=c.bodyA,a=c.bodyB,v=c.pointA,C=c.pointB;if(!(!l&&!a)){l&&!l.isStatic&&(r.rotate(v,l.angle-c.angleA,v),c.angleA=l.angle),a&&!a.isStatic&&(r.rotate(C,a.angle-c.angleB,C),c.angleB=a.angle);var A=v,E=C;if(l&&(A=r.add(l.position,v)),a&&(E=r.add(a.position,C)),!(!A||!E)){var T=r.sub(A,E),p=r.magnitude(T);p<e._minLength&&(p=e._minLength);var w=(p-c.length)/p,y=c.stiffness>=1||c.length===0,x=y?c.stiffness*t:c.stiffness*t*t,P=c.damping*t,S=r.mult(T,w*x),M=(l?l.inverseMass:0)+(a?a.inverseMass:0),b=(l?l.inverseInertia:0)+(a?a.inverseInertia:0),k=M+b,D,V,N,H,K;if(P>0){var G=r.create();N=r.div(T,p),K=r.sub(a&&r.sub(a.position,a.positionPrev)||G,l&&r.sub(l.position,l.positionPrev)||G),H=r.dot(N,K)}l&&!l.isStatic&&(V=l.inverseMass/M,l.constraintImpulse.x-=S.x*V,l.constraintImpulse.y-=S.y*V,l.position.x-=S.x*V,l.position.y-=S.y*V,P>0&&(l.positionPrev.x-=P*N.x*H*V,l.positionPrev.y-=P*N.y*H*V),D=r.cross(v,S)/k*e._torqueDampen*l.inverseInertia*(1-c.angularStiffness),l.constraintImpulse.angle-=D,l.angle-=D),a&&!a.isStatic&&(V=a.inverseMass/M,a.constraintImpulse.x+=S.x*V,a.constraintImpulse.y+=S.y*V,a.position.x+=S.x*V,a.position.y+=S.y*V,P>0&&(a.positionPrev.x+=P*N.x*H*V,a.positionPrev.y+=P*N.y*H*V),D=r.cross(C,S)/k*e._torqueDampen*a.inverseInertia*(1-c.angularStiffness),a.constraintImpulse.angle+=D,a.angle+=D)}}},e.postSolveAll=function(c){for(var t=0;t<c.length;t++){var l=c[t],a=l.constraintImpulse;if(!(l.isStatic||a.x===0&&a.y===0&&a.angle===0)){s.set(l,!1);for(var v=0;v<l.parts.length;v++){var C=l.parts[v];i.translate(C.vertices,a),v>0&&(C.position.x+=a.x,C.position.y+=a.y),a.angle!==0&&(i.rotate(C.vertices,a.angle,l.position),n.rotate(C.axes,a.angle),v>0&&r.rotateAbout(C.position,a.angle,l.position,C.position)),o.update(C.bounds,C.vertices,l.velocity)}a.angle*=e._warming,a.x*=e._warming,a.y*=e._warming}}},e.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},e.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},e.currentLength=function(c){var t=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),l=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),a=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),v=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),C=t-a,A=l-v;return Math.sqrt(C*C+A*A)}})()},function(u,m,f){var e={};u.exports=e;var i=f(2),r=f(0);(function(){e.fromVertices=function(s){for(var o={},n=0;n<s.length;n++){var h=(n+1)%s.length,c=i.normalise({x:s[h].y-s[n].y,y:s[n].x-s[h].x}),t=c.y===0?1/0:c.x/c.y;t=t.toFixed(3).toString(),o[t]=c}return r.values(o)},e.rotate=function(s,o){if(o!==0)for(var n=Math.cos(o),h=Math.sin(o),c=0;c<s.length;c++){var t=s[c],l;l=t.x*n-t.y*h,t.y=t.x*h+t.y*n,t.x=l}}})()},function(u,m,f){var e={};u.exports=e;var i=f(3),r=f(0),s=f(4),o=f(1),n=f(2);(function(){e.rectangle=function(h,c,t,l,a){a=a||{};var v={label:"Rectangle Body",position:{x:h,y:c},vertices:i.fromPath("L 0 0 L "+t+" 0 L "+t+" "+l+" L 0 "+l)};if(a.chamfer){var C=a.chamfer;v.vertices=i.chamfer(v.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete a.chamfer}return s.create(r.extend({},v,a))},e.trapezoid=function(h,c,t,l,a,v){v=v||{},a>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1."),a*=.5;var C=(1-a*2)*t,A=t*a,E=A+C,T=E+A,p;a<.5?p="L 0 0 L "+A+" "+-l+" L "+E+" "+-l+" L "+T+" 0":p="L 0 0 L "+E+" "+-l+" L "+T+" 0";var w={label:"Trapezoid Body",position:{x:h,y:c},vertices:i.fromPath(p)};if(v.chamfer){var y=v.chamfer;w.vertices=i.chamfer(w.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete v.chamfer}return s.create(r.extend({},w,v))},e.circle=function(h,c,t,l,a){l=l||{};var v={label:"Circle Body",circleRadius:t};a=a||25;var C=Math.ceil(Math.max(10,Math.min(a,t)));return C%2===1&&(C+=1),e.polygon(h,c,C,t,r.extend({},v,l))},e.polygon=function(h,c,t,l,a){if(a=a||{},t<3)return e.circle(h,c,l,a);for(var v=2*Math.PI/t,C="",A=v*.5,E=0;E<t;E+=1){var T=A+E*v,p=Math.cos(T)*l,w=Math.sin(T)*l;C+="L "+p.toFixed(3)+" "+w.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:h,y:c},vertices:i.fromPath(C)};if(a.chamfer){var x=a.chamfer;y.vertices=i.chamfer(y.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete a.chamfer}return s.create(r.extend({},y,a))},e.fromVertices=function(h,c,t,l,a,v,C,A){var E=r.getDecomp(),T,p,w,y,x,P,S,M,b,k,D;for(T=!!(E&&E.quickDecomp),l=l||{},w=[],a=typeof a<"u"?a:!1,v=typeof v<"u"?v:.01,C=typeof C<"u"?C:10,A=typeof A<"u"?A:.01,r.isArray(t[0])||(t=[t]),k=0;k<t.length;k+=1)if(P=t[k],y=i.isConvex(P),x=!y,x&&!T&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),y||!T)y?P=i.clockwiseSort(P):P=i.hull(P),w.push({position:{x:h,y:c},vertices:P});else{var V=P.map(function(I){return[I.x,I.y]});E.makeCCW(V),v!==!1&&E.removeCollinearPoints(V,v),A!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(V,A);var N=E.quickDecomp(V);for(S=0;S<N.length;S++){var H=N[S],K=H.map(function(I){return{x:I[0],y:I[1]}});C>0&&i.area(K)<C||w.push({position:i.centre(K),vertices:K})}}for(S=0;S<w.length;S++)w[S]=s.create(r.extend(w[S],l));if(a){var G=5;for(S=0;S<w.length;S++){var _=w[S];for(M=S+1;M<w.length;M++){var X=w[M];if(o.overlaps(_.bounds,X.bounds)){var j=_.vertices,$=X.vertices;for(b=0;b<_.vertices.length;b++)for(D=0;D<X.vertices.length;D++){var ce=n.magnitudeSquared(n.sub(j[(b+1)%j.length],$[D])),B=n.magnitudeSquared(n.sub(j[b],$[(D+1)%$.length]));ce<G&&B<G&&(j[b].isInternal=!0,$[D].isInternal=!0)}}}}}return w.length>1?(p=s.create(r.extend({parts:w.slice(0)},l)),s.setPosition(p,{x:h,y:c}),p):w[0]}})()},function(u,m,f){var e={};u.exports=e;var i=f(0),r=f(8);(function(){e.create=function(s){var o={bodies:[],collisions:[],pairs:null};return i.extend(o,s)},e.setBodies=function(s,o){s.bodies=o.slice(0)},e.clear=function(s){s.bodies=[],s.collisions=[]},e.collisions=function(s){var o=s.pairs,n=s.bodies,h=n.length,c=e.canCollide,t=r.collides,l=s.collisions,a=0,v,C;for(n.sort(e._compareBoundsX),v=0;v<h;v++){var A=n[v],E=A.bounds,T=A.bounds.max.x,p=A.bounds.max.y,w=A.bounds.min.y,y=A.isStatic||A.isSleeping,x=A.parts.length,P=x===1;for(C=v+1;C<h;C++){var S=n[C],M=S.bounds;if(M.min.x>T)break;if(!(p<M.min.y||w>M.max.y)&&!(y&&(S.isStatic||S.isSleeping))&&c(A.collisionFilter,S.collisionFilter)){var b=S.parts.length;if(P&&b===1){var k=t(A,S,o);k&&(l[a++]=k)}else for(var D=x>1?1:0,V=b>1?1:0,N=D;N<x;N++)for(var H=A.parts[N],E=H.bounds,K=V;K<b;K++){var G=S.parts[K],M=G.bounds;if(!(E.min.x>M.max.x||E.max.x<M.min.x||E.max.y<M.min.y||E.min.y>M.max.y)){var k=t(H,G,o);k&&(l[a++]=k)}}}}}return l.length!==a&&(l.length=a),l},e.canCollide=function(s,o){return s.group===o.group&&s.group!==0?s.group>0:(s.mask&o.category)!==0&&(o.mask&s.category)!==0},e._compareBoundsX=function(s,o){return s.bounds.min.x-o.bounds.min.x}})()},function(u,m,f){var e={};u.exports=e;var i=f(0);(function(){e.create=function(r){var s={};return r||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),s.element=r||document.body,s.absolute={x:0,y:0},s.position={x:0,y:0},s.mousedownPosition={x:0,y:0},s.mouseupPosition={x:0,y:0},s.offset={x:0,y:0},s.scale={x:1,y:1},s.wheelDelta=0,s.button=-1,s.pixelRatio=parseInt(s.element.getAttribute("data-pixel-ratio"),10)||1,s.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},s.mousemove=function(o){var n=e._getRelativeMousePosition(o,s.element,s.pixelRatio),h=o.changedTouches;h&&(s.button=0,o.preventDefault()),s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.sourceEvents.mousemove=o},s.mousedown=function(o){var n=e._getRelativeMousePosition(o,s.element,s.pixelRatio),h=o.changedTouches;h?(s.button=0,o.preventDefault()):s.button=o.button,s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mousedownPosition.x=s.position.x,s.mousedownPosition.y=s.position.y,s.sourceEvents.mousedown=o},s.mouseup=function(o){var n=e._getRelativeMousePosition(o,s.element,s.pixelRatio),h=o.changedTouches;h&&o.preventDefault(),s.button=-1,s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mouseupPosition.x=s.position.x,s.mouseupPosition.y=s.position.y,s.sourceEvents.mouseup=o},s.mousewheel=function(o){s.wheelDelta=Math.max(-1,Math.min(1,o.wheelDelta||-o.detail)),o.preventDefault(),s.sourceEvents.mousewheel=o},e.setElement(s,s.element),s},e.setElement=function(r,s){r.element=s,s.addEventListener("mousemove",r.mousemove,{passive:!0}),s.addEventListener("mousedown",r.mousedown,{passive:!0}),s.addEventListener("mouseup",r.mouseup,{passive:!0}),s.addEventListener("wheel",r.mousewheel,{passive:!1}),s.addEventListener("touchmove",r.mousemove,{passive:!1}),s.addEventListener("touchstart",r.mousedown,{passive:!1}),s.addEventListener("touchend",r.mouseup,{passive:!1})},e.clearSourceEvents=function(r){r.sourceEvents.mousemove=null,r.sourceEvents.mousedown=null,r.sourceEvents.mouseup=null,r.sourceEvents.mousewheel=null,r.wheelDelta=0},e.setOffset=function(r,s){r.offset.x=s.x,r.offset.y=s.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e.setScale=function(r,s){r.scale.x=s.x,r.scale.y=s.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e._getRelativeMousePosition=function(r,s,o){var n=s.getBoundingClientRect(),h=document.documentElement||document.body.parentNode||document.body,c=window.pageXOffset!==void 0?window.pageXOffset:h.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:h.scrollTop,l=r.changedTouches,a,v;return l?(a=l[0].pageX-n.left-c,v=l[0].pageY-n.top-t):(a=r.pageX-n.left-c,v=r.pageY-n.top-t),{x:a/(s.clientWidth/(s.width||s.clientWidth)*o),y:v/(s.clientHeight/(s.height||s.clientHeight)*o)}}})()},function(u,m,f){var e={};u.exports=e;var i=f(0);(function(){e._registry={},e.register=function(r){if(e.isPlugin(r)||i.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var s=e._registry[r.name],o=e.versionParse(r.version).number,n=e.versionParse(s.version).number;o>n?(i.warn("Plugin.register:",e.toString(s),"was upgraded to",e.toString(r)),e._registry[r.name]=r):o<n?i.warn("Plugin.register:",e.toString(s),"can not be downgraded to",e.toString(r)):r!==s&&i.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(r){return e._registry[e.dependencyParse(r).name]},e.toString=function(r){return typeof r=="string"?r:(r.name||"anonymous")+"@"+(r.version||r.range||"0.0.0")},e.isPlugin=function(r){return r&&r.name&&r.version&&r.install},e.isUsed=function(r,s){return r.used.indexOf(s)>-1},e.isFor=function(r,s){var o=r.for&&e.dependencyParse(r.for);return!r.for||s.name===o.name&&e.versionSatisfies(s.version,o.range)},e.use=function(r,s){if(r.uses=(r.uses||[]).concat(s||[]),r.uses.length===0){i.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.");return}for(var o=e.dependencies(r),n=i.topologicalSort(o),h=[],c=0;c<n.length;c+=1)if(n[c]!==r.name){var t=e.resolve(n[c]);if(!t){h.push("❌ "+n[c]);continue}e.isUsed(r,t.name)||(e.isFor(t,r)||(i.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(r)+"."),t._warned=!0),t.install?t.install(r):(i.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(h.push("🔶 "+e.toString(t)),delete t._warned):h.push("✅ "+e.toString(t)),r.used.push(t.name))}h.length>0&&i.info(h.join("  "))},e.dependencies=function(r,s){var o=e.dependencyParse(r),n=o.name;if(s=s||{},!(n in s)){r=e.resolve(r)||r,s[n]=i.map(r.uses||[],function(c){e.isPlugin(c)&&e.register(c);var t=e.dependencyParse(c),l=e.resolve(c);return l&&!e.versionSatisfies(l.version,t.range)?(i.warn("Plugin.dependencies:",e.toString(l),"does not satisfy",e.toString(t),"used by",e.toString(o)+"."),l._warned=!0,r._warned=!0):l||(i.warn("Plugin.dependencies:",e.toString(c),"used by",e.toString(o),"could not be resolved."),r._warned=!0),t.name});for(var h=0;h<s[n].length;h+=1)e.dependencies(s[n][h],s);return s}},e.dependencyParse=function(r){if(i.isString(r)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(r)||i.warn("Plugin.dependencyParse:",r,"is not a valid dependency string."),{name:r.split("@")[0],range:r.split("@")[1]||"*"}}return{name:r.name,range:r.range||r.version}},e.versionParse=function(r){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(r)||i.warn("Plugin.versionParse:",r,"is not a valid version or range.");var o=s.exec(r),n=Number(o[4]),h=Number(o[5]),c=Number(o[6]);return{isRange:!!(o[1]||o[2]),version:o[3],range:r,operator:o[1]||o[2]||"",major:n,minor:h,patch:c,parts:[n,h,c],prerelease:o[7],number:n*1e8+h*1e4+c}},e.versionSatisfies=function(r,s){s=s||"*";var o=e.versionParse(s),n=e.versionParse(r);if(o.isRange){if(o.operator==="*"||r==="*")return!0;if(o.operator===">")return n.number>o.number;if(o.operator===">=")return n.number>=o.number;if(o.operator==="~")return n.major===o.major&&n.minor===o.minor&&n.patch>=o.patch;if(o.operator==="^")return o.major>0?n.major===o.major&&n.number>=o.number:o.minor>0?n.minor===o.minor&&n.patch>=o.patch:n.patch===o.patch}return r===s||r==="*"}})()},function(u,m){var f={};u.exports=f,function(){f.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(u,m,f){var e={};u.exports=e;var i=f(7),r=f(18),s=f(13),o=f(19),n=f(5),h=f(6),c=f(10),t=f(0),l=f(4);(function(){e._deltaMax=1e3/60,e.create=function(a){a=a||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},C=t.extend(v,a);return C.world=a.world||h.create({label:"World"}),C.pairs=a.pairs||o.create(),C.detector=a.detector||s.create(),C.detector.pairs=C.pairs,C.grid={buckets:[]},C.world.gravity=C.gravity,C.broadphase=C.grid,C.metrics={},C},e.update=function(a,v){var C=t.now(),A=a.world,E=a.detector,T=a.pairs,p=a.timing,w=p.timestamp,y;v>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),v=typeof v<"u"?v:t._baseDelta,v*=p.timeScale,p.timestamp+=v,p.lastDelta=v;var x={timestamp:p.timestamp,delta:v};n.trigger(a,"beforeUpdate",x);var P=h.allBodies(A),S=h.allConstraints(A);for(A.isModified&&(s.setBodies(E,P),h.setModified(A,!1,!1,!0)),a.enableSleeping&&i.update(P,v),e._bodiesApplyGravity(P,a.gravity),v>0&&e._bodiesUpdate(P,v),n.trigger(a,"beforeSolve",x),c.preSolveAll(P),y=0;y<a.constraintIterations;y++)c.solveAll(S,v);c.postSolveAll(P);var M=s.collisions(E);o.update(T,M,w),a.enableSleeping&&i.afterCollisions(T.list),T.collisionStart.length>0&&n.trigger(a,"collisionStart",{pairs:T.collisionStart,timestamp:p.timestamp,delta:v});var b=t.clamp(20/a.positionIterations,0,1);for(r.preSolvePosition(T.list),y=0;y<a.positionIterations;y++)r.solvePosition(T.list,v,b);for(r.postSolvePosition(P),c.preSolveAll(P),y=0;y<a.constraintIterations;y++)c.solveAll(S,v);for(c.postSolveAll(P),r.preSolveVelocity(T.list),y=0;y<a.velocityIterations;y++)r.solveVelocity(T.list,v);return e._bodiesUpdateVelocities(P),T.collisionActive.length>0&&n.trigger(a,"collisionActive",{pairs:T.collisionActive,timestamp:p.timestamp,delta:v}),T.collisionEnd.length>0&&n.trigger(a,"collisionEnd",{pairs:T.collisionEnd,timestamp:p.timestamp,delta:v}),e._bodiesClearForces(P),n.trigger(a,"afterUpdate",x),a.timing.lastElapsed=t.now()-C,a},e.merge=function(a,v){if(t.extend(a,v),v.world){a.world=v.world,e.clear(a);for(var C=h.allBodies(a.world),A=0;A<C.length;A++){var E=C[A];i.set(E,!1),E.id=t.nextId()}}},e.clear=function(a){o.clear(a.pairs),s.clear(a.detector)},e._bodiesClearForces=function(a){for(var v=a.length,C=0;C<v;C++){var A=a[C];A.force.x=0,A.force.y=0,A.torque=0}},e._bodiesApplyGravity=function(a,v){var C=typeof v.scale<"u"?v.scale:.001,A=a.length;if(!(v.x===0&&v.y===0||C===0))for(var E=0;E<A;E++){var T=a[E];T.isStatic||T.isSleeping||(T.force.y+=T.mass*v.y*C,T.force.x+=T.mass*v.x*C)}},e._bodiesUpdate=function(a,v){for(var C=a.length,A=0;A<C;A++){var E=a[A];E.isStatic||E.isSleeping||l.update(E,v)}},e._bodiesUpdateVelocities=function(a){for(var v=a.length,C=0;C<v;C++)l.updateVelocities(a[C])}})()},function(u,m,f){var e={};u.exports=e;var i=f(3),r=f(0),s=f(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(o){var n,h,c,t=o.length;for(n=0;n<t;n++)h=o[n],h.isActive&&(c=h.contactCount,h.collision.parentA.totalContacts+=c,h.collision.parentB.totalContacts+=c)},e.solvePosition=function(o,n,h){var c,t,l,a,v,C,A,E,T=e._positionDampen*(h||1),p=r.clamp(n/r._baseDelta,0,1),w=o.length;for(c=0;c<w;c++)t=o[c],!(!t.isActive||t.isSensor)&&(l=t.collision,a=l.parentA,v=l.parentB,C=l.normal,t.separation=l.depth+C.x*(v.positionImpulse.x-a.positionImpulse.x)+C.y*(v.positionImpulse.y-a.positionImpulse.y));for(c=0;c<w;c++)t=o[c],!(!t.isActive||t.isSensor)&&(l=t.collision,a=l.parentA,v=l.parentB,C=l.normal,E=t.separation-t.slop*p,(a.isStatic||v.isStatic)&&(E*=2),a.isStatic||a.isSleeping||(A=T/a.totalContacts,a.positionImpulse.x+=C.x*E*A,a.positionImpulse.y+=C.y*E*A),v.isStatic||v.isSleeping||(A=T/v.totalContacts,v.positionImpulse.x-=C.x*E*A,v.positionImpulse.y-=C.y*E*A))},e.postSolvePosition=function(o){for(var n=e._positionWarming,h=o.length,c=i.translate,t=s.update,l=0;l<h;l++){var a=o[l],v=a.positionImpulse,C=v.x,A=v.y,E=a.velocity;if(a.totalContacts=0,C!==0||A!==0){for(var T=0;T<a.parts.length;T++){var p=a.parts[T];c(p.vertices,v),t(p.bounds,p.vertices,E),p.position.x+=C,p.position.y+=A}a.positionPrev.x+=C,a.positionPrev.y+=A,C*E.x+A*E.y<0?(v.x=0,v.y=0):(v.x*=n,v.y*=n)}}},e.preSolveVelocity=function(o){var n=o.length,h,c;for(h=0;h<n;h++){var t=o[h];if(!(!t.isActive||t.isSensor)){var l=t.contacts,a=t.contactCount,v=t.collision,C=v.parentA,A=v.parentB,E=v.normal,T=v.tangent;for(c=0;c<a;c++){var p=l[c],w=p.vertex,y=p.normalImpulse,x=p.tangentImpulse;if(y!==0||x!==0){var P=E.x*y+T.x*x,S=E.y*y+T.y*x;C.isStatic||C.isSleeping||(C.positionPrev.x+=P*C.inverseMass,C.positionPrev.y+=S*C.inverseMass,C.anglePrev+=C.inverseInertia*((w.x-C.position.x)*S-(w.y-C.position.y)*P)),A.isStatic||A.isSleeping||(A.positionPrev.x-=P*A.inverseMass,A.positionPrev.y-=S*A.inverseMass,A.anglePrev-=A.inverseInertia*((w.x-A.position.x)*S-(w.y-A.position.y)*P))}}}}},e.solveVelocity=function(o,n){var h=n/r._baseDelta,c=h*h,t=c*h,l=-e._restingThresh*h,a=e._restingThreshTangent,v=e._frictionNormalMultiplier*h,C=e._frictionMaxStatic,A=o.length,E,T,p,w;for(p=0;p<A;p++){var y=o[p];if(!(!y.isActive||y.isSensor)){var x=y.collision,P=x.parentA,S=x.parentB,M=x.normal.x,b=x.normal.y,k=x.tangent.x,D=x.tangent.y,V=y.inverseMass,N=y.friction*y.frictionStatic*v,H=y.contacts,K=y.contactCount,G=1/K,_=P.position.x-P.positionPrev.x,X=P.position.y-P.positionPrev.y,j=P.angle-P.anglePrev,$=S.position.x-S.positionPrev.x,ce=S.position.y-S.positionPrev.y,B=S.angle-S.anglePrev;for(w=0;w<K;w++){var I=H[w],O=I.vertex,R=O.x-P.position.x,W=O.y-P.position.y,F=O.x-S.position.x,z=O.y-S.position.y,Z=_-W*j,oe=X+R*j,ie=$-z*B,se=ce+F*B,De=Z-ie,xe=oe-se,Me=M*De+b*xe,re=k*De+D*xe,Te=y.separation+Me,de=Math.min(Te,1);de=Te<0?0:de;var ke=de*N;re<-ke||re>ke?(T=re>0?re:-re,E=y.friction*(re>0?1:-1)*t,E<-T?E=-T:E>T&&(E=T)):(E=re,T=C);var pe=R*b-W*M,ge=F*b-z*M,me=G/(V+P.inverseInertia*pe*pe+S.inverseInertia*ge*ge),he=(1+y.restitution)*Me*me;if(E*=me,Me<l)I.normalImpulse=0;else{var ye=I.normalImpulse;I.normalImpulse+=he,I.normalImpulse>0&&(I.normalImpulse=0),he=I.normalImpulse-ye}if(re<-a||re>a)I.tangentImpulse=0;else{var L=I.tangentImpulse;I.tangentImpulse+=E,I.tangentImpulse<-T&&(I.tangentImpulse=-T),I.tangentImpulse>T&&(I.tangentImpulse=T),E=I.tangentImpulse-L}var Q=M*he+k*E,U=b*he+D*E;P.isStatic||P.isSleeping||(P.positionPrev.x+=Q*P.inverseMass,P.positionPrev.y+=U*P.inverseMass,P.anglePrev+=(R*U-W*Q)*P.inverseInertia),S.isStatic||S.isSleeping||(S.positionPrev.x-=Q*S.inverseMass,S.positionPrev.y-=U*S.inverseMass,S.anglePrev-=(F*U-z*Q)*S.inverseInertia)}}}}})()},function(u,m,f){var e={};u.exports=e;var i=f(9),r=f(0);(function(){e.create=function(s){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},e.update=function(s,o,n){var h=i.update,c=i.create,t=i.setActive,l=s.table,a=s.list,v=a.length,C=v,A=s.collisionStart,E=s.collisionEnd,T=s.collisionActive,p=o.length,w=0,y=0,x=0,P,S,M;for(M=0;M<p;M++)P=o[M],S=P.pair,S?(S.isActive&&(T[x++]=S),h(S,P,n)):(S=c(P,n),l[S.id]=S,A[w++]=S,a[C++]=S);for(C=0,v=a.length,M=0;M<v;M++)S=a[M],S.timeUpdated>=n?a[C++]=S:(t(S,!1,n),S.collision.bodyA.sleepCounter>0&&S.collision.bodyB.sleepCounter>0?a[C++]=S:(E[y++]=S,delete l[S.id]));a.length!==C&&(a.length=C),A.length!==w&&(A.length=w),E.length!==y&&(E.length=y),T.length!==x&&(T.length=x)},e.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},function(u,m,f){var e=u.exports=f(21);e.Axes=f(11),e.Bodies=f(12),e.Body=f(4),e.Bounds=f(1),e.Collision=f(8),e.Common=f(0),e.Composite=f(6),e.Composites=f(22),e.Constraint=f(10),e.Contact=f(16),e.Detector=f(13),e.Engine=f(17),e.Events=f(5),e.Grid=f(23),e.Mouse=f(14),e.MouseConstraint=f(24),e.Pair=f(9),e.Pairs=f(19),e.Plugin=f(15),e.Query=f(25),e.Render=f(26),e.Resolver=f(18),e.Runner=f(27),e.SAT=f(28),e.Sleeping=f(7),e.Svg=f(29),e.Vector=f(2),e.Vertices=f(3),e.World=f(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(u,m,f){var e={};u.exports=e;var i=f(15),r=f(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){i.use(e,Array.prototype.slice.call(arguments))},e.before=function(s,o){return s=s.replace(/^Matter./,""),r.chainPathBefore(e,s,o)},e.after=function(s,o){return s=s.replace(/^Matter./,""),r.chainPathAfter(e,s,o)}})()},function(u,m,f){var e={};u.exports=e;var i=f(6),r=f(10),s=f(0),o=f(4),n=f(12),h=s.deprecated;(function(){e.stack=function(c,t,l,a,v,C,A){for(var E=i.create({label:"Stack"}),T=c,p=t,w,y=0,x=0;x<a;x++){for(var P=0,S=0;S<l;S++){var M=A(T,p,S,x,w,y);if(M){var b=M.bounds.max.y-M.bounds.min.y,k=M.bounds.max.x-M.bounds.min.x;b>P&&(P=b),o.translate(M,{x:k*.5,y:b*.5}),T=M.bounds.max.x+v,i.addBody(E,M),w=M,y+=1}else T+=v}p+=P+C,T=c}return E},e.chain=function(c,t,l,a,v,C){for(var A=c.bodies,E=1;E<A.length;E++){var T=A[E-1],p=A[E],w=T.bounds.max.y-T.bounds.min.y,y=T.bounds.max.x-T.bounds.min.x,x=p.bounds.max.y-p.bounds.min.y,P=p.bounds.max.x-p.bounds.min.x,S={bodyA:T,pointA:{x:y*t,y:w*l},bodyB:p,pointB:{x:P*a,y:x*v}},M=s.extend(S,C);i.addConstraint(c,r.create(M))}return c.label+=" Chain",c},e.mesh=function(c,t,l,a,v){var C=c.bodies,A,E,T,p,w;for(A=0;A<l;A++){for(E=1;E<t;E++)T=C[E-1+A*t],p=C[E+A*t],i.addConstraint(c,r.create(s.extend({bodyA:T,bodyB:p},v)));if(A>0)for(E=0;E<t;E++)T=C[E+(A-1)*t],p=C[E+A*t],i.addConstraint(c,r.create(s.extend({bodyA:T,bodyB:p},v))),a&&E>0&&(w=C[E-1+(A-1)*t],i.addConstraint(c,r.create(s.extend({bodyA:w,bodyB:p},v)))),a&&E<t-1&&(w=C[E+1+(A-1)*t],i.addConstraint(c,r.create(s.extend({bodyA:w,bodyB:p},v))))}return c.label+=" Mesh",c},e.pyramid=function(c,t,l,a,v,C,A){return e.stack(c,t,l,a,v,C,function(E,T,p,w,y,x){var P=Math.min(a,Math.ceil(l/2)),S=y?y.bounds.max.x-y.bounds.min.x:0;if(!(w>P)){w=P-w;var M=w,b=l-1-w;if(!(p<M||p>b)){x===1&&o.translate(y,{x:(p+(l%2===1?1:-1))*S,y:0});var k=y?p*S:0;return A(c+k+p*v,T,p,w,y,x)}}})},e.newtonsCradle=function(c,t,l,a,v){for(var C=i.create({label:"Newtons Cradle"}),A=0;A<l;A++){var E=1.9,T=n.circle(c+A*(a*E),t+v,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=r.create({pointA:{x:c+A*(a*E),y:t},bodyB:T});i.addBody(C,T),i.addConstraint(C,p)}return C},h(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(c,t,l,a,v){var C=o.nextGroup(!0),A=20,E=-l*.5+A,T=l*.5-A,p=0,w=i.create({label:"Car"}),y=n.rectangle(c,t,l,a,{collisionFilter:{group:C},chamfer:{radius:a*.5},density:2e-4}),x=n.circle(c+E,t+p,v,{collisionFilter:{group:C},friction:.8}),P=n.circle(c+T,t+p,v,{collisionFilter:{group:C},friction:.8}),S=r.create({bodyB:y,pointB:{x:E,y:p},bodyA:x,stiffness:1,length:0}),M=r.create({bodyB:y,pointB:{x:T,y:p},bodyA:P,stiffness:1,length:0});return i.addBody(w,y),i.addBody(w,x),i.addBody(w,P),i.addConstraint(w,S),i.addConstraint(w,M),w},h(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(c,t,l,a,v,C,A,E,T,p){T=s.extend({inertia:1/0},T),p=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var w=e.stack(c,t,l,a,v,C,function(y,x){return n.circle(y,x,E,T)});return e.mesh(w,l,a,A,p),w.label="Soft Body",w},h(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(u,m,f){var e={};u.exports=e;var i=f(9),r=f(0),s=r.deprecated;(function(){e.create=function(o){var n={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(n,o)},e.update=function(o,n,h,c){var t,l,a,v=h.world,C=o.buckets,A,E,T=!1;for(t=0;t<n.length;t++){var p=n[t];if(!(p.isSleeping&&!c)&&!(v.bounds&&(p.bounds.max.x<v.bounds.min.x||p.bounds.min.x>v.bounds.max.x||p.bounds.max.y<v.bounds.min.y||p.bounds.min.y>v.bounds.max.y))){var w=e._getRegion(o,p);if(!p.region||w.id!==p.region.id||c){(!p.region||c)&&(p.region=w);var y=e._regionUnion(w,p.region);for(l=y.startCol;l<=y.endCol;l++)for(a=y.startRow;a<=y.endRow;a++){E=e._getBucketId(l,a),A=C[E];var x=l>=w.startCol&&l<=w.endCol&&a>=w.startRow&&a<=w.endRow,P=l>=p.region.startCol&&l<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!x&&P&&P&&A&&e._bucketRemoveBody(o,A,p),(p.region===w||x&&!P||c)&&(A||(A=e._createBucket(C,E)),e._bucketAddBody(o,A,p))}p.region=w,T=!0}}}T&&(o.pairsList=e._createActivePairsList(o))},s(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(o){o.buckets={},o.pairs={},o.pairsList=[]},s(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(o,n){var h=Math.min(o.startCol,n.startCol),c=Math.max(o.endCol,n.endCol),t=Math.min(o.startRow,n.startRow),l=Math.max(o.endRow,n.endRow);return e._createRegion(h,c,t,l)},e._getRegion=function(o,n){var h=n.bounds,c=Math.floor(h.min.x/o.bucketWidth),t=Math.floor(h.max.x/o.bucketWidth),l=Math.floor(h.min.y/o.bucketHeight),a=Math.floor(h.max.y/o.bucketHeight);return e._createRegion(c,t,l,a)},e._createRegion=function(o,n,h,c){return{id:o+","+n+","+h+","+c,startCol:o,endCol:n,startRow:h,endRow:c}},e._getBucketId=function(o,n){return"C"+o+"R"+n},e._createBucket=function(o,n){var h=o[n]=[];return h},e._bucketAddBody=function(o,n,h){var c=o.pairs,t=i.id,l=n.length,a;for(a=0;a<l;a++){var v=n[a];if(!(h.id===v.id||h.isStatic&&v.isStatic)){var C=t(h,v),A=c[C];A?A[2]+=1:c[C]=[h,v,1]}}n.push(h)},e._bucketRemoveBody=function(o,n,h){var c=o.pairs,t=i.id,l;n.splice(r.indexOf(n,h),1);var a=n.length;for(l=0;l<a;l++){var v=c[t(h,n[l])];v&&(v[2]-=1)}},e._createActivePairsList=function(o){var n,h=o.pairs,c=r.keys(h),t=c.length,l=[],a;for(a=0;a<t;a++)n=h[c[a]],n[2]>0?l.push(n):delete h[c[a]];return l}})()},function(u,m,f){var e={};u.exports=e;var i=f(3),r=f(7),s=f(14),o=f(5),n=f(13),h=f(10),c=f(6),t=f(0),l=f(1);(function(){e.create=function(a,v){var C=(a?a.mouse:null)||(v?v.mouse:null);C||(a&&a.render&&a.render.canvas?C=s.create(a.render.canvas):v&&v.element?C=s.create(v.element):(C=s.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var A=h.create({label:"Mouse Constraint",pointA:C.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),E={type:"mouseConstraint",mouse:C,element:null,body:null,constraint:A,collisionFilter:{category:1,mask:4294967295,group:0}},T=t.extend(E,v);return o.on(a,"beforeUpdate",function(){var p=c.allBodies(a.world);e.update(T,p),e._triggerEvents(T)}),T},e.update=function(a,v){var C=a.mouse,A=a.constraint,E=a.body;if(C.button===0){if(A.bodyB)r.set(A.bodyB,!1),A.pointA=C.position;else for(var T=0;T<v.length;T++)if(E=v[T],l.contains(E.bounds,C.position)&&n.canCollide(E.collisionFilter,a.collisionFilter))for(var p=E.parts.length>1?1:0;p<E.parts.length;p++){var w=E.parts[p];if(i.contains(w.vertices,C.position)){A.pointA=C.position,A.bodyB=a.body=E,A.pointB={x:C.position.x-E.position.x,y:C.position.y-E.position.y},A.angleB=E.angle,r.set(E,!1),o.trigger(a,"startdrag",{mouse:C,body:E});break}}}else A.bodyB=a.body=null,A.pointB=null,E&&o.trigger(a,"enddrag",{mouse:C,body:E})},e._triggerEvents=function(a){var v=a.mouse,C=v.sourceEvents;C.mousemove&&o.trigger(a,"mousemove",{mouse:v}),C.mousedown&&o.trigger(a,"mousedown",{mouse:v}),C.mouseup&&o.trigger(a,"mouseup",{mouse:v}),s.clearSourceEvents(v)}})()},function(u,m,f){var e={};u.exports=e;var i=f(2),r=f(8),s=f(1),o=f(12),n=f(3);(function(){e.collides=function(h,c){for(var t=[],l=c.length,a=h.bounds,v=r.collides,C=s.overlaps,A=0;A<l;A++){var E=c[A],T=E.parts.length,p=T===1?0:1;if(C(E.bounds,a))for(var w=p;w<T;w++){var y=E.parts[w];if(C(y.bounds,a)){var x=v(y,h);if(x){t.push(x);break}}}}return t},e.ray=function(h,c,t,l){l=l||1e-100;for(var a=i.angle(c,t),v=i.magnitude(i.sub(c,t)),C=(t.x+c.x)*.5,A=(t.y+c.y)*.5,E=o.rectangle(C,A,v,l,{angle:a}),T=e.collides(E,h),p=0;p<T.length;p+=1){var w=T[p];w.body=w.bodyB=w.bodyA}return T},e.region=function(h,c,t){for(var l=[],a=0;a<h.length;a++){var v=h[a],C=s.overlaps(v.bounds,c);(C&&!t||!C&&t)&&l.push(v)}return l},e.point=function(h,c){for(var t=[],l=0;l<h.length;l++){var a=h[l];if(s.contains(a.bounds,c))for(var v=a.parts.length===1?0:1;v<a.parts.length;v++){var C=a.parts[v];if(s.contains(C.bounds,c)&&n.contains(C.vertices,c)){t.push(a);break}}}return t}})()},function(u,m,f){var e={};u.exports=e;var i=f(4),r=f(0),s=f(6),o=f(1),n=f(5),h=f(2),c=f(14);(function(){var t,l;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(function(){p(r.now())},1e3/60)},l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(p){var w={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!p.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},y=r.extend(w,p);return y.canvas&&(y.canvas.width=y.options.width||y.canvas.width,y.canvas.height=y.options.height||y.canvas.height),y.mouse=p.mouse,y.engine=p.engine,y.canvas=y.canvas||C(y.options.width,y.options.height),y.context=y.canvas.getContext("2d"),y.textures={},y.bounds=y.bounds||{min:{x:0,y:0},max:{x:y.canvas.width,y:y.canvas.height}},y.controller=e,y.options.showBroadphase=!1,y.options.pixelRatio!==1&&e.setPixelRatio(y,y.options.pixelRatio),r.isElement(y.element)&&y.element.appendChild(y.canvas),y},e.run=function(p){(function w(y){p.frameRequestId=t(w),a(p,y),e.world(p,y),p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0),(p.options.showStats||p.options.showDebug)&&e.stats(p,p.context,y),(p.options.showPerformance||p.options.showDebug)&&e.performance(p,p.context,y),p.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(p){l(p.frameRequestId)},e.setPixelRatio=function(p,w){var y=p.options,x=p.canvas;w==="auto"&&(w=A(x)),y.pixelRatio=w,x.setAttribute("data-pixel-ratio",w),x.width=y.width*w,x.height=y.height*w,x.style.width=y.width+"px",x.style.height=y.height+"px"},e.setSize=function(p,w,y){p.options.width=w,p.options.height=y,p.bounds.max.x=p.bounds.min.x+w,p.bounds.max.y=p.bounds.min.y+y,p.options.pixelRatio!==1?e.setPixelRatio(p,p.options.pixelRatio):(p.canvas.width=w,p.canvas.height=y)},e.lookAt=function(p,w,y,x){x=typeof x<"u"?x:!0,w=r.isArray(w)?w:[w],y=y||{x:0,y:0};for(var P={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},S=0;S<w.length;S+=1){var M=w[S],b=M.bounds?M.bounds.min:M.min||M.position||M,k=M.bounds?M.bounds.max:M.max||M.position||M;b&&k&&(b.x<P.min.x&&(P.min.x=b.x),k.x>P.max.x&&(P.max.x=k.x),b.y<P.min.y&&(P.min.y=b.y),k.y>P.max.y&&(P.max.y=k.y))}var D=P.max.x-P.min.x+2*y.x,V=P.max.y-P.min.y+2*y.y,N=p.canvas.height,H=p.canvas.width,K=H/N,G=D/V,_=1,X=1;G>K?X=G/K:_=K/G,p.options.hasBounds=!0,p.bounds.min.x=P.min.x,p.bounds.max.x=P.min.x+D*_,p.bounds.min.y=P.min.y,p.bounds.max.y=P.min.y+V*X,x&&(p.bounds.min.x+=D*.5-D*_*.5,p.bounds.max.x+=D*.5-D*_*.5,p.bounds.min.y+=V*.5-V*X*.5,p.bounds.max.y+=V*.5-V*X*.5),p.bounds.min.x-=y.x,p.bounds.max.x-=y.x,p.bounds.min.y-=y.y,p.bounds.max.y-=y.y,p.mouse&&(c.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.canvas.width,y:(p.bounds.max.y-p.bounds.min.y)/p.canvas.height}),c.setOffset(p.mouse,p.bounds.min))},e.startViewTransform=function(p){var w=p.bounds.max.x-p.bounds.min.x,y=p.bounds.max.y-p.bounds.min.y,x=w/p.options.width,P=y/p.options.height;p.context.setTransform(p.options.pixelRatio/x,0,0,p.options.pixelRatio/P,0,0),p.context.translate(-p.bounds.min.x,-p.bounds.min.y)},e.endViewTransform=function(p){p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0)},e.world=function(p,w){var y=r.now(),x=p.engine,P=x.world,S=p.canvas,M=p.context,b=p.options,k=p.timing,D=s.allBodies(P),V=s.allConstraints(P),N=b.wireframes?b.wireframeBackground:b.background,H=[],K=[],G,_={timestamp:x.timing.timestamp};if(n.trigger(p,"beforeRender",_),p.currentBackground!==N&&T(p,N),M.globalCompositeOperation="source-in",M.fillStyle="transparent",M.fillRect(0,0,S.width,S.height),M.globalCompositeOperation="source-over",b.hasBounds){for(G=0;G<D.length;G++){var X=D[G];o.overlaps(X.bounds,p.bounds)&&H.push(X)}for(G=0;G<V.length;G++){var j=V[G],$=j.bodyA,ce=j.bodyB,B=j.pointA,I=j.pointB;$&&(B=h.add($.position,j.pointA)),ce&&(I=h.add(ce.position,j.pointB)),!(!B||!I)&&(o.contains(p.bounds,B)||o.contains(p.bounds,I))&&K.push(j)}e.startViewTransform(p),p.mouse&&(c.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.options.width,y:(p.bounds.max.y-p.bounds.min.y)/p.options.height}),c.setOffset(p.mouse,p.bounds.min))}else K=V,H=D,p.options.pixelRatio!==1&&p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0);!b.wireframes||x.enableSleeping&&b.showSleeping?e.bodies(p,H,M):(b.showConvexHulls&&e.bodyConvexHulls(p,H,M),e.bodyWireframes(p,H,M)),b.showBounds&&e.bodyBounds(p,H,M),(b.showAxes||b.showAngleIndicator)&&e.bodyAxes(p,H,M),b.showPositions&&e.bodyPositions(p,H,M),b.showVelocity&&e.bodyVelocity(p,H,M),b.showIds&&e.bodyIds(p,H,M),b.showSeparations&&e.separations(p,x.pairs.list,M),b.showCollisions&&e.collisions(p,x.pairs.list,M),b.showVertexNumbers&&e.vertexNumbers(p,H,M),b.showMousePosition&&e.mousePosition(p,p.mouse,M),e.constraints(K,M),b.hasBounds&&e.endViewTransform(p),n.trigger(p,"afterRender",_),k.lastElapsed=r.now()-y},e.stats=function(p,w,y){for(var x=p.engine,P=x.world,S=s.allBodies(P),M=0,b=55,k=44,D=0,V=0,N=0;N<S.length;N+=1)M+=S[N].parts.length;var H={Part:M,Body:S.length,Cons:s.allConstraints(P).length,Comp:s.allComposites(P).length,Pair:x.pairs.list.length};w.fillStyle="#0e0f19",w.fillRect(D,V,b*5.5,k),w.font="12px Arial",w.textBaseline="top",w.textAlign="right";for(var K in H){var G=H[K];w.fillStyle="#aaa",w.fillText(K,D+b,V+8),w.fillStyle="#eee",w.fillText(G,D+b,V+26),D+=b}},e.performance=function(p,w){var y=p.engine,x=p.timing,P=x.deltaHistory,S=x.elapsedHistory,M=x.timestampElapsedHistory,b=x.engineDeltaHistory,k=x.engineUpdatesHistory,D=x.engineElapsedHistory,V=y.timing.lastUpdatesPerFrame,N=y.timing.lastDelta,H=v(P),K=v(S),G=v(b),_=v(k),X=v(D),j=v(M),$=j/H||0,ce=Math.round(H/N),B=1e3/H||0,I=4,O=12,R=60,W=34,F=10,z=69;w.fillStyle="#0e0f19",w.fillRect(0,50,O*5+R*6+22,W),e.status(w,F,z,R,I,P.length,Math.round(B)+" fps",B/e._goodFps,function(Z){return P[Z]/H-1}),e.status(w,F+O+R,z,R,I,b.length,N.toFixed(2)+" dt",e._goodDelta/N,function(Z){return b[Z]/G-1}),e.status(w,F+(O+R)*2,z,R,I,k.length,V+" upf",Math.pow(r.clamp(_/ce||1,0,1),4),function(Z){return k[Z]/_-1}),e.status(w,F+(O+R)*3,z,R,I,D.length,X.toFixed(2)+" ut",1-V*X/e._goodFps,function(Z){return D[Z]/X-1}),e.status(w,F+(O+R)*4,z,R,I,S.length,K.toFixed(2)+" rt",1-K/e._goodFps,function(Z){return S[Z]/K-1}),e.status(w,F+(O+R)*5,z,R,I,M.length,$.toFixed(2)+" x",$*$*$,function(Z){return(M[Z]/P[Z]/$||0)-1})},e.status=function(p,w,y,x,P,S,M,b,k){p.strokeStyle="#888",p.fillStyle="#444",p.lineWidth=1,p.fillRect(w,y+7,x,1),p.beginPath(),p.moveTo(w,y+7-P*r.clamp(.4*k(0),-2,2));for(var D=0;D<x;D+=1)p.lineTo(w+D,y+7-(D<S?P*r.clamp(.4*k(D),-2,2):0));p.stroke(),p.fillStyle="hsl("+r.clamp(25+95*b,0,120)+",100%,60%)",p.fillRect(w,y-7,4,4),p.font="12px Arial",p.textBaseline="middle",p.textAlign="right",p.fillStyle="#eee",p.fillText(M,w+x,y-5)},e.constraints=function(p,w){for(var y=w,x=0;x<p.length;x++){var P=p[x];if(!(!P.render.visible||!P.pointA||!P.pointB)){var S=P.bodyA,M=P.bodyB,b,k;if(S?b=h.add(S.position,P.pointA):b=P.pointA,P.render.type==="pin")y.beginPath(),y.arc(b.x,b.y,3,0,2*Math.PI),y.closePath();else{if(M?k=h.add(M.position,P.pointB):k=P.pointB,y.beginPath(),y.moveTo(b.x,b.y),P.render.type==="spring")for(var D=h.sub(k,b),V=h.perp(h.normalise(D)),N=Math.ceil(r.clamp(P.length/5,12,20)),H,K=1;K<N;K+=1)H=K%2===0?1:-1,y.lineTo(b.x+D.x*(K/N)+V.x*H*4,b.y+D.y*(K/N)+V.y*H*4);y.lineTo(k.x,k.y)}P.render.lineWidth&&(y.lineWidth=P.render.lineWidth,y.strokeStyle=P.render.strokeStyle,y.stroke()),P.render.anchors&&(y.fillStyle=P.render.strokeStyle,y.beginPath(),y.arc(b.x,b.y,3,0,2*Math.PI),y.arc(k.x,k.y,3,0,2*Math.PI),y.closePath(),y.fill())}}},e.bodies=function(p,w,y){var x=y;p.engine;var P=p.options,S=P.showInternalEdges||!P.wireframes,M,b,k,D;for(k=0;k<w.length;k++)if(M=w[k],!!M.render.visible){for(D=M.parts.length>1?1:0;D<M.parts.length;D++)if(b=M.parts[D],!!b.render.visible){if(P.showSleeping&&M.isSleeping?x.globalAlpha=.5*b.render.opacity:b.render.opacity!==1&&(x.globalAlpha=b.render.opacity),b.render.sprite&&b.render.sprite.texture&&!P.wireframes){var V=b.render.sprite,N=E(p,V.texture);x.translate(b.position.x,b.position.y),x.rotate(b.angle),x.drawImage(N,N.width*-V.xOffset*V.xScale,N.height*-V.yOffset*V.yScale,N.width*V.xScale,N.height*V.yScale),x.rotate(-b.angle),x.translate(-b.position.x,-b.position.y)}else{if(b.circleRadius)x.beginPath(),x.arc(b.position.x,b.position.y,b.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(b.vertices[0].x,b.vertices[0].y);for(var H=1;H<b.vertices.length;H++)!b.vertices[H-1].isInternal||S?x.lineTo(b.vertices[H].x,b.vertices[H].y):x.moveTo(b.vertices[H].x,b.vertices[H].y),b.vertices[H].isInternal&&!S&&x.moveTo(b.vertices[(H+1)%b.vertices.length].x,b.vertices[(H+1)%b.vertices.length].y);x.lineTo(b.vertices[0].x,b.vertices[0].y),x.closePath()}P.wireframes?(x.lineWidth=1,x.strokeStyle=p.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=b.render.fillStyle,b.render.lineWidth&&(x.lineWidth=b.render.lineWidth,x.strokeStyle=b.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(p,w,y){var x=y,P=p.options.showInternalEdges,S,M,b,k,D;for(x.beginPath(),b=0;b<w.length;b++)if(S=w[b],!!S.render.visible)for(D=S.parts.length>1?1:0;D<S.parts.length;D++){for(M=S.parts[D],x.moveTo(M.vertices[0].x,M.vertices[0].y),k=1;k<M.vertices.length;k++)!M.vertices[k-1].isInternal||P?x.lineTo(M.vertices[k].x,M.vertices[k].y):x.moveTo(M.vertices[k].x,M.vertices[k].y),M.vertices[k].isInternal&&!P&&x.moveTo(M.vertices[(k+1)%M.vertices.length].x,M.vertices[(k+1)%M.vertices.length].y);x.lineTo(M.vertices[0].x,M.vertices[0].y)}x.lineWidth=1,x.strokeStyle=p.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(p,w,y){var x=y,P,S,M;for(x.beginPath(),S=0;S<w.length;S++)if(P=w[S],!(!P.render.visible||P.parts.length===1)){for(x.moveTo(P.vertices[0].x,P.vertices[0].y),M=1;M<P.vertices.length;M++)x.lineTo(P.vertices[M].x,P.vertices[M].y);x.lineTo(P.vertices[0].x,P.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(p,w,y){var x=y,P,S,M;for(P=0;P<w.length;P++){var b=w[P].parts;for(M=b.length>1?1:0;M<b.length;M++){var k=b[M];for(S=0;S<k.vertices.length;S++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(P+"_"+S,k.position.x+(k.vertices[S].x-k.position.x)*.8,k.position.y+(k.vertices[S].y-k.position.y)*.8)}}},e.mousePosition=function(p,w,y){var x=y;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(w.position.x+"  "+w.position.y,w.position.x+5,w.position.y-5)},e.bodyBounds=function(p,w,y){var x=y;p.engine;var P=p.options;x.beginPath();for(var S=0;S<w.length;S++){var M=w[S];if(M.render.visible)for(var b=w[S].parts,k=b.length>1?1:0;k<b.length;k++){var D=b[k];x.rect(D.bounds.min.x,D.bounds.min.y,D.bounds.max.x-D.bounds.min.x,D.bounds.max.y-D.bounds.min.y)}}P.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(p,w,y){var x=y;p.engine;var P=p.options,S,M,b,k;for(x.beginPath(),M=0;M<w.length;M++){var D=w[M],V=D.parts;if(D.render.visible)if(P.showAxes)for(b=V.length>1?1:0;b<V.length;b++)for(S=V[b],k=0;k<S.axes.length;k++){var N=S.axes[k];x.moveTo(S.position.x,S.position.y),x.lineTo(S.position.x+N.x*20,S.position.y+N.y*20)}else for(b=V.length>1?1:0;b<V.length;b++)for(S=V[b],k=0;k<S.axes.length;k++)x.moveTo(S.position.x,S.position.y),x.lineTo((S.vertices[0].x+S.vertices[S.vertices.length-1].x)/2,(S.vertices[0].y+S.vertices[S.vertices.length-1].y)/2)}P.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(p,w,y){var x=y;p.engine;var P=p.options,S,M,b,k;for(x.beginPath(),b=0;b<w.length;b++)if(S=w[b],!!S.render.visible)for(k=0;k<S.parts.length;k++)M=S.parts[k],x.arc(M.position.x,M.position.y,3,0,2*Math.PI,!1),x.closePath();for(P.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),b=0;b<w.length;b++)S=w[b],S.render.visible&&(x.arc(S.positionPrev.x,S.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(p,w,y){var x=y;x.beginPath();for(var P=0;P<w.length;P++){var S=w[P];if(S.render.visible){var M=i.getVelocity(S);x.moveTo(S.position.x,S.position.y),x.lineTo(S.position.x+M.x,S.position.y+M.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(p,w,y){var x=y,P,S;for(P=0;P<w.length;P++)if(w[P].render.visible){var M=w[P].parts;for(S=M.length>1?1:0;S<M.length;S++){var b=M[S];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(b.id,b.position.x+10,b.position.y-10)}}},e.collisions=function(p,w,y){var x=y,P=p.options,S,M,b,k;for(x.beginPath(),b=0;b<w.length;b++)if(S=w[b],!!S.isActive)for(M=S.collision,k=0;k<S.contactCount;k++){var D=S.contacts[k],V=D.vertex;x.rect(V.x-1.5,V.y-1.5,3.5,3.5)}for(P.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),b=0;b<w.length;b++)if(S=w[b],!!S.isActive&&(M=S.collision,S.contactCount>0)){var N=S.contacts[0].vertex.x,H=S.contacts[0].vertex.y;S.contactCount===2&&(N=(S.contacts[0].vertex.x+S.contacts[1].vertex.x)/2,H=(S.contacts[0].vertex.y+S.contacts[1].vertex.y)/2),M.bodyB===M.supports[0].body||M.bodyA.isStatic===!0?x.moveTo(N-M.normal.x*8,H-M.normal.y*8):x.moveTo(N+M.normal.x*8,H+M.normal.y*8),x.lineTo(N,H)}P.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(p,w,y){var x=y,P=p.options,S,M,b,k,D;for(x.beginPath(),D=0;D<w.length;D++)if(S=w[D],!!S.isActive){M=S.collision,b=M.bodyA,k=M.bodyB;var V=1;!k.isStatic&&!b.isStatic&&(V=.5),k.isStatic&&(V=0),x.moveTo(k.position.x,k.position.y),x.lineTo(k.position.x-M.penetration.x*V,k.position.y-M.penetration.y*V),V=1,!k.isStatic&&!b.isStatic&&(V=.5),b.isStatic&&(V=0),x.moveTo(b.position.x,b.position.y),x.lineTo(b.position.x+M.penetration.x*V,b.position.y+M.penetration.y*V)}P.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(p,w){p.engine;var y=p.selected,x=p.render,P=x.options,S;if(P.hasBounds){var M=x.bounds.max.x-x.bounds.min.x,b=x.bounds.max.y-x.bounds.min.y,k=M/x.options.width,D=b/x.options.height;w.scale(1/k,1/D),w.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var V=0;V<y.length;V++){var N=y[V].data;switch(w.translate(.5,.5),w.lineWidth=1,w.strokeStyle="rgba(255,165,0,0.9)",w.setLineDash([1,2]),N.type){case"body":S=N.bounds,w.beginPath(),w.rect(Math.floor(S.min.x-3),Math.floor(S.min.y-3),Math.floor(S.max.x-S.min.x+6),Math.floor(S.max.y-S.min.y+6)),w.closePath(),w.stroke();break;case"constraint":var H=N.pointA;N.bodyA&&(H=N.pointB),w.beginPath(),w.arc(H.x,H.y,10,0,2*Math.PI),w.closePath(),w.stroke();break}w.setLineDash([]),w.translate(-.5,-.5)}p.selectStart!==null&&(w.translate(.5,.5),w.lineWidth=1,w.strokeStyle="rgba(255,165,0,0.6)",w.fillStyle="rgba(255,165,0,0.1)",S=p.selectBounds,w.beginPath(),w.rect(Math.floor(S.min.x),Math.floor(S.min.y),Math.floor(S.max.x-S.min.x),Math.floor(S.max.y-S.min.y)),w.closePath(),w.stroke(),w.fill(),w.translate(-.5,-.5)),P.hasBounds&&w.setTransform(1,0,0,1,0,0)};var a=function(p,w){var y=p.engine,x=p.timing,P=x.historySize,S=y.timing.timestamp;x.delta=w-x.lastTime||e._goodDelta,x.lastTime=w,x.timestampElapsed=S-x.lastTimestamp||0,x.lastTimestamp=S,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,P),x.engineDeltaHistory.unshift(y.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,P),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,P),x.engineUpdatesHistory.unshift(y.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,P),x.engineElapsedHistory.unshift(y.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,P),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,P)},v=function(p){for(var w=0,y=0;y<p.length;y+=1)w+=p[y];return w/p.length||0},C=function(p,w){var y=document.createElement("canvas");return y.width=p,y.height=w,y.oncontextmenu=function(){return!1},y.onselectstart=function(){return!1},y},A=function(p){var w=p.getContext("2d"),y=window.devicePixelRatio||1,x=w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1;return y/x},E=function(p,w){var y=p.textures[w];return y||(y=p.textures[w]=new Image,y.src=w,y)},T=function(p,w){var y=w;/(jpg|gif|png)$/.test(w)&&(y="url("+w+")"),p.canvas.style.background=y,p.canvas.style.backgroundSize="contain",p.currentBackground=w}})()},function(u,m,f){var e={};u.exports=e;var i=f(5),r=f(17),s=f(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(n){var h={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=s.extend(h,n);return c.fps=0,c},e.run=function(n,h){return n.timeBuffer=e._frameDeltaFallback,function c(t){n.frameRequestId=e._onNextFrame(n,c),t&&n.enabled&&e.tick(n,h,t)}(),n},e.tick=function(n,h,c){var t=s.now(),l=n.delta,a=0,v=c-n.timeLastTick;if((!v||!n.timeLastTick||v>Math.max(e._maxFrameDelta,n.maxFrameTime))&&(v=n.frameDelta||e._frameDeltaFallback),n.frameDeltaSmoothing){n.frameDeltaHistory.push(v),n.frameDeltaHistory=n.frameDeltaHistory.slice(-n.frameDeltaHistorySize);var C=n.frameDeltaHistory.slice(0).sort(),A=n.frameDeltaHistory.slice(C.length*e._smoothingLowerBound,C.length*e._smoothingUpperBound),E=o(A);v=E||v}n.frameDeltaSnapping&&(v=1e3/Math.round(1e3/v)),n.frameDelta=v,n.timeLastTick=c,n.timeBuffer+=n.frameDelta,n.timeBuffer=s.clamp(n.timeBuffer,0,n.frameDelta+l*e._timeBufferMargin),n.lastUpdatesDeferred=0;var T=n.maxUpdates||Math.ceil(n.maxFrameTime/l),p={timestamp:h.timing.timestamp};i.trigger(n,"beforeTick",p),i.trigger(n,"tick",p);for(var w=s.now();l>0&&n.timeBuffer>=l*e._timeBufferMargin;){i.trigger(n,"beforeUpdate",p),r.update(h,l),i.trigger(n,"afterUpdate",p),n.timeBuffer-=l,a+=1;var y=s.now()-t,x=s.now()-w,P=y+e._elapsedNextEstimate*x/a;if(a>=T||P>n.maxFrameTime){n.lastUpdatesDeferred=Math.round(Math.max(0,n.timeBuffer/l-e._timeBufferMargin));break}}h.timing.lastUpdatesPerFrame=a,i.trigger(n,"afterTick",p),n.frameDeltaHistory.length>=100&&(n.lastUpdatesDeferred&&Math.round(n.frameDelta/l)>T?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):n.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof n.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(n.deltaMin||n.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),n.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(n){e._cancelNextFrame(n)},e._onNextFrame=function(n,h){if(typeof window<"u"&&window.requestAnimationFrame)n.frameRequestId=window.requestAnimationFrame(h);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return n.frameRequestId},e._cancelNextFrame=function(n){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(n.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var o=function(n){for(var h=0,c=n.length,t=0;t<c;t+=1)h+=n[t];return h/c||0}})()},function(u,m,f){var e={};u.exports=e;var i=f(8),r=f(0),s=r.deprecated;(function(){e.collides=function(o,n){return i.collides(o,n)},s(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(u,m,f){var e={};u.exports=e,f(1);var i=f(0);(function(){e.pathToVertices=function(r,s){typeof window<"u"&&!("SVGPathSeg"in window)&&i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var o,n,h,c,t,l,a,v,C,A,E=[],T,p,w=0,y=0,x=0;s=s||15;var P=function(M,b,k){var D=k%2===1&&k>1;if(!C||M!=C.x||b!=C.y){C&&D?(T=C.x,p=C.y):(T=0,p=0);var V={x:T+M,y:p+b};(D||!C)&&(C=V),E.push(V),y=T+M,x=p+b}},S=function(M){var b=M.pathSegTypeAsLetter.toUpperCase();if(b!=="Z"){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":y=M.x,x=M.y;break;case"H":y=M.x;break;case"V":x=M.y;break}P(y,x,M.pathSegType)}};for(e._svgPathToAbsolute(r),h=r.getTotalLength(),l=[],o=0;o<r.pathSegList.numberOfItems;o+=1)l.push(r.pathSegList.getItem(o));for(a=l.concat();w<h;){if(A=r.getPathSegAtLength(w),t=l[A],t!=v){for(;a.length&&a[0]!=t;)S(a.shift());v=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=r.getPointAtLength(w),P(c.x,c.y,0);break}w+=s}for(o=0,n=a.length;o<n;++o)S(a[o]);return E},e._svgPathToAbsolute=function(r){for(var s,o,n,h,c,t,l=r.pathSegList,a=0,v=0,C=l.numberOfItems,A=0;A<C;++A){var E=l.getItem(A),T=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in E&&(a=E.x),"y"in E&&(v=E.y);else switch("x1"in E&&(n=a+E.x1),"x2"in E&&(c=a+E.x2),"y1"in E&&(h=v+E.y1),"y2"in E&&(t=v+E.y2),"x"in E&&(a+=E.x),"y"in E&&(v+=E.y),T){case"m":l.replaceItem(r.createSVGPathSegMovetoAbs(a,v),A);break;case"l":l.replaceItem(r.createSVGPathSegLinetoAbs(a,v),A);break;case"h":l.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(a),A);break;case"v":l.replaceItem(r.createSVGPathSegLinetoVerticalAbs(v),A);break;case"c":l.replaceItem(r.createSVGPathSegCurvetoCubicAbs(a,v,n,h,c,t),A);break;case"s":l.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(a,v,c,t),A);break;case"q":l.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(a,v,n,h),A);break;case"t":l.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(a,v),A);break;case"a":l.replaceItem(r.createSVGPathSegArcAbs(a,v,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),A);break;case"z":case"Z":a=s,v=o;break}(T=="M"||T=="m")&&(s=a,o=v)}}})()},function(u,m,f){var e={};u.exports=e;var i=f(6);f(0),function(){e.create=i.create,e.add=i.add,e.remove=i.remove,e.clear=i.clear,e.addComposite=i.addComposite,e.addBody=i.addBody,e.addConstraint=i.addConstraint}()}])})})(En);var Yn=En.exports;const q=Kn(Yn),Tn=8,We=381+Tn,Ot=Tn/We,ut=330/We,kn=51/We,Mt=ut+kn,je=4.7625/We,$e=17.5/We,Ke=102/We,Je=203/We,Ye=305/We,In=15/We,Fe=Object.freeze(Object.defineProperty({__proto__:null,base:Mt,disc:In,ditchWidth:kn,fifteen:Ke,five:Ye,peg:je,rimWidth:Ot,surface:ut,ten:Je,twenty:$e},Symbol.toStringTag,{value:"Module"})),Qn={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},Xn={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)","pink-aa":"#FF24FF","pink-aaa":"#D100D1","teal-aa":"#00A3A3","teal-aaa":"#008080","red-aa":"#FE5F55","red-aaa":"#E91101","purple-aaa":"#564592"},xt={category:Qn,color:Xn,"":{"11px":"0.7rem","12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}},He=1,yt=2,en=4,St=8,tn=16,Zn=.9,jn=.05,Jn=.05,Rt={player1:xt.color["pink-aa"],player2:xt.color["teal-aa"],active:xt.color.black,vector:xt.color.black};class qn{constructor(){this.events={}}on(d,u){this.events[d]||(this.events[d]=[]),this.events[d].push(u)}emit(d,u){this.events[d]&&this.events[d].forEach(m=>m(u))}}function $n(){const g=new qn;let d,u,m,f,e,i,r,s,o,n,h,c=[],t,l;function a(){const B=q.Bodies.circle(e,e,e*$e,{isStatic:!0,isSensor:!0,render:{visible:!1},label:"20"},64);q.World.add(u,[B])}function v(){const I=Math.max(2,e*.05),O=$e*e+I/2-1,R=[];for(let W=0;W<16;W++){const F=W/16*2*Math.PI,z=e+Math.cos(F)*O,Z=e+Math.sin(F)*O,oe=2*Math.PI*O/16,ie=q.Bodies.rectangle(z,Z,I,oe,{isStatic:!0,isSensor:!1,angle:F,render:{visible:!1},label:"trap 20",collisionFilter:{category:en,mask:He}});R.push(ie)}q.World.add(u,R)}function C(){const I=Math.max(8,e*.2),O=Mt*e+I/2-1,R=[];for(let W=0;W<32;W++){const F=W/32*2*Math.PI,z=e+Math.cos(F)*O,Z=e+Math.sin(F)*O,oe=2*Math.PI*O/32,ie=q.Bodies.rectangle(z,Z,I,oe,{isStatic:!0,isSensor:!1,angle:F,render:{visible:!1},label:"trap rim",collisionFilter:{category:St,mask:He}});R.push(ie)}q.World.add(u,R)}function A(){const I=Math.max(8,e*.1),O=ut*e-I/2+1,R=[];for(let W=0;W<32;W++){const F=W/32*2*Math.PI,z=e+Math.cos(F)*O,Z=e+Math.sin(F)*O,oe=2*Math.PI*O/32,ie=q.Bodies.rectangle(z,Z,I,oe,{isStatic:!0,isSensor:!1,angle:F,render:{visible:!1},label:"trap surface",collisionFilter:{category:tn,mask:He}});R.push(ie)}q.World.add(u,R)}function E(){const B=[],I=je*e;for(let O=0;O<8;O++){const R=.375+O/8*Math.PI*2,W=e+Math.cos(R)*e*Ke,F=e+Math.sin(R)*e*Ke,z=q.Bodies.circle(W,F,I,{isStatic:!0,restitution:.9,render:{visible:!1},collisionFilter:{category:yt,mask:He}});B.push(z)}q.World.add(u,B)}function T(B,I,O,R,W,F){const z=Math.atan2(W-O,R-I),Z=R-F*Math.cos(z-Math.PI/4),oe=W-F*Math.sin(z-Math.PI/4),ie=R-F*Math.cos(z+Math.PI/4),se=W-F*Math.sin(z+Math.PI/4);B.moveTo(R,W),B.lineTo(Z,oe),B.moveTo(R,W),B.lineTo(ie,se)}function p(B){if(!l)return;const I=l.circleRadius,O=l.position;if(o&&n){const R=q.Vector.normalise(o),W=O.x+R.x*I*1.25,F=O.y+R.y*I*1.25,z=O.x+R.x*I*1.5+o.x,Z=O.y+R.y*I*1.5+o.y;B.beginPath(),B.strokeStyle=Rt.vector,B.lineWidth=2,B.moveTo(W,F),B.lineTo(z,Z),B.stroke();const oe=e*.03,ie=Math.PI/4,se=Math.atan2(o.y,o.x);B.beginPath(),B.moveTo(z,Z),B.lineTo(z-oe*Math.cos(se-ie),Z-oe*Math.sin(se-ie)),B.moveTo(z,Z),B.lineTo(z-oe*Math.cos(se+ie),Z-oe*Math.sin(se+ie)),B.stroke(),B.closePath()}t==="position"&&(B.beginPath(),B.strokeStyle=Rt.vector,B.lineWidth=2,B.moveTo(O.x-I*2.5,O.y),B.lineTo(O.x-I*1.25,O.y),B.moveTo(O.x+I*2.5,O.y),B.lineTo(O.x+I*1.25,O.y),B.stroke(),B.closePath(),B.lineDashOffset=0,B.beginPath(),T(B,O.x-I*1.25,O.y,O.x-I*2.5,O.y,I*.75),T(B,O.x+I*1.25,O.y,O.x+I*2.5,O.y,I*.75),B.stroke(),B.closePath())}function w(){const B=f.context;p(B)}function y(B){B.pairs.forEach(({bodyA:I,bodyB:O})=>{const R=I.label==="disc"?I:O.label==="disc"?O:null,W=I.label==="20"?I:O.label==="20"?O:null;if(R&&W&&!R.in20){const F=q.Vector.magnitude(q.Vector.sub(R.position,W.position)),Z=R.circleRadius*.75,oe=10,ie=F<Z,se=R.speed<oe;ie&&se&&(R.in20=!0,R.collisionFilter.mask=He|yt|St|en,R.restitution=.4)}})}function x(B){B.pairs.forEach(({bodyA:I,bodyB:O})=>{const R=I.label==="disc"?I:O.label==="disc"?O:null,W=I.label==="disc"&&I.id!==R.id?I:O.label==="disc"&&O.id!==R.id?O:null,F=I.label==="trap rim"?I:O.label==="trap rim"?O:null;if(R&&F)R.frictionAir=.3,R.collisionFilter.mask=He|yt|St|tn;else if(R&&W){R.collided=!0,W.collided=!0;const z=R.player!==W.player;R.collidedOpp=z,W.collidedOpp=z}})}function P({target:B,speed:I}){if(!l)return;const O={x:B.x-l.position.x,y:B.y-l.position.y},R=q.Vector.normalise(O);if(I){const W=I*i;s=q.Vector.mult(R,W)}else{const W=q.Vector.magnitude(O),F=Math.min(W,r),z=F/r*i;s=q.Vector.mult(R,z),o=q.Vector.mult(R,F)}}function S(B){const I={x:e,y:e},O=B.circleRadius,R=B.position,W=Math.sqrt(Math.pow(R.x-I.x,2)+Math.pow(R.y-I.y,2)),z=[{r:e*$e,score:20},{r:e*Ke,score:15},{r:e*Je,score:10},{r:e*Ye,score:5}].find(Z=>W+O<Z.r);return(z==null?void 0:z.score)||0}function M(B){const I={x:e,y:e},O=B.circleRadius,R=B.position,W=Math.sqrt(Math.pow(R.x-I.x,2)+Math.pow(R.y-I.y,2)),F=e*Ke;if(W-O<F)return!0}function b(){if(c.every(I=>I.isSleeping)){c.forEach(F=>{F.score=S(F),F.intersect15=M(F)});const I=c.some(F=>F.player!==l.player),O=c.some(F=>F.collidedOpp),R=c.filter(F=>F.player===l.player).some(F=>F.intersect15);c.forEach(F=>{I?F.player===l.player?F.id===l.id?F.valid=O:F.valid=F.collided?O:!0:F.valid=!0:F.id===l.id?F.valid=F.collided?R:F.intersect15:F.valid=F.collided?R:!0,(!F.valid||!F.score)&&q.World.remove(u,F)});const W=c.find(F=>F.id===l.id).valid;if(c=c.filter(F=>F.score>0&&F.valid),h)g.emit("shotCompleteManual",{discs:c,valid:W});else{const F=c.map(z=>({id:z.id,player:z.player,score:z.score}));c.forEach(z=>{z.score===20&&q.World.remove(u,z)}),c=c.filter(z=>z.score!==20),g.emit("shotComplete",{discs:F,valid:W}),c.forEach(z=>{z.valid=void 0,z.collided=void 0,z.collidedOpp=void 0,z.intersect15=void 0,z.in20=void 0})}l=null,j("idle")}}function k(){q.Composite.clear(u,!1),q.Events.off(d),q.Render.stop(f),f.canvas.remove(),f.context=null,f.textures={},q.Runner.stop(m)}function D(B){c.forEach(I=>{const O=e/B,R=I.position.x*O,W=I.position.y*O;q.Body.setPosition(I,{x:R,y:W}),q.Body.scale(I,O,O),q.World.add(u,I)})}function V(){c.forEach(B=>{q.World.remove(u,B)}),c=[],l=null,n=!1,o=void 0,s=void 0}function N(B={}){const I=B.player||"player1",O=B.state||"position",R=B.x?B.x*e*2:e,W=B.y?B.y*e*2:I==="player1"?e+e*Ye:e-e*Ye,F=e*In,z=jn,Z=Zn,oe=Jn,ie=q.Bodies.circle(R,W,F,{density:z,restitution:Z,frictionAir:oe,render:{fillStyle:Rt[I],strokeStyle:"#fff",lineWidth:1},label:"disc",collisionFilter:{category:He,mask:He|yt|St},sleepThreshold:60,isSleeping:!0},64);ie.player=I,c.push(ie),l=ie,q.Events.on(ie,"sleepStart",b),q.World.add(u,ie),i=l.mass*e*7e-4,j(O)}function H(B){if(!l||t!=="position")return;const I=2,O=[45-I,135+I],R=e*Ye;let W=B-e;W=Math.max(-R,Math.min(R,W));const F=l.player==="player1",z=F?-1:1,Z=O[F?0:1]*z*-1,oe=O[F?1:0]*z*-1,ie=e-Math.sqrt(Math.max(0,Math.pow(R,2)-Math.pow(W,2)))*z,se={x:e+W,y:ie},De={x:e,y:e},Me=q.Vector.angle(De,se)*180/Math.PI;if(Me>Z&&Me<oe)q.Body.setPosition(l,se);else if(Me<=Z){const re=Z*Math.PI/180,Te=Math.cos(re)*R,de=Math.sin(re)*R,ke=e+Te,pe=e+de;q.Body.setPosition(l,{x:ke,y:pe})}else if(Me>=oe){const re=oe*Math.PI/180,Te=Math.cos(re)*R,de=Math.sin(re)*R,ke=e+Te,pe=e+de;q.Body.setPosition(l,{x:ke,y:pe})}}function K({degrees:B,speed:I}){const O=(B-90)*Math.PI/180,R=l.position.x+Math.cos(O),W=l.position.y+Math.sin(O);return{x:l.position.x+(R-l.position.x)*I,y:l.position.y+(W-l.position.y)*I}}function G({degrees:B,power:I,visible:O}){if(!l||t!=="shoot")return;$(O===void 0?!0:O);const W=Math.max(.01,I)*r,F=K({degrees:B,speed:W});P({target:F})}function _(){!l||t!=="shoot"||(j("play"),$(!1),q.Body.applyForce(l,l.position,s))}function X(){!l||t!=="shoot"||_()}function j(B){t=B}function $(B){n=B}function ce({element:B,width:I,tutorial:O}){h=!!O;let R;d?(k(),R=e):j("idle");const W=I;e=I/2,r=e*.2,d=q.Engine.create({enableSleeping:!0}),u=d.world,d.gravity.y=0,m=q.Runner.create(),f=q.Render.create({element:B,engine:d,options:{width:I,height:W,wireframes:!1,pixelRatio:"auto",background:"transparent",hasBounds:!0,showSleeping:!1}}),D(R),a(),E(),v(),C(),A(),q.Events.on(f,"afterRender",w),q.Runner.run(m,d),q.Render.run(f),q.Events.on(d,"collisionActive",y),q.Events.on(d,"collisionStart",x),c.length||g.emit("ready")}return{removeDiscs:V,addDisc:N,positionDisc:H,aimDisc:G,release:X,flickDisc:_,setState:j,setIndicatorVisible:$,init:ce,on:(B,I)=>g.on(B,I)}}function Pt(g){return Object.keys(g).reduce((d,u)=>g[u]===void 0?d:d+`${u}:${g[u]};`,"")}function Bt(g){return g?!0:void 0}Pt({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function nn(g){function d(u){return u(g),()=>{}}return{subscribe:d}}function Vt(g){if(!Dn)return null;const d=document.querySelector(`[data-melt-id="${g}"]`);return ct(d)?d:null}const ot=g=>new Proxy(g,{get(d,u,m){return Reflect.get(d,u,m)},ownKeys(d){return Reflect.ownKeys(d).filter(u=>u!=="action")}}),sn=g=>typeof g=="function";Lt("empty");function Lt(g,d){const{stores:u,action:m,returned:f}=d??{},e=(()=>{if(u&&f)return kt(u,r=>{const s=f(r);if(sn(s)){const o=(...n)=>ot({...s(...n),[`data-melt-${g}`]:"",action:m??Ne});return o.action=m??Ne,o}return ot({...s,[`data-melt-${g}`]:"",action:m??Ne})});{const r=f,s=r==null?void 0:r();if(sn(s)){const o=(...n)=>ot({...s(...n),[`data-melt-${g}`]:"",action:m??Ne});return o.action=m??Ne,nn(o)}return nn(ot({...s,[`data-melt-${g}`]:"",action:m??Ne}))}})(),i=m??(()=>{});return i.subscribe=e.subscribe,i}function rn(g,d){const{stores:u,returned:m,action:f}=d,{subscribe:e}=kt(u,r=>m(r).map(s=>ot({...s,[`data-melt-${g}`]:"",action:f??Ne}))),i=f??(()=>{});return i.subscribe=e,i}function ei(g){const d=e=>e?`${g}-${e}`:g,u=e=>`data-melt-${g}${e?`-${e}`:""}`,m=e=>`[data-melt-${g}${e?`-${e}`:""}]`;return{name:d,attribute:u,selector:m,getEl:e=>document.querySelector(m(e))}}const Dn=typeof document<"u";function ct(g){return g instanceof HTMLElement}function ti(...g){return(...d)=>{for(const u of g)typeof u=="function"&&u(...d)}}function Ne(){}function qe(g,d,u,m){const f=Array.isArray(d)?d:[d];return f.forEach(e=>g.addEventListener(e,u,m)),()=>{f.forEach(e=>g.removeEventListener(e,u,m))}}function ni(g,d,u,m){const f=Array.isArray(d)?d:[d];if(typeof u=="function"){const e=si(i=>u(i));return f.forEach(i=>g.addEventListener(i,e,m)),()=>{f.forEach(i=>g.removeEventListener(i,e,m))}}return()=>void 0}function ii(g){const d=g.currentTarget;if(!ct(d))return null;const u=new CustomEvent(`m-${g.type}`,{detail:{originalEvent:g},cancelable:!0});return d.dispatchEvent(u),u}function si(g){return d=>{const u=ii(d);if(!(u!=null&&u.defaultPrevented))return g(d)}}const ri=g=>{try{On(g)}catch{return g}};function Rn(g,...d){const u={};for(const m of Object.keys(g))d.includes(m)||(u[m]=g[m]);return u}function _e(g){return{...g,get:()=>Ln(g)}}_e.writable=function(g){const d=Ze(g);let u=g;return{subscribe:d.subscribe,set(m){d.set(m),u=m},update(m){const f=m(u);d.set(f),u=f},get(){return u}}};_e.derived=function(g,d){const u=new Map,m=()=>{const e=Array.isArray(g)?g.map(i=>i.get()):g.get();return d(e)};return{get:m,subscribe:e=>{const i=[];return(Array.isArray(g)?g:[g]).forEach(s=>{i.push(s.subscribe(()=>{e(m())}))}),e(m()),u.set(e,i),()=>{const s=u.get(e);if(s)for(const o of s)o();u.delete(e)}}}};const ai=(g,d)=>{const u=_e(g),m=(e,i)=>{u.update(r=>{const s=e(r);let o=s;return d&&(o=d({curr:r,next:s})),i==null||i(o),o})};return{...u,update:m,set:e=>{m(()=>e)}}};let oi="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",li=(g=21)=>{let d="",u=g;for(;u--;)d+=oi[Math.random()*64|0];return d};function fi(){return li(10)}function ci(g){return g.reduce((d,u)=>(d[u]=fi(),d),{})}const Ie={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"};function an(g,d){let u;const m=kt(g,e=>{u==null||u(),u=d(e)}).subscribe(Ne),f=()=>{m(),u==null||u()};return ri(f),f}function ui(g){const d={};return Object.keys(g).forEach(u=>{const m=u,f=g[m];d[m]=_e(Ze(f))}),d}function Ft(g,d,u,m){const f=(g-(isNaN(d)?0:d))%m;let e=Math.abs(f)*2>=m?g+Math.sign(f)*(m-Math.abs(f)):g-f;isNaN(d)?!isNaN(u)&&e>u&&(e=Math.floor(u/m)*m):e<d?e=d:!isNaN(u)&&e>u&&(e=d+Math.floor((u-d)/m)*m);const i=m.toString(),r=i.indexOf("."),s=r>=0?i.length-r:0;if(s>0){const o=Math.pow(10,s);e=Math.round(e*o)/o}return e}ft(void 0,g=>{function d(m){g(m),g(void 0)}return qe(document,"pointerup",d,{passive:!1,capture:!0})});ft(void 0,g=>{function d(m){m&&m.key===Ie.ESCAPE&&g(m),g(void 0)}return qe(document,"keydown",d,{passive:!1})});ft(!1),ft(!1),ft(void 0);const di={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...Rn(di,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});const hi={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:wt}=ei("slider"),vi=g=>{const d={...hi,...g},u=ui(Rn(d,"value","onValueChange","defaultValue")),{min:m,max:f,step:e,orientation:i,dir:r,disabled:s}=u,o=d.value??Ze(d.defaultValue),n=ai(o,d==null?void 0:d.onValueChange),h=_e(Ze(!1)),c=_e(Ze(0)),t=_e(Ze(null)),l=ci(["root"]),a=(y,x)=>{n.update(P=>{if(!P)return[y];if(P[x]===y)return P;const S=[...P],M=S[x]>y?-1:1;function b(){S[x]=S[x+M],S[x+M]=y;const N=v();N&&(N[x+M].focus(),t.set({thumb:N[x+M],index:x+M}))}if(M===-1&&y<S[x-1])return b(),S;if(M===1&&y>S[x+1])return b(),S;const k=m.get(),D=f.get(),V=e.get();return S[x]=Ft(y,k,D,V),S})},v=()=>{const y=Vt(l.root);return y?Array.from(y.querySelectorAll('[data-melt-part="thumb"]')).filter(x=>ct(x)):null},C=kt([m,f],([y,x])=>P=>(P-y)/(x-y)*100),A=_e.derived([i,r],([y,x])=>y==="horizontal"?x==="rtl"?"rl":"lr":x==="rtl"?"tb":"bt"),E=Lt(wt(),{stores:[s,i,r],returned:([y,x,P])=>({dir:P,disabled:Bt(y),"data-disabled":Bt(y),"data-orientation":x,style:y?void 0:`touch-action: ${x==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":l.root})}),T=Lt(wt("range"),{stores:[n,A,C],returned:([y,x,P])=>{const S=y.length>1?P(Math.min(...y)??0):0,M=100-P(Math.max(...y)??0),b={position:"absolute"};switch(x){case"lr":{b.left=`${S}%`,b.right=`${M}%`;break}case"rl":{b.right=`${S}%`,b.left=`${M}%`;break}case"bt":{b.bottom=`${S}%`,b.top=`${M}%`;break}case"tb":{b.top=`${S}%`,b.bottom=`${M}%`;break}}return{style:Pt(b)}}}),p=rn(wt("thumb"),{stores:[n,C,m,f,s,i,A],returned:([y,x,P,S,M,b,k])=>Array.from({length:y.length||1},(V,N)=>{c.get()<y.length&&c.update(X=>X+1);const K=y[N],G=`${x(K)}%`,_={position:"absolute"};switch(k){case"lr":{_.left=G,_.translate="-50% 0";break}case"rl":{_.right=G,_.translate="50% 0";break}case"bt":{_.bottom=G,_.translate="0 50%";break}case"tb":{_.top=G,_.translate="0 -50%";break}}return{role:"slider","aria-valuemin":P,"aria-valuemax":S,"aria-valuenow":K,"aria-disabled":Bt(M),"aria-orientation":b,"data-melt-part":"thumb","data-value":K,style:Pt(_),tabindex:M?-1:0}}),action:y=>({destroy:ni(y,"keydown",P=>{if(s.get())return;const S=P.currentTarget;if(!ct(S))return;const M=v();if(!(M!=null&&M.length))return;const b=M.indexOf(S);if(c.set(b),![Ie.ARROW_LEFT,Ie.ARROW_RIGHT,Ie.ARROW_UP,Ie.ARROW_DOWN,Ie.HOME,Ie.END].includes(P.key))return;P.preventDefault();const k=m.get(),D=f.get(),V=e.get(),N=n.get(),H=i.get(),K=A.get(),G=N[b];switch(P.key){case Ie.HOME:{a(k,b);break}case Ie.END:{a(D,b);break}case Ie.ARROW_LEFT:{if(H!=="horizontal")break;P.metaKey?a(K==="rl"?D:k,b):K==="rl"&&G<D?a(G+V,b):K==="lr"&&G>k&&a(G-V,b);break}case Ie.ARROW_RIGHT:{if(H!=="horizontal")break;P.metaKey?a(K==="rl"?k:D,b):K==="rl"&&G>k?a(G-V,b):K==="lr"&&G<D&&a(G+V,b);break}case Ie.ARROW_UP:{P.metaKey?a(K==="tb"?k:D,b):K==="tb"&&G>k?a(G-V,b):K!=="tb"&&G<D&&a(G+V,b);break}case Ie.ARROW_DOWN:{P.metaKey?a(K==="tb"?D:k,b):K==="tb"&&G<D?a(G+V,b):K!=="tb"&&G>k&&a(G-V,b);break}}})})}),w=rn(wt("tick"),{stores:[n,m,f,e,A],returned:([y,x,P,S,M])=>{const b=P-x;let k=Math.ceil(b/S);return b%S==0&&k++,Array.from({length:k},(D,V)=>{const N=`${V*(S/(P-x))*100}%`,H=V===0,K=V===k-1,G=H?0:K?-100:-50,_={position:"absolute"};switch(M){case"lr":{_.left=N,_.translate=`${G}% 0`;break}case"rl":{_.right=N,_.translate=`${-G}% 0`;break}case"bt":{_.bottom=N,_.translate=`0 ${-G}%`;break}case"tb":{_.top=N,_.translate=`0 ${G}%`;break}}const X=x+V*S;return{"data-bounded":(y.length===1?X<=y[0]:y[0]<=X&&X<=y[y.length-1])?!0:void 0,"data-value":X,style:Pt(_)}})}});return an([E,m,f,s,i,A,e],([y,x,P,S,M,b,k])=>{if(!Dn||S)return;const D=(_,X,j,$)=>{const B=(_-j)/($-j)*(P-x)+x;if(B<x)a(x,X);else if(B>P)a(P,X);else{const I=k,O=x,R=Math.floor((B-O)/I),W=O+R*I+I/2,F=O+(R+1)*I+I/2,z=B>=W&&B<F?(R+1)*I+O:R*I+O;z<=P&&a(z,X)}},V=_=>{const X=v();if(!X)return;X.forEach(B=>B.blur());const j=X.map(B=>{if(M==="horizontal"){const{left:I,right:O}=B.getBoundingClientRect();return Math.abs(_.clientX-(I+O)/2)}else{const{top:I,bottom:O}=B.getBoundingClientRect();return Math.abs(_.clientY-(I+O)/2)}}),$=X[j.indexOf(Math.min(...j))],ce=X.indexOf($);return{thumb:$,index:ce}},N=_=>{if(!h.get())return;_.preventDefault(),_.stopPropagation();const X=Vt(y["data-melt-id"]),j=t.get();if(!X||!j)return;j.thumb.focus();const{left:$,right:ce,top:B,bottom:I}=X.getBoundingClientRect();switch(b){case"lr":{D(_.clientX,j.index,$,ce);break}case"rl":{D(_.clientX,j.index,ce,$);break}case"bt":{D(_.clientY,j.index,I,B);break}case"tb":{D(_.clientY,j.index,B,I);break}}},H=_=>{if(_.button!==0)return;const X=Vt(y["data-melt-id"]),j=V(_);if(!j||!X)return;const $=_.target;!ct($)||!X.contains($)||(_.preventDefault(),t.set(j),j.thumb.focus(),h.set(!0),N(_))},K=()=>{h.set(!1)},G=ti(qe(document,"pointerdown",H),qe(document,"pointerup",K),qe(document,"pointerleave",K),qe(document,"pointermove",N));return()=>{G()}}),an([e,m,f,n],function([x,P,S,M]){const b=D=>Ft(D,P,S,x)===D,k=D=>Ft(D,P,S,x);M.some(D=>!b(D))&&n.update(D=>D.map(k))}),{elements:{root:E,thumbs:p,range:T,ticks:w},states:{value:n},options:u}};function pi(g,d){const u={};return d.forEach(m=>{u[m]={[`data-${g}-${m}`]:""}}),m=>u[m]}function gi(){const g=bn();return d=>{const{originalEvent:u}=d.detail,{cancelable:m}=d,f=u.type;g(f,{originalEvent:u,currentTarget:u.currentTarget},{cancelable:m})||d.preventDefault()}}function mi(g){const d={};for(const u in g){const m=g[u];m!==void 0&&(d[u]=m)}return d}function xi(g){return function(d,u){if(u===void 0)return;const m=g[d];m&&m.set(u)}}function Bn(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function yi(g){const{NAME:d,PARTS:u}=Bn(),m=pi(d,u),f={...vi(mi(g)),getAttrs:m};return Wn(d,f),{...f,updateOption:xi(f.options)}}function Vn(){const{NAME:g}=Bn();return Hn(g)}const Si=g=>({builder:g&4,ticks:g&8,thumbs:g&16}),on=g=>({builder:g[2],ticks:g[3],thumbs:g[4]}),wi=g=>({builder:g&4,ticks:g&8,thumbs:g&16}),ln=g=>({builder:g[2],ticks:g[3],thumbs:g[4]});function Ci(g){let d,u,m,f;const e=g[19].default,i=bt(e,g,g[18],on);let r=[g[2],g[8]],s={};for(let o=0;o<r.length;o+=1)s=Le(s,r[o]);return{c(){d=ee("span"),i&&i.c(),this.h()},l(o){d=te(o,"SPAN",{});var n=ne(d);i&&i.l(n),n.forEach(Y),this.h()},h(){tt(d,s)},m(o,n){ue(o,d,n),i&&i.m(d,null),g[20](d),u=!0,m||(f=Ht(g[2].action(d)),m=!0)},p(o,n){i&&i.p&&(!u||n&262172)&&At(i,e,o,o[18],u?Tt(e,o[18],n,Si):Et(o[18]),on),tt(d,s=_t(r,[n&4&&o[2],n&256&&o[8]]))},i(o){u||(le(i,o),u=!0)},o(o){ve(i,o),u=!1},d(o){o&&Y(d),i&&i.d(o),g[20](null),m=!1,f()}}}function Pi(g){let d;const u=g[19].default,m=bt(u,g,g[18],ln);return{c(){m&&m.c()},l(f){m&&m.l(f)},m(f,e){m&&m.m(f,e),d=!0},p(f,e){m&&m.p&&(!d||e&262172)&&At(m,u,f,f[18],d?Tt(u,f[18],e,wi):Et(f[18]),ln)},i(f){d||(le(m,f),d=!0)},o(f){ve(m,f),d=!1},d(f){m&&m.d(f)}}}function Mi(g){let d,u,m,f;const e=[Pi,Ci],i=[];function r(s,o){return s[1]?0:1}return d=r(g),u=i[d]=e[d](g),{c(){u.c(),m=Be()},l(s){u.l(s),m=Be()},m(s,o){i[d].m(s,o),ue(s,m,o),f=!0},p(s,[o]){let n=d;d=r(s),d===n?i[d].p(s,o):(Ge(),ve(i[n],1,1,()=>{i[n]=null}),ze(),u=i[d],u?u.p(s,o):(u=i[d]=e[d](s),u.c()),le(u,1),u.m(m.parentNode,m))},i(s){f||(le(u),f=!0)},o(s){ve(u),f=!1},d(s){s&&Y(m),i[d].d(s)}}}function bi(g,d,u){let m;const f=["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"];let e=et(d,f),i,r,s,{$$slots:o={},$$scope:n}=d,{disabled:h=void 0}=d,{min:c=void 0}=d,{max:t=void 0}=d,{step:l=void 0}=d,{orientation:a=void 0}=d,{dir:v=void 0}=d,{value:C=void 0}=d,{onValueChange:A=void 0}=d,{asChild:E=!1}=d,{el:T=void 0}=d;const{elements:{root:p,ticks:w,thumbs:y},states:{value:x},updateOption:P,getAttrs:S}=yi({disabled:h,dir:v,min:c,max:t,step:l,orientation:a,defaultValue:C,onValueChange:({next:k})=>(C!==k&&(A==null||A(k),u(9,C=k)),k)});Ct(g,p,k=>u(17,i=k)),Ct(g,w,k=>u(3,r=k)),Ct(g,y,k=>u(4,s=k));const M=S("root");function b(k){Qe[k?"unshift":"push"](()=>{T=k,u(0,T)})}return g.$$set=k=>{d=Le(Le({},d),Wt(k)),u(8,e=et(d,f)),"disabled"in k&&u(10,h=k.disabled),"min"in k&&u(11,c=k.min),"max"in k&&u(12,t=k.max),"step"in k&&u(13,l=k.step),"orientation"in k&&u(14,a=k.orientation),"dir"in k&&u(15,v=k.dir),"value"in k&&u(9,C=k.value),"onValueChange"in k&&u(16,A=k.onValueChange),"asChild"in k&&u(1,E=k.asChild),"el"in k&&u(0,T=k.el),"$$scope"in k&&u(18,n=k.$$scope)},g.$$.update=()=>{g.$$.dirty&512&&C!==void 0&&x.set(C),g.$$.dirty&1024&&P("disabled",h),g.$$.dirty&2048&&P("min",c),g.$$.dirty&4096&&P("max",t),g.$$.dirty&8192&&P("step",l),g.$$.dirty&16384&&P("orientation",a),g.$$.dirty&32768&&P("dir",v),g.$$.dirty&131072&&u(2,m=i),g.$$.dirty&4&&Object.assign(m,M)},[T,E,m,r,s,p,w,y,e,C,h,c,t,l,a,v,A,i,n,o,b]}class Ai extends it{constructor(d){super(),st(this,d,bi,Mi,nt,{disabled:10,min:11,max:12,step:13,orientation:14,dir:15,value:9,onValueChange:16,asChild:1,el:0})}}const Ei=g=>({builder:g&4}),fn=g=>({builder:g[2]});function Ti(g){let d,u,m,f=[g[2],g[4]],e={};for(let i=0;i<f.length;i+=1)e=Le(e,f[i]);return{c(){d=ee("span"),this.h()},l(i){d=te(i,"SPAN",{}),ne(d).forEach(Y),this.h()},h(){tt(d,e)},m(i,r){ue(i,d,r),g[8](d),u||(m=Ht(g[2].action(d)),u=!0)},p(i,r){tt(d,e=_t(f,[r&4&&i[2],r&16&&i[4]]))},i:Oe,o:Oe,d(i){i&&Y(d),g[8](null),u=!1,m()}}}function ki(g){let d;const u=g[7].default,m=bt(u,g,g[6],fn);return{c(){m&&m.c()},l(f){m&&m.l(f)},m(f,e){m&&m.m(f,e),d=!0},p(f,e){m&&m.p&&(!d||e&68)&&At(m,u,f,f[6],d?Tt(u,f[6],e,Ei):Et(f[6]),fn)},i(f){d||(le(m,f),d=!0)},o(f){ve(m,f),d=!1},d(f){m&&m.d(f)}}}function Ii(g){let d,u,m,f;const e=[ki,Ti],i=[];function r(s,o){return s[1]?0:1}return d=r(g),u=i[d]=e[d](g),{c(){u.c(),m=Be()},l(s){u.l(s),m=Be()},m(s,o){i[d].m(s,o),ue(s,m,o),f=!0},p(s,[o]){let n=d;d=r(s),d===n?i[d].p(s,o):(Ge(),ve(i[n],1,1,()=>{i[n]=null}),ze(),u=i[d],u?u.p(s,o):(u=i[d]=e[d](s),u.c()),le(u,1),u.m(m.parentNode,m))},i(s){f||(le(u),f=!0)},o(s){ve(u),f=!1},d(s){s&&Y(m),i[d].d(s)}}}function Di(g,d,u){let m;const f=["asChild","el"];let e=et(d,f),i,{$$slots:r={},$$scope:s}=d,{asChild:o=!1}=d,{el:n=void 0}=d;const{elements:{range:h},getAttrs:c}=Vn();Ct(g,h,a=>u(5,i=a));const t=c("range");function l(a){Qe[a?"unshift":"push"](()=>{n=a,u(0,n)})}return g.$$set=a=>{d=Le(Le({},d),Wt(a)),u(4,e=et(d,f)),"asChild"in a&&u(1,o=a.asChild),"el"in a&&u(0,n=a.el),"$$scope"in a&&u(6,s=a.$$scope)},g.$$.update=()=>{g.$$.dirty&32&&u(2,m=i),g.$$.dirty&4&&Object.assign(m,t)},[n,o,m,h,e,i,s,r,l]}class Ri extends it{constructor(d){super(),st(this,d,Di,Ii,nt,{asChild:1,el:0})}}const Bi=g=>({builder:g&4}),cn=g=>({builder:g[2]});function Vi(g){let d,u,m,f=[g[2],g[4]],e={};for(let i=0;i<f.length;i+=1)e=Le(e,f[i]);return{c(){d=ee("span"),this.h()},l(i){d=te(i,"SPAN",{}),ne(d).forEach(Y),this.h()},h(){tt(d,e)},m(i,r){ue(i,d,r),g[8](d),u||(m=[Ht(g[2].action(d)),lt(d,"m-keydown",g[3])],u=!0)},p(i,r){tt(d,e=_t(f,[r&4&&i[2],r&16&&i[4]]))},i:Oe,o:Oe,d(i){i&&Y(d),g[8](null),u=!1,An(m)}}}function Fi(g){let d;const u=g[7].default,m=bt(u,g,g[6],cn);return{c(){m&&m.c()},l(f){m&&m.l(f)},m(f,e){m&&m.m(f,e),d=!0},p(f,e){m&&m.p&&(!d||e&68)&&At(m,u,f,f[6],d?Tt(u,f[6],e,Bi):Et(f[6]),cn)},i(f){d||(le(m,f),d=!0)},o(f){ve(m,f),d=!1},d(f){m&&m.d(f)}}}function Oi(g){let d,u,m,f;const e=[Fi,Vi],i=[];function r(s,o){return s[1]?0:1}return d=r(g),u=i[d]=e[d](g),{c(){u.c(),m=Be()},l(s){u.l(s),m=Be()},m(s,o){i[d].m(s,o),ue(s,m,o),f=!0},p(s,[o]){let n=d;d=r(s),d===n?i[d].p(s,o):(Ge(),ve(i[n],1,1,()=>{i[n]=null}),ze(),u=i[d],u?u.p(s,o):(u=i[d]=e[d](s),u.c()),le(u,1),u.m(m.parentNode,m))},i(s){f||(le(u),f=!0)},o(s){ve(u),f=!1},d(s){s&&Y(m),i[d].d(s)}}}function Li(g,d,u){let m;const f=["asChild","el","thumb"];let e=et(d,f),{$$slots:i={},$$scope:r}=d,{asChild:s=!1}=d,{el:o=void 0}=d,{thumb:n}=d;const{getAttrs:h}=Vn(),c=gi(),t=h("thumb");function l(a){Qe[a?"unshift":"push"](()=>{o=a,u(0,o)})}return g.$$set=a=>{d=Le(Le({},d),Wt(a)),u(4,e=et(d,f)),"asChild"in a&&u(1,s=a.asChild),"el"in a&&u(0,o=a.el),"thumb"in a&&u(5,n=a.thumb),"$$scope"in a&&u(6,r=a.$$scope)},g.$$.update=()=>{g.$$.dirty&32&&u(2,m=n),g.$$.dirty&4&&Object.assign(m,t)},[o,s,m,c,e,n,r,i,l]}class Wi extends it{constructor(d){super(),st(this,d,Li,Oi,nt,{asChild:1,el:0,thumb:5})}}function un(g,d,u){const m=g.slice();return m[7]=d[u],m}function dn(g){let d,u;return d=new Wi({props:{thumb:g[7]}}),{c(){dt(d.$$.fragment)},l(m){ht(d.$$.fragment,m)},m(m,f){vt(d,m,f),u=!0},p(m,f){const e={};f&64&&(e.thumb=m[7]),d.$set(e)},i(m){u||(le(d.$$.fragment,m),u=!0)},o(m){ve(d.$$.fragment,m),u=!1},d(m){pt(d,m)}}}function Hi(g){let d,u,m,f,e;u=new Ri({});let i=Ve(g[6]),r=[];for(let o=0;o<i.length;o+=1)r[o]=dn(un(g,i,o));const s=o=>ve(r[o],1,1,()=>{r[o]=null});return{c(){d=ee("span"),dt(u.$$.fragment),m=Se();for(let o=0;o<r.length;o+=1)r[o].c();f=Be(),this.h()},l(o){d=te(o,"SPAN",{class:!0});var n=ne(d);ht(u.$$.fragment,n),n.forEach(Y),m=we(o);for(let h=0;h<r.length;h+=1)r[h].l(o);f=Be(),this.h()},h(){fe(d,"class","bg svelte-7s8b7u")},m(o,n){ue(o,d,n),vt(u,d,null),ue(o,m,n);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(o,n);ue(o,f,n),e=!0},p(o,n){if(n&64){i=Ve(o[6]);let h;for(h=0;h<i.length;h+=1){const c=un(o,i,h);r[h]?(r[h].p(c,n),le(r[h],1)):(r[h]=dn(c),r[h].c(),le(r[h],1),r[h].m(f.parentNode,f))}for(Ge(),h=i.length;h<r.length;h+=1)s(h);ze()}},i(o){if(!e){le(u.$$.fragment,o);for(let n=0;n<i.length;n+=1)le(r[n]);e=!0}},o(o){ve(u.$$.fragment,o),r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)ve(r[n]);e=!1},d(o){o&&(Y(d),Y(m),Y(f)),pt(u),at(r,o)}}}function Ni(g){let d,u,m,f,e,i,r;function s(n){g[5](n)}let o={min:g[2],max:g[3],step:g[4],$$slots:{default:[Hi,({thumbs:n})=>({6:n}),({thumbs:n})=>n?64:0]},$$scope:{ctx:g}};return g[0]!==void 0&&(o.value=g[0]),e=new Ai({props:o}),Qe.push(()=>Ut(e,"value",s)),{c(){d=ee("div"),u=ee("p"),m=Ce(g[1]),f=Se(),dt(e.$$.fragment),this.h()},l(n){d=te(n,"DIV",{class:!0});var h=ne(d);u=te(h,"P",{class:!0});var c=ne(u);m=Pe(c,g[1]),c.forEach(Y),f=we(h),ht(e.$$.fragment,h),h.forEach(Y),this.h()},h(){fe(u,"class","label svelte-7s8b7u"),fe(d,"class","c svelte-7s8b7u")},m(n,h){ue(n,d,h),J(d,u),J(u,m),J(d,f),vt(e,d,null),r=!0},p(n,[h]){(!r||h&2)&&Ue(m,n[1]);const c={};h&4&&(c.min=n[2]),h&8&&(c.max=n[3]),h&16&&(c.step=n[4]),h&1088&&(c.$$scope={dirty:h,ctx:n}),!i&&h&1&&(i=!0,c.value=n[0],Nt(()=>i=!1)),e.$set(c)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){ve(e.$$.fragment,n),r=!1},d(n){n&&Y(d),pt(e)}}}function Ui(g,d,u){let{label:m}=d,{value:f}=d,{min:e}=d,{max:i}=d,{step:r}=d;function s(o){f=o,u(0,f)}return g.$$set=o=>{"label"in o&&u(1,m=o.label),"value"in o&&u(0,f=o.value),"min"in o&&u(2,e=o.min),"max"in o&&u(3,i=o.max),"step"in o&&u(4,r=o.step)},[f,m,e,i,r,s]}class _i extends it{constructor(d){super(),st(this,d,Ui,Ni,nt,{label:1,value:0,min:2,max:3,step:4})}}function Gi(g){let d,u,m,f;return{c(){d=ee("button"),u=Ce("Shoot"),this.h()},l(e){d=te(e,"BUTTON",{});var i=ne(d);u=Pe(i,"Shoot"),i.forEach(Y),this.h()},h(){d.disabled=g[0]},m(e,i){ue(e,d,i),J(d,u),m||(f=[lt(d,"pointerdown",g[1]),lt(d,"pointerup",g[2]),lt(d,"pointerleave",g[2])],m=!0)},p(e,[i]){i&1&&(d.disabled=e[0])},i:Oe,o:Oe,d(e){e&&Y(d),m=!1,An(f)}}}function zi(g,d,u){let{value:m}=d,{disabled:f}=d;const e=bn();let i,r;function s(){let n=-1;r=!0,i=setInterval(()=>{m>=1?n=-1:m<=0&&(n=1),u(3,m+=.01*n),u(3,m=+m.toFixed(2))},17)}function o(){r&&(clearInterval(i),e("release",m),u(3,m=0),r=!1)}return g.$$set=n=>{"value"in n&&u(3,m=n.value),"disabled"in n&&u(0,f=n.disabled)},[f,s,o,m]}class Ki extends it{constructor(d){super(),st(this,d,zi,Gi,nt,{value:3,disabled:0})}}const Yi=[{state:"shoot",player:"player1",random:!0,power:.235,degrees:0}],Qi=[{x:.3,y:.6,player:"player1"},{state:"position",player:"player1"}],Xi=[{state:"shoot",player:"player2",power:.3,degrees:184}],Zi=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{x:.43462246777163904,y:.8876611418047882,state:"shoot",player:"player1",power:.35,degrees:15}],ji=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"position",player:"player1"}],Ji=[{x:.5304521798504799,y:.5607950399638847,player:"player2"},{state:"shoot",player:"player1",power:.15,degrees:-3}],qi=[{x:.45,y:.44,player:"player1",score:15,valid:!0},{x:.7,y:.4,player:"player1",score:10,valid:!0},{x:.8,y:.4,player:"player2",score:5,valid:!0},{x:.2,y:.4,player:"player2",score:5,valid:!0},{x:.3,y:.6,player:"player2",score:10,valid:!0,state:"idle"}],$i={open:Yi,opentry:Qi,fifteen:Xi,opponent:Zi,opponenttry:ji,invalid:Ji,score:qi};function hn(g,d,u){const m=g.slice();return m[44]=d[u],m}function vn(g,d,u){const m=g.slice();return m[47]=d[u],m}function pn(g,d,u){const m=g.slice();m[50]=d[u];const f=m[22][m[50]];return m[51]=f,m}function gn(g,d,u){const m=g.slice();return m[50]=d[u],m[55]=u,m}function mn(g){let d;return{c(){d=ee("div"),this.h()},l(u){d=te(u,"DIV",{class:!0,style:!0}),ne(d).forEach(Y),this.h()},h(){fe(d,"class",Un(g[50])+" svelte-1j28e1g"),ae(d,"--w",Math.floor(Fe[g[50]]*g[0])+"px"),ae(d,"--b",(Fe[g[50]]-Fe[g[21][g[55]+1]])/2*g[0]+"px")},m(u,m){ue(u,d,m)},p(u,m){m[0]&1&&ae(d,"--w",Math.floor(Fe[u[50]]*u[0])+"px"),m[0]&1&&ae(d,"--b",(Fe[u[50]]-Fe[u[21][u[55]+1]])/2*u[0]+"px")},d(u){u&&Y(d)}}}function xn(g){let d,u=g[51]+"",m;return{c(){d=ee("span"),m=Ce(u),this.h()},l(f){d=te(f,"SPAN",{class:!0,style:!0});var e=ne(d);m=Pe(e,u),e.forEach(Y),this.h()},h(){fe(d,"class","text text-"+g[50]+" svelte-1j28e1g"),ae(d,"--w",Math.floor(g[0]/2-Fe[g[50]]*g[0]/2)+"px"),ae(d,"--d",Fe[g[50]]*g[0]+"px")},m(f,e){ue(f,d,e),J(d,m)},p(f,e){e[0]&1&&ae(d,"--w",Math.floor(f[0]/2-Fe[f[50]]*f[0]/2)+"px"),e[0]&1&&ae(d,"--d",Fe[f[50]]*f[0]+"px")},d(f){f&&Y(d)}}}function yn(g){let d;return{c(){d=ee("div"),this.h()},l(u){d=te(u,"DIV",{class:!0,style:!0}),ne(d).forEach(Y),this.h()},h(){fe(d,"class","quadrant-line svelte-1j28e1g"),ae(d,"--w",(Ye-Je)*g[0]/2+"px"),ae(d,"--x",Je*g[0]/2+"px"),ae(d,"--angle",g[47]+"deg")},m(u,m){ue(u,d,m)},p(u,m){m[0]&1&&ae(d,"--w",(Ye-Je)*u[0]/2+"px"),m[0]&1&&ae(d,"--x",Je*u[0]/2+"px")},d(u){u&&Y(d)}}}function Sn(g){let d;return{c(){d=ee("div"),this.h()},l(u){d=te(u,"DIV",{class:!0,style:!0}),ne(d).forEach(Y),this.h()},h(){fe(d,"class","peg svelte-1j28e1g"),ae(d,"--w",je*g[0]+"px"),ae(d,"--x",((Ke-je)*g[0]+1)/2+"px"),ae(d,"--angle",g[44]+"deg")},m(u,m){ue(u,d,m)},p(u,m){m[0]&1&&ae(d,"--w",je*u[0]+"px"),m[0]&1&&ae(d,"--x",((Ke-je)*u[0]+1)/2+"px")},d(u){u&&Y(d)}}}function wn(g){let d,u,m,f,e,i;return{c(){d=ee("p"),u=ee("strong"),m=Ce(g[17]),f=Ce(" won the round"),this.h()},l(r){d=te(r,"P",{class:!0});var s=ne(d);u=te(s,"STRONG",{});var o=ne(u);m=Pe(o,g[17]),f=Pe(o," won the round"),o.forEach(Y),s.forEach(Y),this.h()},h(){fe(d,"class","text-outline svelte-1j28e1g")},m(r,s){ue(r,d,s),J(d,u),J(u,m),J(u,f),i=!0},p(r,s){(!i||s[0]&131072)&&Ue(m,r[17])},i(r){i||(r&&_n(()=>{i&&(e||(e=qt(d,$t,{},!0)),e.run(1))}),i=!0)},o(r){r&&(e||(e=qt(d,$t,{},!1)),e.run(0)),i=!1},d(r){r&&Y(d),r&&e&&e.end()}}}function Cn(g){let d,u,m,f;const e=[ts,es],i=[];function r(s,o){return s[11]==="shoot"?0:1}return d=r(g),u=i[d]=e[d](g),{c(){u.c(),m=Be()},l(s){u.l(s),m=Be()},m(s,o){i[d].m(s,o),ue(s,m,o),f=!0},p(s,o){let n=d;d=r(s),d===n?i[d].p(s,o):(Ge(),ve(i[n],1,1,()=>{i[n]=null}),ze(),u=i[d],u?u.p(s,o):(u=i[d]=e[d](s),u.c()),le(u,1),u.m(m.parentNode,m))},i(s){f||(le(u),f=!0)},o(s){ve(u),f=!1},d(s){s&&Y(m),i[d].d(s)}}}function es(g){let d,u="Place Disc",m,f;return{c(){d=ee("button"),d.textContent=u},l(e){d=te(e,"BUTTON",{"data-svelte-h":!0}),zn(d)!=="svelte-18imge0"&&(d.textContent=u)},m(e,i){ue(e,d,i),m||(f=lt(d,"click",g[25]),m=!0)},p:Oe,i:Oe,o:Oe,d(e){e&&Y(d),m=!1,f()}}}function ts(g){let d,u,m;function f(i){g[27](i)}let e={disabled:g[12]};return g[5]!==void 0&&(e.value=g[5]),d=new Ki({props:e}),Qe.push(()=>Ut(d,"value",f)),d.$on("release",g[24]),{c(){dt(d.$$.fragment)},l(i){ht(d.$$.fragment,i)},m(i,r){vt(d,i,r),m=!0},p(i,r){const s={};r[0]&4096&&(s.disabled=i[12]),!u&&r[0]&32&&(u=!0,s.value=i[5],Nt(()=>u=!1)),d.$set(s)},i(i){m||(le(d.$$.fragment,i),m=!0)},o(i){ve(d.$$.fragment,i),m=!1},d(i){pt(d,i)}}}function Pn(g){var i,r,s;let d,u,m;function f(o){g[28](o)}let e={label:g[11]==="shoot"?"aim":g[11],min:(i=g[23][g[11]])==null?void 0:i.min,max:(r=g[23][g[11]])==null?void 0:r.max,step:(s=g[23][g[11]])==null?void 0:s.step};return g[4]!==void 0&&(e.value=g[4]),d=new _i({props:e}),Qe.push(()=>Ut(d,"value",f)),{c(){dt(d.$$.fragment)},l(o){ht(d.$$.fragment,o)},m(o,n){vt(d,o,n),m=!0},p(o,n){var c,t,l;const h={};n[0]&2048&&(h.label=o[11]==="shoot"?"aim":o[11]),n[0]&2048&&(h.min=(c=o[23][o[11]])==null?void 0:c.min),n[0]&2048&&(h.max=(t=o[23][o[11]])==null?void 0:t.max),n[0]&2048&&(h.step=(l=o[23][o[11]])==null?void 0:l.step),!u&&n[0]&16&&(u=!0,h.value=o[4],Nt(()=>u=!1)),d.$set(h)},i(o){m||(le(d.$$.fragment,o),m=!0)},o(o){ve(d.$$.fragment,o),m=!1},d(o){pt(d,o)}}}function Mn(g){let d,u,m,f,e;return{c(){d=ee("p"),u=Ce("x: "),m=Ce(g[9]),f=Ce(", y: "),e=Ce(g[10]),this.h()},l(i){d=te(i,"P",{class:!0});var r=ne(d);u=Pe(r,"x: "),m=Pe(r,g[9]),f=Pe(r,", y: "),e=Pe(r,g[10]),r.forEach(Y),this.h()},h(){fe(d,"class","svelte-1j28e1g")},m(i,r){ue(i,d,r),J(d,u),J(d,m),J(d,f),J(d,e)},p(i,r){r[0]&512&&Ue(m,i[9]),r[0]&1024&&Ue(e,i[10])},d(i){i&&Y(d)}}}function ns(g){let d,u,m,f,e,i=g[6].player1+"",r,s,o,n,h,c=g[7].player1+"",t,l,a,v=g[7].player2+"",C,A,E,T,p,w,y=g[6].player2+"",x,P,S,M,b,k,D,V,N,H,K,G,_,X=`${g[0]}px`,j=`${g[0]}px`,$,ce,B,I,O,R,W,F,z,Z,oe,ie,se,De=Ve(g[21].slice(0,3)),xe=[];for(let L=0;L<De.length;L+=1)xe[L]=mn(gn(g,De,L));let Me=Ve(g[21]),re=[];for(let L=0;L<Me.length;L+=1)re[L]=xn(pn(g,Me,L));let Te=Ve(g[19]),de=[];for(let L=0;L<Te.length;L+=1)de[L]=yn(vn(g,Te,L));let ke=Ve(g[20]),pe=[];for(let L=0;L<ke.length;L+=1)pe[L]=Sn(hn(g,ke,L));let ge=g[11]==="end"&&wn(g),me=!g[13]&&Cn(g),he=!g[13]&&Pn(g),ye=g[1]&&Mn(g);return{c(){d=ee("div"),u=ee("p"),m=ee("strong"),f=Ce("Your 20s: "),e=ee("span"),r=Ce(i),s=Se(),o=ee("p"),n=ee("strong"),h=ee("span"),t=Ce(c),l=Ce(` -
			`),a=ee("span"),C=Ce(v),A=Se(),E=ee("p"),T=ee("strong"),p=Ce("Opp. 20s: "),w=ee("span"),x=Ce(y),P=Se(),S=ee("div"),M=ee("div"),b=ee("div"),k=Se(),D=ee("div"),V=Se();for(let L=0;L<xe.length;L+=1)xe[L].c();N=Se(),H=ee("div"),K=Se();for(let L=0;L<re.length;L+=1)re[L].c();G=Se();for(let L=0;L<de.length;L+=1)de[L].c();_=Se();for(let L=0;L<pe.length;L+=1)pe[L].c();$=Se(),ce=ee("div"),B=Se(),I=ee("div"),ge&&ge.c(),R=Se(),W=ee("div"),F=ee("div"),me&&me.c(),z=Se(),Z=ee("div"),he&&he.c(),oe=Se(),ye&&ye.c(),ie=Be(),this.h()},l(L){d=te(L,"DIV",{class:!0});var Q=ne(d);u=te(Q,"P",{class:!0});var U=ne(u);m=te(U,"STRONG",{});var be=ne(m);f=Pe(be,"Your 20s: "),e=te(be,"SPAN",{class:!0});var Gt=ne(e);r=Pe(Gt,i),Gt.forEach(Y),be.forEach(Y),U.forEach(Y),s=we(Q),o=te(Q,"P",{class:!0});var zt=ne(o);n=te(zt,"STRONG",{});var gt=ne(n);h=te(gt,"SPAN",{class:!0});var Kt=ne(h);t=Pe(Kt,c),Kt.forEach(Y),l=Pe(gt,` -
			`),a=te(gt,"SPAN",{class:!0});var Yt=ne(a);C=Pe(Yt,v),Yt.forEach(Y),gt.forEach(Y),zt.forEach(Y),A=we(Q),E=te(Q,"P",{class:!0});var Qt=ne(E);T=te(Qt,"STRONG",{});var It=ne(T);p=Pe(It,"Opp. 20s: "),w=te(It,"SPAN",{class:!0});var Xt=ne(w);x=Pe(Xt,y),Xt.forEach(Y),It.forEach(Y),Qt.forEach(Y),Q.forEach(Y),P=we(L),S=te(L,"DIV",{class:!0});var Xe=ne(S);M=te(Xe,"DIV",{class:!0});var Ee=ne(M);b=te(Ee,"DIV",{class:!0,style:!0}),ne(b).forEach(Y),k=we(Ee),D=te(Ee,"DIV",{class:!0,style:!0}),ne(D).forEach(Y),V=we(Ee);for(let Ae=0;Ae<xe.length;Ae+=1)xe[Ae].l(Ee);N=we(Ee),H=te(Ee,"DIV",{class:!0,style:!0}),ne(H).forEach(Y),K=we(Ee);for(let Ae=0;Ae<re.length;Ae+=1)re[Ae].l(Ee);G=we(Ee);for(let Ae=0;Ae<de.length;Ae+=1)de[Ae].l(Ee);_=we(Ee);for(let Ae=0;Ae<pe.length;Ae+=1)pe[Ae].l(Ee);Ee.forEach(Y),$=we(Xe),ce=te(Xe,"DIV",{class:!0}),ne(ce).forEach(Y),B=we(Xe),I=te(Xe,"DIV",{class:!0});var Zt=ne(I);ge&&ge.l(Zt),Zt.forEach(Y),Xe.forEach(Y),R=we(L),W=te(L,"DIV",{class:!0});var mt=ne(W);F=te(mt,"DIV",{class:!0});var jt=ne(F);me&&me.l(jt),jt.forEach(Y),z=we(mt),Z=te(mt,"DIV",{class:!0});var Jt=ne(Z);he&&he.l(Jt),Jt.forEach(Y),mt.forEach(Y),oe=we(L),ye&&ye.l(L),ie=Be(),this.h()},h(){fe(e,"class","svelte-1j28e1g"),fe(u,"class","holder you svelte-1j28e1g"),Re(u,"animate",g[8].player1),Re(u,"visible",g[16]),fe(h,"class","you svelte-1j28e1g"),fe(a,"class","opp svelte-1j28e1g"),fe(o,"class","points svelte-1j28e1g"),Re(o,"visible",g[15]),fe(w,"class","svelte-1j28e1g"),fe(E,"class","holder opp svelte-1j28e1g"),Re(E,"animate",g[8].player2),Re(E,"visible",g[16]),fe(d,"class","score svelte-1j28e1g"),fe(b,"class","base svelte-1j28e1g"),ae(b,"--w",Mt*g[0]+"px"),ae(b,"--b",Ot/2*g[0]+"px"),fe(D,"class","surface svelte-1j28e1g"),ae(D,"--w",ut*g[0]+"px"),fe(H,"class","twenty svelte-1j28e1g"),ae(H,"--w",Math.floor($e*g[0])+"px"),fe(M,"class","bg svelte-1j28e1g"),ae(M,"width",X),ae(M,"height",j),fe(ce,"class","fg svelte-1j28e1g"),fe(I,"class","end svelte-1j28e1g"),fe(S,"class",O="c "+g[18]+" svelte-1j28e1g"),fe(F,"class","top svelte-1j28e1g"),fe(Z,"class","bottom svelte-1j28e1g"),fe(W,"class","ui svelte-1j28e1g"),Re(W,"visible",g[14]||!g[2])},m(L,Q){ue(L,d,Q),J(d,u),J(u,m),J(m,f),J(m,e),J(e,r),J(d,s),J(d,o),J(o,n),J(n,h),J(h,t),J(n,l),J(n,a),J(a,C),J(d,A),J(d,E),J(E,T),J(T,p),J(T,w),J(w,x),ue(L,P,Q),ue(L,S,Q),J(S,M),J(M,b),J(M,k),J(M,D),J(M,V);for(let U=0;U<xe.length;U+=1)xe[U]&&xe[U].m(M,null);J(M,N),J(M,H),J(M,K);for(let U=0;U<re.length;U+=1)re[U]&&re[U].m(M,null);J(M,G);for(let U=0;U<de.length;U+=1)de[U]&&de[U].m(M,null);J(M,_);for(let U=0;U<pe.length;U+=1)pe[U]&&pe[U].m(M,null);J(S,$),J(S,ce),g[26](ce),J(S,B),J(S,I),ge&&ge.m(I,null),ue(L,R,Q),ue(L,W,Q),J(W,F),me&&me.m(F,null),J(W,z),J(W,Z),he&&he.m(Z,null),ue(L,oe,Q),ye&&ye.m(L,Q),ue(L,ie,Q),se=!0},p(L,Q){if((!se||Q[0]&64)&&i!==(i=L[6].player1+"")&&Ue(r,i),(!se||Q[0]&256)&&Re(u,"animate",L[8].player1),(!se||Q[0]&65536)&&Re(u,"visible",L[16]),(!se||Q[0]&128)&&c!==(c=L[7].player1+"")&&Ue(t,c),(!se||Q[0]&128)&&v!==(v=L[7].player2+"")&&Ue(C,v),(!se||Q[0]&32768)&&Re(o,"visible",L[15]),(!se||Q[0]&64)&&y!==(y=L[6].player2+"")&&Ue(x,y),(!se||Q[0]&256)&&Re(E,"animate",L[8].player2),(!se||Q[0]&65536)&&Re(E,"visible",L[16]),(!se||Q[0]&1)&&ae(b,"--w",Mt*L[0]+"px"),(!se||Q[0]&1)&&ae(b,"--b",Ot/2*L[0]+"px"),(!se||Q[0]&1)&&ae(D,"--w",ut*L[0]+"px"),Q[0]&2097153){De=Ve(L[21].slice(0,3));let U;for(U=0;U<De.length;U+=1){const be=gn(L,De,U);xe[U]?xe[U].p(be,Q):(xe[U]=mn(be),xe[U].c(),xe[U].m(M,N))}for(;U<xe.length;U+=1)xe[U].d(1);xe.length=De.length}if((!se||Q[0]&1)&&ae(H,"--w",Math.floor($e*L[0])+"px"),Q[0]&6291457){Me=Ve(L[21]);let U;for(U=0;U<Me.length;U+=1){const be=pn(L,Me,U);re[U]?re[U].p(be,Q):(re[U]=xn(be),re[U].c(),re[U].m(M,G))}for(;U<re.length;U+=1)re[U].d(1);re.length=Me.length}if(Q[0]&524289){Te=Ve(L[19]);let U;for(U=0;U<Te.length;U+=1){const be=vn(L,Te,U);de[U]?de[U].p(be,Q):(de[U]=yn(be),de[U].c(),de[U].m(M,_))}for(;U<de.length;U+=1)de[U].d(1);de.length=Te.length}if(Q[0]&1048577){ke=Ve(L[20]);let U;for(U=0;U<ke.length;U+=1){const be=hn(L,ke,U);pe[U]?pe[U].p(be,Q):(pe[U]=Sn(be),pe[U].c(),pe[U].m(M,null))}for(;U<pe.length;U+=1)pe[U].d(1);pe.length=ke.length}Q[0]&1&&X!==(X=`${L[0]}px`)&&ae(M,"width",X),Q[0]&1&&j!==(j=`${L[0]}px`)&&ae(M,"height",j),L[11]==="end"?ge?(ge.p(L,Q),Q[0]&2048&&le(ge,1)):(ge=wn(L),ge.c(),le(ge,1),ge.m(I,null)):ge&&(Ge(),ve(ge,1,1,()=>{ge=null}),ze()),(!se||Q[0]&262144&&O!==(O="c "+L[18]+" svelte-1j28e1g"))&&fe(S,"class",O),L[13]?me&&(Ge(),ve(me,1,1,()=>{me=null}),ze()):me?(me.p(L,Q),Q[0]&8192&&le(me,1)):(me=Cn(L),me.c(),le(me,1),me.m(F,null)),L[13]?he&&(Ge(),ve(he,1,1,()=>{he=null}),ze()):he?(he.p(L,Q),Q[0]&8192&&le(he,1)):(he=Pn(L),he.c(),le(he,1),he.m(Z,null)),(!se||Q[0]&16388)&&Re(W,"visible",L[14]||!L[2]),L[1]?ye?ye.p(L,Q):(ye=Mn(L),ye.c(),ye.m(ie.parentNode,ie)):ye&&(ye.d(1),ye=null)},i(L){se||(le(ge),le(me),le(he),se=!0)},o(L){ve(ge),ve(me),ve(he),se=!1},d(L){L&&(Y(d),Y(P),Y(S),Y(R),Y(W),Y(oe),Y(ie)),at(xe,L),at(re,L),at(de,L),at(pe,L),g[26](null),ge&&ge.d(),me&&me.d(),he&&he.d(),ye&&ye.d(L)}}}const rt=0;function is(g,d,u){let m,{width:f}=d,{dev:e}=d,{tutorial:i}=d;const r=$n(),s=[45,135,225,315],o=[15,60,105,150,195,240,285,330],n=["five","ten","fifteen","twenty"],h={five:"5",ten:"10",fifteen:"15",twenty:"20"},c={position:{value:[.5],min:.22,max:.78,step:.01},shoot:{value:[0],min:-90,max:90,step:1}},t={player1:0,player2:0},l={player1:0,player2:0,leader:""},a={player1:!1,player2:!1};let v,C=0,A=0,E=c.position.value,T=rt,p="position",w,y,x,P,S,M,b=!0,k=!0,D;function V({discs:R,valid:W}){u(5,T=rt)}function N(){u(11,p="end"),u(17,D=l.player1>l.player2?"You":"Opp."),setTimeout(()=>{u(11,p="idle")},3e3)}function H({discs:R,valid:W}){R.forEach(F=>{F.valid&&F.score&&u(7,l[F.player]+=F.score,l),F.valid&&F.score===20&&(F.player,u(8,a[F.player]=!0,a),u(6,t[F.player]++,t))})}function K({discs:R,valid:W}){H({discs:R,valid:W}),u(5,T=rt),i&&(M=setTimeout(ce,1e3))}function G(){u(8,a.player1=!1,a),u(8,a.player2=!1,a),r.flickDisc(),u(12,y=!0)}function _(){p==="position"?r.positionDisc(E[0]*f):p==="shoot"&&(w=Math.round(E[0]),r.aimDisc({degrees:w,power:.25,visible:i.includes("try")}))}function X(){r.aimDisc({degrees:w,power:T,visible:i.includes("try")})}function j(){p==="position"&&(u(11,p="shoot"),u(4,E=c.shoot.value),u(5,T=rt),r.setState("shoot"))}function $(){u(6,t.player1=0,t),u(6,t.player2=0,t),u(7,l.player1=0,l),u(7,l.player2=0,l)}async function ce(){u(12,y=!1),$(),clearTimeout(S),clearTimeout(M),u(13,x=!i.includes("try")),u(14,P=!["regions","score"].includes(i));const R=i==="score";u(15,b=i==="score"),u(16,k=i!=="regions"),u(5,T=rt);const W=$i[i];if(r.removeDiscs(),W&&W.forEach(r.addDisc),(x||R)&&W){const F=W[W.length-1],z=F.random?Math.random()*3-1.5:0,Z=F.degrees+z,oe=F.random?Math.random()*.07-.035:0,ie=F.power+oe;R&&(u(15,b=!0),H({discs:W,valid:!0})),S=setTimeout(()=>{R?N():(u(11,p=W[W.length-1].state),r.aimDisc({degrees:Z,power:ie}),G())},2e3)}else S=null,r.removeDiscs(),W&&(W.forEach(r.addDisc),u(11,p=W[W.length-1].state)),p==="shoot"&&r.setIndicatorVisible(!0);await Gn(),u(4,E=c[p].value)}Nn(()=>{r.on("shotComplete",V),r.on("shotCompleteManual",K)});function B(R){Qe[R?"unshift":"push"](()=>{v=R,u(3,v)})}function I(R){T=R,u(5,T)}function O(R){E=R,u(4,E)}return g.$$set=R=>{"width"in R&&u(0,f=R.width),"dev"in R&&u(1,e=R.dev),"tutorial"in R&&u(2,i=R.tutorial)},g.$$.update=()=>{g.$$.dirty[0]&1&&u(9,C=0),g.$$.dirty[0]&1&&u(10,A=0),g.$$.dirty[0]&13&&f&&r.init({element:v,width:f,tutorial:i}),g.$$.dirty[0]&17&&f&&_(),g.$$.dirty[0]&33&&f&&X(),g.$$.dirty[0]&5&&f&&ce(),g.$$.dirty[0]&4&&u(18,m=i?`tutorial tutorial-${i}`:"")},[f,e,i,v,E,T,t,l,a,C,A,p,y,x,P,b,k,D,m,s,o,n,h,c,G,j,B,I,O]}class ls extends it{constructor(d){super(),st(this,d,is,ns,nt,{width:0,dev:1,tutorial:2},null,[-1,-1])}}export{ls as C,_t as a,os as b,Dt as c,Ve as e,Kn as g};
